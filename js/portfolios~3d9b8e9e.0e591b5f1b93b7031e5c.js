(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{533:function(e,t,r){"use strict";var n=r(532);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(n.a)(e,t,r)}},535:function(e,t,r){"use strict";var n=r(531),a=r.n(n),o=r(81),i=r.n(o),c=r(0),l=r.n(c),s=r(14),p=r.n(s),u=r(532),f=r(245),m=r(83),d=function(e){var t=e.meta,r=t.limit,n=t.count,o=t.offset,c=e.apiProps,s=e.apiRequest,p=e.className,d=e.isCompact,b=i()(e,["meta","apiProps","apiRequest","className","isCompact"]);return l.a.createElement("div",{className:p},l.a.createElement(f.Pagination,a()({perPage:r||50,itemCount:n||0,onPerPageSelect:function(e,t){return s(c,{offset:o,limit:t})},page:Object(m.b)(r,o),onSetPage:function(e,t,n){var a={offset:Object(m.c)(t,r),limit:r},o=function(){return s(c,a)};return n?Object(u.a)(o,250)():o()},direction:"down",isCompact:d},b)))};d.propTypes={meta:p.a.shape({count:p.a.number,limit:p.a.number.isRequired,offset:p.a.number.isRequired}),apiRequest:p.a.func.isRequired,apiProps:p.a.any,className:p.a.string,isCompact:p.a.bool},d.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1},t.a=d},537:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r(0),a=r.n(n),o=r(14),i=r.n(o),c=r(58),l=r(474),s=r(475),p=r(477),u=r(478),f=r(53),m=r(82),d=r(534),b=function(e){var t=e.title,r=e.Icon,n=e.description,o=e.PrimaryAction,i=e.renderDescription;return a.a.createElement("div",{className:"pf-u-mt-xl"},a.a.createElement(l.EmptyState,{className:"pf-u-ml-auto pf-u-mr-auto"},a.a.createElement(s.EmptyStateIcon,{icon:r}),a.a.createElement(m.TextContent,null,a.a.createElement(f.Text,{component:f.TextVariants.h1},t)),a.a.createElement(p.EmptyStateBody,null,n,i()),a.a.createElement(u.EmptyStateSecondaryActions,null,o&&a.a.createElement(o,null))))};b.defaultProps={renderDescription:function(){return null}},b.propTypes={title:i.a.string.isRequired,Icon:i.a.any.isRequired,description:i.a.string,PrimaryAction:i.a.any,renderDescription:i.a.func},t.b=b;var y=function(e){var t=e.url,r=e.label,n=e.hasPermission,o=void 0!==n&&n,i=e.id;return o&&a.a.createElement(d.a,{id:i,pathname:t,preserveSearch:!0},a.a.createElement(c.Button,{variant:"primary"},r))};y.propTypes={url:i.a.string.isRequired,label:i.a.string.isRequired,id:i.a.string,hasPermission:i.a.bool}},541:function(e,t,r){"use strict";var n=r(81),a=r.n(n),o=r(34),i=r.n(o),c=r(0),l=r.n(c),s=r(35),p=r(14),u=r.n(p);function f(){var e=i()(["\n  overflow: hidden;\n"]);return f=function(){return e},e}var m=s.b.div(f()),d=function(e){var t=e.toDisplay,r=void 0===t?[]:t,n=a()(e,["toDisplay"]);return r.map((function(e){return l.a.createElement(m,{key:"card-prop-".concat(e)},n[e])}))};d.propTypes={toDisplay:u.a.arrayOf(u.a.oneOfType([u.a.string,u.a.node,u.a.arrayOf(u.a.node)]))},d.defaultProps={toDisplay:[]},t.a=d},542:function(e,t,r){"use strict";var n=r(34),a=r.n(n);function o(){var e=a()(["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]);return o=function(){return e},e}var i=r(35).b.div(o());t.a=i},543:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(34),a=r.n(n),o=r(35),i=r(122);function c(){var e=a()(["\n  height: 230px;\n  overflow: hidden;\n  padding: 0 !important;\n  margin: 0 24px 24px;\n"]);return c=function(){return e},e}var l=Object(o.b)(i.CardBody)(c())},544:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return b}));var n=r(81),a=r.n(n),o=r(34),i=r.n(o),c=r(0),l=r.n(c),s=r(35),p=r(121),u=r(154);function f(){var e=i()(["\n  position: relative;\n  ::after {\n    display: ",";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: '';\n    background-color: rgba(210, 210, 210, 0.5);\n    z-index: 1;\n    cursor: progress;\n  }\n"]);return f=function(){return e},e}function m(){var e=i()(["\n  height: 330px;\n  position: relative;\n"]);return m=function(){return e},e}var d=Object(s.b)(p.Card)(m()),b=Object(s.b)((function(e){e.isDisabled;var t=a()(e,["isDisabled"]);return l.a.createElement(u.GalleryItem,t)}))(f(),(function(e){return e.isDisabled?"block":"none"}))},546:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(14),i=r.n(o),c=r(150),l=r(53),s=r(157),p=r(84),u=function(){return a.a.createElement("div",null,a.a.createElement(l.Text,{component:l.TextVariants.h1},"No items found"))},f=function(e){var t=e.isLoading,r=e.items,n=e.renderEmptyState;return t?a.a.createElement(p.b,null):0===r.length?n?n():a.a.createElement(u,null):a.a.createElement(c.Section,{type:"content"},a.a.createElement(s.Gallery,{hasGutter:!0,className:"content-gallery"},r))};f.propTypes={isLoading:i.a.bool,items:i.a.array,renderEmptyState:i.a.func},t.a=f},547:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(14),i=r.n(o),c=function(e){var t=e.children;return a.a.createElement("div",{className:"pf-u-p-lg pf-u-pt-md pf-u-pb-md global-primary-background pf-u-mt-auto"},t)};c.propTypes={children:i.a.oneOfType([i.a.node,i.a.arrayOf(i.a.node)])},t.a=c},559:function(e,t,r){"use strict";r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return u}));var n=r(3),a=r.n(n),o=r(81),i=r.n(o),c=r(538);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.groupName,r=e.hidden,n=void 0!==r&&r,a=i()(e,["groupName","hidden"]);return{component:c.b.TOOLBAR_GROUP,key:"".concat(t,"/single-toolbar-item-group"),fields:n?[]:[{component:c.b.TOOLBAR_ITEM,key:"".concat(t,"/single-toolbar-item"),fields:[a]}]}},u=function(e){var t=e.pathname,r=e.preserveSearch,n=i()(e,["pathname","preserveSearch"]);return{component:c.b.LINK,pathname:t,preserveSearch:r,key:"".concat(n.key,"/button-link"),isDisabled:n.isDisabled,fields:[s({component:c.b.BUTTON},n)]}}},650:function(e,t,r){"use strict";r.r(t);var n=r(531),a=r.n(n),o=r(43),i=r.n(o),c=r(3),l=r.n(c),s=r(0),p=r.n(s),u=r(36),f=r(68),m=r(472),d=r.n(m),b=r(490),y=r.n(b),h=r(58),O=r(149),g=r(550),v=r(546),E=r(83),j=r(540),P=r(81),w=r.n(P),D=r(14),T=r.n(D),k=r(541),C=r(480),R=r(481),N=r(246),S=r(118),q=r(21),x=r(123),F=r(53),I=r(82),L=r(156),V=r(34),_=r.n(V),A=r(54),B=r(117),U=r(244),H=r(542),G=r(35);function M(){var e=_()(["\n  width: 100%;\n"]);return M=function(){return e},e}function J(){var e=_()(["\n  max-width: calc(100% - 44px);\n"]);return J=function(){return e},e}var K=Object(G.b)(U.LevelItem)(J()),z=Object(G.b)(B.Level)(M()),Q=function(e){var t=e.id,r=e.to,n=e.portfolioName,a=e.headerActions;return p.a.createElement(z,null,p.a.createElement(K,{className:"pf-m-grow"},p.a.createElement(I.TextContent,null,p.a.createElement(A.a,{to:r,id:"portfolio-link-".concat(t)},p.a.createElement(F.Text,{title:n,className:"pf-u-mb-0",component:F.TextVariants.h3},p.a.createElement(H.a,null,n))))),p.a.createElement(U.LevelItem,{onClick:function(e){return e.preventDefault()}},a))};Q.propTypes={portfolioName:T.a.string.isRequired,headerActions:T.a.node,id:T.a.string,to:T.a.shape({pathname:T.a.string.isRequired,search:T.a.string.isRequired}).isRequired},Q.defaultProps={headerActions:[]};var W=Q,X=r(534),Y=r(13),Z=r(544),$=r(543);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var te=["description"],re=function(e){var t=e.portfolioId,r=e.handleCopyPortfolio,n=e.userCapabilities,a=n.share,o=n.copy,c=n.unshare,l=n.update,u=n.destroy,f=n.set_approval,m=Object(s.useState)(!1),d=i()(m,2),b=d[0],y=d[1],h=[];return(a||c)&&h.push(p.a.createElement(S.DropdownItem,{key:"share-portfolio-action",id:"share-portfolio-action",component:p.a.createElement(X.a,{searchParams:{portfolio:t},pathname:Y.w,preserveHash:!0},"Share")})),o&&h.push(p.a.createElement(S.DropdownItem,{key:"copy-portfolio-action",id:"copy-portfolio-action",onClick:function(){return r(t)}},"Copy")),f&&h.push(p.a.createElement(S.DropdownItem,{key:"workflow-portfolio-action",id:"workflow-portfolio-action",component:p.a.createElement(X.a,{searchParams:{portfolio:t},pathname:Y.d,preserveHash:!0},"Set approval")})),l&&h.push(p.a.createElement(S.DropdownItem,{key:"edit-portfolio-action",id:"edit-portfolio-action",component:p.a.createElement(X.a,{searchParams:{portfolio:t},pathname:Y.c,preserveHash:!0},"Edit")})),u&&h.push(p.a.createElement(S.DropdownItem,{key:"remove-portfolio-action",id:"remove-portfolio-action",component:p.a.createElement(X.a,{searchParams:{portfolio:t},pathname:Y.v,preserveHash:!0},"Delete")})),0===h.length?null:p.a.createElement(N.Dropdown,{key:"portfolio-dropdown",id:"portfolio-".concat(t,"-dropdown"),isOpen:b,isPlain:!0,onSelect:function(){return y(!1)},position:q.DropdownPosition.right,toggle:p.a.createElement(x.KebabToggle,{id:"portfolio-".concat(t,"-toggle"),onToggle:function(e){return y(e)}}),dropdownItems:h})};re.propTypes={portfolioId:T.a.string.isRequired,userCapabilities:T.a.shape({destroy:T.a.bool,update:T.a.bool,share:T.a.bool,unshare:T.a.bool,set_approval:T.a.bool,copy:T.a.bool}).isRequired,handleCopyPortfolio:T.a.func.isRequired};var ne=function(e){var t=e.imageUrl,r=e.isDisabled,n=e.name,o=e.id,i=e.handleCopyPortfolio,c=e.metadata.user_capabilities,s=w()(e,["imageUrl","isDisabled","name","id","handleCopyPortfolio","metadata"]),u={pathname:Y.u,search:"?portfolio=".concat(o)};return p.a.createElement(Z.b,{isDisabled:r},p.a.createElement(Z.a,null,p.a.createElement(C.CardHeader,null,p.a.createElement(W,{id:o,to:u,portfolioName:n,headerActions:p.a.createElement(re,{portfolioId:o,userCapabilities:c,handleCopyPortfolio:i})})),p.a.createElement($.a,null,p.a.createElement(I.TextContent,{className:"pf-u-mb-md"},p.a.createElement(F.Text,{component:F.TextVariants.small,className:"pf-i-mb-sm"},"Last updated ",p.a.createElement(L.DateFormat,{date:s.updated_at||s.created_at,type:"relative"})),p.a.createElement(F.Text,{component:F.TextVariants.small},s.owner)),p.a.createElement(k.a,a()({},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({name:n,imageUrl:t},s),{toDisplay:te}))),p.a.createElement(R.CardFooter,null)))};ne.propTypes={history:T.a.object,imageUrl:T.a.string,name:T.a.string,id:T.a.string.isRequired,updated_at:T.a.string,created_at:T.a.string.isRequired,owner:T.a.string,isDisabled:T.a.bool,metadata:T.a.shape({user_capabilities:T.a.object.isRequired}).isRequired,handleCopyPortfolio:T.a.func.isRequired};var ae=ne,oe=r(538),ie=r(559),ce=r(535);function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pe=function(e){var t=e.meta,r=e.fetchPortfolios,n=e.userPermissions,a=e.filterProps,o=a.searchValue,i=a.onFilterChange,c=a.placeholder;return{fields:[{component:oe.b.TOP_TOOLBAR,key:"portfolios-top-toolbar",fields:[{component:oe.b.TOP_TOOLBAR_TITLE,key:"portfolios-toolbar-title",title:"Portfolios",noData:t.noData},{component:oe.b.LEVEL,key:"portfolios-actions",fields:t.noData?[]:[{component:oe.b.TOOLBAR,key:"main-portfolio-toolbar",fields:[Object(ie.b)({groupName:"filter-group",component:oe.b.FILTER_TOOLBAR_ITEM,key:"filter-input",searchValue:o,onFilterChange:i,placeholder:c,isClearable:!0}),Object(ie.b)(se({hidden:0===t.count||!Object(O.a)(n,["catalog:portfolios:create"]),groupName:"portfolio-button-group",key:"create-portfolio"},Object(ie.a)({pathname:"/portfolios/add-portfolio",variant:"primary",key:"create-portfolio-button","aria-label":"Create portfolio",title:"Create"})))]},{component:oe.b.LEVEL_ITEM,key:"pagination-item",fields:t.count>0?[{component:ce.a,isCompact:!0,key:"portfolios-pagination",meta:t,apiRequest:r}]:[]}]}]}]}},ue=r(537),fe=r(533),me=r(547),de=r(88),be=r(160);function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Oe=Object(fe.a)((function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E.a;r(!0),t(Object(j.h)(he(he({},n),{},{filter:e}))).then((function(){return r(!1)}))}),1e3),ge={filterValue:"",isOpen:!1,isFetching:!0,isFiltering:!1},ve=function(e,t){switch(t.type){case"setFetching":return he(he({},e),{},{isFetching:t.payload});case"setFilterValue":return he(he({},e),{},{filterValue:t.payload});case"setFilteringFlag":return he(he({},e),{},{isFiltering:t.payload})}return e};t.default=function(){var e,t=Object(be.a)(),r=Object(s.useReducer)(ve,he(he({},ge),{},{filterValue:(null==t||null===(e=t.portfolio)||void 0===e?void 0:e.filter)||""})),n=i()(r,2),o=n[0],c=o.filterValue,l=o.isFetching,m=o.isFiltering,b=n[1],E=Object(u.useSelector)((function(e){return e.portfolioReducer.portfolios})),P=E.data,w=E.meta,D=Object(u.useDispatch)(),T=Object(s.useContext)(de.a).permissions,k=Object(f.g)();Object(s.useEffect)((function(){D(Object(j.h)(null==t?void 0:t.portfolio)).then((function(){return b({type:"setFetching",payload:!1})})),Object(O.c)(),insights.chrome.appNavClick({id:"portfolios",secondaryNav:!0})}),[]);var C=function(e){b({type:"setFilterValue",payload:e}),Oe(e,D,(function(e){return b({type:"setFilteringFlag",payload:e})}),he(he({},w),{},{offset:0}))},R=function(e){return D(Object(j.c)(e)).then((function(e){var t=e.id;return k.push({pathname:Y.u,search:"?portfolio=".concat(t)})}))},N={PrimaryAction:w.noData?function(){return p.a.createElement(ue.a,{url:Y.a,id:"create-portfolio",label:"Create portfolio",hasPermission:Object(O.a)(T,["catalog:portfolios:create"])})}:function(){return p.a.createElement(h.Button,{variant:"link",onClick:function(){return C("")}},"Clear all filters")},title:w.noData?"No portfolios":"No results found",description:w.noData?"No portfolios match your filter criteria.":"No results match the filter criteria. Remove all filters or clear all filters to show results.",Icon:w.noData?y.a:d.a},S=P.map((function(e){return p.a.createElement(ae,a()({key:e.id},e,{handleCopyPortfolio:R}))}));return p.a.createElement(s.Fragment,null,p.a.createElement(g.a,{schema:pe({meta:w,userPermissions:T,fetchPortfolios:function(e,t){return D(Object(j.h)(he({filter:c},t)))},filterProps:{searchValue:c,onFilterChange:C,placeholder:"Filter by portfolio"}})}),p.a.createElement(v.a,{items:S,isLoading:l||m,renderEmptyState:function(){return p.a.createElement(ue.b,N)}}),w.count>0&&p.a.createElement(me.a,null,p.a.createElement(ce.a,{meta:w,apiRequest:function(e,t){return D(Object(j.h)(he({filter:c},t)))},dropDirection:"up"})))}}}]);
//# sourceMappingURL=../sourcemaps/portfolios~3d9b8e9e.js.map