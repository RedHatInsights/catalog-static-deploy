(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{383:function(e,t,r){"use strict";var n=r(1),a=r.n(n),o=r(381),c=r.n(o),i=r(36),l=r.n(i),u=r(45),s=r.n(u),m=r(32),d=r.n(m),p=r(0),f=r.n(p),v=r(2),h=r.n(v),b=r(46),g=r(53),O=r(33);function E(){var e=d()(["\n  pointer-events: ",";\n"]);return E=function(){return e},e}function y(){var e=d()(["\n  pointer-events: ",";\n"]);return y=function(){return e},e}var j=Object(O.b)((function(e){e.isDisabled;var t=s()(e,["isDisabled"]);return(f.a.createElement(b.a,t))}))(y(),(function(e){return e.isDisabled?"none":"initial"})),I=Object(O.b)((function(e){e.isDisabled;var t=s()(e,["isDisabled"]);return(f.a.createElement(b.b,t))}))(E(),(function(e){return e.isDisabled?"none":"initial"})),P=function(e,t,r){var n=Object.entries(t).map((function(e){var t=l()(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join("&");return r?"".concat(e).concat(n.length>0?"&".concat(n):""):n.length>0?"?".concat(n):""},x=function(e){var t=e.pathname,r=e.searchParams,n=e.nav,a=e.preserveSearch,o=e.preserveHash,i=s()(e,["pathname","searchParams","nav","preserveSearch","preserveHash"]),l=Object(g.h)(),u=l.search,m=l.hash,d=n?I:j,p={pathname:t,search:P(u,r,a),hash:o?m:void 0};return f.a.createElement(d,c()({to:p},i))};x.propTypes={pathname:h.a.string.isRequired,searchParams:h.a.shape(a()({},h.a.string,h.a.string)),nav:h.a.bool,preserveSearch:h.a.bool,preserveHash:h.a.bool},x.defaultProps={nav:!1,preserveSearch:!1,searchParams:{},preserveHash:!1},t.a=x},386:function(e,t,r){"use strict";var n=r(1),a=r.n(n),o=r(53);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(o.h)(),r=t.search,n=new URLSearchParams(r);return[e.reduce((function(e,t){return i({},e,a()({},t,n.get(t)))}),{}),r,n]}},391:function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"getPlatforms",(function(){return v})),r.d(n,"getPlatform",(function(){return h})),r.d(n,"getPlatformItems",(function(){return b})),r.d(n,"getPlatformInventories",(function(){return g})),r.d(n,"getServiceOffering",(function(){return O}));var a=r(1),o=r.n(a),c=r(3),i=r(36),l=r.n(i),u=r(61),s=r(11),m=r(48);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var p=Object(u.a)(),f=Object(u.b)(),v=function(){return f.post("".concat(s.i,"/graphql"),{query:'\nquery {\n  application_types (filter: { name: "/insights/platform/catalog" }) {\n    id\n    name\n    sources {\n      id\n      name\n      source_type_id\n    }\n  }\n}'}).then((function(e){return e.data.application_types})).then((function(e){return l()(e,1)[0].sources}))},h=function(e){return p.get("".concat(s.i,"/sources/").concat(e))},b=function(e,t,r){var n=t?"&filter[name][contains_i]=".concat(t):"";return e?p.get("".concat(s.j,"/sources/").concat(e,"/service_offerings?filter[archived_at][nil]").concat(n).concat(r?"&limit=".concat(r.limit,"&offset=").concat(r.offset):"")):p.get("".concat(s.j,"/service_offerings"))},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.a;return e?p.get("".concat(s.j,"/sources/").concat(e,"/service_inventories?filter[name][contains_i]=").concat(t).concat(r?"&limit=".concat(r.limit,"&offset=").concat(r.offset):"")):p.get("".concat(s.j,"/service_inventories?limit=").concat(r.limit,"&offset=").concat(r.offset))},O=function(e,t){return Promise.all([p.get("".concat(s.j,"/service_offerings/").concat(e)),p.get("".concat(s.i,"/sources/").concat(t)).then((function(e){return p.get("".concat(s.i,"/source_types/").concat(e.source_type_id)).then((function(t){var r=t.icon_url;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{icon_url:r})}))}))]).then((function(e){var t=l()(e,2);return{service:t[0],source:t[1]}}))};function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,"c",(function(){return j})),r.d(t,"b",(function(){return I})),r.d(t,"d",(function(){return P})),r.d(t,"a",(function(){return x})),r.d(t,"e",(function(){return T}));var j=function(){return function(e){return e({type:"".concat(c.k,"_PENDING")}),v().then((function(t){return e({type:"".concat(c.k,"_FULFILLED"),payload:t})})).catch((function(t){return e({type:"".concat(c.k,"_REJECTED"),payload:t})}))}},I=function(e,t,r){return{type:c.n,payload:b(e,t,r),meta:y({platformId:e,filter:t},r)}},P=function(e){return{type:c.j,payload:h(e)}},x=function(e,t,r){return{type:c.l,payload:g(e,t,r)}},T=function(){return{type:c.v,payload:O.apply(n,arguments)}}},396:function(e,t,r){"use strict";var n=r(36),a=r.n(n),o=r(32),c=r.n(o),i=r(0),l=r.n(i),u=r(2),s=r.n(u),m=r(33),d=r(37),p=r(51),f=r(429),v=r.n(f),h=r(430);function b(){var e=c()(["\n  height: ",";\n  display: ",";\n  float: ",";\n  width: ",";\n"]);return b=function(){return e},e}var g=Object(m.b)(h.LazyLoadImage)(b(),(function(e){var t=e.height;return e.hidden?"0px":"".concat(t,"px")||!1}),(function(e){return e.hidden?"none":"inherit"}),(function(e){return e.hidden?"left":"inherit"}),(function(e){return e.hidden?0:"inherit"}));function O(){var e=c()(["\n  display: inline-block;\n  height: ",";\n"]);return O=function(){return e},e}var E=m.b.div(O(),(function(e){var t=e.height;return"".concat(t,"px")})),y=function(e){var t=e.src,r=e.height,n=e.sourceId,o=Object(i.useState)(!1),c=a()(o,2),u=c[0],s=c[1],m=Object(i.useState)(!1),f=a()(m,2),h=f[0],b=f[1],O=Object(d.useSelector)((function(e){return e.platformReducer.platformIconMapping})),y=n?O[n]:v.a;return l.a.createElement(E,{height:r},!u&&l.a.createElement(p.c,{height:r}),l.a.createElement(g,{threshold:2e3,delayTime:0,hidden:!u,height:u?r:0,onError:function(){return b(!0)},onLoad:function(){return s(!0)},src:!t||h?y:t}))};y.propTypes={src:s.a.string,platformId:s.a.string,style:s.a.object,height:s.a.number,sourceId:s.a.string},y.defaultProps={style:{},height:40};t.a=y},403:function(e,t,r){"use strict";var n=r(381),a=r.n(n),o=r(45),c=r.n(o),i=r(0),l=r.n(i),u=r(2),s=r.n(u),m=r(383),d=function(e){var t=e.children,r=e.pathname,n=c()(e,["children","pathname"]);return r?l.a.createElement(m.a,a()({pathname:r},n),t):t};d.propTypes={pathname:s.a.string,children:s.a.oneOfType([s.a.node,s.a.arrayOf(s.a.node)]).isRequired},t.a=d},422:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(435),c=r(438),i=r(37),l=r(403);t.a=function(){var e=Object(i.useSelector)((function(e){return e.breadcrumbsReducer.fragments}));return e.length<=1?null:a.a.createElement(o.Breadcrumb,null,e.map((function(t,r){var n=t.title,o=t.pathname,i=t.searchParams;return(a.a.createElement(l.a,{pathname:e.length!==r+1?o:void 0,searchParams:i,nav:!0,exact:!0,key:o,className:"pf-c-breadcrumb__item"},a.a.createElement(c.BreadcrumbItem,{isActive:e.length===r+1},n)))})))}},429:function(e,t,r){e.exports=r.p+"fonts/card-icon-default.svg"},449:function(e,t,r){"use strict";var n=r(45),a=r.n(n),o=r(36),c=r.n(o),i=r(1),l=r.n(i),u=r(0),s=r.n(u),m=r(39),d=r(3),p=r(38),f=r.n(p),v=r(62),h=r.n(v),b=r(61),g=r(11),O=r(48);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=Object(b.c)(),I=(Object(b.d)(),Object(b.f)()),P=Object(b.a)();function x(e){return I.listServicePlans(e)}function T(e){return L.apply(this,arguments)}function L(){return(L=h()(f.a.mark((function e(t){var r,n,o,c,i,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.service_parameters,n=r.providerControlParameters,o=a()(r,["providerControlParameters"]),c=a()(t,["service_parameters"]),e.next=3,j.createOrder();case 3:return i=e.sent,(l={}).count=1,l=y({},l,{},c,{service_parameters:o,provider_control_parameters:n||{}}),e.next=9,j.addToOrder(i.id,l);case 9:return e.abrupt("return",j.submitOrder(i.id));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(e){return P.get("".concat(g.c,"/order_items?").concat(e.map((function(e){return"filter[order_id][]=".concat(e)})).join("&")))},D=function(e){return P.get("".concat(g.c,"/portfolio_items?").concat(e.map((function(e){return"filter[id][]=".concat(e)})).join("&")))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.a;return P.get("".concat(g.c,"/orders?").concat(e,"&limit=").concat(t.limit,"&offset=").concat(t.offset)).then((function(e){return _(e.data.map((function(e){return e.id}))).then((function(t){return D(t.data.map((function(e){return e.portfolio_item_id}))).then((function(r){return y({portfolioItems:r},e,{data:e.data.map((function(e){return y({},e,{orderItems:t.data.filter((function(t){return t.order_id===e.id}))})}))})}))}))}))};var N=r(2),R=r.n(N),k=r(46),S=r(50),q=function(e){var t=e.id,r=e.dispatch;return(s.a.createElement(u.Fragment,null,"You can track the progress of Order # ",t," in your"," ",s.a.createElement(k.a,{onClick:function(){return r(Object(m.clearNotifications)())},to:S.k},"Orders")," ","page."))};q.propTypes={id:R.a.string.isRequired,dispatch:R.a.func.isRequired};var F=q;function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,"e",(function(){return A})),r.d(t,"f",(function(){return U})),r.d(t,"a",(function(){return B})),r.d(t,"d",(function(){return z})),r.d(t,"c",(function(){return M})),r.d(t,"b",(function(){return J}));var A=function(e){return{type:d.w,payload:x(e)}},U=function(e){return function(t){return t({type:d.T,payload:T(e).then((function(e){var r=e.id;return t(Object(m.addNotification)({variant:"success",title:"Your order has been accepted successfully",description:s.a.createElement(F,{id:r,dispatch:t}),dismissable:!0}))}))})}},B=function(e){return function(t,r){t({type:"".concat(d.d,"_PENDING")});var n=r().orderReducer.orderDetail;return function(e){return j.cancelOrder(e)}(e).then((function(){return n.order.state="Canceled",n.approvalRequest&&n.approvalRequest.length>0&&(n.approvalRequest[0].state="canceled"),t({type:d.O,payload:V({},n)}),n})).then((function(e){return t(Object(m.addNotification)({variant:"success",title:"Your order has been canceled successfully",description:"Order ".concat("Order #".concat(e.order.id)," was canceled."),dismissable:!0}))})).then((function(){return t({type:"".concat(d.d,"_FULFILLED")})})).catch((function(e){t({type:"".concat(d.d,"_REJECTED"),payload:e})}))}},z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.a;return function(r){var n=Object.entries(e).filter((function(e){var t=c()(e,2)[1];return t&&t.length>0})).map((function(e){var t=c()(e,2),r=t[0],n=t[1];return Array.isArray(n)?n.map((function(e){return"filter[".concat(r,"][]=").concat(e)})).join("&"):"filter[".concat(r,"][contains_i]=").concat(n)})).join("&");return r({type:"".concat(d.h,"_PENDING")}),w(n,t).then((function(o){var c=o.portfolioItems,i=a()(o,["portfolioItems"]);return r({type:d.P,payload:c}),r({type:"".concat(d.h,"_FULFILLED"),meta:V({},t,{filter:n,filters:e,storeState:!0,stateKey:"orders"}),payload:i})})).catch((function(e){return r({type:"".concat(d.h,"_REJECTED"),payload:e})}))}},M=function(e){return function(t){return t({type:"".concat(d.O,"_PENDING")}),function(e){var t=[P.get("".concat(g.c,"/orders/").concat(e.order)),P.get("".concat(g.c,"/order_items/").concat(e["order-item"])).catch((function(e){if(404===e.status||400===e.status)return{object:"Order item",notFound:!0};throw e})),P.get("".concat(g.c,"/portfolio_items/").concat(e["portfolio-item"])).catch((function(e){if(404===e.status||400===e.status)return{object:"Product",notFound:!0};throw e}))];return t.push(e.platform&&"undefined"!==e.platform?P.get("".concat(g.i,"/sources/").concat(e.platform)).catch((function(e){if(404===e.status||400===e.status)return{object:"Platform",notFound:!0};throw e})):{object:"Platform",notFound:!0}),t.push(P.get("".concat(g.c,"/order_items/").concat(e["order-item"],"/progress_messages")).catch((function(e){if(404===e.status||400===e.status)return{};throw e}))),t.push(e.portfolio&&"undefined"!==e.portfolio?P.get("".concat(g.c,"/portfolios/").concat(e.portfolio)).catch((function(e){if(404===e.status||400===e.status)return{object:"Portfolio",notFound:!0};throw e})):{object:"Portfolio",notFound:!0}),Promise.all(t)}(e).then((function(e){var r=c()(e,7),n=r[0],a=r[1],o=r[2],i=r[3],l=r[4],u=r[5],s=r[6];return t({type:"".concat(d.O,"_FULFILLED"),payload:{order:n,orderItem:a,portfolioItem:o,platform:i,progressMessages:l,portfolio:u,approvalRequest:s}})})).catch((function(e){return t({type:"".concat(d.O,"_REJECTED"),payload:e})}))}},J=function(e){return function(t){return t({type:"".concat(d.f,"_PENDING")}),function(e){return P.get("".concat(g.c,"/order_items/").concat(e,"/approval_requests"))}(e).then((function(e){return t({type:"".concat(d.f,"_FULFILLED"),payload:e}),e})).catch((function(e){return t({type:"".concat(d.f,"_REJECTED"),payload:e})}))}}},483:function(e,t,r){"use strict";var n,a,o=r(12),c=r.n(o),i=r(0),l=r(53),u=r(37),s=r(1),m=r.n(s),d=r(3),p=r(50),f=(p.t,{"portfolio-item":["source"]}),v=(n={},m()(n,p.v,(function(e){return e().portfolioReducer.selectedPortfolio.name})),m()(n,p.u,(function(e){return e().portfolioReducer.portfolioItem.portfolioItem.name})),m()(n,p.e,(function(){return"Edit survey"})),m()(n,p.b,(function(){return"Add products"})),m()(n,p.q,(function(e){return e().platformReducer.selectedPlatform.name})),m()(n,p.r,(function(e){return e().platformReducer.serviceOffering.service.name})),m()(n,p.n,(function(e){var t=e().orderReducer.orderDetail,r=t.portfolioItem,n=t.order;return"".concat(r.name," # ").concat(n.id)})),n),h=(a={},m()(a,p.v,{pathname:p.t,title:"Portfolios",searchParams:{}}),m()(a,p.q,{pathname:p.o,title:"Platforms",searchParams:{}}),m()(a,p.n,{pathname:p.k,title:"Orders",searchParams:{}}),a);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){m()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r,n){if(0===e.length)return r({type:d.A,payload:[]});var a=e.replace(/^\//,"").split("/").reduce((function(e,r,a){var o="".concat(a>0&&e[a-1]?e[a-1].pathname:"","/").concat(r),i=v[o];if(!i)return e;var l=g({},a>0&&e[a-1].searchParams,{},t[r]?m()({},r,t[r]):{});return f[r]&&f[r].forEach((function(e){l[e]=t[e]})),[].concat(c()(e),[{pathname:o,searchParams:l,title:i(n)}])}),[]);return a.length>0&&h[a[0].pathname]&&(a=[h[a[0].pathname]].concat(c()(a))),r({type:d.A,payload:a})}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(u.useDispatch)(),r=Object(l.h)(),n=r.pathname,a=r.search;if(0===e.length)return t(O("",{}));var o=new URLSearchParams(a),s={};return o.forEach((function(e,t){s[t]=e})),Object(i.useEffect)((function(){t(O(n,s))}),[n].concat(c()(e))),function(){return t(O("",{}))}}},693:function(e,t,r){"use strict";r.r(t);var n=r(36),a=r.n(n),o=r(0),c=r.n(o),i=r(53),l=r(465),u=r(168),s=r(169),m=r(412),d=r(413),p=r(88),f=r(180),v=r(89),h=r(37),b=r(449),g=r(2),O=r.n(g),E=r(394),y=function(e){var t=e.portfolioItemName,r=e.orderId;return(c.a.createElement(E.Title,{size:"3xl"},t," - Order # ",r))};y.propTypes={portfolioItemName:O.a.string.isRequired,orderId:O.a.string.isRequired};var j=y,I=r(100),P=r(49),x=r(401),T=r(184),L=r.n(T),_=function(e){var t=e.name,r=e.cancelOrder,n=e.onClose,a=e.isOpen;return(c.a.createElement(x.Modal,{isOpen:a,onClose:n,title:" ",header:c.a.createElement(E.Title,{size:"2xl",headingLevel:"h2"},c.a.createElement(L.a,{fill:"#F0AB00"})," Cancel order"),isSmall:!0,actions:[c.a.createElement(P.Button,{onClick:r,key:"cancel-order",id:"cancel-order",variant:"danger"},"Cancel order"),c.a.createElement(P.Button,{onClick:n,key:"keep-order",id:"keep-order",variant:"link"},"Keep order")],isFooterLeftAligned:!0},"Are you sure you want to cancel ",t,"?"))};_.propTypes={name:O.a.string.isRequired,cancelOrder:O.a.func.isRequired,onClose:O.a.func.isRequired,isOpen:O.a.bool};var D=_,w=["Approval Pending"],N=function(e){return w.includes(e)},R=function(e){var t=e.state,r=e.orderId,n=e.portfolioItemName,i=Object(h.useDispatch)(),l=Object(o.useState)(!1),u=a()(l,2),s=u[0],m=u[1];return c.a.createElement(o.Fragment,null,c.a.createElement(D,{onClose:function(){return m(!1)},isOpen:s,cancelOrder:function(){m(!1),i(Object(b.a)(r))},name:n}),c.a.createElement(I.ActionGroup,null,c.a.createElement(P.Button,{onClick:function(){return m(!0)},isDisabled:!N(t),type:"button",className:"pf-u-mr-md",id:"cancel-order-action"},"Cancel order")))};R.propTypes={state:O.a.string,orderId:O.a.string.isRequired,portfolioItemName:O.a.string.isRequired};var k=R,S=r(47),q=r(26),F=r(181),C=r.n(F),V=r(91),A=r(396),U=r(11),B=function(e){var t=e.jobName,r=e.state,n=e.orderRequestDate,a=e.orderUpdateDate,o=e.owner,i=e.portfolioItemId,l=e.sourceId;return(c.a.createElement(m.Split,{className:"pf-u-mt-sm"},c.a.createElement(d.SplitItem,{className:"pf-u-mr-md"},c.a.createElement(A.a,{sourceId:l,height:60,src:"".concat(U.c,"/portfolio_items/").concat(i,"/icon")})),c.a.createElement(d.SplitItem,null,c.a.createElement(u.Level,null,c.a.createElement(s.LevelItem,{className:"pf-u-mr-lg"},c.a.createElement(E.Title,{headingLevel:"h5",size:"md"},t)),c.a.createElement(s.LevelItem,null,c.a.createElement(E.Title,{headingLevel:"h5",size:"md"},"Status:"," ","Failed"===r&&c.a.createElement(C.a,{className:"pf-u-mr-sm icon-danger-fill"})," ",r))),c.a.createElement(u.Level,null,c.a.createElement(s.LevelItem,{className:"pf-u-mr-lg"},c.a.createElement(S.TextContent,null,c.a.createElement(q.Text,{component:q.TextVariants.small},"Ordered ",c.a.createElement(V.DateFormat,{date:n,type:"relative"})))),c.a.createElement(s.LevelItem,{className:"pf-u-mr-lg"},c.a.createElement(S.TextContent,null,c.a.createElement(q.Text,{component:q.TextVariants.small},"Ordered by ",o))),c.a.createElement(s.LevelItem,null,c.a.createElement(S.TextContent,null,c.a.createElement(q.Text,{component:q.TextVariants.small},"Last updated ",c.a.createElement(V.DateFormat,{date:a,type:"relative"}))))))))};B.propTypes={portfolioItemId:O.a.string.isRequired,sourceId:O.a.string.isRequired,state:O.a.string.isRequired,jobName:O.a.string.isRequired,orderRequestDate:O.a.string.isRequired,orderUpdateDate:O.a.string.isRequired,owner:O.a.string.isRequired};var z=B,M=r(381),J=r.n(M),G=r(682),H=r(554),Y=r(383),K=function(e){var t=e.baseUrl,r=e.isFetching,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;return[{link:"",title:"Order details"},{link:"/approval",title:"Approval"},{link:"/lifecycle",title:"Lifecycle",isDisabled:"Completed"!==t&&"Ordered"!==t}]}(Object(h.useSelector)((function(e){return e.orderReducer.orderDetail||{}})).order);return c.a.createElement(H.Nav,null,c.a.createElement(G.NavList,{className:"orders-side-nav-list"},c.a.createElement("li",{className:"pf-c-nav__item orders-nav-section-group"},c.a.createElement(S.TextContent,null,c.a.createElement(q.Text,{component:q.TextVariants.small},"Order steps"))),n.map((function(e){var n=e.link,a=e.title,o=e.isDisabled;return(c.a.createElement("li",J()({key:n||a,className:"pf-c-nav__item orders-side-nav-item orders-side-nav-category".concat(o||r?" disabled":"")},o?{tabIndex:-1}:{}),c.a.createElement(Y.a,J()({exact:!0,nav:!0,isDisabled:o,pathname:"".concat(t).concat(n),preserveSearch:!0,className:"pf-c-nav__link orders-side-nav-link",activeClassName:"pf-m-active"},o?{tabIndex:-1}:{}),a)))}))))};K.propTypes={baseUrl:O.a.string.isRequired,isFetching:O.a.bool};var W=K,Q=r(495),X=r(496),Z=r(528),$=r.n(Z),ee=function(){var e=Object(h.useSelector)((function(e){return e.orderReducer.orderDetail})),t=e.order,r=e.platform,n=e.progressMessages,a=e.portfolio,o=e.orderItem;return(c.a.createElement(S.TextContent,null,c.a.createElement(q.Text,{component:q.TextVariants.h2},"Order details"),c.a.createElement(Q.TextList,{component:Q.TextListVariants.dl},c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dt},"Order ID"),c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dd},t.id),c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dt},"Ordered"),c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dd},c.a.createElement(V.DateFormat,{date:t.created_at,variant:"relative"})),c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dt},"Portfolio"),c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dd},null==a?void 0:a.name),c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dt},"Platform"),c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dd},(null==r?void 0:r.name)||void 0)),c.a.createElement("hr",{className:"pf-c-divider"}),c.a.createElement(q.Text,{component:q.TextVariants.h2},"Order parameters"),(null==o?void 0:o.service_parameters)&&c.a.createElement($.a,{src:o.service_parameters}),c.a.createElement(q.Text,{component:q.TextVariants.h2},"Progress messages"),(null==n?void 0:n.data)&&c.a.createElement($.a,{src:n.data})))},te=r(38),re=r.n(te),ne=r(62),ae=r.n(ne),oe=r(479),ce=r(684),ie=r.n(ce),le=function(e){return new Promise((function(t){return setTimeout(t,e)}))},ue=function(){var e=ae()(re.a.mark((function e(t){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t();case 3:if(!(e.sent.data.length>0)){e.next=6;break}return e.abrupt("return","Finished");case 6:return e.next=8,le(3e3);case 8:e.next=0;break;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(e){return!e||!e.data||0===e.data.length},me=function(){var e=Object(h.useDispatch)(),t=Object(h.useSelector)((function(e){return e.orderReducer.orderDetail})),r=t.order,n=t.approvalRequest,a=t.orderItem;return Object(o.useEffect)((function(){"Failed"!==r.state&&(null==a?void 0:a.id)&&se(n)&&ue((function(){return e(Object(b.b)(a.id))}))}),[]),"Failed"===r.state&&se(n)?c.a.createElement(p.Bullseye,{id:"no-approval-requests"},c.a.createElement(oe.Flex,{breakpointMods:[{modifier:"column"},{modifier:"grow"}]},c.a.createElement(p.Bullseye,null,c.a.createElement(ie.a,{size:"xl"})),c.a.createElement(p.Bullseye,null,c.a.createElement(E.Title,{size:"2xl"},"We were unable to find any approval requests for this order.")))):c.a.createElement(S.TextContent,null,se(n)?c.a.createElement(p.Bullseye,null,c.a.createElement(oe.Flex,{breakpointMods:[{modifier:"column"},{modifier:"grow"}]},c.a.createElement(p.Bullseye,{id:"creating-approval-request"},c.a.createElement(E.Title,null,"Creating approval request")),c.a.createElement(p.Bullseye,null,c.a.createElement(v.Spinner,{size:"xl"})))):c.a.createElement(o.Fragment,null,c.a.createElement(q.Text,{component:q.TextVariants.h2},"Approval request"),n.data.map((function(e){return c.a.createElement(Q.TextList,{key:e.id,component:Q.TextListVariants.dl},c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dt},c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(document.baseURI,"ansible/catalog/approval/request?request=").concat(e.approval_request_ref)},"View this order's approval request details")),c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dt},"Request created"),c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dd},c.a.createElement(V.DateFormat,{date:r.created_at,variant:"relative"})),c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dt},"State"),c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dd},e.state),e.reason&&c.a.createElement(o.Fragment,null,c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dt},"Approval reason"),c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dd},e.reason)),e.request_completed_at&&c.a.createElement(o.Fragment,null,c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dt},"Completed at"),c.a.createElement(X.TextListItem,{component:X.TextListItemVariants.dd},c.a.createElement(V.DateFormat,{date:e.request_completed_at,variant:"relative"}))))}))))},de=r(51),pe=r(386),fe=r(685),ve=r.n(fe),he=r(50),be=function(){var e=Object(pe.a)([]),t=a()(e,2)[1],r=Object(i.i)(he.n).url,n=Object(h.useSelector)((function(e){return e.orderReducer.orderDetail||{}})),o=n.order,l=n.orderItem;return"Completed"!==o.state&&"Ordered"!==o.state?c.a.createElement(i.a,{to:{pathname:r,search:t}}):c.a.createElement("div",null,c.a.createElement("a",{href:l.external_url,target:"_blank",rel:"noopener noreferrer"},"Manage product ",c.a.createElement(ve.a,null)))},ge=r(422),Oe=r(483),Ee=r(391),ye=r(32),je=r.n(ye),Ie=r(444),Pe=r(33);function xe(){var e=je()(["\n  border-bottom: 2px solid var(--pf-global--Color--light-200);\n"]);return xe=function(){return e},e}function Te(){var e=je()(["\n  background-color: var(--pf-global--Color--light-100);\n"]);return Te=function(){return e},e}var Le=Object(Pe.b)(Ie.Stack)(Te()),_e=Object(Pe.b)(l.StackItem)(xe());function De(){var e=je()(["\n  width: 100%;\n  > *:not(:last-child) {\n    margin-bottom: 4px;\n    width: 100%;\n  }\n"]);return De=function(){return e},e}var we=Pe.b.div(De()),Ne=r(538),Re=["order-item","portfolio-item","platform","portfolio","order"];t.default=function(){var e=Object(o.useState)(!0),t=a()(e,2),r=t[0],n=t[1],g=Object(pe.a)(Re),O=a()(g,1)[0],E=Object(h.useSelector)((function(e){return e.orderReducer.orderDetail})),y=Object(i.i)(he.n),I=Object(h.useDispatch)(),P=Object(Oe.a)([E]);Object(o.useEffect)((function(){return insights.chrome.appNavClick({id:"orders",secondaryNav:!0}),n(!0),Promise.all([I(Object(Ee.c)()),I(Object(b.c)(O))]).then((function(){return n(!1)})),function(){return P()}}),[]);var x=E.order,T=E.portfolioItem,L=E.platform,_=E.orderItem,D=E.portfolio,w=function(){var e=[T,L,D||{}].filter((function(e){return e.notFound}));if(0===e.length)return null;var t=[];return T.notFound?t.push(T.object):t=e.map((function(e){return e.object})),c.a.createElement(f.Alert,{key:"order-object-missing",variant:"warning",isInline:!0,title:c.a.createElement(Ne.a,{id:"order-detail-not-found",defaultMessage:"The ".concat(t.join(", ")," for this order {count, plural, one {is} other {are}} not available"),values:{count:t.length}})})}();return c.a.createElement(Le,{className:"bg-fill"},c.a.createElement(_e,{className:"pf-u-p-lg"},r?c.a.createElement(de.e,null):c.a.createElement(o.Fragment,null,c.a.createElement(u.Level,{className:"pf-u-mb-md"},c.a.createElement(ge.a,null)),c.a.createElement(u.Level,{className:"flex-no-wrap"},w?c.a.createElement(we,null,w):c.a.createElement(o.Fragment,null,c.a.createElement(s.LevelItem,null,c.a.createElement(j,{portfolioItemName:T.name,orderId:x.id})),c.a.createElement(s.LevelItem,{className:"flex-item-no-wrap"},c.a.createElement(k,{portfolioItemName:T.name,orderId:x.id,state:x.state})))),!w&&c.a.createElement(u.Level,null,c.a.createElement(z,{portfolioItemId:T.id,sourceId:L.id,state:x.state,jobName:T.name,orderRequestDate:x.created_at,orderUpdateDate:null==_?void 0:_.updated_at,owner:x.owner})))),c.a.createElement(l.StackItem,{className:"pf-u-pt-xl pf-u-ml-lg pf-u-ml-0-on-md"},c.a.createElement(m.Split,{gutter:"md",className:"orders-nav-layout"},c.a.createElement(d.SplitItem,{className:"order-detail-nav-cotainer"},c.a.createElement(W,{isFetching:r,baseUrl:y.url})),c.a.createElement(d.SplitItem,{className:"order-detail-content-cotainer"},r?c.a.createElement(p.Bullseye,null,c.a.createElement(v.Spinner,null)):c.a.createElement(i.d,null,c.a.createElement(i.b,{path:"".concat(y.url,"/approval"),component:me}),c.a.createElement(i.b,{path:"".concat(y.url,"/lifecycle")},c.a.createElement(be,null)),c.a.createElement(i.b,{path:y.url,component:ee}))))))}}}]);
//# sourceMappingURL=../sourcemaps/order-detail.js.map