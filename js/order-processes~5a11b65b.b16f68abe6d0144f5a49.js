(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{628:function(e,t,r){"use strict";var a=r(99),n=function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};t.a=function(e){var t=void 0===e?{}:e,r=t.removeSearch,o=t.keepHash,s=Object(a.g)();return n(n({},s),{push:function(e){var t=e;return o&&s.location.hash.length>0&&(t="object"==typeof t?n(n({},t),{hash:s.location.hash}):""+t+s.location.hash),r?s.push(function(e){return"string"==typeof e?e.split("?")[0]:"object"==typeof e?n(n({},e),{search:void 0}):e}(t)):s.push(t)}})}},629:function(e,t,r){"use strict";var a=r(23),n=Object(a.b)({noItems:{id:"common.filtering.noItems",defaultMessage:"No items found"},filterByProduct:{id:"common.filtering.filterByProduct",defaultMessage:"Filter by product"},noResults:{id:"common.filtering.noResults",defaultMessage:"No results found"},noResultsDescription:{id:"common.filtering.noResultsDescription",defaultMessage:"No results match the filter criteria. Remove all filters or clear all filters to show results."},clearFilters:{id:"common.filtering.clear-filters",defaultMessage:"Clear all filters"},noProducts:{id:"common.filtering.no-products",defaultMessage:"No products yet"},noRecords:{id:"commonMessages.noRecords",defaultMessage:"No records"},filterByTitle:{id:"tableToolbar.filterByTitle",defaultMessage:"Filter by {title}"},noResultsFound:{id:"tableToolbar.noResultsFound",defaultMessage:"No results found"},noResult:{id:"tableToolbar.noResult",defaultMessage:"No {results}"},unknown:{id:"commonMessages.unknown",defaultMessage:"Unknown"}});t.a=n},937:function(e,t,r){"use strict";r.r(t);var a=r(120),n=r.n(a),o=r(797),s=r.n(o),c=r(166),l=r.n(c),i=r(0),u=r.n(i),d=r(22),f=r(99),m=r(78),p=r(163),g=r(58),b=r(59),h=r(653),y=r(630),O=r.n(y),v=r(696),P=r(693),E=r(227),j=r(18),M=r.n(j),F=r(346),k=r(121),S=Object(i.createContext)({selectedOrderProcesses:[]}),C=function(e){var t=e.id,r=Object(i.useContext)(S),a=r.selectedOrderProcesses,n=r.setSelectedOrderProcesses;return u.a.createElement(F.Checkbox,{id:"select-".concat(t),isChecked:a.includes(t),onChange:function(){return n(t)}})};C.propTypes={id:M.a.string.isRequired};var w=function(e){return e.map((function(e){var t=e.id,r=e.name,a=e.description,n=e.created_at;return{id:t,"data-ouia-component-id":"test-".concat(t),cells:[u.a.createElement("div",{key:"".concat(t,"-checkbox"),ouiaId:"".concat(t,"-checkbox")},u.a.createElement(C,{id:t})),u.a.createElement("div",{key:"".concat(t,"-").concat(r),ouiaId:"".concat(t,"-").concat(r)},r),a,u.a.createElement(u.a.Fragment,{key:t},u.a.createElement(k.a,{date:n}))]}}))},R=r(731),D=r(752),T=r(750),N=r(32),V=r(102),x=r(195),B=r(214),I=r(767),A=r(44),q=function(){return(q=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},_=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,c=o.length;s<c;s++,n++)a[n]=o[s];return a},L=function(e){var t=e.columns,r=e.fetchData,a=e.toolbarButtons,n=e.actionResolver,o=e.routes,s=void 0===o?function(){return null}:o,c=e.plural,l=e.pagination,d=void 0===l?N.a:l,f=e.filterValue,m=e.onFilterChange,p=e.isLoading,g=void 0!==p&&p,b=e.renderEmptyState,h=void 0===b?function(){return null}:b,y=e.sortBy,O=e.onSort,v=e.activeFiltersConfig,P=e.filterConfig,E=void 0===P?[]:P,j=e.rows,M=e.ouiaId,F=Object(x.a)(),k={itemCount:d.count,page:Object(N.b)(d.limit,d.offset),perPage:d.limit,onSetPage:function(e,t){return r(q(q({},d),{offset:Object(N.c)(t,d.limit)}))},onPerPageSelect:function(e,t){return r(q(q({},d),{limit:t}))},isDisabled:g};return u.a.createElement(B.Section,{type:"content","page-type":"tab-"+c,id:"tab-"+c},s(),u.a.createElement(I.PrimaryToolbar,q({className:"pf-u-p-lg",pagination:k},a&&{actionsConfig:{dropdownProps:{position:"right"},actions:[a()]}},{filterConfig:{items:_([{label:F.formatMessage({id:"name",defaultMessage:"Name"}),filterValues:{id:"filter-by-name",placeholder:F.formatMessage(A.a.orderProcessesFilter),"aria-label":F.formatMessage(A.a.orderProcessesFilter),onChange:function(e,t){return m(t)},value:f}}],E)},activeFiltersConfig:v})),g&&u.a.createElement(V.e,null),g||0!==j.length?u.a.createElement(i.Fragment,null,!g&&u.a.createElement(R.a,{"aria-label":c+" table",rows:j,cells:t,actionResolver:n,className:"pf-u-pt-0",sortBy:y,onSort:O,ouiaId:M},u.a.createElement(D.a,null),u.a.createElement(T.a,null)),d.count>0&&u.a.createElement(I.PrimaryToolbar,{className:"pf-u-pl-lg pf-u-pr-lg",pagination:q(q({},k),{dropDirection:"up",variant:"bottom",isCompact:!1,className:"pf-u-pr-0"})})):h())},z=r(685),H=r(132),J=r(721),U=r(722),G=r(340),K=r(161),Q=r(723),W=r(754),X=r(864),Y=function(e){var t=e.title,r=e.Icon,a=e.description,n=e.PrimaryAction,o=e.renderDescription;return u.a.createElement(X.EmptyTable,{centered:!0,"aria-label":"No records"},u.a.createElement(J.a,{className:"pf-u-ml-auto pf-u-mr-auto"},u.a.createElement(U.a,{icon:r}),u.a.createElement(G.a,null,u.a.createElement(K.a,{component:K.b.h1},t)),u.a.createElement(Q.a,null,a,o&&o()),u.a.createElement(W.a,null,n&&u.a.createElement(n,null))))};Y.propTypes={title:M.a.string.isRequired,Icon:M.a.any.isRequired,description:M.a.string.isRequired,PrimaryAction:M.a.any,renderDescription:M.a.func};var Z=Y,$=r(629),ee=r(119),te=r(217),re=r(10),ae=r(622),ne=r(925),oe=r(220),se=r(101),ce=r(628),le=function(e){var t,r=Object(d.useSelector)((function(e){return e.orderProcessReducer.orderProcesses}),d.shallowEqual);return null===(t=null==r?void 0:r.data)||void 0===t?void 0:t.find((function(t){return t.id===e}))},ie=function(){return(ie=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},ue=function(e,t){var r=t.type,a=t.initialValues,n=t.schema;switch(r){case"loaded":return ie(ie({},e),{initialValues:a,schema:n,isLoading:!1});default:return e}},de=function(e){var t=e.edit,r=void 0!==t&&t,a=Object(d.useDispatch)(),n=Object(se.a)(["order_process"])[0].order_process,o=Object(d.useSelector)((function(e){var t=e.orderProcessReducer.orderProcesses.data;return r?t.find((function(e){return e.id===n})):{}})),s=Object(ce.a)({keepHash:!0}).push,c=Object(x.a)(),l=le(n),f=Object(i.useReducer)(ue,{isLoading:!0}),m=f[0].initialValues,p=f[1];Object(i.useEffect)((function(){l||void 0===l?void 0!==l&&p({type:"loaded",initialValues:l,schema:Object(ne.a)(c,l.id)}):Object(E.b)(n).then((function(e){return p({type:"loaded",initialValues:e,schema:Object(ne.a)(c,e.id)})}))}),[]);var g=function(){return s(re.n)};return r&&!o?null:u.a.createElement(ae.a,{isOpen:!0,onClose:g,title:c.formatMessage(r?A.a.updateOrderProcess:A.a.createOrderProcess),variant:"small"},u.a.createElement(oe.c,{initialValues:m,onSubmit:function(e){var t=r?function(){return Object(E.h)(n,ie({name:"",description:""},e),c)}:function(){return Object(E.a)(e,c)};return g(),a(t()).then((function(){return a(Object(E.c)())}))},onCancel:g,schema:Object(ne.a)(c,n),templateProps:{submitLabel:r?c.formatMessage(ee.a.save):c.formatMessage(ee.a.create),disableSubmit:["validating","pristine"]}}))},fe=r(223),me=r(894),pe=r(168),ge=r(381),be=r(374),he=r.n(be),ye=r(135),Oe=function(e){var t=e.ids,r=void 0===t?[]:t,a=e.fetchData,o=e.resetSelectedOrderProcesses,s=Object(d.useDispatch)(),c=Object(i.useState)(),l=n()(c,2),f=l[0],m=l[1],h=Object(i.useState)(!1),y=n()(h,2),O=y[0],v=y[1],P=Object(ce.a)({keepHash:!0}).push,j=Object(se.a)(["order_process"]),M=n()(j,1)[0].order_process||1===r.length&&r[0],F=Object(x.a)(),k=le(M);if(Object(i.useEffect)((function(){M&&!k&&s(Object(E.b)(M)).then((function(e){var t=e.value;return m(t)})).catch((function(){return P(re.n)}))}),[]),!M&&0===r.length)return null;var S=function(){return P(re.n)},C=u.a.createElement("b",{key:"remove-key"},M?f&&f.name||k&&k.name:u.a.createElement(u.a.Fragment,null,r.length," ",F.formatMessage(A.a.orderProcesses))),w=M&&!k&&!f;return u.a.createElement(me.Modal,{isOpen:!0,variant:"small","aria-label":F.formatMessage(A.a.removeProcessAriaLabel,{count:M?1:r.length}),header:u.a.createElement(ge.Title,{size:"2xl",headingLevel:"h1"},u.a.createElement(he.a,{size:"sm",fill:"#f0ab00",className:"pf-u-mr-sm"}),F.formatMessage(A.a.removeProcessTitle,{count:M?1:r.length})),onClose:S,actions:[u.a.createElement(p.Button,{id:"submit-remove-order-process",ouiaId:"submit-remove-order-process",key:"submit",variant:"danger",type:"button",isDisabled:O,onClick:function(){return v(!0),s(M?Object(E.d)(M,F):Object(E.e)(r,F)).catch((function(){return v(!1)})).then((function(){return P(re.n)})).then((function(){return o()})).then((function(){return a()}))}},O?u.a.createElement(u.a.Fragment,null,u.a.createElement(pe.Spinner,{size:"sm",className:"pf-u-mr-md"}),F.formatMessage(ye.a.deleting)):F.formatMessage(ye.a.delete)),u.a.createElement(p.Button,{id:"cancel-remove-order-process",ouiaId:"cancel-remove-order-process",key:"cancel",variant:"link",type:"button",isDisabled:O,onClick:S},F.formatMessage(ee.a.cancel))]},u.a.createElement(b.TextContent,null,u.a.createElement(g.Text,{component:g.TextVariants.p},w?u.a.createElement(V.c,null):F.formatMessage(A.a.removeProcessDescription,{name:C}))))};Oe.propTypes={fetchData:M.a.func.isRequired,ids:M.a.array,resetSelectedOrderProcesses:M.a.func.isRequired};var ve=Oe;function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je=function(e,t,r){return[{title:u.a.createElement(F.Checkbox,{onChange:r,isChecked:t,id:"select-all"}),transforms:[Object(v.a)(1)]},{title:e.formatMessage(ee.a.name),transforms:[P.a]},{title:e.formatMessage(ee.a.description),transforms:[P.a]},{title:e.formatMessage(ee.a.created),transforms:[P.a]}]},Me=Object(H.a)((function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N.a,n=arguments.length>4?arguments[4]:void 0;return r(!0),t(Object(E.c)(Ee(Ee({filterValue:e},a),{},{sortBy:n}))).then((function(){return r(!1)}))}),1e3),Fe=function(e,t){return e?[{category:t.formatMessage(ee.a.name),key:"name",chips:[{name:e,value:e}]}]:[]},ke={filter:"",isFetching:!0,isFiltering:!1,selectedOrderProcesses:[],allSelected:!1,rows:[]},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.every((function(e){return t.includes(e.id)}))},Ce=function(e,t,r){return r.indexOf(e)===t},we=function(e,t){switch(t.type){case"setRows":return Ee(Ee({},e),{},{rows:t.payload,allSelected:Se(t.payload,e.selectedOrderProcesses)});case"setFetching":return Ee(Ee({},e),{},{isFetching:t.payload});case"setFilterValue":return Ee(Ee({},e),{},{filterValue:t.payload});case"select":return Ee(Ee({},e),{},{allSelected:!1,selectedOrderProcesses:e.selectedOrderProcesses.includes(t.payload)?e.selectedOrderProcesses.filter((function(e){return e!==t.payload})):[].concat(s()(e.selectedOrderProcesses),[t.payload])});case"selectAll":return Ee(Ee({},e),{},{selectedOrderProcesses:[].concat(s()(e.selectedOrderProcesses),s()(t.payload)).filter(Ce),allSelected:!0});case"unselectAll":return Ee(Ee({},e),{},{selectedOrderProcesses:e.selectedOrderProcesses.filter((function(e){return!t.payload.includes(e)})),allSelected:!1});case"resetSelected":return Ee(Ee({},e),{},{selectedOrderProceses:[],allSelected:!1});case"setFilteringFlag":return Ee(Ee({},e),{},{isFiltering:t.payload});default:return e}},Re={1:"name",2:"description",3:"created_at"};t.default=function(){var e,t=Object(fe.a)(),r=Object(d.useSelector)((function(e){var t=e.orderProcessReducer;return{orderProcesses:t.orderProcesses,sortBy:t.sortBy}}),d.shallowEqual),a=r.orderProcesses,o=a.data,s=a.meta,c=r.sortBy,l=Object(i.useReducer)(we,Ee(Ee({},ke),{},{filterValue:(null==t||null===(e=t.orderProcesses)||void 0===e?void 0:e.filter)||ke.filterValue})),y=n()(l,2),v=y[0],P=v.filterValue,j=v.isFetching,M=v.isFiltering,F=v.selectedOrderProcesses,C=v.allSelected,R=v.rows,D=y[1],T=Object(d.useDispatch)(),V=Object(x.a)(),B=Object(ce.a)({keepHash:!0}),I=function(e,t){return D({type:"setFetching",payload:!0}),T(Object(E.c)(e,t)).then((function(){return D({type:"setFetching",payload:!1})})).catch((function(){return D({type:"setFetching",payload:!1})}))};Object(i.useEffect)((function(){insights.chrome.appNavClick({id:"order-processes",secondaryNav:!0}),I((null==t?void 0:t.orderProcesses)?Ee(Ee({},t.orderProcesses),{},{filterValue:P}):N.a,c),Object(k.d)()}),[]),Object(i.useEffect)((function(){D({type:"setRows",payload:w(o)})}),[o]);var q=function(e){D({type:"setFilterValue",payload:e}),Me(e,T,(function(e){return D({type:"setFilteringFlag",payload:e})}),Ee(Ee({},s),{},{offset:0}))},_=F.length>0;return u.a.createElement(i.Fragment,null,u.a.createElement(z.b,null,u.a.createElement(b.TextContent,{className:"pf-u-ml-md"},u.a.createElement(g.Text,{component:g.TextVariants.h1},V.formatMessage(A.a.title)))),u.a.createElement(S.Provider,{value:{selectedOrderProcesses:F,setSelectedOrderProcesses:function(e){return D({type:"select",payload:e})}}},u.a.createElement(L,{ouiaId:"OrderProcessesTable",sortBy:c,onSort:function(e,t,r,a){var n=a.property;return T(Object(E.g)({index:t,direction:r,property:Re[t]||n})),I(Ee(Ee({},s),{},{filterValue:P}),{index:t,direction:r,property:Re[t]||n})},rows:R,columns:je(V,C,(function(){return D(C?{type:"unselectAll",payload:o.map((function(e){return e.id}))}:{type:"selectAll",payload:o.map((function(e){return e.id}))})})),routes:function(){return u.a.createElement(i.Fragment,null,u.a.createElement(f.b,{exact:!0,path:re.a},u.a.createElement(de,{postMethod:I})),u.a.createElement(f.b,{exact:!0,path:re.z},u.a.createElement(ve,{ids:F,fetchData:I,resetSelectedOrderProcesses:function(){return D({type:"resetSelected"})}})),u.a.createElement(f.b,{exact:!0,path:re.C},u.a.createElement(de,{edit:!0})))},fetchData:I,titlePlural:V.formatMessage(A.a.title),titleSingular:V.formatMessage(A.a.orderProcess),pagination:s,filterValue:P,onFilterChange:q,isLoading:j||M,toolbarButtons:function(){return u.a.createElement(te.b,{className:"pf-u-pl-lg top-toolbar"},u.a.createElement(h.ToolbarItem,null,u.a.createElement(m.a,{id:"add-order-process-link",to:{pathname:re.a}},u.a.createElement(p.Button,{variant:"primary",ouiaid:"create-order-process","aria-label":V.formatMessage(ee.a.create)},V.formatMessage(ee.a.create)))),u.a.createElement(h.ToolbarItem,null,u.a.createElement(m.a,{id:"remove-multiple-order-processes'",className:_?"":"disabled-link",to:{pathname:re.z}},u.a.createElement(p.Button,{variant:"secondary",ouiaid:"delete-order-process",isDisabled:!_,"aria-label":V.formatMessage(A.a.deleteOrderProcess)},V.formatMessage(ye.a.delete)))))},actionResolver:function(){return[{title:V.formatMessage(ye.a.edit),onClick:function(e,t,r){return B.push({pathname:re.C,search:"?order_process=".concat(r.id)})}},{title:V.formatMessage(ye.a.delete),onClick:function(e,t,r){return B.push({pathname:re.z,search:"?order_process=".concat(r.id)})}}]},renderEmptyState:function(){return u.a.createElement(Z,{title:""===P?V.formatMessage(A.a.noOrderProcesses):V.formatMessage($.a.noResultsFound),Icon:O.a,PrimaryAction:function(){return""!==P?u.a.createElement(p.Button,{ouiaId:"clear-filter",onClick:function(){return q("")},variant:"link"},V.formatMessage($.a.clearFilters)):null},description:""===P?V.formatMessage(A.a.noOrderProcesses):V.formatMessage($.a.noResultsDescription)})},activeFiltersConfig:{filters:Fe(P,V),onDelete:function(){return q("")}}})))}}}]);
//# sourceMappingURL=../sourcemaps/order-processes~5a11b65b.js.map