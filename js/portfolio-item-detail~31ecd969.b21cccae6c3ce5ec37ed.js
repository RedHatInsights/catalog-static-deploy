(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{42:function(e,t,n){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)&&a.length){var o=n.apply(null,a);o&&e.push(o)}else if("object"===i)for(var c in a)t.call(a,c)&&a[c]&&e.push(c)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return n})):window.classNames=n}()},640:function(e,t,n){"use strict";var r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a};var a=function(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i};t._objectWithoutProperties=a},645:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(147);var a=n(268),i=n(267),o=n(640),c=r(n(0)),l=r(n(1)),s=r(n(42)),u=function(e){var t=e.type,n=e.children,r=e.className,l=o._objectWithoutProperties(e,["type","children","className"]),u=s(r,i._defineProperty({},"ins-l-".concat(t),void 0!==t));return c.createElement("section",a._extends({},l,{className:u})," ",n," ")};u.propTypes={type:l.string,className:l.string,children:l.any.isRequired},t.Section=u},694:function(e,t,n){"use strict";var r=n(639),a=n.n(r),i=n(72),o=n.n(i),c=n(50),l=n.n(c),s=n(0),u=n.n(s),p=n(51),d=n(1),m=n.n(d),f=n(75),b=n(151);function v(){var e=l()(["\n  margin-right: ",";\n"]);return v=function(){return e},e}function g(){var e=l()(["\n  display: flex !important;\n  align-items: center;\n"]);return g=function(){return e},e}var h=Object(p.b)(f.Button)(g()),y=p.b.span(v(),(function(e){return e.showSpinner?"8px":"0"})),E=function(e){var t=e.children,n=e.showSpinner,r=e.isDisabled,i=o()(e,["children","showSpinner","isDisabled"]);return u.a.createElement(h,a()({},i,{isDisabled:r}),u.a.createElement(y,{showSpinner:n},t),n&&u.a.createElement(b.Spinner,{size:"md"}))};E.propTypes={showSpinner:m.a.bool,children:m.a.oneOfType([m.a.node,m.a.arrayOf(m.a.node)]),isDisabled:m.a.bool},E.defaultProps={showSpinner:!1,isDisabled:!1},t.a=E},702:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(72),a=n.n(r),i=n(50),o=n.n(i),c=n(0),l=n.n(c),s=n(51),u=n(270);function p(){var e=o()(["\n  align-items: ",";\n"]);return p=function(){return e},e}var d=Object(s.b)((function(e){e.alignStart;var t=a()(e,["alignStart"]);return l.a.createElement(u.LevelItem,t)}))(p(),(function(e){return e.alignStart?"flex-start !important":"inherit"}))},722:function(e,t,n){"use strict";n.r(t);var r=n(39),a=n.n(r),i=n(2),o=n.n(i),c=n(0),l=n.n(c),s=n(1),u=n.n(s),p=n(33),d=n(578),m=n(73),f=n(44),b=n(583),v=n(584),g=n(668),h=n(651),y=n.n(h),E=n(642),O=function(e){return{fields:[{component:y.a.SELECT,name:"selectedWorkflows",label:"",loadOptions:Object(E.a)(e),multi:!0,isSearchable:!0,isClearable:!0}]}},j=n(21),w=n.n(j),S=n(703),T=n(70),_=n(111),R=n(12),k=n(74),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.map((function(e){return"filter[id][]=".concat(e)})).join("&");return Object(_.a)().get("".concat(R.a,"/workflows?filter[name][contains]=").concat(e,"&").concat(n||"")).then((function(e){return e.data.map((function(e){var t=e.id;return{label:e.name,value:t}}))}))},I=function(e,t,n){var r=e?e.map((function(e){return Object(_.i)().unlinkWorkflow(e,n)})):[],a=t?t.map((function(e){return Object(_.i)().linkWorkflow(e,n)})):[];return Promise.all([].concat(w()(r),w()(a)))},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:k.a.limit,offset:k.a.offset},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="app_name=".concat(e.appName,"&object_type=").concat(e.objectType,"&object_id=").concat(e.objectId),a="&limit=".concat(t.limit,"&offset=").concat(t.offset),i="&filter[name][contains]=".concat(n);return Object(_.a)().get("".concat(R.a,"/workflows?").concat(r).concat(i).concat(a))},q=n(148),D=n(76),C=n(77),N=n(664);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={isFetching:!0},V=function(e,t){switch(t.type){case"setFetching":return L(L({},e),{},{isFetching:t.payload});default:return e}},W=function(e){var t=e.objectType,n=e.removeQuery,r=e.keepHash,i=e.querySelector,o=e.pushParam,s=e.objectName,u=void 0===s?function(){return t}:s,h=Object(c.useReducer)(V,U),y=a()(h,2),E=y[0].isFetching,j=y[1],w=Object(p.useSelector)((function(e){return e.approvalReducer.resolvedWorkflows})),_=w.data,F=w.meta,L=Object(p.useDispatch)(),W=Object(N.a)({removeQuery:n,keepHash:r}),A=Object(C.a)([i]),X=a()(A,1)[0];Object(c.useEffect)((function(){L(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:k.a.limit,offset:k.a.offset},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:T.a.RESOLVE_WORKFLOWS,payload:P(e,t,n)}}({objectType:t,appName:R.b[t],objectId:X[i]},F)).then((function(){return j({type:"setFetching",payload:!1})}))}),[]);return l.a.createElement(d.Modal,{title:"Set approval process",isOpen:!0,onClose:function(){return W.push(o)},isSmall:!0},E&&l.a.createElement(D.i,null),!E&&l.a.createElement(b.Stack,{gutter:"md"},l.a.createElement(v.StackItem,null,l.a.createElement(m.TextContent,null,l.a.createElement(f.Text,null,"Select approval processes for"," ",l.a.createElement("strong",null,u(X[i]))))),l.a.createElement(v.StackItem,null,l.a.createElement(g.b,{initialValues:{selectedWorkflows:_?_.map((function(e){return e.id})):void 0},onSubmit:function(e,n){var r=n.getState().initialValues.selectedWorkflows||[],a=e.selectedWorkflows||[];W.push(o);var s,u,p,d=r.filter((function(e){return a.findIndex((function(t){return t===e}))<0})),m=a.filter((function(e){return r.findIndex((function(t){return t===e}))<0}));(d.length>0||m.length>0)&&L((s=d,u=m,p={object_type:t,app_name:R.b[t],object_id:X[i]},function(e){return e({type:T.a.UPDATE_WORKFLOWS,payload:I(s,u,p).then((function(){return e(Object(q.addNotification)({variant:"success",title:"Success updating approval process",dismissable:!0,description:l.a.createElement(c.Fragment,null,s.length>0?l.a.createElement(S.a,{id:"workflows.update_workflows",defaultMessage:"{count, number} {count, plural, one {approval process was}\n                    other {approval processes were}} unlinked successfully. ",values:{count:s.length}}):"",u.length>0?l.a.createElement(S.a,{id:"workflows.update_workflows",defaultMessage:"{count, number} {count, plural, one {approval process was}\n                    other {approval processes were}} linked successfully.",values:{count:u.length}}):"")}))}))})}))},onCancel:function(){return W.push(o)},schema:O(x),formContainer:"modal",buttonsLabels:{submitLabel:"Save"}}))))};W.propTypes={pushParam:u.a.oneOfType([u.a.string,u.a.shape({pathname:u.a.string.isRequired,search:u.a.string})]).isRequired,objectType:u.a.string.isRequired,objectName:u.a.func,removeQuery:u.a.bool,querySelector:u.a.oneOf(["portfolio","platform","inventory","portfolio-item"]).isRequired,keepHash:u.a.bool},W.defaultProps={keepHash:!1};t.default=W},723:function(e,t,n){"use strict";var r=n(39),a=n.n(r),i=n(639),o=n.n(i),c=n(0),l=n.n(c),s=n(1),u=n.n(s),p=n(60),d=n(45),m=n(269),f=n(270),b=n(44),v=n(73),g=n(75),h=n(596),y=n(274),E=n(276),O=n(275),j=n(35),w=n(694),S=n(643),T=function(e){var t=e.copyUrl,n=e.orderUrl,r=e.editUrl,a=e.workflowUrl,i=e.editSurveyUrl,o=e.isOpen,s=e.setOpen,u=e.isFetching,p=e.availability,d=e.userCapabilities,m=d.update,b=d.copy,v=d.set_approval,g=[];return m&&g.push(l.a.createElement(O.DropdownItem,{"aria-label":"Edit Portfolio",key:"edit-portfolio-item",id:"edit-portfolio-item",component:l.a.createElement(S.a,{pathname:r,preserveSearch:!0},"Edit"),role:"link"})),b&&g.push(l.a.createElement(O.DropdownItem,{"aria-label":"Copy Portfolio",key:"copy-portfolio-item",id:"copy-portfolio-item",component:l.a.createElement(S.a,{pathname:t,preserveSearch:!0},"Copy"),role:"link"})),v&&g.push(l.a.createElement(O.DropdownItem,{"aria-label":"Set approval",key:"set-approval_workflow",id:"set-approval_workflow",component:l.a.createElement(S.a,{pathname:a,preserveSearch:!0},"Set approval"),role:"link"})),m&&g.push(l.a.createElement(O.DropdownItem,{"aria-label":"Edit survey",key:"edit-survey",id:"edit-survey",component:l.a.createElement(S.a,{pathname:i,preserveSearch:!0},"Edit survey"),role:"link"})),l.a.createElement(c.Fragment,null,l.a.createElement(f.LevelItem,null,l.a.createElement(S.a,{isDisabled:u||"unavailable"===p,pathname:n,preserveSearch:!0},l.a.createElement(w.a,{isDisabled:u||"unavailable"===p,showSpinner:u,variant:"primary",id:"order-portfolio-item"},"Order"))),l.a.createElement(f.LevelItem,{style:{marginLeft:16}},g.length>0&&l.a.createElement(y.Dropdown,{isPlain:!0,onToggle:s,onSelect:function(){return s(!1)},position:j.DropdownPosition.right,toggle:l.a.createElement(E.KebabToggle,{id:"portfolio-item-actions-toggle",onToggle:function(e){return s(e)}}),isOpen:o,dropdownItems:g})))};T.propTypes={orderUrl:u.a.string.isRequired,editUrl:u.a.string.isRequired,copyUrl:u.a.string.isRequired,editSurveyUrl:u.a.string.isRequired,workflowUrl:u.a.string.isRequired,isOpen:u.a.bool,setOpen:u.a.func.isRequired,isFetching:u.a.bool,availability:u.a.oneOf(["available","unavailable"]).isRequired,userCapabilities:u.a.shape({update:u.a.bool,copy:u.a.bool,set_approval:u.a.bool}).isRequired},T.defaultProps={isFetching:!1};var _=T,R=n(12),k=n(666),x=n(696),I=n(50),P=n.n(I),q=n(622),D=n.n(q),C=n(151),N=n(33),F=n(148),L=n(51);function U(){var e=P()(["\n  height: 64px;\n  max-width: 300px;\n  object-fit: cover;\n"]);return U=function(){return e},e}function V(){var e=P()(["\n  position: relative;\n  display: inline-block;\n"]);return V=function(){return e},e}function W(){var e=P()(["\n  border: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding-left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  svg {\n    background-color: rgba(255, 255, 255, 0.8);\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n"]);return W=function(){return e},e}var A=L.b.button(W()),X=L.b.div(V()),z=L.b.img(U()),H=function(e){var t=e.uploadIcon,n=e.children,r=Object(c.useRef)(),i=Object(c.useState)(),o=a()(i,2),s=o[0],u=o[1],p=Object(c.useState)(!1),d=a()(p,2),m=d[0],f=d[1],b=Object(N.useDispatch)();return l.a.createElement(X,null,l.a.createElement("input",{accept:".png,.svg,.jpeg",onChange:function(e){u(e.target.files[0]),f(!0),t(e.target.files[0]).then((function(){return f(!1)})).catch((function(e){b(Object(F.addNotification)({variant:"danger",title:"Icon upload error",description:e.data.errors[0].detail,dismissable:!0})),u(void 0),f(!1)}))},ref:r,type:"file",id:"icon-upload",hidden:!0}),l.a.createElement(A,{disabled:m,onClick:function(){return r.current.click()}},m?l.a.createElement(C.Spinner,{size:"md"}):l.a.createElement(D.a,{size:"sm"})),!s&&n,s&&l.a.createElement(z,{style:{height:64},src:URL.createObjectURL(s),id:s.name}))};H.propTypes={uploadIcon:u.a.func.isRequired,children:u.a.oneOfType([u.a.node,u.a.arrayOf(u.a.node)])};var K=H,M=n(702);n.d(t,"a",(function(){return G})),n.d(t,"b",(function(){return J}));var Q=function(e){var t=e.uploadIcon,n=e.id,r=e.sourceId;return l.a.createElement(K,{uploadIcon:t},l.a.createElement(k.a,{src:"".concat(R.c,"/portfolio_items/").concat(n,"/icon"),sourceId:r,height:64}))};Q.propTypes={uploadIcon:u.a.func.isRequired,id:u.a.string.isRequired,sourceId:u.a.string.isRequired};var G=function(e){var t=e.url,n=e.isOpen,r=e.product,a=e.setOpen,i=e.isFetching,c=e.uploadIcon,s=e.availability,u=e.userCapabilities;return l.a.createElement(x.b,{breadcrumbsSpacing:!1},l.a.createElement(m.Level,{className:"flex-no-wrap"},l.a.createElement(M.a,{alignStart:!0,className:"pf-l-flex"},u.update?l.a.createElement(Q,{uploadIcon:c,id:r.id,sourceId:r.service_offering_source_ref}):l.a.createElement(k.a,{src:"".concat(R.c,"/portfolio_items/").concat(r.id,"/icon"),sourceId:r.service_offering_source_ref,height:64}),l.a.createElement(v.TextContent,{className:"pf-u-ml-md"},l.a.createElement(b.Text,{component:b.TextVariants.h1},r.name))),l.a.createElement(f.LevelItem,{style:{minHeight:36},className:"flex-item-no-wrap"},l.a.createElement(m.Level,{className:"flex-no-wrap"},l.a.createElement(p.b,{exact:!0,path:t,render:function(){for(var e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return l.a.createElement(_,o()({isOpen:n,setOpen:function(e){return a(e)},orderUrl:"".concat(t,"/order"),editUrl:"".concat(t,"/edit"),copyUrl:"".concat(t,"/copy"),editSurveyUrl:"".concat(t,"/edit-survey"),workflowUrl:"".concat(t,"/edit-workflow"),isFetching:i,availability:s,userCapabilities:u},r))}})))))};G.propTypes={url:u.a.string.isRequired,isOpen:u.a.bool,product:u.a.shape({distributor:u.a.string,name:u.a.string.isRequired,id:u.a.string.isRequired,service_offering_source_ref:u.a.string.isRequired}).isRequired,setOpen:u.a.func.isRequired,isFetching:u.a.bool,uploadIcon:u.a.func.isRequired,availability:u.a.oneOf(["available","unavailable"]).isRequired,userCapabilities:u.a.object},G.defaultProps={isFetching:!1};var B=function(e){var t=e.handleResetSurvey,n=Object(c.useState)(!1),r=a()(n,2),i=r[0],o=r[1];return l.a.createElement(y.Dropdown,{isOpen:i,isPlain:!0,onSelect:function(){return o(!1)},position:"right",toggle:l.a.createElement(E.KebabToggle,{onToggle:function(e){return o(e)}}),dropdownItems:[l.a.createElement(O.DropdownItem,{onClick:t,component:"button",key:"synchronize"},"Restore to Ansible Tower version")]})};B.propTypes={handleResetSurvey:u.a.func.isRequired};var J=function(e){var t=e.uploadIcon,n=e.product,r=e.handleSaveSurvey,a=e.closeUrl,i=e.search,o=e.isFetching,c=e.isValid,s=e.modified,u=e.handleResetSurvey;return l.a.createElement(x.b,{breadcrumbsSpacing:!1,breadcrumbs:!0},l.a.createElement(m.Level,null,l.a.createElement(M.a,{alignStart:!0,className:"pf-l-flex"},l.a.createElement(Q,{uploadIcon:t,id:n.id,sourceId:n.service_offering_source_ref}),l.a.createElement(v.TextContent,{className:"pf-u-ml-md"},l.a.createElement(b.Text,{component:b.TextVariants.h1},"Editing survey: ",n.name))),l.a.createElement(f.LevelItem,null,l.a.createElement(h.Flex,{className:"align-items-center"},l.a.createElement(w.a,{variant:"primary",showSpinner:o,isDisabled:o||!c,onClick:r},"Save"),l.a.createElement(d.a,{to:{pathname:a,search:i}},l.a.createElement(g.Button,{variant:"link"},"Cancel")),s&&l.a.createElement(B,{handleResetSurvey:u})))))};J.propTypes={uploadIcon:u.a.func.isRequired,product:u.a.object,handleSaveSurvey:u.a.func.isRequired,closeUrl:u.a.string.isRequired,search:u.a.string.isRequired,isFetching:u.a.bool,isValid:u.a.bool,modified:u.a.bool,handleResetSurvey:u.a.func}},768:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(72),o=n.n(i),c=n(39),l=n.n(c),s=n(0),u=n.n(s),p=n(33),d=n(60),m=n(78),f=n(79),b=n(281),v=n(645),g=n(1),h=n.n(g),y=n(44),E=n(73),O=n(153),j=function(e){var t=e.product,n=e.source,r=e.portfolio;return u.a.createElement(E.TextContent,{className:"pf-u-mb-md"},u.a.createElement(y.Text,{className:"font-14"},"Platform"),u.a.createElement(y.Text,{id:"source-name",className:"overflow-wrap",component:y.TextVariants.p},n.name),u.a.createElement(y.Text,{className:"font-14"},"Portfolio"),u.a.createElement(y.Text,{id:"portfolio-name",className:"overflow-wrap",component:y.TextVariants.p},r.name),t.distributor&&u.a.createElement("span",{id:"distributor"},u.a.createElement(y.Text,{className:"font-14"},"Vendor"),u.a.createElement(y.Text,{className:"overflow-wrap",component:y.TextVariants.p},t.distributor)),u.a.createElement(y.Text,{className:"font-14"},"Created"),u.a.createElement(y.Text,{id:"created_at",component:y.TextVariants.p},u.a.createElement(O.DateFormat,{variant:"relative",date:t.created_at})))};j.propTypes={product:h.a.shape({distributor:h.a.string,updated_at:h.a.string,created_at:h.a.string.isRequired}).isRequired,source:h.a.shape({name:h.a.string}).isRequired,portfolio:h.a.shape({name:h.a.string}).isRequired};var w=j,S=n(668),T=n(651),_=n.n(T),R=n(677),k=n.n(R),x={fields:[{component:_.a.TEXT_FIELD,name:"name",label:"Name",isRequired:!0,validate:[{type:k.a.REQUIRED}]},{component:_.a.TEXT_FIELD,name:"description",label:"Description"},{component:_.a.TEXT_FIELD,name:"long_description",label:"Long description"},{component:_.a.TEXT_FIELD,name:"distributor",label:"Vendor"},{component:_.a.TEXT_FIELD,name:"documentation_url",label:"Documentation URL",validate:[{type:k.a.URL}]},{component:_.a.TEXT_FIELD,name:"support_url",label:"Support URL",validate:[{type:k.a.URL}]}]},I=n(653);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){var t=e.cancelUrl,n=e.product,r=(n.owner,n.created_at,n.updated_at,o()(n,["owner","created_at","updated_at"])),a=e.userCapabilities,i=Object(p.useDispatch)(),c=Object(d.g)().push,l=Object(d.h)().search;return u.a.createElement(S.b,{initialValues:q({},r),onSubmit:function(e){return c({pathname:t,search:l}),i(Object(I.o)(q(q({},e),{},{metadata:{user_capabilities:a}})))},schema:x,onCancel:function(){return c({pathname:t,search:l})}})};D.propTypes={cancelUrl:h.a.string.isRequired,product:h.a.object.isRequired,userCapabilities:h.a.object.isRequired};var C=D,N=n(722),F=n(12),L=n(29),U=function(e){var t=e.userCapabilities,n=e.product,r=e.url,a=e.search;return u.a.createElement(d.d,null,u.a.createElement(d.b,{exact:!0,path:r,render:function(){return u.a.createElement(E.TextContent,null,(n.description||n.long_description)&&u.a.createElement(y.Text,{component:y.TextVariants.h6},"Overview"),n.description&&u.a.createElement(y.Text,{id:"description",component:y.TextVariants.p},n.description),n.long_description&&u.a.createElement(y.Text,{id:"long_description",component:y.TextVariants.p},n.long_description),n.support_url&&u.a.createElement(y.Text,{id:"support_url",component:y.TextVariants.p},u.a.createElement("a",{href:n.support_url,target:"_blank",rel:"noopener noreferrer"},"Learn more")),n.documentation_url&&u.a.createElement(s.Fragment,null,u.a.createElement(y.Text,{component:y.TextVariants.h6},"Documentation"),u.a.createElement(y.Text,{id:"documentation_url",component:y.TextVariants.p},u.a.createElement("a",{href:n.documentation_url,target:"_blank",rel:"noopener noreferrer"},"Doc link"))))}}),u.a.createElement(L.a,{exact:!0,path:"".concat(r,"/edit"),requiredCapabilities:"update",userCapabilities:t},u.a.createElement(C,{cancelUrl:r,product:n,userCapabilities:t})),u.a.createElement(d.b,{exact:!0,path:"".concat(r,"/edit-workflow")},u.a.createElement(N.default,{pushParam:{pathname:r,search:a},objectType:F.f,objectId:n.id,objectName:function(){return n.name},querySelector:"portfolio-item"})))};U.propTypes={product:h.a.shape({name:h.a.string,long_description:h.a.string,support_url:h.a.string,documentation_url:h.a.string,description:h.a.string,id:h.a.string.isRequired}).isRequired,url:h.a.string.isRequired,search:h.a.string.isRequired,userCapabilities:h.a.object.isRequired};var V=U,W=n(723),A=n(696),X=n(76),z=n(675),H=n(77),K=n(11);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Q=Object(s.lazy)((function(){return Promise.all([n.e(7),n.e(9),n.e(10),n.e(3),n.e(4),n.e(2),n.e(11),n.e(14),n.e(0),n.e(6),n.e(1),n.e(13),n.e(8),n.e(5),n.e(12),n.e(59),n.e(60)]).then(n.bind(null,764))})),G=["portfolio","source","portfolio-item"];t.default=function(){var e=Object(s.useState)(!1),t=l()(e,2),n=t[0],r=t[1],i=Object(s.useState)(!0),c=l()(i,2),g=c[0],h=c[1],y=Object(p.useDispatch)(),E=Object(H.a)(G),O=l()(E,2),j=O[0],S=O[1],T=Object(d.i)(K.t).url,_=Object(p.useSelector)((function(e){return e.portfolioReducer.portfolioItem})),R=_.portfolioItem,k=R.metadata.user_capabilities,x=o()(R,["metadata"]),P=_.source,q=Object(p.useSelector)((function(e){return e.portfolioReducer.selectedPortfolio}));if(Object(s.useEffect)((function(){h(!0),y(Object(I.j)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({portfolioItem:j["portfolio-item"]},j))).then((function(){return h(!1)})).catch((function(){return h(!1)}))}),[j["portfolio-item"]]),g||0===Object.keys(x).length)return u.a.createElement(v.Section,{className:"global-primary-background full-height"},u.a.createElement(A.b,null,u.a.createElement(X.f,null)));var D=P.availability_status||"unavailable",C=[P].filter((function(e){return e.notFound})).map((function(e){var t=e.object;return u.a.createElement(b.Alert,{className:"pf-u-mb-sm",key:t,variant:"warning",isInline:!0,title:"The ".concat(t," for this product is no longer available")})})),N=function(e){return Object(z.r)(x.id,e)};return u.a.createElement(s.Fragment,null,u.a.createElement(d.d,null,u.a.createElement(L.a,{requiredCapabilities:"update",userCapabilities:k,path:"".concat(T,"/edit-survey")},u.a.createElement(s.Suspense,{fallback:u.a.createElement(X.a,null)},u.a.createElement(Q,{closeUrl:T,search:S,uploadIcon:N,portfolioItem:x,portfolio:q}))),u.a.createElement(d.b,null,u.a.createElement(v.Section,{className:"full-height global-primary-background"},u.a.createElement(W.a,{uploadIcon:N,url:T,isOpen:n,product:x,setOpen:r,isFetching:g,availability:D,userCapabilities:k}),C.length>0&&u.a.createElement("div",{className:"pf-u-mr-lg pf-u-ml-lg"},C),"unavailable"===P.availability_status&&u.a.createElement(b.Alert,{className:"pf-u-ml-lg pf-u-mr-lg",id:"unavailable-alert-info",variant:"info",isInline:!0,title:"The platform for this product is unavailable"}),u.a.createElement(m.Grid,{gutter:"md",className:"pf-u-p-lg"},u.a.createElement(f.GridItem,{md:3,lg:2},u.a.createElement(w,{product:x,portfolio:q,source:P})),u.a.createElement(f.GridItem,{md:9,lg:10},u.a.createElement(V,{product:x,userCapabilities:k,url:T,search:S})))))))}}}]);
//# sourceMappingURL=../sourcemaps/portfolio-item-detail~31ecd969.js.map