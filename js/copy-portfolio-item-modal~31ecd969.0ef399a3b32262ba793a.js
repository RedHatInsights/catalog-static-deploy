(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{386:function(e,t,n){"use strict";var o=n(406),r=n.n(o);function i(e){var t=null,n=null,o=new Promise((function(e,o){t=e,n=o}));return e&&e.then((function(e){t&&t(e)}),(function(e){n&&n(e)})),{promise:o,resolve:function(e){t&&t(e)},reject:function(e){n&&n(e)},cancel:function(){t=null,n=null}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var a=function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s={key:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},onlyResolvesLast:!0},u=function(){function e(e){this.config=e,this.debounceSingleton=null,this.debounceCache={}}return e.prototype._createDebouncedFunction=function(){var e,t,n=r()(this.config.func,this.config.wait,this.config.options);return this.config.options.onlyResolvesLast&&(e=n,t=null,n=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];t&&t();var r=e.apply(void 0,n),a=i(r),s=a.promise,u=a.cancel;return t=u,s}),{func:n}},e.prototype.getDebouncedFunction=function(e){var t,n=(t=this.config.options).key.apply(t,e);return null==n?(this.debounceSingleton||(this.debounceSingleton=this._createDebouncedFunction()),this.debounceSingleton):(this.debounceCache[n]||(this.debounceCache[n]=this._createDebouncedFunction()),this.debounceCache[n])},e}();t.a=function(e,t,n){var o=a({},s,n),r=new u({func:e,wait:t,options:o});return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.getDebouncedFunction(e).func;return n.apply(void 0,e)}}},387:function(e,t,n){"use strict";var o=n(386);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(o.a)(e,t,n)}},398:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},403:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),r=o.__importStar(n(0)),i=o.__importDefault(n(188)),a=n(4),s=n(42);var u;!function(e){e.text="text",e.date="date",e.datetimeLocal="datetime-local",e.email="email",e.month="month",e.number="number",e.password="password",e.search="search",e.tel="tel",e.time="time",e.url="url"}(u=t.TextInputTypes||(t.TextInputTypes={}));class c extends r.Component{constructor(e){super(e),this.handleChange=e=>{this.props.onChange&&this.props.onChange(e.currentTarget.value,e)},e.id||e["aria-label"]||e["aria-labelledby"]||console.error("Text input:","Text input requires either an id or aria-label to be specified")}render(){const e=this.props,{innerRef:t,className:n,type:u,value:c,onChange:l,validated:f,isReadOnly:p,isRequired:d,isDisabled:m}=e,h=o.__rest(e,["innerRef","className","type","value","onChange","validated","isReadOnly","isRequired","isDisabled"]);return r.createElement("input",Object.assign({},h,{className:a.css(i.default.formControl,f===s.ValidatedOptions.success&&i.default.modifiers.success,n),onChange:this.handleChange,type:u,value:c,"aria-invalid":f===s.ValidatedOptions.error,required:d,disabled:m,readOnly:p,ref:t}))}}t.TextInputBase=c,c.displayName="TextInputBase",c.defaultProps={"aria-label":null,className:"",isRequired:!1,validated:"default",isDisabled:!1,isReadOnly:!1,type:u.text,onChange:()=>{}},t.TextInput=r.forwardRef((e,t)=>r.createElement(c,Object.assign({},e,{innerRef:t})))},406:function(e,t,n){"use strict";function o(e){return"function"==typeof e?e():e}function r(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,a=void 0,s=void 0,u=[];return function(){var l=o(t),f=(new Date).getTime(),p=!i||f-i>l;i=f;for(var d=arguments.length,m=Array(d),h=0;h<d;h++)m[h]=arguments[h];if(p&&n.leading)return n.accumulate?Promise.resolve(e.call(this,[m])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(m)));if(a?clearTimeout(s):a=r(),u.push(m),s=setTimeout(c.bind(this),l),n.accumulate){var b=u.length-1;return a.promise.then((function(e){return e[b]}))}return a.promise};function c(){var t=a;clearTimeout(s),Promise.resolve(n.accumulate?e.call(this,u):e.apply(this,u[u.length-1])).then(t.resolve,t.reject),u=[],a=null}}},421:function(e,t,n){"use strict";var o=n(47),r=Object(o.defineMessages)({shared:{id:"common.labels.shared",defaultMessage:"Shared"},portfolio:{id:"common.labels.portfolio",defaultMessage:"Portfolio"},platform:{id:"common.labels.platform",defaultMessage:"Platform"},name:{id:"common.labels.name",defaultMessage:"Name"},description:{id:"common.labels.description",defaultMessage:"Description"}});t.a=r},682:function(e,t,n){"use strict";n.r(t);var o=n(52),r=n.n(o),i=n(78),a=n.n(i),s=n(34),u=n.n(s),c=n(0),l=n.n(c),f=n(12),p=n.n(f),d=n(26),m=n(48),h=n(423),b=n(408),v=n.n(b),g=n(424),y=n(75),O=n(402),j=n(387),_=n(436),x=n(11),C=n(73),w=n(107),S=n(421),R=n(395),T=function(e){return Object(_.k)(e,{limit:100,offset:0}).then((function(e){return e.data.filter((function(e){return e.metadata.user_capabilities.update})).map((function(e){var t=e.name;return{value:e.id,label:t}}))}))},I=function(e,t,n,o){return{fields:[{component:"value-only",name:"portfolio_item_name",label:o(S.a.name),value:e},{component:v.a.SELECT,name:"portfolio_id",label:o(S.a.portfolio),isRequired:!0,loadOptions:Object(j.a)(T),onChange:t,isDisabled:n,isSearchable:!0}]}},D=function(e){var t=e.portfolioId,n=e.portfolioItemId,o=e.closeUrl,i=e.search,s=Object(C.a)().formatMessage,f=Object(d.useDispatch)(),p=Object(m.g)().push,b=Object(c.useState)(!1),v=u()(b,2),j=v[0],_=v[1],S=Object(c.useState)(),T=u()(S,2),D=T[0],P=T[1],N=Object(c.useState)(!1),q=u()(N,2),M=q[0],E=q[1];Object(c.useEffect)((function(){Object(y.f)().getPortfolioItemNextName(n,t).then((function(e){var t=e.next_name;return P(t)}))}),[]);var k=function(){var e=a()(r.a.mark((function e(o){var i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,f(Object(O.i)(o.portfolio_id));case 3:return i=e.sent,a=i.value,e.abrupt("return",f(Object(O.d)(n,o,a)).then((function(e){var t=e.id,n=e.service_offering_source_ref;return p({pathname:x.t,search:"?portfolio=".concat(o.portfolio_id,"&portfolio-item=").concat(t,"&source=").concat(n)})})).then((function(){return o.portfolio_id===t&&f(Object(O.f)(t))})).catch((function(){return _(!1)})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(h.Modal,{isOpen:!0,title:s(R.a.copyItemTitle),onClose:function(){return p({pathname:o,search:i})},variant:"small"},l.a.createElement(g.c,{initialValues:{portfolio_id:t},schema:I(D,(function(e){return E(!0),Object(y.f)().getPortfolioItemNextName(n,e).then((function(e){var t=e.next_name;P(t)})).then((function(){return E(!1)}))}),M,s),onSubmit:k,onCancel:function(){return p({pathname:o,search:i})},formContainer:"modal",templateProps:{submitLabel:s(w.a.save)},disableSubmit:j?["pristine","dirty"]:[]}))};D.propTypes={closeUrl:p.a.string.isRequired,portfolioId:p.a.string,portfolioItemId:p.a.string.isRequired,search:p.a.string.isRequired},t.default=D}}]);
//# sourceMappingURL=../sourcemaps/copy-portfolio-item-modal~31ecd969.js.map