"use strict";(self.webpackChunkcatalog=self.webpackChunkcatalog||[]).push([[7709],{91858:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(30624),l=n.n(a),r=n(14494),o=n(334),c=n(65832),i=n(67463),s=n(30137),u=n(2482),m=n(85132),f=n(58603),p=n(47786),d=n(56682),v=n(23349),g=function(){return(g=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)};const h=function(e){var t=e.closeUrl,n=(0,a.useState)(!0),h=n[0],_=n[1],b=(0,o.useLocation)().search,E=(0,o.useHistory)().push,I=(0,r.I0)(),S=(0,p.Z)(["portfolio-item"])[0]["portfolio-item"],k=(0,r.v9)((function(e){return e.portfolioReducer.portfolioItem})).portfolioItem,L=(0,v.Z)(),y=(0,r.v9)((function(e){return e.orderReducer.servicePlans}));(0,a.useEffect)((function(){I(localStorage.getItem("catalog_standalone")?(0,m.kL)(S):(0,u.kL)(S)).then((function(){return _(!1)}))}),[]);var C=function(){return E({pathname:t,search:b})},O=function(e){var t,n=null===(t=null==e?void 0:e.fields)||void 0===t?void 0:t.map((function(e){return e.isSubstitution&&(delete e.validate,delete e.dataType),e}));return g(g({},e),{fields:n})},Z=null;return y[0]&&(Z=localStorage.getItem("catalog_standalone")?O(y[0].schema.schema):O(y[0].create_json_schema.schema)),l().createElement(c.Modal,{isOpen:!0,onClose:C,title:"Order submission",variant:"small"},l().createElement(c.Level,{className:"pf-u-mb-md"},l().createElement(c.LevelItem,null,l().createElement(c.TextContent,null,l().createElement(c.Text,null,l().createElement("strong",null,k.name))))),h?l().createElement(f.Z,{className:"pf-u-m-sm"},l().createElement(i.Spinner,null)):Z&&l().createElement(s.ZP,{schema:Z,onSubmit:function(e){I(localStorage.getItem("catalog_standalone")?(0,m.g3)({portfolio_item_id:k.id,service_parameters:e},k):(0,u.g3)({portfolio_item_id:k.id,service_parameters:e},k)),C()},onCancel:C,templateProps:{submitLabel:L(d.Z.confirm)}}))}}}]);
//# sourceMappingURL=../sourcemaps/order-modal.67956290c820c34ea4df0ea063e4264d.js.map