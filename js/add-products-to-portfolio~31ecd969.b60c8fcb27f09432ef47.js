(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{43:function(e,t,n){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)&&a.length){var i=n.apply(null,a);i&&e.push(i)}else if("object"===o)for(var c in a)t.call(a,c)&&a[c]&&e.push(c)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return n})):window.classNames=n}()},548:function(e,t,n){"use strict";var r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a};var a=function(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o};t._objectWithoutProperties=a},552:function(e,t,n){"use strict";var r=n(547),a=n.n(r),o=n(68),i=n.n(o),c=n(0),l=n.n(c),s=n(1),u=n.n(s),p=n(549),d=n(237),f=n(70),m=function(e){var t=e.meta,n=t.limit,r=t.count,o=t.offset,c=e.apiProps,s=e.apiRequest,u=e.className,m=e.isCompact,b=i()(e,["meta","apiProps","apiRequest","className","isCompact"]);return l.a.createElement("div",{className:u},l.a.createElement(d.Pagination,a()({perPage:n||50,itemCount:r||0,onPerPageSelect:function(e,t){return s(c,{offset:o,limit:t})},page:Object(f.b)(n,o),onSetPage:function(e,t,r){var a={offset:Object(f.c)(t,n),limit:n},o=function(){return s(c,a)};return r?Object(p.a)(o,250)():o()},direction:"down",isCompact:m},b)))};m.propTypes={meta:u.a.shape({count:u.a.number,limit:u.a.number.isRequired,offset:u.a.number.isRequired}),apiRequest:u.a.func.isRequired,apiProps:u.a.any,className:u.a.string,isCompact:u.a.bool},m.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1},t.a=m},554:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(140);var a=n(233),o=n(232),i=n(548),c=r(n(0)),l=r(n(1)),s=r(n(43)),u=function(e){var t=e.type,n=e.children,r=e.className,l=i._objectWithoutProperties(e,["type","children","className"]),u=s(r,o._defineProperty({},"ins-l-".concat(t),void 0!==t));return c.createElement("section",a._extends({},l,{className:u})," ",n," ")};u.propTypes={type:l.string,className:l.string,children:l.any.isRequired},t.Section=u},557:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(42),l=n(484),s=n(485),u=n(486),p=n(487),d=n(46),f=n(69),m=n(551),b=function(e){var t=e.title,n=e.Icon,r=e.description,o=e.PrimaryAction,i=e.renderDescription;return a.a.createElement("div",{className:"pf-u-mt-xl"},a.a.createElement(l.EmptyState,{className:"pf-u-ml-auto pf-u-mr-auto"},a.a.createElement(s.EmptyStateIcon,{icon:n}),a.a.createElement(f.TextContent,null,a.a.createElement(d.Text,{component:d.TextVariants.h1},t)),a.a.createElement(u.EmptyStateBody,null,r,i()),a.a.createElement(p.EmptyStateSecondaryActions,null,o&&a.a.createElement(o,null))))};b.defaultProps={renderDescription:function(){return null}},b.propTypes={title:i.a.string.isRequired,Icon:i.a.any.isRequired,description:i.a.string,PrimaryAction:i.a.any,renderDescription:i.a.func},t.b=b;var y=function(e){var t=e.url,n=e.label,r=e.hasPermission,o=void 0!==r&&r,i=e.id;return o&&a.a.createElement(m.a,{id:i,pathname:t,preserveSearch:!0},a.a.createElement(c.Button,{variant:"primary"},n))};y.propTypes={url:i.a.string.isRequired,label:i.a.string.isRequired,id:i.a.string,hasPermission:i.a.bool}},562:function(e,t,n){"use strict";var r=n(68),a=n.n(r),o=n(28),i=n.n(o),c=n(0),l=n.n(c),s=n(29),u=n(1),p=n.n(u);function d(){var e=i()(["\n  overflow: hidden;\n"]);return d=function(){return e},e}var f=s.b.div(d()),m=function(e){var t=e.toDisplay,n=void 0===t?[]:t,r=a()(e,["toDisplay"]);return n.map((function(e){return l.a.createElement(f,{key:"card-prop-".concat(e)},r[e])}))};m.propTypes={toDisplay:p.a.arrayOf(p.a.oneOfType([p.a.string,p.a.node,p.a.arrayOf(p.a.node)]))},m.defaultProps={toDisplay:[]},t.a=m},563:function(e,t,n){"use strict";var r=n(28),a=n.n(r);function o(){var e=a()(["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]);return o=function(){return e},e}var i=n(29).b.div(o());t.a=i},564:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(28),a=n.n(r),o=n(29),i=n(105);function c(){var e=a()(["\n  height: 230px;\n  overflow: hidden;\n  padding: 0 !important;\n  margin: 0 24px 24px;\n"]);return c=function(){return e},e}var l=Object(o.b)(i.CardBody)(c())},565:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return b}));var r=n(68),a=n.n(r),o=n(28),i=n.n(o),c=n(0),l=n.n(c),s=n(29),u=n(104),p=n(145);function d(){var e=i()(["\n  position: relative;\n  ::after {\n    display: ",";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: '';\n    background-color: rgba(210, 210, 210, 0.5);\n    z-index: 1;\n    cursor: progress;\n  }\n"]);return d=function(){return e},e}function f(){var e=i()(["\n  height: 330px;\n  position: relative;\n"]);return f=function(){return e},e}var m=Object(s.b)(u.Card)(f()),b=Object(s.b)((function(e){e.isDisabled;var t=a()(e,["isDisabled"]);return l.a.createElement(p.GalleryItem,t)}))(d(),(function(e){return e.isDisabled?"block":"none"}))},567:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(554),l=n(46),s=n(147),u=n(71),p=function(){return a.a.createElement("div",null,a.a.createElement(l.Text,{component:l.TextVariants.h1},"No items found"))},d=function(e){var t=e.isLoading,n=e.items,r=e.renderEmptyState;return t?a.a.createElement(u.b,null):0===n.length?r?r():a.a.createElement(p,null):a.a.createElement(c.Section,{type:"content"},a.a.createElement(s.Gallery,{gutter:"md",className:"content-gallery"},n))};d.propTypes={isLoading:i.a.bool,items:i.a.array,renderEmptyState:i.a.func},t.a=d},568:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=function(e){var t=e.children;return a.a.createElement("div",{className:"pf-u-p-lg pf-u-pt-md pf-u-pb-md global-primary-background pf-u-mt-auto"},t)};c.propTypes={children:i.a.oneOfType([i.a.node,i.a.arrayOf(i.a.node)])},t.a=c},577:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(483),l=function(e){var t=e.handleCheck,n=e.isChecked,r=e.id;return a.a.createElement(c.Checkbox,{onClick:function(e){return e.stopPropagation()},isChecked:n,onChange:t,"aria-label":"card checkbox",id:r})};l.propTypes={handleCheck:i.a.func,isChecked:i.a.bool,id:i.a.string},t.a=l},578:function(e,t,n){"use strict";var r=n(2),a=n.n(r),o=n(547),i=n.n(o),c=n(68),l=n.n(c),s=n(0),u=n.n(s),p=n(1),d=n.n(p),f=n(46),m=n(69),b=n(562),y=n(579),h=n(563),g=n(564),v=function(e){var t=e.name,n=(e.display_name,e.distributor),r=e.pathname,a=e.searchParams,o=e.preserveSearch,c=e.portfolioName,p=l()(e,["name","display_name","distributor","pathname","searchParams","preserveSearch","portfolioName"]);return u.a.createElement(g.a,null,u.a.createElement(m.TextContent,null,u.a.createElement(y.a,{pathname:r,searchParams:a,preserveSearch:o},u.a.createElement(f.Text,{component:f.TextVariants.h3,title:t},u.a.createElement(h.a,null,t))),n&&u.a.createElement(f.Text,{component:f.TextVariants.small},n),c&&u.a.createElement(s.Fragment,null,u.a.createElement(f.Text,{className:"pf-u-mb-0",component:"small"},"Portfolio"),u.a.createElement(f.Text,null,c))),u.a.createElement(b.a,i()({toDisplay:[p.description?"description":"long_description"]},p)))};v.propTypes={name:d.a.string,display_name:d.a.string,distributor:d.a.string,long_description:d.a.string,description:d.a.string,pathname:d.a.string,preserveSearch:d.a.bool,searchParams:d.a.shape(a()({},d.a.string,d.a.string)),portfolioName:d.a.string},t.a=v},580:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var r=n(2),a=n.n(r),o=n(68),i=n.n(o),c=n(558);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.groupName,n=e.hidden,r=void 0!==n&&n,a=i()(e,["groupName","hidden"]);return{component:c.b.TOOLBAR_GROUP,key:"".concat(t,"/single-toolbar-item-group"),fields:r?[]:[{component:c.b.TOOLBAR_ITEM,key:"".concat(t,"/single-toolbar-item"),fields:[a]}]}},p=function(e){var t=e.pathname,n=e.preserveSearch,r=i()(e,["pathname","preserveSearch"]);return{component:c.b.LINK,pathname:t,preserveSearch:n,key:"".concat(r.key,"/button-link"),isDisabled:r.isDisabled,fields:[s({component:c.b.BUTTON},r)]}}},602:function(e,t,n){"use strict";var r=n(547),a=n.n(r),o=n(68),i=n.n(o),c=n(28),l=n.n(c),s=n(0),u=n.n(s),p=n(29),d=n(1),f=n.n(d),m=n(42),b=n(144);function y(){var e=l()(["\n  margin-right: ",";\n"]);return y=function(){return e},e}function h(){var e=l()(["\n  display: flex !important;\n  align-items: center;\n"]);return h=function(){return e},e}var g=Object(p.b)(m.Button)(h()),v=p.b.span(y(),(function(e){return e.showSpinner?"8px":"0"})),O=function(e){var t=e.children,n=e.showSpinner,r=e.isDisabled,o=i()(e,["children","showSpinner","isDisabled"]);return u.a.createElement(g,a()({},o,{isDisabled:r}),u.a.createElement(v,{showSpinner:n},t),n&&u.a.createElement(b.Spinner,{size:"md"}))};O.propTypes={showSpinner:f.a.bool,children:f.a.oneOfType([f.a.node,f.a.arrayOf(f.a.node)]),isDisabled:f.a.bool},O.defaultProps={showSpinner:!1,isDisabled:!1},t.a=O},609:function(e,t,n){"use strict";var r=n(68),a=n.n(r),o=n(0),i=n.n(o),c=n(1),l=n.n(c),s=n(489),u=n(490),p=n(100),d=n(574),f=n(577),m=n(578),b=n(565),y=function(e){e.src;var t=a()(e,["src"]);return i.a.createElement(b.a,{key:t.id},i.a.createElement(s.CardHeader,null,i.a.createElement(p.Level,null,i.a.createElement(d.a,{height:40,sourceId:t.source_id}),t.editMode&&i.a.createElement(f.a,{id:t.id,isChecked:t.checked,handleCheck:t.onToggleItemSelect}))),i.a.createElement(m.a,t),i.a.createElement(u.CardFooter,null))};y.propTypes={id:l.a.string.isRequired,service_offering_icon_id:l.a.string,source_id:l.a.string,platformId:l.a.string,name:l.a.string,editMode:l.a.bool,checked:l.a.bool,onToggleItemSelect:l.a.func,src:l.a.string},t.a=y},676:function(e,t,n){"use strict";n.r(t);var r=n(20),a=n.n(r),o=n(36),i=n.n(o),c=n(2),l=n.n(c),s=n(547),u=n.n(s),p=n(0),d=n.n(p),f=n(1),m=n.n(f),b=n(68),y=n.n(b),h=n(482),g=n.n(h),v=n(498),O=n.n(v),E=n(567),P=n(557),j=function(e){var t=e.platform;return d.a.createElement(P.b,{Icon:t?g.a:O.a,title:t?"No products match filter parameters":"Please choose platform",description:t?"Please try to extend your search parameters ":"In order to select products for your portfolio you must choose platform first"})};j.propTypes={platform:m.a.any};var T=function(e){var t=e.platform,n=y()(e,["platform"]);return d.a.createElement(E.a,u()({editMode:!0},n,{renderEmptyState:function(){return d.a.createElement(j,{platform:t})}}))};T.propTypes={checkedItems:m.a.arrayOf(m.a.string),platform:m.a.any},T.defaultProps={checkedItems:[]};var k=T,S=n(570),w=n(70),D=n(609),C=n(558),R=n(580),N=n(590),x=function(e){var t=e.children;return d.a.createElement("div",{className:"filter-value-container",style:{position:"absolute"}},d.a.createElement(O.a,{style:{marginLeft:6},fill:"#393F44"}),t)};x.propTypes={children:m.a.oneOfType([m.a.node,m.a.arrayOf(m.a.node)]).isRequired};var I=function(e){return e.options&&0!==e.options.length?d.a.createElement("div",{key:"filter-select",id:"filter-select",className:"filter-select"},d.a.createElement(N.InternalSelect,u()({components:{ValueContainer:x},simpleValue:!1},e))):d.a.createElement("div",{key:"filter-select-placeholder",id:"filter-select-placeholder",className:"filter-select"},d.a.createElement(N.InternalSelect,{components:{ValueContainer:x},simpleValue:!1,options:[],isDisabled:!0,onChange:function(){}}))};I.propTypes={options:m.a.array};var F=I,_=n(602),L=n(552);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e){var t=e.options,n=e.isFetching,r=e.searchValue,a=e.portfolioName,o=e.itemsSelected,i=e.onOptionSelect,c=e.onFilterChange,l=e.portfolioRoute,s=e.onClickAddToPortfolio,u=e.meta,p=e.platformId,d=e.fetchPlatformItems;return{fields:[{component:C.b.TOP_TOOLBAR,key:"add-products-toolbar",fields:[{component:C.b.TOP_TOOLBAR_TITLE,title:"Add products: ".concat(a),key:"add-products-title"},{component:C.b.LEVEL,key:"add-products-actions",fields:[{component:C.b.TOOLBAR,key:"add-products-actions-toolbar",fields:[{component:C.b.TOOLBAR_GROUP,key:"products-filter-group",fields:[{component:F,key:"select-platforms",id:"products-platform-select",isMulti:!1,placeholder:"Filter by Platform",options:t,onChange:i},{component:C.b.FILTER_TOOLBAR_ITEM,key:"filter-products-input",onFilterChange:c,searchValue:r,isDisabled:!p,placeholder:"Filter products"}]},Object(R.b)(V({groupName:"cancel-group-item"},Object(R.a)({key:"add-products-cancel-button",pathname:l,variant:"link","aria-label":"Cancel Add products to Portfolio",preserveSearch:!0,title:"Cancel"}))),Object(R.b)({groupName:"add-group-item",key:"portfolio-items-add-group",component:_.a,variant:"primary","aria-label":"Add products to Portfolio",title:"Add",type:"button",onClick:s,isDisabled:!o||n,showSpinner:n,children:"Add",id:"add-products-to-portfolio"})]},{component:C.b.LEVEL_ITEM,key:"pagination-item",fields:u?[{component:L.a,key:"add-products-pagination",meta:u,apiProps:p,apiRequest:d,isCompact:!0}]:[]}]}]}]}},B=n(556),M=n(561),G=n(572),U=n(30),z=n(568),J=n(550);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return d.a.createElement(D.a,u()({key:e.id},e,{editMode:!0,onToggleItemSelect:function(){return t(e.id)},checked:n.includes(e.id)}))}))},Q={filterValue:"",isFetching:!1,isFiltering:!1},X=function(e,t){switch(t.type){case"setFetching":return H(H({},e),{},{isFetching:t.payload});case"setFilterValue":return H(H({},e),{},{filterValue:t.payload});case"setFilteringFlag":return H(H({},e),{},{isFiltering:t.payload})}return e},Y=Object(J.a)((function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:w.a;r(!0),n(Object(B.b)(e,t,H(H({},a),{},{filter:t}))).then((function(){return r(!1)}))}),1e3),Z=function(e){var t=e.portfolioRoute,n=Object(p.useState)(void 0),r=i()(n,2),o=r[0],c=r[1],l=Object(p.useState)([]),s=i()(l,2),u=s[0],f=s[1],m=Object(p.useReducer)(X,Q),b=i()(m,2),y=b[0],h=y.filterValue,g=y.isFetching,v=b[1],O=Object(G.a)().push,E=Object(U.useDispatch)(),P=Object(U.useSelector)((function(e){var t=e.portfolioReducer.selectedPortfolio,n=e.platformReducer;return{platforms:n.platforms,platformItems:n.platformItems,isLoading:n.isPlatformDataLoading,portfolio:t}})),j=P.portfolio,T=P.platforms,D=P.platformItems,C=P.isLoading;Object(p.useEffect)((function(){E(Object(B.c)())}),[]);var R=o&&D[o.id]?D[o.id].data:[],N=o&&D[o.id]&&D[o.id].meta;return d.a.createElement(p.Fragment,null,d.a.createElement(S.a,{schema:q({options:T.map((function(e){return{value:e.id,label:e.name,id:e.id}})),isFetching:g,portfolioName:j&&j.name||"",itemsSelected:u.length>0,onOptionSelect:function(e){c(e),E(Object(B.b)(e.id,h,w.a))},onFilterChange:function(e){return function(e){v({type:"setFilterValue",payload:e}),Y(o.id,e,E,(function(e){return v({type:"setFilteringFlag",payload:e})}),H(H({},N),{},{offset:0}))}(e)},portfolioRoute:t,onClickAddToPortfolio:function(){return E({type:"setFetching",payload:!0}),E(Object(M.b)(j.id,u)).then((function(){return E({type:"setFetching",payload:!1})})).then((function(){return O({pathname:t,search:"?portfolio=".concat(j.id)})})).then((function(){return E(Object(M.f)(j.id))})).catch((function(){return E({type:"setFetching",payload:!1})}))},meta:N,platformId:o&&o.id,searchValue:h,fetchPlatformItems:function(e,t){return E(Object(B.b)(e,h,t))}})}),d.a.createElement(k,{platform:!!o,checkedItems:u,isLoading:C,items:K(R,(function(e){return f(function(e){var t=u.indexOf(e);return t>-1?[].concat(a()(u.slice(0,t)),a()(u.slice(t+1))):[].concat(a()(u),[e])}(e))}),u)}),N&&N.count>0&&d.a.createElement(z.a,null,d.a.createElement(L.a,{meta:N,apiProps:o&&o.id,apiRequest:function(e,t){return Object(B.b)(e,h,t)},dropDirection:"up"})))};Z.propTypes={portfolioRoute:m.a.string.isRequired};t.default=Z}}]);
//# sourceMappingURL=../sourcemaps/add-products-to-portfolio~31ecd969.js.map