(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{690:function(e,t,a){"use strict";t.__esModule=!0,t.InfoCircleIconConfig={name:"InfoCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z",yOffset:0,xOffset:0},t.InfoCircleIcon=a(98).createIcon(t.InfoCircleIconConfig),t.default=t.InfoCircleIcon},741:function(e,t,a){"use strict";t.__esModule=!0,t.ExclamationCircleIconConfig={name:"ExclamationCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.ExclamationCircleIcon=a(98).createIcon(t.ExclamationCircleIconConfig),t.default=t.ExclamationCircleIcon},742:function(e,t,a){"use strict";t.__esModule=!0,t.ExclamationTriangleIconConfig={name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},t.ExclamationTriangleIcon=a(98).createIcon(t.ExclamationTriangleIconConfig),t.default=t.ExclamationTriangleIcon},752:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LevelItem=void 0;const n=a(2),r=n.__importStar(a(0));t.LevelItem=e=>{var{children:t=null}=e,a=n.__rest(e,["children"]);return r.createElement("div",Object.assign({},a),t)},t.LevelItem.displayName="LevelItem"},755:function(e,t,a){"use strict";t.__esModule=!0,t.CheckCircleIconConfig={name:"CheckCircleIcon",height:512,width:512,svgPath:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z",yOffset:0,xOffset:0},t.CheckCircleIcon=a(98).createIcon(t.CheckCircleIconConfig),t.default=t.CheckCircleIcon},759:function(e,t,a){"use strict";var n,r,o=a(0),i=a.n(o),l=a(30),c=a(67),s=a(192),u=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},d=function(){return(d=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},m=Object(l.b)(c.a)(n||(n=u(["\n  display: flex !important;\n  align-items: center;\n"],["\n  display: flex !important;\n  align-items: center;\n"]))),f=l.b.span(r||(r=u(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),(function(e){return e.showSpinner?"8px":"0"})),b=Object(o.forwardRef)((function(e,t){var a=e.children,n=e.showSpinner,r=void 0!==n&&n,o=e.isDisabled,l=void 0!==o&&o,c=p(e,["children","showSpinner","isDisabled"]);return i.a.createElement(m,d({ref:t},c,{isDisabled:l}),i.a.createElement(f,{showSpinner:r},a),r&&i.a.createElement(s.Spinner,{size:"md"}))}));b.displayName="ButtonWithSpinner",t.a=b},813:function(e,t,a){"use strict";t.__esModule=!0,t.BellIconConfig={name:"BellIcon",height:1024,width:896,svgPath:"M448,0 C465.333333,0 480.333333,6.33333333 493,19 C505.666667,31.6666667 512,46.6666667 512,64 L512,106 L514.23,106.45 C587.89,121.39 648.48,157.24 696,214 C744,271.333333 768,338.666667 768,416 C768,500 780,568.666667 804,622 C818.666667,652.666667 841.333333,684 872,716 C873.773676,718.829136 875.780658,721.505113 878,724 C890,737.333333 896,752.333333 896,769 C896,785.666667 890,800.333333 878,813 C866,825.666667 850.666667,832 832,832 L63.3,832 C44.9533333,831.84 29.8533333,825.506667 18,813 C6,800.333333 0,785.666667 0,769 C0,752.333333 6,737.333333 18,724 L24,716 L25.06,714.9 C55.1933333,683.28 77.5066667,652.313333 92,622 C116,568.666667 128,500 128,416 C128,338.666667 152,271.333333 200,214 C248,156.666667 309.333333,120.666667 384,106 L384,63.31 C384.166667,46.27 390.5,31.5 403,19 C415.666667,6.33333333 430.666667,0 448,0 Z M576,896 L576,897.08 C575.74,932.6 563.073333,962.573333 538,987 C512.666667,1011.66667 482.666667,1024 448,1024 C413.333333,1024 383.333333,1011.66667 358,987 C332.666667,962.333333 320,932 320,896 L576,896 Z",yOffset:0,xOffset:0},t.BellIcon=a(98).createIcon(t.BellIconConfig),t.default=t.BellIcon},844:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),i=a(145),l=a(19),c=a(6),s=a(36),u=function(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<a;t++)for(var o=arguments[t],i=0,l=o.length;i<l;i++,r++)n[r]=o[i];return n},d=function(e,t){void 0===e&&(e=""),void 0===t&&(t=[]);var a=t.map((function(e){return"filter[id][]="+e})).join("&");return Object(l.a)().get(c.b+"/workflows?filter[name][contains]="+e+"&"+(a||"")).then((function(e){return e.data.map((function(e){var t=e.id;return{label:e.name,value:t}}))}))},p=function(e,t,a){var n=e?e.map((function(e){return Object(l.j)().unlinkWorkflow(e,a)})):[],r=t?t.map((function(e){return Object(l.j)().linkWorkflow(e,a)})):[];return Promise.all(u(n,r))},m=function(e,t,a){void 0===t&&(t={limit:s.a.limit,offset:s.a.offset}),void 0===a&&(a="");var n="app_name="+e.appName+"&object_type="+e.objectType+"&object_id="+e.objectId,r="&limit="+t.limit+"&offset="+t.offset,o="&filter[name][contains]="+a;return Object(l.a)().get(c.b+"/workflows?"+n+o+r)},f=a(42),b=function(e){return e().i18nReducer.formatMessage},g=a(29),v=Object(g.b)({unlinkNotification:{id:"approval.notifications.unlink",defaultMessage:"{count, number} {count, plural, one {approval process was} other {approval processes were}} unlinked successfully."},linkNotification:{id:"approval.notifications.link",defaultMessage:"{count, number} {count, plural, one {approval process was} other {approval processes were}} linked successfully."},setWorkflow:{id:"approval.workflows.set",defaultMessage:"Select approval processes for <strong>{objectName}</strong>"},currentWorkflows:{id:"approval.workflows.current",defaultMessage:"Current approval processes"}}),h=a(111),_=a(609),E=a(28),O=a(256),I=a(254);t.default=function(e){var t=e.objectType,a=e.removeSearch,l=e.keepHash,s=void 0!==l&&l,u=e.querySelector,y=e.pushParam,j=e.objectName,w=void 0===j?function(){return t}:j,k=e.postMethod,C=e.onClose,x=Object(E.a)(),S=Object(n.useRef)(x(Object(g.a)({id:"workflows.modal.title",defaultMessage:"Set approval process"}))).current,T=Object(o.d)(),P=Object(_.a)({removeSearch:a,keepHash:s}),R=Object(h.a)([u])[0],N=function(){C&&C(),P.push(y)};return r.a.createElement(O.a,{title:S,onClose:N,onSubmit:function(e,a){var n,r,o;N(),T((n=e,r=a,o={object_type:t,app_name:c.c[t],object_id:R[u]},function(e,t){var a=b(t);return e({type:i.a.UPDATE_WORKFLOWS,payload:p(r,n,o).then((function(){return e(Object(f.c)({variant:"success",title:"Success updating approval process",dismissable:!0,description:(r.length>0?a&&a(v.unlinkNotification,{count:r.length}):"")+"\n          "+(n.length>0?a(v.linkNotification,{count:n.length}):"")}))}))})})).then((function(){k&&T(k())}))},getInitialTags:function(){return m({objectType:t,appName:c.c[t],objectId:R[u]}).then((function(e){return e.data}))},loadTags:d,subTitle:x(v.setWorkflow,{strong:I.a,objectName:w(R[u])}),existingTagsMessage:x(v.currentWorkflows)})}},847:function(e,t,a){"use strict";a.d(t,"a",(function(){return L})),a.d(t,"b",(function(){return A}));var n=a(99),r=a.n(n),o=a(0),i=a.n(o),l=a(5),c=a.n(l),s=a(106),u=a(86),d=a(676),p=a(752),m=a(66),f=a(68),b=a(359),g=a(891),v=a(758),h=a(819),_=a(757),E=a(632),O=a(759),I=a(610),y=a(155),j=a(56),w=a(28),k=a(50),C=a(14),x=function(e){var t=e.copyUrl,a=e.orderUrl,n=e.editUrl,r=e.workflowUrl,l=e.editSurveyUrl,c=e.isOpen,s=e.setOpen,u=e.isFetching,d=e.availability,m=e.orderable,f=e.userCapabilities,b=f.update,g=f.copy,x=f.set_approval,S=e.canLinkOrderProcesses,T=Object(w.a)(),P=[];if(b&&P.push(i.a.createElement(_.DropdownItem,{"aria-label":"Edit Portfolio",key:"edit-portfolio-item",id:"edit-portfolio-item",component:i.a.createElement(I.a,{pathname:n,preserveSearch:!0},T(y.a.edit)),role:"link"})),g&&P.push(i.a.createElement(_.DropdownItem,{"aria-label":"Copy Portfolio",key:"copy-portfolio-item",id:"copy-portfolio-item",component:i.a.createElement(I.a,{pathname:t,preserveSearch:!0},T(y.a.copy)),role:"link"})),x&&P.push(i.a.createElement(_.DropdownItem,{"aria-label":"Set approval",key:"set-approval_workflow",id:"set-approval_workflow",component:i.a.createElement(I.a,{pathname:r,preserveSearch:!0},T(y.a.setApproval)),role:"link"})),b&&S){var R=T(k.a.setOrderProcess);P.push(i.a.createElement(_.DropdownItem,{"aria-label":R,key:"attach-order-processes",id:"attach-order-processes",component:i.a.createElement(I.a,{preserveSearch:!0,pathname:C.w},R),role:"link"}))}return b&&P.push(i.a.createElement(_.DropdownItem,{"aria-label":"Edit survey",key:"edit-survey",id:"edit-survey",component:i.a.createElement(I.a,{pathname:l,preserveSearch:!0},T(j.a.portfolioItemSurvey)),role:"link"})),i.a.createElement(o.Fragment,null,i.a.createElement(p.LevelItem,null,i.a.createElement(I.a,{isDisabled:u||"unavailable"===d||!m,pathname:a,preserveSearch:!0},i.a.createElement(O.a,{isDisabled:u||"unavailable"===d||!m,showSpinner:u,variant:"primary",id:"order-portfolio-item",ouiaId:"order-portfolio-item"},T(j.a.portfolioItemOrder)))),i.a.createElement(p.LevelItem,{style:{marginLeft:16}},"unavailable"!==d&&P.length>0&&i.a.createElement(v.Dropdown,{isPlain:!0,onToggle:s,onSelect:function(){return s(!1)},position:E.DropdownPosition.right,toggle:i.a.createElement(h.KebabToggle,{id:"portfolio-item-actions-toggle",onToggle:function(e){return s(e)}}),isOpen:c,dropdownItems:P})))};x.propTypes={orderUrl:c.a.string.isRequired,editUrl:c.a.string.isRequired,copyUrl:c.a.string.isRequired,editSurveyUrl:c.a.string.isRequired,workflowUrl:c.a.string.isRequired,isOpen:c.a.bool,setOpen:c.a.func.isRequired,isFetching:c.a.bool,availability:c.a.oneOf(["available","unavailable"]).isRequired,orderable:c.a.bool,userCapabilities:c.a.shape({update:c.a.bool,copy:c.a.bool,set_approval:c.a.bool}).isRequired,canLinkOrderProcesses:c.a.bool},x.defaultProps={isFetching:!1,orderable:!0,canLinkOrderProcesses:!1};var S=x,T=a(6),P=a(633),R=a(642),N=a(120),M=a(753),D=function(e){var t=e.id,a=e.sourceId;return i.a.createElement(P.a,{src:"".concat(T.e,"/portfolio_items/").concat(t,"/icon"),sourceId:a,height:64})};D.propTypes={id:c.a.string.isRequired,sourceId:c.a.string.isRequired};var L=function(e){var t=e.url,a=e.isOpen,n=e.product,r=e.setOpen,o=e.isFetching,l=e.availability,c=e.userCapabilities,u=e.orderable,b=e.fromProducts,g=e.canLinkOrderProcesses,v=Object(w.a)(),h=Object(s.h)().pathname;return i.a.createElement(R.b,{paddingBottom:h!==C.z,breadcrumbs:!b},b&&i.a.createElement(M.a,null),i.a.createElement(d.Level,{className:"flex-no-wrap"},i.a.createElement(s.d,null,i.a.createElement(s.b,{path:C.z,exact:!0},i.a.createElement(R.a,{title:v(j.a.editProduct),noData:!0})),i.a.createElement(s.b,null,i.a.createElement(N.a,{grow:!0,alignStart:!0,className:"pf-l-flex"},c.update?i.a.createElement(D,{id:n.id,sourceId:n.service_offering_source_ref}):i.a.createElement(P.a,{src:"".concat(T.e,"/portfolio_items/").concat(n.id,"/icon"),sourceId:n.service_offering_source_ref,height:64}),i.a.createElement(f.TextContent,{className:"pf-u-ml-md"},i.a.createElement(m.Text,{component:m.TextVariants.h1},n.name))),i.a.createElement(p.LevelItem,{style:{minHeight:36},className:"flex-item-no-wrap"},i.a.createElement(d.Level,{className:"flex-no-wrap"},i.a.createElement(S,{isOpen:a,setOpen:function(e){return r(e)},orderUrl:"".concat(t,"/order"),editUrl:"".concat(t,"/edit"),copyUrl:"".concat(t,"/copy"),editSurveyUrl:"".concat(t,"/edit-survey"),workflowUrl:"".concat(t,"/edit-workflow"),isFetching:o,availability:l,orderable:u,userCapabilities:c,canLinkOrderProcesses:g})))))))};L.propTypes={url:c.a.string.isRequired,isOpen:c.a.bool,product:c.a.shape({distributor:c.a.string,name:c.a.string.isRequired,id:c.a.string.isRequired,service_offering_source_ref:c.a.string.isRequired,metadata:c.a.shape({orderable:c.a.bool})}).isRequired,setOpen:c.a.func.isRequired,isFetching:c.a.bool,availability:c.a.oneOf(["available","unavailable"]).isRequired,userCapabilities:c.a.object,fromProducts:c.a.bool,orderable:c.a.bool,canLinkOrderProcesses:c.a.bool},L.defaultProps={isFetching:!1,orderable:!0};var q=function(e){var t=e.handleResetSurvey,a=Object(w.a)(),n=Object(o.useState)(!1),l=r()(n,2),c=l[0],s=l[1];return i.a.createElement(v.Dropdown,{isOpen:c,isPlain:!0,onSelect:function(){return s(!1)},position:"right",toggle:i.a.createElement(h.KebabToggle,{onToggle:function(e){return s(e)}}),dropdownItems:[i.a.createElement(_.DropdownItem,{onClick:t,component:"button",key:"synchronize"},a(j.a.restoreSurvey))]})};q.propTypes={handleResetSurvey:c.a.func.isRequired};var A=function(e){var t=e.handleSaveSurvey,a=e.closeUrl,n=e.search,r=e.isFetching,o=e.isValid,l=e.modified,c=e.handleResetSurvey,s=Object(w.a)();return i.a.createElement(R.b,{breadcrumbs:!0},i.a.createElement(d.Level,null,i.a.createElement(N.a,{grow:!0,alignStart:!0,className:"pf-l-flex"},i.a.createElement(f.TextContent,null,i.a.createElement(m.Text,{component:m.TextVariants.h1},s(j.a.portfolioItemSurvey)))),i.a.createElement(p.LevelItem,null,i.a.createElement(g.Flex,{className:"align-items-center"},i.a.createElement(O.a,{variant:"primary",ouiaId:"save-survey",showSpinner:r,isDisabled:r||!o,onClick:t},s(y.a.save)),i.a.createElement(u.a,{to:{pathname:a,search:n}},i.a.createElement(b.Button,{ouiaId:"cancel",variant:"link"},"Cancel")),l&&i.a.createElement(q,{handleResetSurvey:c})))))};A.propTypes={handleSaveSurvey:c.a.func.isRequired,closeUrl:c.a.string.isRequired,search:c.a.string.isRequired,isFetching:c.a.bool,isValid:c.a.bool,modified:c.a.bool,handleResetSurvey:c.a.func,fromProducts:c.a.bool,canLinkOrderProcesses:c.a.bool}},887:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownToggle=void 0;const n=a(2),r=n.__importStar(a(0)),o=n.__importDefault(a(250)),i=a(838),l=n.__importDefault(a(12)),c=a(632),s=a(1),u=a(152);t.DropdownToggle=e=>{var{id:a="",children:d=null,className:p="",isOpen:m=!1,parentRef:f=null,getMenuRef:b=null,isDisabled:g=!1,isPlain:v=!1,isPrimary:h=!1,isActive:_=!1,onToggle:E=(e=>{}),icon:O=null,toggleIndicator:I=o.default,splitButtonItems:y,splitButtonVariant:j="checkbox","aria-haspopup":w,ouiaId:k,ouiaSafe:C,ref:x}=e,S=n.__rest(e,["id","children","className","isOpen","parentRef","getMenuRef","isDisabled","isPlain","isPrimary","isActive","onToggle","icon","toggleIndicator","splitButtonItems","splitButtonVariant","aria-haspopup","ouiaId","ouiaSafe","ref"]);const T=u.useOUIAProps(t.DropdownToggle.displayName,k,C),P=r.createElement(c.DropdownContext.Consumer,null,({toggleTextClass:e,toggleIndicatorClass:t,toggleIconClass:n})=>r.createElement(i.Toggle,Object.assign({},S,{id:a,className:p,isOpen:m,parentRef:f,getMenuRef:b,isActive:_,isDisabled:g,isPlain:v,isPrimary:h,onToggle:E,"aria-haspopup":w},T,y&&{isSplitButton:!0,"aria-label":S["aria-label"]||"Select"}),O&&r.createElement("span",{className:s.css(n)},O),d&&r.createElement("span",{className:I&&s.css(e)},d),I&&r.createElement("span",{className:s.css(!y&&t)},r.createElement(I,null))));return y?r.createElement("div",{className:s.css(l.default.dropdownToggle,l.default.modifiers.splitButton,"action"===j&&l.default.modifiers.action,g&&l.default.modifiers.disabled)},y,P):P},t.DropdownToggle.displayName="DropdownToggle"},888:function(e,t,a){"use strict";t.__esModule=!0,t.PencilAltIconConfig={name:"PencilAltIcon",height:512,width:512,svgPath:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z",yOffset:0,xOffset:0},t.PencilAltIcon=a(98).createIcon(t.PencilAltIconConfig),t.default=t.PencilAltIcon},889:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=void 0;const n=a(2),r=n.__importStar(a(0)),o=n.__importDefault(a(121)),i=a(1);t.Stack=e=>{var{hasGutter:t=!1,className:a="",children:l=null,component:c="div"}=e,s=n.__rest(e,["hasGutter","className","children","component"]);const u=c;return r.createElement(u,Object.assign({},s,{className:i.css(o.default.stack,t&&o.default.modifiers.gutter,a)}),l)},t.Stack.displayName="Stack"},890:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StackItem=void 0;const n=a(2),r=n.__importStar(a(0)),o=n.__importDefault(a(121)),i=a(1);t.StackItem=e=>{var{isFilled:t=!1,className:a="",children:l=null}=e,c=n.__rest(e,["isFilled","className","children"]);return r.createElement("div",Object.assign({},c,{className:i.css(o.default.stackItem,t&&o.default.modifiers.fill,a)}),l)},t.StackItem.displayName="StackItem"},891:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Flex=void 0;const n=a(2),r=n.__importStar(a(0)),o=a(1),i=n.__importDefault(a(739)),l=n.__importStar(a(892)),c=a(113);t.Flex=e=>{var{children:t=null,className:a="",spacer:s,spaceItems:u,grow:d,shrink:p,flex:m,direction:f,alignItems:b,alignContent:g,alignSelf:v,align:h,justifyContent:_,display:E,fullWidth:O,flexWrap:I,order:y,style:j}=e,w=n.__rest(e,["children","className","spacer","spaceItems","grow","shrink","flex","direction","alignItems","alignContent","alignSelf","align","justifyContent","display","fullWidth","flexWrap","order","style"]);return r.createElement("div",Object.assign({className:o.css(i.default.flex,c.formatBreakpointMods(s,i.default),c.formatBreakpointMods(u,i.default),c.formatBreakpointMods(d,i.default),c.formatBreakpointMods(p,i.default),c.formatBreakpointMods(m,i.default),c.formatBreakpointMods(f,i.default),c.formatBreakpointMods(b,i.default),c.formatBreakpointMods(g,i.default),c.formatBreakpointMods(v,i.default),c.formatBreakpointMods(h,i.default),c.formatBreakpointMods(_,i.default),c.formatBreakpointMods(E,i.default),c.formatBreakpointMods(O,i.default),c.formatBreakpointMods(I,i.default),a),style:j||y?Object.assign(Object.assign({},j),c.setBreakpointCssVars(y,l.l_flex_item_Order.name)):void 0},w),t)},t.Flex.displayName="Flex"},892:function(e,t,a){"use strict";t.__esModule=!0,t.l_flex_item_Order={name:"--pf-l-flex--item--Order",value:"0",var:"var(--pf-l-flex--item--Order)"},t.default=t.l_flex_item_Order},893:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Alert=t.AlertVariant=void 0;const n=a(2),r=n.__importStar(a(0)),o=a(0),i=a(1),l=n.__importDefault(a(65)),c=n.__importDefault(a(164)),s=a(894),u=a(152),d=a(895),p=n.__importDefault(a(896)),m=a(637);var f;!function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.default="default"}(f=t.AlertVariant||(t.AlertVariant={})),t.Alert=e=>{var{variant:a=f.default,isInline:b=!1,isLiveRegion:g=!1,variantLabel:v=u.capitalize(a)+" alert:","aria-label":h=u.capitalize(a)+" Alert",actionClose:_,actionLinks:E,title:O,children:I="",className:y="",ouiaId:j,ouiaSafe:w=!0,timeout:k=!1,timeoutAnimation:C=3e3,onTimeout:x=(()=>{}),truncateTitle:S=0,tooltipPosition:T,customIcon:P,onMouseEnter:R=(()=>{}),onMouseLeave:N=(()=>{})}=e,M=n.__rest(e,["variant","isInline","isLiveRegion","variantLabel","aria-label","actionClose","actionLinks","title","children","className","ouiaId","ouiaSafe","timeout","timeoutAnimation","onTimeout","truncateTitle","tooltipPosition","customIcon","onMouseEnter","onMouseLeave"]);const D=u.useOUIAProps(t.Alert.displayName,j,w,a),L=r.createElement(r.Fragment,null,r.createElement("span",{className:i.css(c.default.screenReader)},v),O),q=r.useRef(null),A=r.useRef(),[U,B]=o.useState(!1);r.useEffect(()=>{if(!q.current||!S)return;q.current.style.setProperty(p.default.name,S.toString());const e=q.current&&q.current.offsetHeight<q.current.scrollHeight;U!==e&&B(e)},[q,S,U]);const[F,z]=o.useState(!1),[V,W]=o.useState(!0),[G,H]=o.useState(),[X,K]=o.useState(),J=F&&V&&!G&&!X;r.useEffect(()=>{if((k=!0===k?8e3:Number(k))>0){const e=setTimeout(()=>z(!0),k);return()=>clearTimeout(e)}},[]),r.useEffect(()=>{const e=()=>{A.current&&(A.current.contains(document.activeElement)?(K(!0),W(!1)):X&&K(!1))};return document.addEventListener("focus",e,!0),()=>document.removeEventListener("focus",e,!0)},[X]),r.useEffect(()=>{if(!1===X||!1===G){const e=setTimeout(()=>W(!0),C);return()=>clearTimeout(e)}},[X,G]),r.useEffect(()=>{J&&x()},[J]);if(J)return null;const Z=r.createElement("h4",Object.assign({},U&&{tabIndex:0},{ref:q,className:i.css(l.default.alertTitle,S&&l.default.modifiers.truncate)}),L);return r.createElement("div",Object.assign({ref:A,className:i.css(l.default.alert,b&&l.default.modifiers.inline,l.default.modifiers[a],y),"aria-label":h},D,g&&{"aria-live":"polite","aria-atomic":"false"},{onMouseEnter:e=>{H(!0),W(!1),R(e)},onMouseLeave:e=>{H(!1),N(e)}},M),r.createElement(s.AlertIcon,{variant:a,customIcon:P}),U?r.createElement(m.Tooltip,{content:L,position:T},Z):Z,_&&r.createElement(d.AlertContext.Provider,{value:{title:O,variantLabel:v}},r.createElement("div",{className:i.css(l.default.alertAction)},_)),I&&r.createElement("div",{className:i.css(l.default.alertDescription)},I),E&&r.createElement("div",{className:i.css(l.default.alertActionGroup)},E))},t.Alert.displayName="Alert"},894:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertIcon=t.variantIcons=void 0;const n=a(2),r=n.__importStar(a(0)),o=a(1),i=n.__importDefault(a(65)),l=n.__importDefault(a(755)),c=n.__importDefault(a(741)),s=n.__importDefault(a(742)),u=n.__importDefault(a(690)),d=n.__importDefault(a(813));t.variantIcons={success:l.default,danger:c.default,warning:s.default,info:u.default,default:d.default},t.AlertIcon=e=>{var{variant:a,customIcon:l,className:c=""}=e,s=n.__rest(e,["variant","customIcon","className"]);const u=t.variantIcons[a];return r.createElement("div",Object.assign({},s,{className:o.css(i.default.alertIcon,c)}),l||r.createElement(u,null))}},895:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlertContext=void 0;const n=a(2).__importStar(a(0));t.AlertContext=n.createContext(null)},896:function(e,t,a){"use strict";t.__esModule=!0,t.c_alert__title_max_lines={name:"--pf-c-alert__title--max-lines",value:"1",var:"var(--pf-c-alert__title--max-lines)"},t.default=t.c_alert__title_max_lines},939:function(e,t,a){"use strict";a.r(t);var n=a(26),r=a.n(n),o=a(99),i=a.n(o),l=a(0),c=a.n(l),s=a(27),u=a(106),d=a(195),p=a(196),m=a(893),f=a(577),b=a(5),g=a.n(b),v=a(66),h=a(68),_=a(605),E=a(28),O={id:"portfolio.item.detail.info.platform",defaultMessage:"Platform"},I={id:"portfolio.item.detail.info.portfolio",defaultMessage:"Portfolio"},y={id:"portfolio.item.detail.info.vendor",defaultMessage:"Vendor"},j={id:"portfolio.item.detail.info.created",defaultMessage:"Created"},w=function(e){var t=e.product,a=e.source,n=e.portfolio,r=Object(E.a)();return c.a.createElement(h.TextContent,{className:"pf-u-mb-md"},c.a.createElement(v.Text,{className:"font-14"},r(O)),c.a.createElement(v.Text,{id:"source-name",className:"overflow-wrap",component:v.TextVariants.p},a.name),c.a.createElement(v.Text,{className:"font-14"},r(I)),c.a.createElement(v.Text,{id:"portfolio-name",className:"overflow-wrap",component:v.TextVariants.p},n.name),t.distributor&&c.a.createElement("span",{id:"distributor"},c.a.createElement(v.Text,{className:"font-14"},r(y)),c.a.createElement(v.Text,{className:"overflow-wrap",component:v.TextVariants.p},t.distributor)),c.a.createElement(v.Text,{className:"font-14"},r(j)),c.a.createElement(v.Text,{id:"created_at",component:v.TextVariants.p},c.a.createElement(_.a,{variant:"relative",date:t.created_at})))};w.propTypes={product:g.a.shape({distributor:g.a.string,updated_at:g.a.string,created_at:g.a.string.isRequired}).isRequired,source:g.a.shape({name:g.a.string}).isRequired,portfolio:g.a.shape({name:g.a.string}).isRequired};var k=w,C=a(149),x=a.n(C),S=a(237),T=a(49),P=a.n(T),R=a(37),N=a.n(R),M={fields:[{component:P.a.TEXT_FIELD,name:"name",label:"schemas.portfolio-item.name",isRequired:!0,validate:[{type:N.a.REQUIRED}]},{component:P.a.TEXT_FIELD,name:"description",label:"schemas.portfolio-item.description"},{component:P.a.TEXT_FIELD,name:"long_description",label:"schemas.portfolio-item.long_description"},{component:P.a.TEXT_FIELD,name:"distributor",label:"schemas.portfolio-item.vendor"},{component:P.a.TEXT_FIELD,name:"documentation_url",label:"schemas.portfolio-item.documentation_url",validate:[{type:N.a.URL}]},{component:P.a.TEXT_FIELD,name:"support_url",label:"schemas.portfolio-item.support_url",validate:[{type:N.a.URL}]}]},D=a(154),L=a(889),q=a(890),A=a(255),U=a.n(A),B=a(888),F=a.n(B),z=a(192),V=a(758),W=a(887),G=a(757),H=a(42),X=a(30),K=a(56),J=a(29),Z=Object(J.b)({changeIcon:{id:"icons.actions.change",defaultMessage:"Upload image"},resetIcon:{id:"icons.actions.reset",defaultMessage:"Reset image"}});function Q(){var e=U()(["\n  .pf-c-dropdown__menu {\n    top: 24px;\n    left: calc(100% - 24px);\n  }\n"]);return Q=function(){return e},e}function Y(){var e=U()(["\n  height: 64px;\n  max-width: 300px;\n  object-fit: cover;\n"]);return Y=function(){return e},e}function $(){var e=U()(["\n  position: relative;\n  display: inline-block;\n"]);return $=function(){return e},e}function ee(){var e=U()(["\n  border: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding-left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  &::after {\n    content: ' ';\n    position: absolute;\n    display: block;\n    top: -0.3em;\n    right: -0.3em;\n    width: 1.5em;\n    height: 1.5em;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.8);\n    z-index: 0;\n  }\n  svg,\n  .pf-c-spinner {\n    z-index: 1;\n    position: absolute;\n    top: 0;\n    right: 0;\n  }\n"]);return ee=function(){return e},e}var te=X.b.span(ee()),ae=X.b.div($()),ne=X.b.img(Y()),re=Object(X.b)(V.Dropdown)(Q()),oe=function(e){var t=e.uploadIcon,a=e.resetIcon,n=e.enableReset,r=e.children,o=Object(E.a)(),u=Object(l.useRef)(),d=Object(l.useState)(),p=i()(d,2),m=p[0],f=p[1],b=Object(l.useState)(!1),g=i()(b,2),v=g[0],h=g[1],_=Object(l.useState)(!1),O=i()(_,2),I=O[0],y=O[1],j=Object(s.d)(),w=[c.a.createElement(G.DropdownItem,{onClick:function(){return y(!1),u.current.click()},key:"change-icon"},o(Z.changeIcon)),c.a.createElement(G.DropdownItem,{isDisabled:!n,onClick:function(){return f(void 0),h(!0),a().then((function(){return h(!1)}))},key:"reset-icon"},o(Z.resetIcon))];return c.a.createElement(ae,null,c.a.createElement("input",{accept:".png,.svg,.jpeg",onChange:function(e){f(e.target.files[0]),h(!0),t(e.target.files[0]).then((function(){return h(!1)})).catch((function(e){j(Object(H.c)({variant:"danger",title:o(K.a.portfolioItemIconTitle),description:e.data.errors[0].detail,dismissable:!0})),f(void 0),h(!1)}))},ref:u,type:"file",id:"icon-upload",hidden:!0}),c.a.createElement(re,{onSelect:function(){return y(!1)},isOpen:I,isPlain:!0,disabled:v,dropdownItems:w,toggle:c.a.createElement(W.DropdownToggle,{disabled:v,toggleIndicator:null,onToggle:function(e,t){t.stopPropagation(),y(e)}},c.a.createElement(te,{ouiaId:"upload-icon"},v?c.a.createElement(z.Spinner,{size:"md"}):c.a.createElement(F.a,{size:"sm"})),!m&&r,m&&c.a.createElement(ne,{style:{height:64},src:URL.createObjectURL(m),id:m.name}))}))};oe.propTypes={uploadIcon:g.a.func.isRequired,children:g.a.oneOfType([g.a.node,g.a.arrayOf(g.a.node)]),resetIcon:g.a.func.isRequired,enableReset:g.a.bool};var ie=oe,le=a(6),ce=a(633);function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var de=function(e){var t=e.cancelUrl,a=e.uploadIcon,n=e.resetIcon,r=e.product,o=(r.owner,r.created_at,r.updated_at,x()(r,["owner","created_at","updated_at"])),i=e.userCapabilities,l=Object(s.d)(),d=Object(u.g)().push,p=Object(u.h)().search;return c.a.createElement(L.Stack,{hasGutter:!0},c.a.createElement(q.StackItem,{key:o.icon_id||"default"},c.a.createElement(ie,{uploadIcon:a,resetIcon:n,enableReset:!!o.icon_id},c.a.createElement(ce.a,{src:"".concat(le.e,"/portfolio_items/").concat(o.id,"/icon?cache_id=").concat(o.icon_id||"default"),sourceId:o.service_offering_source_ref,height:64}))),c.a.createElement(q.StackItem,null,c.a.createElement(S.c,{initialValues:ue({},o),onSubmit:function(e){return d({pathname:t,search:p}),l(Object(D.p)(ue(ue({},e),{},{metadata:{user_capabilities:i}})))},schema:M,templateProps:{disableSubmit:["pristine"]},onCancel:function(){return d({pathname:t,search:p})}})))};de.propTypes={cancelUrl:g.a.string.isRequired,product:g.a.object.isRequired,userCapabilities:g.a.object.isRequired,uploadIcon:g.a.func.isRequired,resetIcon:g.a.func.isRequired};var pe=de,me=a(844),fe=a(55),be=a(274),ge=a(14),ve=function(e){var t=e.userCapabilities,a=e.product,n=e.url,r=e.search,o=e.detailPaths,i=e.uploadIcon,s=e.resetIcon,d=Object(E.a)();return c.a.createElement(u.d,null,c.a.createElement(u.b,{path:"".concat(n,"/edit-workflow")},c.a.createElement(me.default,{pushParam:{pathname:n,search:r},objectType:le.k,objectId:a.id,objectName:function(){return a.name},querySelector:"portfolio-item"})),c.a.createElement(u.b,{path:ge.w},c.a.createElement(be.a,{querySelector:"portfolio-item",objectType:le.k,objectName:function(){return a.name},pushParam:{pathname:n,search:r}})),c.a.createElement(u.b,{exact:!0,path:o,render:function(){return c.a.createElement(h.TextContent,null,(a.description||a.long_description)&&c.a.createElement(v.Text,{component:v.TextVariants.h6},d(K.a.portfolioItemOverview)),a.description&&c.a.createElement(v.Text,{id:"description",component:v.TextVariants.p},a.description),a.long_description&&c.a.createElement(v.Text,{id:"long_description",component:v.TextVariants.p},a.long_description),a.support_url&&c.a.createElement(v.Text,{id:"support_url",component:v.TextVariants.p},c.a.createElement("a",{href:a.support_url,target:"_blank",rel:"noopener noreferrer"},d(K.a.portfolioItemSupport))),a.documentation_url&&c.a.createElement(l.Fragment,null,c.a.createElement(v.Text,{component:v.TextVariants.h6},d(K.a.portfolioItemDocumentation)),c.a.createElement(v.Text,{id:"documentation_url",component:v.TextVariants.p},c.a.createElement("a",{href:a.documentation_url,target:"_blank",rel:"noopener noreferrer"},d(K.a.portfolioItemDocLink)))))}}),c.a.createElement(fe.a,{exact:!0,path:"".concat(n,"/edit"),requiredCapabilities:"update",userCapabilities:t},c.a.createElement(pe,{cancelUrl:n,product:a,userCapabilities:t,uploadIcon:i,resetIcon:s})))};ve.propTypes={product:g.a.shape({name:g.a.string,long_description:g.a.string,support_url:g.a.string,documentation_url:g.a.string,description:g.a.string,id:g.a.string.isRequired}).isRequired,url:g.a.string.isRequired,search:g.a.string.isRequired,userCapabilities:g.a.object.isRequired,detailPaths:g.a.arrayOf(g.a.string),uploadIcon:g.a.func.isRequired,resetIcon:g.a.func.isRequired};var he=ve,_e=a(847),Ee=a(642),Oe=a(112),Ie=a(40),ye=a(111),je=a(753),we=a(134),ke=a(157);function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var xe=Object(l.lazy)((function(){return Promise.all([a.e(12),a.e(69),a.e(70)]).then(a.bind(null,936))})),Se=["portfolio","source","portfolio-item","from-products"];t.default=function(){var e,t,a,n,o,b,g=Object(E.a)(),v=Object(l.useState)(!1),h=i()(v,2),_=h[0],O=h[1],I=Object(l.useState)(!0),y=i()(I,2),j=y[0],w=y[1],C=Object(s.d)(),x=Object(ye.a)(Se),S=i()(x,2),T=S[0],P=S[1],R=Object(u.h)().pathname,N=Object(u.i)(ge.y).url,M=Object(s.e)((function(e){return e.portfolioReducer.portfolioItem})),L=Object(s.e)((function(e){return e.portfolioReducer.selectedPortfolio})),q="true"===T["from-products"],A=Object(l.useContext)(ke.a).permissions,U=Object(we.c)(A,["catalog:order_processes:link"]),B=function(e){e||w(!0),C(Object(D.j)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({portfolioItem:T["portfolio-item"]},T))).then((function(){return w(!1)})).catch((function(){return w(!1)}))};if(Object(l.useEffect)((function(){insights.chrome.appNavClick({id:q?"products":"portfolios",secondaryNav:!0}),B(!1)}),[T["portfolio-item"]]),j||0===Object.keys(M).length)return c.a.createElement(f.a,{className:"global-primary-background full-height"},c.a.createElement(Ee.b,{breadcrumbs:!q},q&&c.a.createElement(je.a,null),c.a.createElement(Oe.h,null)));var F=(null==M||null===(e=M.source)||void 0===e?void 0:e.availability_status)||"unavailable",z=[null==M?void 0:M.source].filter((function(e){return e.notFound})).map((function(e){var t=e.object;return c.a.createElement(m.Alert,{className:"pf-u-mb-sm",key:t,variant:"warning",isInline:!0,title:g(K.a.objectUnavaiable,{object:t})})})),V=function(e){var t;return Object(Ie.s)(null==M||null===(t=M.portfolioItem)||void 0===t?void 0:t.id,e).then((function(){return B(!0)}))},W=[ge.y,"".concat(N,"/order"),"".concat(N,"/copy"),"".concat(N,"/edit-workflow"),ge.w];return c.a.createElement(l.Fragment,null,c.a.createElement(u.d,null,c.a.createElement(fe.a,{requiredCapabilities:"update",userCapabilities:null==M||null===(t=M.portfolioItem)||void 0===t?void 0:t.metadata.user_capabilities,path:"".concat(N,"/edit-survey")},c.a.createElement(l.Suspense,{fallback:c.a.createElement(Oe.a,null)},c.a.createElement(xe,{closeUrl:N,search:P,uploadIcon:V,portfolioItem:M.portfolioItem,portfolio:L}))),c.a.createElement(u.b,null,c.a.createElement(f.a,{className:"full-height global-primary-background"},c.a.createElement(_e.a,{fromProducts:q,url:N,isOpen:_,product:M.portfolioItem,setOpen:O,isFetching:j,availability:F,userCapabilities:null==M||null===(a=M.portfolioItem)||void 0===a?void 0:a.metadata.user_capabilities,orderable:null==M||null===(n=M.portfolioItem.metadata)||void 0===n?void 0:n.orderable,canLinkOrderProcesses:U}),z.length>0&&c.a.createElement("div",{className:"pf-u-mr-lg pf-u-ml-lg"},z),"unavailable"===(null==M||null===(o=M.source)||void 0===o?void 0:o.availability_status)&&c.a.createElement(m.Alert,{className:"pf-u-ml-lg pf-u-mr-lg",id:"unavailable-alert-info",variant:"info",isInline:!0,title:g(K.a.sourceUnavaiable)}),c.a.createElement(d.Grid,{hasGutter:!0,className:"pf-u-p-lg"},c.a.createElement(u.b,{path:W,exact:!0},c.a.createElement(p.GridItem,{md:3,lg:2},c.a.createElement(k,{product:M.portfolioItem,portfolio:L,source:M.source}))),c.a.createElement(p.GridItem,{md:R===ge.z?12:9,lg:R===ge.z?12:10},c.a.createElement(he,{resetIcon:function(){var e;return Object(Ie.n)(null==M||null===(e=M.portfolioItem)||void 0===e?void 0:e.icon_id).then(B)},uploadIcon:V,product:M.portfolioItem,userCapabilities:null==M||null===(b=M.portfolioItem)||void 0===b?void 0:b.metadata.user_capabilities,url:N,detailPaths:W,search:P})))))))}}}]);
//# sourceMappingURL=../sourcemaps/portfolio-item-detail~31ecd969.js.map