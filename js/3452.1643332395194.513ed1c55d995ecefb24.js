"use strict";(self.webpackChunkcatalog=self.webpackChunkcatalog||[]).push([[3452],{20777:(e,o,t)=>{o.lb={name:"PlusCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z",yOffset:0,xOffset:0},o.wl=t(35183).createIcon(o.lb),o.ZP=o.wl},3452:(e,o,t)=>{t.r(o),t.d(o,{default:()=>K});var r=t(4942),i=t(87462),n=t(29439),a=t(30624),l=t.n(a),s=t(45697),c=t.n(s),p=t(334),u=t(14494),d=t(66678),f=t(22910),m=t(92512),h=t(47962),P=t(96823),y=t(91703),b=t(56824),g=t(77172),v=t(20697),O=t(21976),k=t(23349),R=t(29751),E=t(36722);function w(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?w(Object(t),!0).forEach((function(o){(0,r.Z)(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}var Z=function(e){var o=e.editPortfolioRoute,t=e.workflowPortfolioRoute,r=e.removePortfolioRoute,i=e.copyInProgress,s=e.copyPortfolio,c=e.userCapabilities,p=e.canLinkOrderProcesses,u=(0,a.useState)(!1),d=(0,n.Z)(u,2),y=d[0],b=d[1],g=(0,k.Z)(),O=[];if(null!=c&&c.update&&O.push(l().createElement(P.h,{"aria-label":"Edit Portfolio",key:"edit-portfolio",id:"edit-portfolio",component:l().createElement(v.Z,{id:"edit-portfolio",preserveSearch:!0,pathname:o},"Edit"),role:"link"})),null!=c&&c.copy&&O.push(l().createElement(P.h,{component:"button","aria-label":"Copy Portfolio",key:"copy-portfolio",id:"copy-portfolio",onClick:s},"Copy")),null!=c&&c.set_approval&&O.push(l().createElement(P.h,{"aria-label":"Set approval workflow",key:"set-approval-portfolio-action",id:"set-approval-portfolio-action",component:l().createElement(v.Z,{preserveSearch:!0,pathname:t},"Set approval"),role:"link"})),null!=c&&c.update&&p){var w=g(R.Z.setOrderProcess);O.push(l().createElement(P.h,{"aria-label":w,key:"attach-order-processes",id:"attach-order-processes",component:l().createElement(v.Z,{preserveSearch:!0,pathname:E.OI},w),role:"link"}))}return null!=c&&c.destroy&&O.push(l().createElement(P.h,{"aria-label":"Remove Portfolio",key:"delete-portfolio",id:"delete-portfolio",component:l().createElement(v.Z,{preserveSearch:!0,pathname:r},"Delete"),role:"link",className:"pf-c-dropdown__menu-item"})),0===O.length?null:l().createElement(f.L,{className:"pf-u-ml-md",onSelect:function(){return b(!1)},position:m.DropdownPosition.right,toggle:l().createElement(h.a,{id:"toggle-portfolio-actions",onToggle:b,isDisabled:i}),isOpen:y,isPlain:!0,dropdownItems:O})};Z.propTypes={removePortfolioRoute:c().string.isRequired,editPortfolioRoute:c().string.isRequired,workflowPortfolioRoute:c().string.isRequired,copyPortfolio:c().func.isRequired,copyInProgress:c().bool,userCapabilities:c().shape({copy:c().bool,update:c().bool,destroy:c().bool,set_approval:c().bool}).isRequired,canLinkOrderProcesses:c().bool};const j=function(e){var o=e.title,t=e.addProductsRoute,r=e.copyPortfolio,i=e.sharePortfolioRoute,n=e.editPortfolioRoute,a=e.workflowPortfolioRoute,l=e.removePortfolioRoute,s=e.copyInProgress,c=e.isLoading,p=e.removeProducts,u=e.itemsSelected,d=e.meta,f=e.fetchPortfolioItemsWithPortfolio,m=e.portfolioId,h=e.description,P=e.fromProducts,v=e.filterProps,k=v.searchValue,R=v.onFilterChange,E=v.placeholder,w=e.userCapabilities,j=e.canLinkOrderProcesses;return{fields:[{component:y.H.TOP_TOOLBAR,breadcrumbs:!P,key:"portfolio-top-toolbar",fields:[{key:"back-to-products",hidden:!P,component:O.Z},{component:y.H.TOP_TOOLBAR_TITLE,key:"portfolio-toolbar-title",noData:null==d?void 0:d.noData,title:o,description:h,fields:[{component:y.H.TOOLBAR,key:"portfolio-actions",noWrap:!0,fields:[(0,b.g)({pathname:i,preserveSearch:!0,variant:"secondary",title:"Share",isDisabled:s,key:"portfolio-share-button",id:"portfolio-share-button",hidden:!(null!=w&&w.share||null!=w&&w.unshare)}),{component:y.H.TOOLBAR_ITEM,key:"portfolio-actions-dropdown-item",fields:[{component:Z,editPortfolioRoute:n,workflowPortfolioRoute:a,removePortfolioRoute:l,copyPortfolio:r,copyInProgress:s,userCapabilities:w,canLinkOrderProcesses:j,key:"portfolio-actions-dropdown"}]}]}]},{component:y.H.LEVEL,key:"portfolio-items-actions",fields:null!=d&&d.noData?[]:[{component:y.H.TOOLBAR,key:"portfolio-items-actions",fields:[{groupName:"filter-portfolio-items",component:y.H.FILTER_TOOLBAR_ITEM,isClearable:!0,key:"portfolio-items-filter",searchValue:k,onFilterChange:R,placeholder:E},I({hidden:!(null!=w&&w.update),groupName:"add-portfolio-items",key:"portfolio-items-add-group"},(0,b.g)({preserveSearch:!0,pathname:t,isDisabled:c||s,variant:"primary",title:"Add",id:"add-products-button",key:"add-products-button"})),{component:y.H.TOOLBAR_ITEM,key:"remove-products-item",hidden:0===d.count||!(null!=w&&w.update),fields:[{component:y.H.BUTTON,groupName:"remove-portfolio-items",variant:"link",title:"Remove",key:"remove-products-button",id:"remove-products-button",isDisabled:!u,onClick:p}]}]},{component:y.H.LEVEL_ITEM,key:"pagination-item",fields:d.count>0?[{component:g.Z,key:"portfolio-items-pagination",meta:d,apiRequest:f,apiProps:m,isCompact:!0}]:[]}]}]}]}};var D=t(48794),C=t(20777),S=t(33188),T=t(6202),L=t(97881),_=t(64466),q=function(e){var o=e.url,t=e.handleFilterChange,r=e.meta,i=e.userCapabilities.update,n=(0,k.Z)(),a={PrimaryAction:null!=r&&r.noData?function(){return l().createElement(S._,{url:o,label:n(_.Z.addProducts),id:"add-products-to-portfolio",hasPermission:i})}:function(){return l().createElement(T.Button,{id:"clear-portfolio-filter",ouiaId:"clear-portfolio-filter",variant:"link",onClick:function(){return t("")}},n(L.Z.clearFilters))},title:null!=r&&r.noData?n(L.Z.noProducts):n(L.Z.noResults),description:null!=r&&r.noData?n(_.Z.emptyNoProducts):n(L.Z.noResultsDescription),Icon:null!=r&&r.noData?C.ZP:D.ZP};return l().createElement(S.Z,a)};q.propTypes={url:c().string.isRequired,handleFilterChange:c().func.isRequired,meta:c().shape({noData:c().bool}).isRequired,userCapabilities:c().shape({update:c().bool}).isRequired};const F=q;var H=t(59837),B=t(59797),A=t(89231),N=t(77503),V=t(92183),M=t(47786),W=t(72510),$=t(63035);function x(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function z(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?x(Object(t),!0).forEach((function(o){(0,r.Z)(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}var U=function(e){var o=e.routes,t=e.handleFilterChange,r=e.removeProducts,s=e.copyPortfolio,c=e.stateDispatch,f=e.fromProducts,m=e.state,h=m.removeInProgress,P=m.isFetching,y=m.isFiltering,b=m.copyInProgress,v=m.selectedItems,O=m.filterValue,R=(0,k.Z)(),w=(0,u.v9)((function(e){var o=e.portfolioReducer,t=o.portfolioItems,r=t.data,i=t.results,n=t.meta,a=t.count,l=o.selectedPortfolio;return{data:r,results:i,meta:n,count:a,name:l.name,description:l.description,metadata:l.metadata}})),I=w.data,Z=w.results,D=w.meta,C=w.count,S=w.name,T=w.description,_=w.metadata,q=(0,p.useRouteMatch)(E.hT).url,x=(0,M.Z)(["portfolio"]),U=(0,n.Z)(x,1)[0].portfolio,K=(0,u.I0)(),G=(0,a.useContext)(W.Z).permissions,J=(0,$.Fs)(G,["catalog:order_processes:link"]),Q=I||Z,X=D||{count:C},Y=(0,$.$W)()?{show:!0,update:!0,set_approval:!0,share:!0,unshare:!0,untag:!0,tag:!0,set_order_process:!0,create:!0,destroy:!0,restore:!0,copy:!0}:null==_?void 0:_.user_capabilities,ee=Q.map((function(e){return l().createElement(B.Z,(0,i.Z)({key:e.id},e,{pathname:"".concat(q,"/portfolio-item"),searchParams:{source:e.service_offering_source_ref,"portfolio-item":e.id},preserveSearch:!0,isSelectable:null==Y?void 0:Y.update,onSelect:function(o){return c({type:"selectItem",payload:{selectedItem:o,product:e}})},isSelected:v.includes(e.id),removeInProgress:h}))}));return l().createElement(a.Fragment,null,l().createElement(d.Z,{schema:j(z(z({fromProducts:f,filterProps:{searchValue:O,onFilterChange:t,placeholder:R(L.Z.filterByProduct)},title:S,description:T},o),{},{copyPortfolio:s,isLoading:P||y,copyInProgress:b,removeProducts:function(){return r(v)},itemsSelected:v.length>0,meta:X,fetchPortfolioItemsWithPortfolio:function(){return K((0,$.$W)()?N.cP.apply(void 0,arguments):A.cP.apply(void 0,arguments))},portfolioId:U,userCapabilities:Y,canLinkOrderProcesses:J}))}),l().createElement(H.Z,{items:ee,isLoading:P||y,renderEmptyState:function(){return l().createElement(F,{handleFilterChange:t,meta:X,userCapabilities:Y,url:o.addProductsRoute})}}),(null==X?void 0:X.count)>0&&l().createElement(V.Z,null,l().createElement(g.Z,{dropDirection:"up",meta:X,apiProps:U,apiRequest:function(){return K((0,$.$W)()?N.cP.apply(void 0,arguments):A.cP.apply(void 0,arguments))}})))};U.propTypes={routes:c().shape({addProductsRoute:c().string.isRequired,portfolioRoute:c().string.isRequired}).isRequired,handleFilterChange:c().func.isRequired,removeProducts:c().func.isRequired,copyPortfolio:c().func.isRequired,stateDispatch:c().func.isRequired,state:c().shape({removeInProgress:c().bool,isFetching:c().bool,isFiltering:c().bool,copyInProgress:c().bool,selectedItems:c().array,filterValue:c().string}).isRequired,fromProducts:c().bool},U.defaultProps={state:{removeInProgress:!1,isFetching:!1,isFiltering:!1,copyInProgress:!1,selectedItems:[],filterValue:void 0}};const K=U},56824:(e,o,t)=>{t.d(o,{g:()=>c});var r=t(4942),i=t(45987),n=t(91703),a=["pathname","preserveSearch","id"];function l(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);o&&(r=r.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?l(Object(t),!0).forEach((function(o){(0,r.Z)(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}var c=function(e){var o=e.pathname,t=e.preserveSearch,r=e.id,l=(0,i.Z)(e,a);return{component:n.H.TOOLBAR_ITEM,key:"".concat(l.key,"/button-link"),fields:[{component:n.H.LINK,pathname:o,preserveSearch:t,key:"".concat(l.key,"/button-link"),isDisabled:l.isDisabled,id:r,fields:[s({component:n.H.BUTTON},l)]}]}}}}]);
//# sourceMappingURL=../sourcemaps/3452.916dbdfa5b929a543792ce14f985fd59.js.map