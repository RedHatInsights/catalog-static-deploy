(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{591:function(e,t,n){"use strict";var r=n(12),o=n.n(r),a=n(183),i=n.n(a),c=n(85);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){return"string"==typeof e?e.split("?")[0]:"object"===i()(e)?s(s({},e),{},{search:void 0}):e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.removeSearch,n=e.keepHash,r=Object(c.g)();return s(s({},r),{},{push:function(e){var o=e;return n&&r.location.hash.length>0&&(o="object"===i()(o)?s(s({},o),{},{hash:r.location.hash}):"".concat(o).concat(r.location.hash)),t?r.push(l(o)):r.push(o)}})}},933:function(e,t,n){"use strict";n.r(t);var r=n(12),o=n.n(r),a=n(638),i=n.n(a),c=n(639),u=n.n(c),s=n(23),l=n.n(s),p=n(0),f=n.n(p),b=n(4),d=n.n(b),h=n(18),v=n(185),O=n(36),m=n.n(O),j=n(5),y=n(109),g=n(28),w=Object(y.a)((function(e,t){return Object(g.e)(e).then((function(n){var r=n.data;if(!e||0===e.trim().length)throw"Required";if(r.find((function(n){return n.name===e&&n.id!==t})))throw"Name has already been taken"}))})),P=function(e,t){var n,r,o,a,i;return{fields:[{label:"schemas.portfolio.name",name:"name",component:m.a.TEXT_FIELD,isRequired:!0,maxLength:(null===(i=null===(a=null===(o=null===(r=null===(n=null==e?void 0:e.components)||void 0===n?void 0:n.schemas)||void 0===r?void 0:r.Portfolio)||void 0===o?void 0:o.properties)||void 0===a?void 0:a.name)||void 0===i?void 0:i.maxLength)||j.f,validate:[function(e){return w(e,t)}]},{label:"schemas.portfolio.description",component:m.a.TEXTAREA,name:"description"}]}},S=n(138),E=n(86),D=n(591),T=n(196),k=n(9),R=n(114),x=n(111),q=n(46),C=n(95),L=n(17);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){var t,n,r=e.removeQuery,o=e.closeTarget,a=e.viewState,c=Object(L.a)(),s=Object(h.useDispatch)(),b=Object(p.useState)(!0),d=l()(b,2),O=d[0],m=d[1],j=Object(p.useContext)(R.a).openApiSchema,y=Object(E.a)(["portfolio"]),w=l()(y,1)[0].portfolio,A=Object(D.a)({removeQuery:r,keepHash:!0}).push,H=Object(h.useSelector)((function(e){var t=e.portfolioReducer;return Object(g.g)(t,w)})),J=function(){var e=u()(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={variant:"success",title:c(q.a.addSuccessTitle),description:c(q.a.addSuccessDescription,{name:t.name,b:function(e){return f.a.createElement("b",{key:"strong"},e)}})},e.next=3,s(Object(S.a)(t,n));case 3:return r=e.sent,e.abrupt("return",r&&r.value&&r.value.id?A({pathname:k.y,search:"?portfolio=".concat(r.value.id)}):A(o));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=w&&H&&Object.keys(H).length>0;return!1===(null==H||null===(t=H.metadata)||void 0===t||null===(n=t.user_capabilities)||void 0===n?void 0:n.update)?f.a.createElement(T.a,null):f.a.createElement(v.c,{schema:P(j,w),onSubmit:function(e){return H?(m(!1),s(Object(S.o)(e,a)).then((function(){return A(o)}))):J(e,a)},onCancel:function(){return A(o)},initialValues:Q({},H),isModal:!0,modalProps:{title:c(w?q.a.modalEditTitle:q.a.modalCreateTitle),isOpen:O,onClose:function(){return A(o)},variant:"small",loading:!w||X},templateProps:{submitLabel:c(w?x.a.save:C.a.create)}})};H.propTypes={removeQuery:d.a.bool,closeTarget:d.a.oneOfType([d.a.string,d.a.shape({pathname:d.a.string.isRequired,search:d.a.string})]).isRequired,viewState:d.a.shape({count:d.a.number,limit:d.a.number,offset:d.a.number,filter:d.a.string})};t.default=H}}]);
//# sourceMappingURL=../sourcemaps/add-portfolio~5a4d8549.js.map