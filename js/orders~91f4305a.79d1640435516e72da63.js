(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{389:function(e,t,r){"use strict";var n=r(385),a=r.n(n),o=r(45),c=r.n(o),i=r(0),s=r.n(i),l=r(12),u=r.n(l),d=r(386),p=r(186),f=r(59),m=function(e){var t=e.meta,r=t.limit,n=t.count,o=t.offset,i=e.apiProps,l=e.apiRequest,u=e.className,m=e.isCompact,y=c()(e,["meta","apiProps","apiRequest","className","isCompact"]);return s.a.createElement("div",{className:u},s.a.createElement(p.Pagination,a()({perPage:r||50,itemCount:n||0,onPerPageSelect:function(e,t){return l(i,{offset:o,limit:t})},page:Object(f.b)(r,o),onSetPage:function(e,t,n){var a={offset:Object(f.c)(t,r),limit:r},o=function(){return l(i,a)};return n?Object(d.a)(o,250)():o()},direction:"down",isCompact:m},y)))};m.propTypes={meta:u.a.shape({count:u.a.number,limit:u.a.number.isRequired,offset:u.a.number.isRequired}),apiRequest:u.a.func.isRequired,apiProps:u.a.any,className:u.a.string,isCompact:u.a.bool},m.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1},t.a=m},392:function(e,t,r){"use strict";var n=(0,r(47).defineMessages)({orderedBy:{id:"orders.common.orderedBy",defaultMessage:"Ordered by {owner}"},lastUpdated:{id:"orders.common.lastUpdated",defaultMessage:"Last updated"},compositeTitle:{id:"orders.common.compositeTitle",defaultMessage:"{name} - Order # {id}"},orderSuccess:{id:"orders.notification.success",defaultMessage:"You can track the progress of Order # {id} in your <link>Orders</link> page."},noOrdersTitle:{id:"orders.list.empty.title",defaultMessage:"No orders"},noOrdersDescription:{id:"orders.list.empty.description",defaultMessage:"No orders have been created."},noApprovalRequests:{id:"orders.approval.no-requests",defaultMessage:"We were unable to find any approval requests for this order."},creatingApprovalRequest:{id:"orders.approval.creating",defaultMessage:"Creating approval request"},approvalTitle:{id:"orders.approval.title",defaultMessage:"Approval request"},approvalDetail:{id:"orders.approval.view-detail",defaultMessage:"View this order's approval request details"},approvalCreated:{id:"orders.approval.details.created",defaultMessage:"Request created"},approvalReason:{id:"orders.approval.details.reason",defaultMessage:"Approval reason"},approvalCompleted:{id:"orders.approval.details.completed",defaultMessage:"Completed at"},orderStatus:{id:"orders.order.details.status",defaultMessage:"Status: <icon></icon> {state}"},orderDetails:{id:"orders.common.details",defaultMessage:"Order details"},menuApproval:{id:"orders.menu.approval",defaultMessage:"Approval"},menuLifecycle:{id:"orders.menu.lifecycle",defaultMessage:"Lifecycle"},menuSteps:{id:"orders.menu.steps",defaultMessage:"Order steps"},objectsNotFound:{id:"order.detail.not-found",defaultMessage:"The {objects} for this order {count, plural, one {is} other {are}} not available"},orderID:{id:"orders.order.detail.ID",defaultMessage:"Order ID"},orderParameters:{id:"orders.order.detail.parameters",defaultMessage:"Order parameters"},orderProgressMessages:{id:"orders.order.detail.messages",defaultMessage:"Progress messages"},lifecycleLink:{id:"orders.order.lifecicle.link",defaultMessage:"Manage product"},cancelOrder:{id:"orders.actions.cancel",defaultMessage:"Cancel order"},keepOrder:{id:"orders.actions.keep",defaultMessage:"Keep order"},cancelDescription:{id:"orders.cancel.description",defaultMessage:"Are you sure you want to cancel {name}?"}});t.a=n},393:function(e,t,r){"use strict";r.d(t,"c",(function(){return P})),r.d(t,"b",(function(){return _})),r.d(t,"d",(function(){return w})),r.d(t,"a",(function(){return I})),r.d(t,"e",(function(){return D}));var n={};r.r(n),r.d(n,"getPlatforms",(function(){return g})),r.d(n,"getPlatform",(function(){return v})),r.d(n,"getPlatformItems",(function(){return b})),r.d(n,"getPlatformInventories",(function(){return O})),r.d(n,"getServiceOffering",(function(){return h}));var a=r(1),o=r.n(a),c=r(2),i=r(34),s=r.n(i),l=r(75),u=r(14),d=r(59);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=Object(l.a)(),y=Object(l.b)(),g=function(){return y.post("".concat(u.i,"/graphql"),{query:'\nquery {\n  application_types (filter: { name: "/insights/platform/catalog" }) {\n    id\n    name\n    sources {\n      id\n      name\n      source_type_id\n    }\n  }\n}'}).then((function(e){return e.data.application_types})).then((function(e){return s()(e,1)[0].sources}))},v=function(e){return m.get("".concat(u.i,"/sources/").concat(e))},b=function(e,t,r){var n=t?"&filter[name][contains_i]=".concat(t):"";return e?m.get("".concat(u.j,"/sources/").concat(e,"/service_offerings?filter[archived_at][nil]").concat(n).concat(r?"&limit=".concat(r.limit,"&offset=").concat(r.offset):"")):m.get("".concat(u.j,"/service_offerings"))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a;return e?m.get("".concat(u.j,"/sources/").concat(e,"/service_inventories?filter[name][contains_i]=").concat(t).concat(r?"&limit=".concat(r.limit,"&offset=").concat(r.offset):"")):m.get("".concat(u.j,"/service_inventories?limit=").concat(r.limit,"&offset=").concat(r.offset))},h=function(e,t){return Promise.all([m.get("".concat(u.j,"/service_offerings/").concat(e)),m.get("".concat(u.i,"/sources/").concat(t)).then((function(e){return m.get("".concat(u.i,"/source_types/").concat(e.source_type_id)).then((function(t){var r=t.icon_url;return f(f({},e),{},{icon_url:r})}))}))]).then((function(e){var t=s()(e,2);return{service:t[0],source:t[1]}}))};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=function(){return function(e){return e({type:"".concat(c.k,"_PENDING")}),g().then((function(t){return e({type:"".concat(c.k,"_FULFILLED"),payload:t})})).catch((function(t){return e({type:"".concat(c.k,"_REJECTED"),payload:t})}))}},_=function(e,t,r){return{type:c.n,payload:b(e,t,r),meta:E({platformId:e,filter:t},r)}},w=function(e){return{type:c.j,payload:v(e)}},I=function(e,t,r){return{type:c.l,payload:O(e,t,r)}},D=function(){return{type:c.v,payload:h.apply(n,arguments)}}},447:function(e,t,r){"use strict";r.d(t,"e",(function(){return B})),r.d(t,"f",(function(){return U})),r.d(t,"a",(function(){return V})),r.d(t,"d",(function(){return J})),r.d(t,"c",(function(){return Y})),r.d(t,"b",(function(){return K}));var n=r(45),a=r.n(n),o=r(34),c=r.n(o),i=r(1),s=r.n(i),l=r(0),u=r.n(l),d=r(103),p=r(2),f=r(51),m=r.n(f),y=r(78),g=r.n(y),v=r(75),b=r(14),O=r(59);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=Object(v.c)(),P=(Object(v.d)(),Object(v.f)()),_=Object(v.a)();function w(e){return P.listServicePlans(e)}function I(e){return D.apply(this,arguments)}function D(){return(D=g()(m.a.mark((function e(t){var r,n,o,c,i,s,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.service_parameters,n=r.providerControlParameters,o=a()(r,["providerControlParameters"]),c=a()(t,["service_parameters"]),e.next=3,E.createOrder();case 3:return i=e.sent,(s={}).count=1,s=j(j(j({},s),c),{},{service_parameters:o,provider_control_parameters:n||{}}),e.next=9,E.addToOrder(i.id,s);case 9:return l=e.sent,e.abrupt("return",E.submitOrder(i.id).then((function(e){return j(j({},e),{},{orderItem:l})})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(e){return _.get("".concat(b.c,"/order_items?").concat(e.map((function(e){return"filter[order_id][]=".concat(e)})).join("&")))},N=function(e){return _.get("".concat(b.c,"/portfolio_items?").concat(e.map((function(e){return"filter[id][]=".concat(e)})).join("&")))},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.a;return _.get("".concat(b.c,"/orders?").concat(e,"&limit=").concat(t.limit,"&offset=").concat(t.offset)).then((function(e){return F(e.data.map((function(e){return e.id}))).then((function(t){return N(t.data.map((function(e){return e.portfolio_item_id}))).then((function(r){return j(j({portfolioItems:r},e),{},{data:e.data.map((function(e){return j(j({},e),{},{orderItems:t.data.filter((function(t){return t.order_id===e.id}))})}))})}))}))}))};var C=r(12),R=r.n(C),k=r(41),q=r(73),M=r(11),L=r(392),S=function(e){var t=e.id,r=e.dispatch,n=e.portfolioItemId,a=e.portfolioId,o=e.platformId,c=e.orderItemId;return(0,Object(q.a)().formatMessage)(L.a.orderSuccess,{id:t,link:function(e){return u.a.createElement(k.a,{onClick:function(){return r(Object(d.clearNotifications)())},to:{pathname:M.m,search:"?order=".concat(t,"&order-item=").concat(c,"&portfolio-item=").concat(n,"&platform=").concat(o,"&portfolio=").concat(a)}},e)}})};S.propTypes={id:R.a.string.isRequired,dispatch:R.a.func.isRequired,portfolioItemId:R.a.string.isRequired,portfolioId:R.a.string.isRequired,platformId:R.a.string.isRequired,orderItemId:R.a.string.isRequired};var x=S;function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=function(e){return{type:p.w,payload:w(e)}},U=function(e,t){return function(r){return r({type:p.U,payload:I(e).then((function(e){var n=e.id,a=e.orderItem;return r(Object(d.addNotification)({variant:"success",title:"Your order has been accepted successfully",description:u.a.createElement(x,{id:n,dispatch:r,portfolioItemId:t.id,portfolioId:t.portfolio_id,platformId:t.service_offering_source_ref,orderItemId:a.id}),dismissable:!0}))}))})}},V=function(e){return function(t,r){t({type:"".concat(p.d,"_PENDING")});var n=r().orderReducer.orderDetail;return function(e){return E.cancelOrder(e)}(e).then((function(){return n.order.state="Canceled",n.approvalRequest&&n.approvalRequest.length>0&&(n.approvalRequest[0].state="canceled"),t({type:p.P,payload:G({},n)}),n})).then((function(e){return t(Object(d.addNotification)({variant:"success",title:"Your order has been canceled successfully",description:"Order ".concat("Order #".concat(e.order.id)," was canceled."),dismissable:!0}))})).then((function(){return t({type:"".concat(p.d,"_FULFILLED")})})).catch((function(e){t({type:"".concat(p.d,"_REJECTED"),payload:e})}))}},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.a;return function(r){var n=Object.entries(e).filter((function(e){var t=c()(e,2)[1];return t&&t.length>0})).map((function(e){var t=c()(e,2),r=t[0],n=t[1];return Array.isArray(n)?n.map((function(e){return"filter[".concat(r,"][]=").concat(e)})).join("&"):"filter[".concat(r,"][contains_i]=").concat(n)})).join("&");return r({type:"".concat(p.h,"_PENDING")}),T(n,t).then((function(o){var c=o.portfolioItems,i=a()(o,["portfolioItems"]);return r({type:p.Q,payload:c}),r({type:"".concat(p.h,"_FULFILLED"),meta:G(G({},t),{},{filter:n,filters:e,storeState:!0,stateKey:"orders"}),payload:i})})).catch((function(e){return r({type:"".concat(p.h,"_REJECTED"),payload:e})}))}},Y=function(e){return function(t){return t({type:"".concat(p.P,"_PENDING")}),function(e){var t=[_.get("".concat(b.c,"/orders/").concat(e.order)),_.get("".concat(b.c,"/order_items/").concat(e["order-item"])).catch((function(e){if(404===e.status||400===e.status)return{object:"Order item",notFound:!0};throw e})),_.get("".concat(b.c,"/portfolio_items/").concat(e["portfolio-item"])).catch((function(e){if(404===e.status||400===e.status)return{object:"Product",notFound:!0};throw e}))];return t.push(e.platform&&"undefined"!==e.platform?_.get("".concat(b.i,"/sources/").concat(e.platform)).catch((function(e){if(404===e.status||400===e.status)return{object:"Platform",notFound:!0};throw e})):{object:"Platform",notFound:!0}),t.push(_.get("".concat(b.c,"/order_items/").concat(e["order-item"],"/progress_messages")).catch((function(e){if(404===e.status||400===e.status)return{};throw e}))),t.push(e.portfolio&&"undefined"!==e.portfolio?_.get("".concat(b.c,"/portfolios/").concat(e.portfolio)).catch((function(e){if(404===e.status||400===e.status)return{object:"Portfolio",notFound:!0};throw e})):{object:"Portfolio",notFound:!0}),Promise.all(t)}(e).then((function(e){var r=c()(e,7),n=r[0],a=r[1],o=r[2],i=r[3],s=r[4],l=r[5],u=r[6];return t({type:"".concat(p.P,"_FULFILLED"),payload:{order:n,orderItem:a,portfolioItem:o,platform:i,progressMessages:s,portfolio:l,approvalRequest:u}})})).catch((function(e){return t({type:"".concat(p.P,"_REJECTED"),payload:e})}))}},K=function(e){return function(t){return t({type:"".concat(p.f,"_PENDING")}),function(e){return _.get("".concat(b.c,"/order_items/").concat(e,"/approval_requests"))}(e).then((function(e){return t({type:"".concat(p.f,"_FULFILLED"),payload:e}),e})).catch((function(e){return t({type:"".concat(p.f,"_REJECTED"),payload:e})}))}}},691:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(419),c=r(410),i=r(400),s=function(){return{fields:[{component:i.b.TOP_TOOLBAR,className:"orders bg-fill pf-u-p-lg",key:"orders-toolbar",fields:[{component:i.b.TOP_TOOLBAR_TITLE,key:"orders-toolbar-title",title:"Orders",className:""}]}]}},l=r(34),u=r.n(l),d=r(1),p=r.n(d),f=r(26),m=r(63),y=r(64),g=r(401),v=r(109),b=r(424),O=r(425),h=r(426),j=r(463),E=r(449),P=r(60),_=r(73),w=r(112),I=r(580),D=r(605),F=r(606),N=r(404),T=r.n(N),C=r(447),R=r(393),k=r(62),q=r(12),M=r.n(q),L=r(76),S=r(184),x=r(40),A=r(58),G=r(110),B=r(460),U=r.n(B),V=r(423),J=r(14),Y=function(e){var t=e.orderItems;return t[0]&&"".concat(J.c,"/portfolio_items/").concat(t[0].portfolio_item_id,"/icon")},K=function(e,t){var r=e.orderItems,n=e.id,a=r[0]&&t.find((function(e){var t=e.id;return r[0].portfolio_item_id===t}));return a?a.name:"Order ".concat(n)},z=r(394),Q=r(11),W=r(23),H=r.n(W),X=r(385),Z=r.n(X),$=r(45),ee=r.n($),te=r(517),re=r(24);function ne(){var e=H()(["\n  @media screen and (min-width: 768px) {\n    vertical-align: top !important;\n    width: ",";\n    img {\n      object-fit: contain;\n    }\n  }\n"]);return ne=function(){return e},e}var ae=M.a.oneOfType([M.a.node,M.a.arrayOf(M.a.node)]),oe=function(e){var t=e.children,r=e.className,n=ee()(e,["children","className"]);return a.a.createElement("table",Z()({className:Object(te.a)("pf-c-table","pf-m-grid-md",r)},n),t)};oe.propTypes={children:ae.isRequired,className:M.a.string};var ce=function(e){var t=e.children,r=ee()(e,["children"]);return a.a.createElement("tbody",r,t)};ce.propTypes={children:ae.isRequired};var ie=Object(re.b)((function(e){e.shrink;var t=e.children,r=ee()(e,["shrink","children"]);return a.a.createElement("td",r,t)}))(ne(),(function(e){return e.shrink?"200px !important":"initial"})),se=r(416),le=r(392),ue={"Approval Pending":Q.k,Completed:Q.l},de=Object(n.memo)((function(e){var t=e.item,r=Object(_.a)().formatMessage,n=Object(f.useSelector)((function(e){var r,n,a,o=e.portfolioReducer.portfolioItems.data,c=(r=o,n=t.orderItems,(a=n[0]&&r.find((function(e){var t=e.id;return n[0].portfolio_item_id===t})))?{orderPlatform:a.service_offering_source_ref,orderPortfolio:a.portfolio_id}:{});return{orderPlatform:c.orderPlatform,orderPortfolio:c.orderPortfolio,orderName:K(t,o)}})),o=n.orderPlatform,c=n.orderPortfolio,i=n.orderName,s=t.orderItems[0]&&t.orderItems[0]||{},l={order:t.id,"order-item":s.id,"portfolio-item":s.portfolio_item_id,platform:o,portfolio:c},u=t.state.replace(/\s/g,"").replace(/^./,(function(e){return e.toLowerCase()}));return a.a.createElement("tr",{"aria-labelledby":"".concat(t.id,"-expand"),className:"data-list-expand-fix"},a.a.createElement(ie,{shrink:!0,className:"pf-u-pl-xl-on-md"},a.a.createElement(V.a,{height:60,src:Y(t),sourceId:o})),a.a.createElement(ie,null,a.a.createElement(A.TextContent,null,a.a.createElement(m.Grid,{hasGutter:!0,className:"pf-u-gg-md"},a.a.createElement(y.GridItem,null,a.a.createElement(L.Level,{className:"flex-no-wrap"},a.a.createElement(S.LevelItem,null,a.a.createElement(x.Text,{className:"pf-u-mb-0",component:x.TextVariants.h5},a.a.createElement(z.a,{pathname:Q.m,searchParams:l},r(le.a.compositeTitle,{name:i,id:t.id})))),a.a.createElement(S.LevelItem,{className:"flex-item-no-wrap"},a.a.createElement(z.a,{pathname:ue[t.state]||Q.m,searchParams:l},"Failed"===t.state&&a.a.createElement(U.a,{className:"pf-u-mr-sm icon-danger-fill"}),r(se.a[u]))))),a.a.createElement(y.GridItem,null,a.a.createElement(L.Level,null,a.a.createElement(S.LevelItem,null,a.a.createElement(x.Text,{className:"pf-u-mb-0",component:x.TextVariants.small},r(se.a.ordered)," ",a.a.createElement(G.DateFormat,{date:t.created_at,variant:"relative"}))),a.a.createElement(S.LevelItem,null,a.a.createElement(x.Text,{className:"pf-u-mb-0",component:x.TextVariants.small},r(le.a.orderedBy,{owner:t.owner}))),a.a.createElement(S.LevelItem,null,a.a.createElement(x.Text,{className:"pf-u-mb-0",component:x.TextVariants.small},r(le.a.lastUpdated)," ",a.a.createElement(G.DateFormat,{date:t.orderItems[0]&&t.orderItems[0].updated_at,variant:"relative"})))))))))}),(function(e,t){return e.id===t.id}));de.propTypes={item:M.a.object.isRequired};var pe=de,fe=r(389),me=r(387),ye=r(59),ge=r(116),ve=r(398);function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var he=Object(me.a)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye.a,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;n(!0),r(Object(C.d)(e,t)).then((function(){return n(!1)}))}),1e3),je={isOpen:!1,isFetching:!0,isFiltering:!1,filterType:"state",filters:{state:[],owner:""}},Ee=function(e,t){switch(t.type){case"setFetching":return Oe(Oe({},e),{},{isFetching:t.payload});case"setFilterValue":return Oe(Oe({},e),{},{filters:(r=t.payload,n=e.filterType,a=e.filters,Oe(Oe({},a),{},p()({},n,r)))});case"replaceFilterChip":return Oe(Oe({},e),{},{filters:t.payload});case"setFilteringFlag":return Oe(Oe({},e),{},{isFiltering:t.payload});case"setFilterType":return Oe(Oe({},e),{},{filterType:t.payload})}var r,n,a;return e},Pe=function(){var e,t=Object(_.a)().formatMessage,r=Object(ge.a)(),o=Object(n.useReducer)(Ee,Oe(Oe({},je),{},{filters:(null==r||null===(e=r.orders)||void 0===e?void 0:e.filters)||{state:[],owner:""}})),c=u()(o,2),i=c[0],s=i.isFetching,l=i.isFiltering,d=i.filterType,N=i.filters,q=c[1],M=Object(f.useSelector)((function(e){return e.orderReducer.orders})),L=M.data,S=M.meta,x=Object(f.useDispatch)();Object(n.useEffect)((function(){q({type:"setFetching",payload:!0}),Promise.all([x(Object(C.d)(N,null==r?void 0:r.orders)),x(Object(R.c)())]).then((function(){return q({type:"setFetching",payload:!1})}))}),[]);var A=function(e,t){return q({type:"setFetching",payload:!0}),x(Object(C.d)(N,t)).then((function(){return q({type:"setFetching",payload:!1})})).catch((function(){return q({type:"setFetching",payload:!1})}))},G=function(e){q({type:"setFilterValue",payload:e}),he(Oe(Oe({},N),{},p()({},d,e)),Oe(Oe({},S),{},{offset:0}),x,(function(e){return q({type:"setFilteringFlag",payload:e})}))};return a.a.createElement(m.Grid,{hasGutter:!0},a.a.createElement(y.GridItem,null,a.a.createElement(w.Section,{type:"content"},!S.noData&&a.a.createElement(I.PrimaryToolbar,{activeFiltersConfig:{filters:Object.entries(N).filter((function(e){var t=u()(e,2)[1];return t&&t.length>0})).map((function(e){var t=u()(e,2),r=t[0],n=t[1];return{category:r,type:r,chips:Array.isArray(n)?n.map((function(e){return{name:e}})):[{name:n}]}})),onDelete:function(e,t,r){var n=u()(t,1)[0];if(r)return q({type:"replaceFilterChip",payload:je.filters}),he(je.filters,S,x,(function(e){return q({type:"setFilteringFlag",payload:e})}));var a=Oe({},N);"state"===n.type?a[n.type]=a[n.type].filter((function(e){return e!==n.chips[0].name})):a[n.type]="",q({type:"replaceFilterChip",payload:a}),he(a,S,x,(function(e){return q({type:"setFilteringFlag",payload:e})}))}},filterConfig:{onChange:function(e,t){return q({type:"setFilterType",payload:t})},value:d,items:[{filterValues:{items:[{value:"Approval Pending",label:t(se.a.approvalPending)},{value:"Canceled",label:t(se.a.canceled)},{value:"Completed",label:t(se.a.completed)},{value:"Created",label:t(se.a.created)},{value:"Failed",label:t(se.a.failed)},{value:"Ordered",label:t(se.a.ordered)}],value:N.state,onChange:function(e,t){return G(t)}},label:"State",value:"state",type:"checkbox"},{filterValues:{value:N.owner,onChange:function(e,t){return G(t)}},label:"Owner",value:"owner"}]},pagination:a.a.createElement(fe.a,{isDisabled:s||l,apiRequest:A,meta:S,isCompact:!0})}),a.a.createElement(oe,{"aria-label":"order-list"},a.a.createElement(ce,null,s||l?a.a.createElement("tr",null,a.a.createElement("td",{className:"pf-u-p-0"},a.a.createElement(k.d,null))):L.length>0?L.map((function(e,t){return a.a.createElement(pe,{key:e.id,index:t,item:e})})):a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement(D.EmptyTable,null,a.a.createElement(v.Bullseye,null,a.a.createElement(b.EmptyState,null,a.a.createElement(v.Bullseye,null,a.a.createElement(O.EmptyStateIcon,{icon:T.a})),a.a.createElement(g.Title,{headingLevel:"h1",size:"lg"},S.noData?t(le.a.noOrdersTitle):t(ve.a.noResults)),a.a.createElement(h.EmptyStateBody,null,S.noData?t(le.a.noOrdersDescription):t(ve.a.noResultsDescription)),a.a.createElement(E.EmptyStateSecondaryActions,null,!S.noData&&a.a.createElement(P.Button,{variant:"link",onClick:function(){q({type:"setFilteringFlag",payload:!0}),G("")}},t(ve.a.clearFilters)))))))))),a.a.createElement(F.TableToolbar,{className:"pf-u-mr-0"},a.a.createElement("div",{className:"bottom-pagination-container"},a.a.createElement(j.Flex,{justifyContent:{default:"justifyContentFlexEnd"}},S.count>0&&a.a.createElement(fe.a,{className:"pf-u-mt-0",isDisabled:s||l,apiRequest:A,meta:S})))))))};t.default=function(){return Object(n.useEffect)((function(){insights.chrome.appNavClick({id:"orders",secondaryNav:!0})}),[]),a.a.createElement(o.Stack,null,a.a.createElement(c.a,{schema:s()}),a.a.createElement(Pe,null))}}}]);
//# sourceMappingURL=../sourcemaps/orders~91f4305a.js.map