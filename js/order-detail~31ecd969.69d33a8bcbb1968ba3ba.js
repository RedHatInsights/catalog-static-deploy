(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{531:function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},534:function(e,t,r){"use strict";var n=r(3),a=r.n(n),o=r(531),c=r.n(o),i=r(43),l=r.n(i),u=r(81),s=r.n(u),f=r(34),p=r.n(f),d=r(0),m=r.n(d),v=r(14),h=r.n(v),b=r(54),O=r(68),y=r(35);function g(){var e=p()(["\n  pointer-events: ",";\n"]);return g=function(){return e},e}function j(){var e=p()(["\n  pointer-events: ",";\n"]);return j=function(){return e},e}var E=Object(y.b)((function(e){e.isDisabled;var t=s()(e,["isDisabled"]);return m.a.createElement(b.a,t)}))(j(),(function(e){return e.isDisabled?"none":"initial"})),P=Object(y.b)((function(e){e.isDisabled;var t=s()(e,["isDisabled"]);return m.a.createElement(b.b,t)}))(g(),(function(e){return e.isDisabled?"none":"initial"})),I=function(e,t,r){var n=Object.entries(t).map((function(e){var t=l()(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join("&");return r?"".concat(e).concat(n.length>0?"&".concat(n):""):n.length>0?"?".concat(n):""},w=function(e){var t=e.pathname,r=e.searchParams,n=e.nav,a=e.preserveSearch,o=e.preserveHash,i=(e.showDivider,s()(e,["pathname","searchParams","nav","preserveSearch","preserveHash","showDivider"])),l=Object(O.h)(),u=l.search,f=l.hash,p=n?P:E,d={pathname:t,search:I(u,r,a),hash:o?f:void 0};return m.a.createElement(p,c()({to:d},i))};w.propTypes={pathname:h.a.string.isRequired,searchParams:h.a.shape(a()({},h.a.string,h.a.string)),nav:h.a.bool,preserveSearch:h.a.bool,preserveHash:h.a.bool,showDivider:h.a.any},w.defaultProps={nav:!1,preserveSearch:!1,searchParams:{},preserveHash:!1},t.a=w},536:function(e,t,r){"use strict";r.d(t,"c",(function(){return P})),r.d(t,"b",(function(){return I})),r.d(t,"d",(function(){return w})),r.d(t,"a",(function(){return D})),r.d(t,"e",(function(){return _}));var n={};r.r(n),r.d(n,"getPlatforms",(function(){return h})),r.d(n,"getPlatform",(function(){return b})),r.d(n,"getPlatformItems",(function(){return O})),r.d(n,"getPlatformInventories",(function(){return y})),r.d(n,"getServiceOffering",(function(){return g}));var a=r(3),o=r.n(a),c=r(4),i=r(43),l=r.n(i),u=r(116),s=r(18),f=r(83);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=Object(u.a)(),v=Object(u.b)(),h=function(){return v.post("".concat(s.i,"/graphql"),{query:'\nquery {\n  application_types (filter: { name: "/insights/platform/catalog" }) {\n    id\n    name\n    sources {\n      id\n      name\n      source_type_id\n    }\n  }\n}'}).then((function(e){return e.data.application_types})).then((function(e){return l()(e,1)[0].sources}))},b=function(e){return m.get("".concat(s.i,"/sources/").concat(e))},O=function(e,t,r){var n=t?"&filter[name][contains_i]=".concat(t):"";return e?m.get("".concat(s.j,"/sources/").concat(e,"/service_offerings?filter[archived_at][nil]").concat(n).concat(r?"&limit=".concat(r.limit,"&offset=").concat(r.offset):"")):m.get("".concat(s.j,"/service_offerings"))},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.a;return e?m.get("".concat(s.j,"/sources/").concat(e,"/service_inventories?filter[name][contains_i]=").concat(t).concat(r?"&limit=".concat(r.limit,"&offset=").concat(r.offset):"")):m.get("".concat(s.j,"/service_inventories?limit=").concat(r.limit,"&offset=").concat(r.offset))},g=function(e,t){return Promise.all([m.get("".concat(s.j,"/service_offerings/").concat(e)),m.get("".concat(s.i,"/sources/").concat(t)).then((function(e){return m.get("".concat(s.i,"/source_types/").concat(e.source_type_id)).then((function(t){var r=t.icon_url;return d(d({},e),{},{icon_url:r})}))}))]).then((function(e){var t=l()(e,2);return{service:t[0],source:t[1]}}))};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=function(){return function(e){return e({type:"".concat(c.k,"_PENDING")}),h().then((function(t){return e({type:"".concat(c.k,"_FULFILLED"),payload:t})})).catch((function(t){return e({type:"".concat(c.k,"_REJECTED"),payload:t})}))}},I=function(e,t,r){return{type:c.n,payload:O(e,t,r),meta:E({platformId:e,filter:t},r)}},w=function(e){return{type:c.j,payload:b(e)}},D=function(e,t,r){return{type:c.l,payload:y(e,t,r)}},_=function(){return{type:c.v,payload:g.apply(n,arguments)}}},54:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return y}));var n=r(68),a=r(39),o=r(0),c=r.n(o),i=r(40),l=(r(14),r(15)),u=r(37),s=r(41);c.a.Component;c.a.Component;var f=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return"string"==typeof e?Object(i.c)(e,null,null,t):e},d=function(e){return e},m=c.a.forwardRef;void 0===m&&(m=d);var v=m((function(e,t){var r=e.innerRef,n=e.navigate,a=e.onClick,o=Object(u.a)(e,["innerRef","navigate","onClick"]),i=o.target,s=Object(l.a)({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||i&&"_self"!==i||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),n())}});return s.ref=d!==m&&t||r,c.a.createElement("a",s)}));var h=m((function(e,t){var r=e.component,a=void 0===r?v:r,o=e.replace,i=e.to,h=e.innerRef,b=Object(u.a)(e,["component","replace","to","innerRef"]);return c.a.createElement(n.e.Consumer,null,(function(e){e||Object(s.a)(!1);var r=e.history,n=p(f(i,e.location),e.location),u=n?r.createHref(n):"",v=Object(l.a)({},b,{href:u,navigate:function(){var t=f(i,e.location);(o?r.replace:r.push)(t)}});return d!==m?v.ref=t||h:v.innerRef=h,c.a.createElement(a,v)}))})),b=function(e){return e},O=c.a.forwardRef;void 0===O&&(O=b);var y=O((function(e,t){var r=e["aria-current"],a=void 0===r?"page":r,o=e.activeClassName,i=void 0===o?"active":o,d=e.activeStyle,m=e.className,v=e.exact,y=e.isActive,g=e.location,j=e.sensitive,E=e.strict,P=e.style,I=e.to,w=e.innerRef,D=Object(u.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return c.a.createElement(n.e.Consumer,null,(function(e){e||Object(s.a)(!1);var r=g||e.location,o=p(f(I,r),r),u=o.pathname,_=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),N=_?Object(n.f)(r.pathname,{path:_,exact:v,sensitive:j,strict:E}):null,R=!!(y?y(N,r):N),C=R?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(m,i):m,S=R?Object(l.a)({},P,{},d):P,k=Object(l.a)({"aria-current":R&&a||null,className:C,style:S,to:o},D);return b!==O?k.ref=t||w:k.innerRef=w,c.a.createElement(h,k)}))}))},558:function(e,t,r){"use strict";var n=r(531),a=r.n(n),o=r(81),c=r.n(o),i=r(0),l=r.n(i),u=r(14),s=r.n(u),f=r(534),p=function(e){var t=e.children,r=e.pathname,n=c()(e,["children","pathname"]);return r?l.a.createElement(f.a,a()({pathname:r},n),t):t};p.propTypes={pathname:s.a.string,children:s.a.oneOfType([s.a.node,s.a.arrayOf(s.a.node)]).isRequired},t.a=p},561:function(e,t,r){"use strict";r.d(t,"e",(function(){return U})),r.d(t,"f",(function(){return M})),r.d(t,"a",(function(){return z})),r.d(t,"d",(function(){return B})),r.d(t,"c",(function(){return G})),r.d(t,"b",(function(){return J}));var n=r(81),a=r.n(n),o=r(43),c=r.n(o),i=r(3),l=r.n(i),u=r(0),s=r.n(u),f=r(148),p=r(4),d=r(70),m=r.n(d),v=r(120),h=r.n(v),b=r(116),O=r(18),y=r(83);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=Object(b.c)(),P=(Object(b.d)(),Object(b.f)()),I=Object(b.a)();function w(e){return P.listServicePlans(e)}function D(e){return _.apply(this,arguments)}function _(){return(_=h()(m.a.mark((function e(t){var r,n,o,c,i,l,u;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.service_parameters,n=r.providerControlParameters,o=a()(r,["providerControlParameters"]),c=a()(t,["service_parameters"]),e.next=3,E.createOrder();case 3:return i=e.sent,(l={}).count=1,l=j(j(j({},l),c),{},{service_parameters:o,provider_control_parameters:n||{}}),e.next=9,E.addToOrder(i.id,l);case 9:return u=e.sent,e.abrupt("return",E.submitOrder(i.id).then((function(e){return j(j({},e),{},{orderItem:u})})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){return I.get("".concat(O.c,"/order_items?").concat(e.map((function(e){return"filter[order_id][]=".concat(e)})).join("&")))},R=function(e){return I.get("".concat(O.c,"/portfolio_items?").concat(e.map((function(e){return"filter[id][]=".concat(e)})).join("&")))},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.a;return I.get("".concat(O.c,"/orders?").concat(e,"&limit=").concat(t.limit,"&offset=").concat(t.offset)).then((function(e){return N(e.data.map((function(e){return e.id}))).then((function(t){return R(t.data.map((function(e){return e.portfolio_item_id}))).then((function(r){return j(j({portfolioItems:r},e),{},{data:e.data.map((function(e){return j(j({},e),{},{orderItems:t.data.filter((function(t){return t.order_id===e.id}))})}))})}))}))}))};var S=r(14),k=r.n(S),q=r(54),x=r(13),L=function(e){var t=e.id,r=e.dispatch,n=e.portfolioItemId,a=e.portfolioId,o=e.platformId,c=e.orderItemId;return s.a.createElement(u.Fragment,null,"You can track the progress of Order # ",t," in your"," ",s.a.createElement(q.a,{onClick:function(){return r(Object(f.clearNotifications)())},to:{pathname:x.m,search:"?order=".concat(t,"&order-item=").concat(c,"&portfolio-item=").concat(n,"&platform=").concat(o,"&portfolio=").concat(a)}},"Orders")," ","page.")};L.propTypes={id:k.a.string.isRequired,dispatch:k.a.func.isRequired,portfolioItemId:k.a.string.isRequired,portfolioId:k.a.string.isRequired,platformId:k.a.string.isRequired,orderItemId:k.a.string.isRequired};var T=L;function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U=function(e){return{type:p.w,payload:w(e)}},M=function(e,t){return function(r){return r({type:p.T,payload:D(e).then((function(e){var n=e.id,a=e.orderItem;return r(Object(f.addNotification)({variant:"success",title:"Your order has been accepted successfully",description:s.a.createElement(T,{id:n,dispatch:r,portfolioItemId:t.id,portfolioId:t.portfolio_id,platformId:t.service_offering_source_ref,orderItemId:a.id}),dismissable:!0}))}))})}},z=function(e){return function(t,r){t({type:"".concat(p.d,"_PENDING")});var n=r().orderReducer.orderDetail;return function(e){return E.cancelOrder(e)}(e).then((function(){return n.order.state="Canceled",n.approvalRequest&&n.approvalRequest.length>0&&(n.approvalRequest[0].state="canceled"),t({type:p.O,payload:A({},n)}),n})).then((function(e){return t(Object(f.addNotification)({variant:"success",title:"Your order has been canceled successfully",description:"Order ".concat("Order #".concat(e.order.id)," was canceled."),dismissable:!0}))})).then((function(){return t({type:"".concat(p.d,"_FULFILLED")})})).catch((function(e){t({type:"".concat(p.d,"_REJECTED"),payload:e})}))}},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.a;return function(r){var n=Object.entries(e).filter((function(e){var t=c()(e,2)[1];return t&&t.length>0})).map((function(e){var t=c()(e,2),r=t[0],n=t[1];return Array.isArray(n)?n.map((function(e){return"filter[".concat(r,"][]=").concat(e)})).join("&"):"filter[".concat(r,"][contains_i]=").concat(n)})).join("&");return r({type:"".concat(p.h,"_PENDING")}),C(n,t).then((function(o){var c=o.portfolioItems,i=a()(o,["portfolioItems"]);return r({type:p.P,payload:c}),r({type:"".concat(p.h,"_FULFILLED"),meta:A(A({},t),{},{filter:n,filters:e,storeState:!0,stateKey:"orders"}),payload:i})})).catch((function(e){return r({type:"".concat(p.h,"_REJECTED"),payload:e})}))}},G=function(e){return function(t){return t({type:"".concat(p.O,"_PENDING")}),function(e){var t=[I.get("".concat(O.c,"/orders/").concat(e.order)),I.get("".concat(O.c,"/order_items/").concat(e["order-item"])).catch((function(e){if(404===e.status||400===e.status)return{object:"Order item",notFound:!0};throw e})),I.get("".concat(O.c,"/portfolio_items/").concat(e["portfolio-item"])).catch((function(e){if(404===e.status||400===e.status)return{object:"Product",notFound:!0};throw e}))];return t.push(e.platform&&"undefined"!==e.platform?I.get("".concat(O.i,"/sources/").concat(e.platform)).catch((function(e){if(404===e.status||400===e.status)return{object:"Platform",notFound:!0};throw e})):{object:"Platform",notFound:!0}),t.push(I.get("".concat(O.c,"/order_items/").concat(e["order-item"],"/progress_messages")).catch((function(e){if(404===e.status||400===e.status)return{};throw e}))),t.push(e.portfolio&&"undefined"!==e.portfolio?I.get("".concat(O.c,"/portfolios/").concat(e.portfolio)).catch((function(e){if(404===e.status||400===e.status)return{object:"Portfolio",notFound:!0};throw e})):{object:"Portfolio",notFound:!0}),Promise.all(t)}(e).then((function(e){var r=c()(e,7),n=r[0],a=r[1],o=r[2],i=r[3],l=r[4],u=r[5],s=r[6];return t({type:"".concat(p.O,"_FULFILLED"),payload:{order:n,orderItem:a,portfolioItem:o,platform:i,progressMessages:l,portfolio:u,approvalRequest:s}})})).catch((function(e){return t({type:"".concat(p.O,"_REJECTED"),payload:e})}))}},J=function(e){return function(t){return t({type:"".concat(p.f,"_PENDING")}),function(e){return I.get("".concat(O.c,"/order_items/").concat(e,"/approval_requests"))}(e).then((function(e){return t({type:"".concat(p.f,"_FULFILLED"),payload:e}),e})).catch((function(e){return t({type:"".concat(p.f,"_REJECTED"),payload:e})}))}}},569:function(e,t,r){"use strict";var n,a,o=r(24),c=r.n(o),i=r(0),l=r(68),u=r(36),s=r(3),f=r.n(s),p=r(4),d=r(13),m=(d.s,{"portfolio-item":["source"]}),v=(n={},f()(n,d.u,(function(e){return e().portfolioReducer.selectedPortfolio.name})),f()(n,d.t,(function(e){return e().portfolioReducer.portfolioItem.portfolioItem.name})),f()(n,d.e,(function(){return"Edit survey"})),f()(n,d.b,(function(){return"Add products"})),f()(n,d.p,(function(e){return e().platformReducer.selectedPlatform.name})),f()(n,d.q,(function(e){return e().platformReducer.serviceOffering.service.name})),f()(n,d.m,(function(e){var t=e().orderReducer.orderDetail,r=t.portfolioItem,n=t.order;return"".concat(r.name," # ").concat(n.id)})),n),h=(a={},f()(a,d.u,{pathname:d.s,title:"Portfolios",searchParams:{}}),f()(a,d.p,{pathname:d.n,title:"Platforms",searchParams:{}}),f()(a,d.m,{pathname:d.j,title:"Orders",searchParams:{}}),a);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){f()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r,n){if(0===e.length)return r({type:p.A,payload:[]});var a=e.replace(/^\//,"").split("/").reduce((function(e,r,a){var o="".concat(a>0&&e[a-1]?e[a-1].pathname:"","/").concat(r),i=v[o];if(!i)return e;var l=O(O({},a>0&&e[a-1].searchParams),t[r]?f()({},r,t[r]):{});return m[r]&&m[r].forEach((function(e){l[e]=t[e]})),[].concat(c()(e),[{pathname:o,searchParams:l,title:i(n)}])}),[]);return a.length>0&&h[a[0].pathname]&&(a=[h[a[0].pathname]].concat(c()(a))),r({type:p.A,payload:a})}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(u.useDispatch)(),r=Object(l.h)(),n=r.pathname,a=r.search;if(0===e.length)return t(y("",{}));var o=new URLSearchParams(a),s={};return o.forEach((function(e,t){s[t]=e})),Object(i.useEffect)((function(){t(y(n,s))}),[n].concat(c()(e))),function(){return t(y("",{}))}}},570:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(494),c=r(495),i=r(36),l=r(558);t.a=function(){var e=Object(i.useSelector)((function(e){return e.breadcrumbsReducer.fragments}));return e.length<=1?null:a.a.createElement(o.Breadcrumb,null,e.map((function(t,r){var n=t.title,o=t.pathname,i=t.searchParams;return a.a.createElement(l.a,{pathname:e.length!==r+1?o:void 0,searchParams:i,nav:!0,exact:!0,key:o,className:"pf-c-breadcrumb__item"},a.a.createElement(c.BreadcrumbItem,{showDivider:r>0,isActive:e.length===r+1},n))})))}},588:function(e,t,r){"use strict";var n=r(0),a=r(163),o=r(127),c=r(9),i=r(126),l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const u=r.n(i).a||i,s=(e,t)=>Object(o.b)(Object.assign(Object.assign({},c.a),{locale:"en"}),Object(c.c)(),e,t);class f extends n.Component{shouldComponentUpdate(e){const t=this.props,{values:r}=t,n=l(t,["values"]),{values:a}=e,o=l(e,["values"]);return!u(a,r)||!u(n,o)}render(){return n.createElement(a.a.Consumer,null,e=>{this.props.defaultMessage||Object(c.h)(e);const{formatMessage:t=s,textComponent:r=n.Fragment}=e||{},{id:a,description:o,defaultMessage:i,values:l,children:u,tagName:f=r}=this.props;let p=t({id:a,description:o,defaultMessage:i},l);return Array.isArray(p)||(p=[p]),"function"==typeof u?u(...p):f?n.createElement(f,null,...p):p})}}f.displayName="FormattedMessage",f.defaultProps={values:{}},t.a=f},645:function(e,t,r){"use strict";r.r(t);var n=r(43),a=r.n(n),o=r(0),c=r.n(o),i=r(68),l=r(485),u=r(117),s=r(244),f=r(483),p=r(482),d=r(155),m=r(250),v=r(152),h=r(36),b=r(561),O=r(14),y=r.n(O),g=r(476),j=function(e){var t=e.portfolioItemName,r=e.orderId;return c.a.createElement(g.Title,{headingLevel:"h1",size:"3xl"},t," - Order # ",r)};j.propTypes={portfolioItemName:y.a.string.isRequired,orderId:y.a.string.isRequired};var E=j,P=r(166),I=r(58),w=r(479),D=r(513),_=r.n(D),N=function(e){var t=e.name,r=e.cancelOrder,n=e.onClose,a=e.isOpen;return c.a.createElement(w.Modal,{isOpen:a,onClose:n,title:" ",header:c.a.createElement(g.Title,{size:"2xl",headingLevel:"h2"},c.a.createElement(_.a,{fill:"#F0AB00"})," Cancel order"),variant:"small",actions:[c.a.createElement(I.Button,{onClick:r,key:"cancel-order",id:"cancel-order",variant:"danger"},"Cancel order"),c.a.createElement(I.Button,{onClick:n,key:"keep-order",id:"keep-order",variant:"link"},"Keep order")]},"Are you sure you want to cancel ",t,"?")};N.propTypes={name:y.a.string.isRequired,cancelOrder:y.a.func.isRequired,onClose:y.a.func.isRequired,isOpen:y.a.bool};var R=N,C=["Approval Pending"],S=function(e){return C.includes(e)},k=function(e){var t=e.state,r=e.orderId,n=e.portfolioItemName,i=Object(h.useDispatch)(),l=Object(o.useState)(!1),u=a()(l,2),s=u[0],f=u[1];return c.a.createElement(o.Fragment,null,c.a.createElement(R,{onClose:function(){return f(!1)},isOpen:s,cancelOrder:function(){f(!1),i(Object(b.a)(r))},name:n}),c.a.createElement(P.ActionGroup,null,c.a.createElement(I.Button,{onClick:function(){return f(!0)},isDisabled:!S(t),type:"button",className:"pf-u-mr-md",id:"cancel-order-action"},"Cancel order")))};k.propTypes={state:y.a.string,orderId:y.a.string.isRequired,portfolioItemName:y.a.string.isRequired};var q=k,x=r(82),L=r(53),T=r(491),F=r.n(T),A=r(156),U=r(554),M=r(18),z=function(e){var t=e.jobName,r=e.state,n=e.orderRequestDate,a=e.orderUpdateDate,o=e.owner,i=e.portfolioItemId,l=e.sourceId;return c.a.createElement(f.Split,{className:"pf-u-mt-sm"},c.a.createElement(p.SplitItem,{className:"pf-u-mr-md"},c.a.createElement(U.a,{sourceId:l,height:60,src:"".concat(M.c,"/portfolio_items/").concat(i,"/icon")})),c.a.createElement(p.SplitItem,null,c.a.createElement(u.Level,null,c.a.createElement(s.LevelItem,{className:"pf-u-mr-lg"},c.a.createElement(g.Title,{headingLevel:"h5",size:"md"},t)),c.a.createElement(s.LevelItem,null,c.a.createElement(g.Title,{headingLevel:"h5",size:"md"},"Status:"," ","Failed"===r&&c.a.createElement(F.a,{className:"pf-u-mr-sm icon-danger-fill"})," ",r))),c.a.createElement(u.Level,null,c.a.createElement(s.LevelItem,{className:"pf-u-mr-lg"},c.a.createElement(x.TextContent,null,c.a.createElement(L.Text,{component:L.TextVariants.small},"Ordered ",c.a.createElement(A.DateFormat,{date:n,type:"relative"})))),c.a.createElement(s.LevelItem,{className:"pf-u-mr-lg"},c.a.createElement(x.TextContent,null,c.a.createElement(L.Text,{component:L.TextVariants.small},"Ordered by ",o))),c.a.createElement(s.LevelItem,null,c.a.createElement(x.TextContent,null,c.a.createElement(L.Text,{component:L.TextVariants.small},"Last updated ",c.a.createElement(A.DateFormat,{date:a,type:"relative"})))))))};z.propTypes={portfolioItemId:y.a.string.isRequired,sourceId:y.a.string.isRequired,state:y.a.string.isRequired,jobName:y.a.string.isRequired,orderRequestDate:y.a.string.isRequired,orderUpdateDate:y.a.string.isRequired,owner:y.a.string.isRequired};var B=z,G=r(531),J=r.n(G),K=r(514),H=r(256),V=r(534),Y=function(e){var t=e.baseUrl,r=e.isFetching,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state;return[{link:"",title:"Order details"},{link:"/approval",title:"Approval"},{link:"/lifecycle",title:"Lifecycle",isDisabled:"Completed"!==t&&"Ordered"!==t}]}(Object(h.useSelector)((function(e){return e.orderReducer.orderDetail||{}})).order);return c.a.createElement(H.Nav,null,c.a.createElement(K.NavList,{className:"orders-side-nav-list"},c.a.createElement("li",{className:"pf-c-nav__item orders-nav-section-group"},c.a.createElement(x.TextContent,null,c.a.createElement(L.Text,{component:L.TextVariants.small},"Order steps"))),n.map((function(e){var n=e.link,a=e.title,o=e.isDisabled;return c.a.createElement("li",J()({key:n||a,className:"pf-c-nav__item orders-side-nav-item orders-side-nav-category".concat(o||r?" disabled":"")},o?{tabIndex:-1}:{}),c.a.createElement(V.a,J()({exact:!0,nav:!0,isDisabled:o,pathname:"".concat(t).concat(n),preserveSearch:!0,className:"pf-c-nav__link orders-side-nav-link",activeClassName:"pf-m-active"},o?{tabIndex:-1}:{}),a))}))))};Y.propTypes={baseUrl:y.a.string.isRequired,isFetching:y.a.bool};var $=Y,Q=r(84),W=r(85),X=r(570),Z=r(569),ee=r(536),te=r(13),re=r(34),ne=r.n(re),ae=r(484),oe=r(35);function ce(){var e=ne()(["\n  border-bottom: 2px solid var(--pf-global--Color--light-200);\n"]);return ce=function(){return e},e}function ie(){var e=ne()(["\n  background-color: var(--pf-global--Color--light-100);\n"]);return ie=function(){return e},e}var le=Object(oe.b)(ae.Stack)(ie()),ue=Object(oe.b)(l.StackItem)(ce());function se(){var e=ne()(["\n  width: 100%;\n  > *:not(:last-child) {\n    margin-bottom: 4px;\n    width: 100%;\n  }\n"]);return se=function(){return e},e}var fe=oe.b.div(se()),pe=r(588),de=Object(o.lazy)((function(){return Promise.all([r.e(5),r.e(3),r.e(2),r.e(6),r.e(1),r.e(0),r.e(4),r.e(17)]).then(r.bind(null,641))})),me=Object(o.lazy)((function(){return Promise.all([r.e(5),r.e(3),r.e(2),r.e(6),r.e(1),r.e(0),r.e(4),r.e(34)]).then(r.bind(null,642))})),ve=Object(o.lazy)((function(){return Promise.all([r.e(5),r.e(3),r.e(2),r.e(6),r.e(1),r.e(0),r.e(4),r.e(12),r.e(32)]).then(r.bind(null,643))})),he=["order-item","portfolio-item","platform","portfolio","order"];t.default=function(){var e=Object(o.useState)(!0),t=a()(e,2),r=t[0],n=t[1],O=Object(W.a)(he),y=a()(O,1)[0],g=Object(h.useSelector)((function(e){return e.orderReducer.orderDetail})),j=Object(i.i)(te.m),P=Object(h.useDispatch)(),I=Object(Z.a)([g]);Object(o.useEffect)((function(){return insights.chrome.appNavClick({id:"orders",secondaryNav:!0}),n(!0),Promise.all([P(Object(ee.c)()),P(Object(b.c)(y))]).then((function(){return n(!1)})),function(){return I()}}),[]);var w=g.order,D=g.portfolioItem,_=g.platform,N=g.orderItem,R=g.portfolio,C=function(){var e=[D,_,R||{}].filter((function(e){return e.notFound}));if(0===e.length)return null;var t=[];return D.notFound?t.push(D.object):t=e.map((function(e){return e.object})),c.a.createElement(m.Alert,{key:"order-object-missing",variant:"warning",isInline:!0,title:c.a.createElement(pe.a,{id:"order-detail-not-found",defaultMessage:"The ".concat(t.join(", ")," for this order {count, plural, one {is} other {are}} not available"),values:{count:t.length}})})}();return c.a.createElement(le,{className:"bg-fill"},c.a.createElement(ue,{className:"pf-u-p-lg"},r?c.a.createElement(Q.e,null):c.a.createElement(o.Fragment,null,c.a.createElement(u.Level,{className:"pf-u-mb-md"},c.a.createElement(X.a,null)),c.a.createElement(u.Level,{className:"flex-no-wrap"},C?c.a.createElement(fe,null,C):c.a.createElement(o.Fragment,null,c.a.createElement(s.LevelItem,null,c.a.createElement(E,{portfolioItemName:D.name,orderId:w.id})),c.a.createElement(s.LevelItem,{className:"flex-item-no-wrap"},c.a.createElement(q,{portfolioItemName:D.name,orderId:w.id,state:w.state})))),!C&&c.a.createElement(u.Level,null,c.a.createElement(B,{portfolioItemId:D.id,sourceId:_.id,state:w.state,jobName:D.name,orderRequestDate:w.created_at,orderUpdateDate:null==N?void 0:N.updated_at,owner:w.owner})))),c.a.createElement(l.StackItem,{className:"pf-u-pt-xl pf-u-ml-lg pf-u-ml-0-on-md"},c.a.createElement(f.Split,{hasGutter:!0,className:"orders-nav-layout"},c.a.createElement(p.SplitItem,{className:"order-detail-nav-container"},c.a.createElement($,{isFetching:r,baseUrl:j.url})),c.a.createElement(p.SplitItem,{className:"order-detail-content-container"},r?c.a.createElement(d.Bullseye,null,c.a.createElement(v.Spinner,null)):c.a.createElement(o.Suspense,{fallback:c.a.createElement("div",null)},c.a.createElement(i.d,null,c.a.createElement(i.b,{path:"".concat(j.url,"/approval"),component:de}),c.a.createElement(i.b,{path:"".concat(j.url,"/lifecycle")},c.a.createElement(me,null)),c.a.createElement(i.b,{path:j.url,component:ve})))))))}}}]);
//# sourceMappingURL=../sourcemaps/order-detail~31ecd969.js.map