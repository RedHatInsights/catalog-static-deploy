(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{42:function(e,t,n){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)&&a.length){var o=n.apply(null,a);o&&e.push(o)}else if("object"===i)for(var c in a)t.call(a,c)&&a[c]&&e.push(c)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return n})):window.classNames=n}()},640:function(e,t,n){"use strict";var r=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a};var a=function(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i};t._objectWithoutProperties=a},642:function(e,t,n){"use strict";var r=n(641);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(r.a)(e,t,n)}},645:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(147);var a=n(268),i=n(267),o=n(640),c=r(n(0)),l=r(n(1)),u=r(n(42)),s=function(e){var t=e.type,n=e.children,r=e.className,l=o._objectWithoutProperties(e,["type","children","className"]),s=u(r,i._defineProperty({},"ins-l-".concat(t),void 0!==t));return c.createElement("section",a._extends({},l,{className:s})," ",n," ")};s.propTypes={type:l.string,className:l.string,children:l.any.isRequired},t.Section=s},649:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(75),l=n(574),u=n(575),s=n(576),p=n(577),f=n(44),d=n(73),m=n(643),y=function(e){var t=e.title,n=e.Icon,r=e.description,i=e.PrimaryAction,o=e.renderDescription;return a.a.createElement("div",{className:"pf-u-mt-xl"},a.a.createElement(l.EmptyState,{className:"pf-u-ml-auto pf-u-mr-auto"},a.a.createElement(u.EmptyStateIcon,{icon:n}),a.a.createElement(d.TextContent,null,a.a.createElement(f.Text,{component:f.TextVariants.h1},t)),a.a.createElement(s.EmptyStateBody,null,r,o()),a.a.createElement(p.EmptyStateSecondaryActions,null,i&&a.a.createElement(i,null))))};y.defaultProps={renderDescription:function(){return null}},y.propTypes={title:o.a.string.isRequired,Icon:o.a.any.isRequired,description:o.a.string,PrimaryAction:o.a.any,renderDescription:o.a.func},t.b=y;var b=function(e){var t=e.url,n=e.label,r=e.hasPermission,i=void 0!==r&&r,o=e.id;return i&&a.a.createElement(m.a,{id:o,pathname:t,preserveSearch:!0},a.a.createElement(c.Button,{variant:"primary"},n))};b.propTypes={url:o.a.string.isRequired,label:o.a.string.isRequired,od:o.a.string}},660:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=function(e){var t=e.children;return a.a.createElement("div",{className:"pf-u-p-lg pf-u-pt-md pf-u-pb-md global-primary-background pf-u-mt-auto"},t)};c.propTypes={children:o.a.oneOfType([o.a.node,o.a.arrayOf(o.a.node)])},t.a=c},755:function(e,t,n){"use strict";n.r(t);var r=n(39),a=n.n(r),i=n(2),o=n.n(i),c=n(0),l=n.n(c),u=n(33),s=n(60),p=n(572),f=n.n(p),d=n(645),m=n(150),y=n(662),b=n(74),v=n(648),g=n(680),O=n(649),h=n(642),j=n(1),E=n.n(j),w=n(44),P=n(25),S=n(224),F=n(223),R=n(76),D=function(){return l.a.createElement(w.Text,{component:w.TextVariants.h1},"No items found")},N=function(e){var t=e.data,n=e.columns,r=e.isCompact,i=e.isLoading,o=e.actionResolver,u=e.areActionsDisabled,s=e.borders,p=e.routes,f=e.titlePlural,d=e.renderEmptyState,m=Object(c.useState)([]),y=a()(m,2),b=y[0],v=y[1];Object(c.useEffect)((function(){v(t)}),[t]);return i?l.a.createElement(R.d,null):0===b.length?d?d():l.a.createElement(D,null):l.a.createElement(c.Fragment,null,p(),l.a.createElement(P.b,{"aria-label":"".concat(f," table"),variant:r?P.e.compact:null,borders:s,rows:b,cells:n,actionResolver:o,areActionsDisabled:u},l.a.createElement(S.a,null),l.a.createElement(F.a,null)))};N.propTypes={borders:E.a.bool,isCompact:E.a.bool,columns:E.a.array.isRequired,renderEmptyState:E.a.func.isRequired,data:E.a.array,pagination:E.a.shape({limit:E.a.number,offset:E.a.number,count:E.a.number}),titlePlural:E.a.string,titleSingular:E.a.string,routes:E.a.func,actionResolver:E.a.func,areActionsDisabled:E.a.func,isLoading:E.a.bool},N.defaultProps={requests:[],isLoading:!1,isCompact:!1,borders:!0,routes:function(){return null},items:E.a.array,renderEmptyState:E.a.func};var x=N,T=n(21),k=n.n(T),q=n(644),A=n(660),V=n(77);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={filterValue:"",isOpen:!1,isFetching:!0,isFiltering:!1},L=Object(h.a)((function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:b.a;r(!0),n(Object(v.a)(e,t,a)).then((function(){return r(!1)}))}),1e3),W=function(e,t){switch(t.type){case"setFetching":return _(_({},e),{},{isFetching:t.payload});case"setFilterValue":return _(_({},e),{},{filterValue:t.payload});case"setFilteringFlag":return _(_({},e),{},{isFiltering:t.payload});default:return e}},B=["Name","Description","Created","Workflow"];t.default=function(){var e=Object(c.useReducer)(W,I),t=a()(e,2),n=t[0],r=n.filterValue,i=n.isFetching,o=n.isFiltering,p=t[1],h=Object(u.useSelector)((function(e){return e.platformReducer.platformInventories})),j=h.data,E=h.meta,w=Object(u.useSelector)((function(e){return e.platformReducer.selectedPlatform})),P=Object(u.useDispatch)(),S=Object(V.a)(["platform"]),F=a()(S,1)[0].platform,R=Object(s.g)();Object(c.useEffect)((function(){P(Object(v.a)(F,r,b.a)).then((function(){return p({type:"setFetching",payload:!1})})),Object(m.c)()}),[]);var D=j?function(e){return e.reduce((function(e,t,n){var r=t.id,a=t.name,i=t.description,o=t.created_at,c=t.workflow;return[].concat(k()(e),[{id:r,key:n,isOpen:!1,cells:[a,i,Object(m.d)(o),c]}])}),[])}(j):[],N=w?w.name:"";return l.a.createElement(c.Fragment,null,l.a.createElement(y.a,{schema:Object(g.a)({onFilterChange:function(e){p({type:"setFilterValue",payload:e}),L(F,e,P,(function(e){return p({type:"setFilteringFlag",payload:e})}),_(_({},E),{},{offset:0}))},searchValue:r,filterPlaceholder:"Filter by inventory",meta:E,apiRequest:function(e,t){return P(Object(v.a)(F,r,t))}})}),l.a.createElement(d.Section,{type:"content"},l.a.createElement(x,{title:N,data:D,columns:B,isLoading:i||o,actionResolver:function(e){return[{title:"Set approval",onClick:function(){return R.push({pathname:"/platform/platform-inventories/edit-workflow",search:"?platform=".concat(F,"&inventory=").concat(e.id)})}}]},renderEmptyState:function(){return l.a.createElement(O.b,{title:"No inventories",Icon:f.a,description:""===r?"No inventories found.":"No inventories match your filter criteria."})}})),E.count>0&&l.a.createElement(A.a,null,l.a.createElement(q.a,{dropDirection:"up",meta:E,apiRequest:function(e,t){return P(Object(v.a)(F,r,t))}})))}}}]);
//# sourceMappingURL=../sourcemaps/platform-inventories~31ecd969.js.map