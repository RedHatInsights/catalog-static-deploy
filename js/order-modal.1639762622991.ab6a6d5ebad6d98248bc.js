"use strict";(self.webpackChunkcatalog=self.webpackChunkcatalog||[]).push([[7709],{91858:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(30624),a=n.n(r),l=n(14494),o=n(334),i=n(65832),c=n(67463),s=n(30137),u=n(2482),m=n(85132),f=n(58603),p=n(47786),d=n(56682),v=n(23349),h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};const g=function(e){var t=e.closeUrl,n=(0,r.useState)(!0),g=n[0],b=n[1],E=(0,o.useLocation)().search,_=(0,o.useHistory)().push,k=(0,l.I0)(),I=(0,p.Z)(["portfolio-item"])[0]["portfolio-item"],L=(0,l.v9)((function(e){return e.portfolioReducer.portfolioItem})).portfolioItem,S=(0,v.Z)(),y=(0,l.v9)((function(e){return e.orderReducer.servicePlans}));(0,r.useEffect)((function(){k(localStorage.getItem("catalog_standalone")?(0,m.kL)(I):(0,u.kL)(I)).then((function(){return b(!1)}))}),[]);var C=function(){return _({pathname:t,search:E})};return a().createElement(i.Modal,{isOpen:!0,onClose:C,title:"Order submission",variant:"small"},a().createElement(i.Level,{className:"pf-u-mb-md"},a().createElement(i.LevelItem,null,a().createElement(i.TextContent,null,a().createElement(i.Text,null,a().createElement("strong",null,L.name))))),g?a().createElement(f.Z,{className:"pf-u-m-sm"},a().createElement(c.Spinner,null)):a().createElement(s.ZP,{schema:y[0]?function(e){var t,n=null===(t=null==e?void 0:e.fields)||void 0===t?void 0:t.map((function(e){return e.isSubstitution&&(delete e.validate,delete e.dataType),e}));return h(h({},e),{fields:n})}(y[0].create_json_schema.schema):{fields:[]},onSubmit:function(e){k(localStorage.getItem("catalog_standalone")?(0,m.g3)({portfolio_item_id:L.id,service_parameters:e},L):(0,u.g3)({portfolio_item_id:L.id,service_parameters:e},L)),C()},onCancel:C,templateProps:{submitLabel:S(d.Z.confirm)}}))}}}]);
//# sourceMappingURL=../sourcemaps/order-modal.30dc5f96ab934938a5ff6b6305bf2081.js.map