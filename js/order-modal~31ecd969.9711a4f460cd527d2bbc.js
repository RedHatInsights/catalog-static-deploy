(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{426:function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},r.apply(this,arguments)}e.exports=r},428:function(e,t,r){"use strict";var o=r(429);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(o.a)(e,t,r)}},429:function(e,t,r){"use strict";var o=r(456),a=r.n(o);function n(e){var t=null,r=null,o=new Promise((function(e,o){t=e,r=o}));return e&&e.then((function(e){t&&t(e)}),(function(e){r&&r(e)})),{promise:o,resolve:function(e){t&&t(e)},reject:function(e){r&&r(e)},cancel:function(){t=null,r=null}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(){return(i=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s={key:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},onlyResolvesLast:!0},l=function(){function e(e){this.config=e,this.debounceSingleton=null,this.debounceCache={}}return e.prototype._createDebouncedFunction=function(){var e,t,r=a()(this.config.func,this.config.wait,this.config.options);return this.config.options.onlyResolvesLast&&(e=r,t=null,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];t&&t();var a=e.apply(void 0,r),i=n(a),s=i.promise,l=i.cancel;return t=l,s}),{func:r}},e.prototype.getDebouncedFunction=function(e){var t,r=(t=this.config.options).key.apply(t,e);return null==r?(this.debounceSingleton||(this.debounceSingleton=this._createDebouncedFunction()),this.debounceSingleton):(this.debounceCache[r]||(this.debounceCache[r]=this._createDebouncedFunction()),this.debounceCache[r])},e}();t.a=function(e,t,r){var o=i({},s,r),a=new l({func:e,wait:t,options:o});return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.getDebouncedFunction(e).func;return r.apply(void 0,e)}}},431:function(e,t,r){"use strict";var o=(0,r(52).defineMessages)({removeItemsNotification:{id:"portfolio.notifications.remove.portfolio-items",defaultMessage:"You have removed {count, number} {count, plural, one {product} other {products} } from the {portfolioName} portfolio. <a>Undo</a> if this was a mistake."},removePortfolioNotification:{id:"portfolio.notifications.remove.portfolio",defaultMessage:"The portfolio was removed successfully. You can <a>Undo</a> this action if this was a mistake."},modalCreateTitle:{id:"portfolio.modal.add.title",defaultMessage:"Create portfolio"},modalCreateSubmit:{id:"portfolio.modal.add.create",defaultMessage:"Create"},modalEditTitle:{id:"portfolio.modal.edit.title",defaultMessage:"Edit portfolio"},addProducts:{id:"portfolio.empty.add.products",defaultMessage:"Add products"},emptyNoProducts:{id:"portfolio.empty.no-products",defaultMessage:"No products in your portfolio"},portfoliosPlaceholder:{id:"portfolios.filters.placeholder",defaultMessage:"Filter by portfolio"},portfoliosNoData:{id:"portfolios.empty.noData.title",defaultMessage:"No portfolios"},portfoliosNoDataDescription:{id:"portfolios.empty.noData.description",defaultMessage:"No portfolios match your filter criteria."},portfolioRemoveDescription:{id:"portfolio.remove.modal.description",defaultMessage:"This action will permanently delete portfolio {name} and its data."},portfolioRemoveTitle:{id:"portfolio.remove.modal.title",defaultMessage:"Delete Portfolio?"},portfolioSharePermissions:{id:"portfolio.share.modal.permissions",defaultMessage:"Select the share permissions"},portfolioShareGroups:{id:"portfolio.share.modal.groups",defaultMessage:"Select a group"},portfolioShareTitle:{id:"portfolio.share.modal.title",defaultMessage:"Share portfolio"},portfolioShareApply:{id:"portfolio.share.modal.apply",defaultMessage:"Apply"},portfolioShareDescription:{id:"portfolio.share.modal.description",defaultMessage:"Share <strong>{name}</strong> portfolio"},addProducstPlatformTitle:{id:"portfolio.add.platform.title.empty",defaultMessage:"Please choose platform"},addProducstPlatformDescription:{id:"portfolio.add.platform.description.empty",defaultMessage:"In order to select products for your portfolio you must choose platform first"},addProducstFilterTitle:{id:"portfolio.add.platform.filter.empty",defaultMessage:"No products match filter parameters"},copyItemTitle:{id:"portfolio.item.copy",defaultMessage:"Copy product"},portfolioItemSurvey:{id:"portfolio.item.detail.actions.survey",defaultMessage:"Edit survey"},portfolioItemOrder:{id:"portfolio.item.detail.actions.order",defaultMessage:"Order"},portfolioItemIconTitle:{id:"portfolio.item.icon.upload.notification",defaultMessage:"Icon upload error"},portfolioItemOverview:{id:"portfolio.item.detail.overview",defaultMessage:"Overview"},portfolioItemSupport:{id:"portfolio.item.detail.support",defaultMessage:"Learn more"},portfolioItemDocumentation:{id:"portfolio.item.detail.documentation",defaultMessage:"Documentation"},portfolioItemDocLink:{id:"portfolio.item.detail.doclink",defaultMessage:"Doc link"},restoreSurvey:{id:"portfolio.item.survey.restore",defaultMessage:"Restore to Ansible Tower version"},surveyTitle:{id:"portfolio.item.survey.edit",defaultMessage:"Editing survey: {name}"},sourceUnavaiable:{id:"portfolio.detail.alert.source.unavailable",defaultMessage:"The platform for this product is unavailable"},objectUnavaiable:{id:"portfolio.detail.alert.unavailable",defaultMessage:"The {object} for this product is no longer available"},backToProducts:{id:"portfolio.detail.back-to-products",defaultMessage:"Back to products"},editProduct:{id:"portfolio.item.edit.title",defaultMessage:"Edit product"},shareTooltip:{id:"portfolio.share.add.tooltip",defaultMessage:"Share portfolio with selected group and permissions."},shareErrorMissingGroup:{id:"portfolio.share.add.missing-group",defaultMessage:"Select group to share portfolio."},shareErrorMissingPermission:{id:"portfolio.share.add.missing-permission",defaultMessage:"Assign permissions to selected group."},shareErrorMissingData:{id:"portfolio.share.add.missing-data",defaultMessage:"Choose group and permissions."},shareDuplicate:{id:"portfolio.share.add.duplicate",defaultMessage:"Portfolio is already shared with this group."},noShares:{id:"portfolio.share.add.no-shares",defaultMessage:"To share portfolio select a group and permissions"},shareGroupsAccess:{id:"share.groups.access",defaultMessage:"Groups with access"},shareSuccessTitle:{id:"share.notification.success.title",defaultMessage:"Portfolio sharing settings were updated"}});t.a=o},437:function(e,t,r){"use strict";var o=(0,r(52).defineMessages)({orderedBy:{id:"orders.common.orderedBy",defaultMessage:"Ordered by {owner}"},orderedByLabel:{id:"orders.approval.orderedBy",defaultMessage:"Ordered by"},lastUpdated:{id:"orders.common.lastUpdated",defaultMessage:"Last updated"},compositeTitle:{id:"orders.common.compositeTitle",defaultMessage:"{name} - Order # {id}"},detailTitle:{id:"orders.detail.title",defaultMessage:"Order ID {id}"},orderSuccess:{id:"orders.notification.success",defaultMessage:"You can track the progress of Order # {id} in your <link>Orders</link> page."},noOrdersTitle:{id:"orders.list.empty.title",defaultMessage:"No orders"},noOrdersDescription:{id:"orders.list.empty.description",defaultMessage:"No orders have been created."},noApprovalRequests:{id:"orders.approval.no-requests",defaultMessage:"We were unable to find any approval requests for this order."},creatingApprovalRequest:{id:"orders.approval.creating",defaultMessage:"Creating approval request"},approvalTitle:{id:"orders.approval.title",defaultMessage:"Summary"},approvalDetail:{id:"orders.approval.view-detail",defaultMessage:"View this order's approval request details"},approvalCreated:{id:"orders.approval.details.created",defaultMessage:"Request created"},approvalReason:{id:"orders.approval.details.reason",defaultMessage:"Approval reason"},approvalCompleted:{id:"orders.approval.details.completed",defaultMessage:"Completed at"},orderDetails:{id:"orders.common.details",defaultMessage:"Order details"},menuApproval:{id:"orders.menu.approval",defaultMessage:"Approval"},menuLifecycle:{id:"orders.menu.lifecycle",defaultMessage:"Lifecycle"},menuSteps:{id:"orders.menu.steps",defaultMessage:"Order steps"},objectsNotFound:{id:"order.detail.not-found",defaultMessage:"The {objects} for this order {count, plural, one {is} other {are}} not available"},orderID:{id:"orders.order.detail.ID",defaultMessage:"Order ID"},orderParameters:{id:"orders.order.detail.parameters",defaultMessage:"Order parameters"},orderProgressMessages:{id:"orders.order.detail.messages",defaultMessage:"Progress messages"},lifecycleLink:{id:"orders.order.lifecicle.link",defaultMessage:"Manage product"},cancelOrder:{id:"orders.actions.cancel",defaultMessage:"Cancel order"},keepOrder:{id:"orders.actions.keep",defaultMessage:"Keep order"},cancelDescription:{id:"orders.cancel.description",defaultMessage:"Are you sure you want to cancel {name}?"},backToOrders:{id:"orders.toolbar.backLink",defaultMessage:"Back to orders"},approvalProduct:{id:"orders.approval.product",defaultMessage:"Product"},orderDate:{id:"orders.approval.order-date",defaultMessage:"Order date"},approvalParameters:{id:"orders.approval.parameters",defaultMessage:"Parameters"},activity:{id:"orders.approval.activity",defaultMessage:"Activity"}});t.a=o},44:function(e,t,r){"use strict";r.d(t,"a",(function(){return h})),r.d(t,"b",(function(){return b}));var o=r(53),a=r(30),n=r(0),i=r.n(n),s=r(31),l=(r(11),r(12)),c=r(29),u=r(32);i.a.Component;i.a.Component;var d=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return"string"==typeof e?Object(s.c)(e,null,null,t):e},f=function(e){return e},m=i.a.forwardRef;void 0===m&&(m=f);var v=m((function(e,t){var r=e.innerRef,o=e.navigate,a=e.onClick,n=Object(c.a)(e,["innerRef","navigate","onClick"]),s=n.target,u=Object(l.a)({},n,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),o())}});return u.ref=f!==m&&t||r,i.a.createElement("a",u)}));var h=m((function(e,t){var r=e.component,a=void 0===r?v:r,n=e.replace,s=e.to,h=e.innerRef,g=Object(c.a)(e,["component","replace","to","innerRef"]);return i.a.createElement(o.e.Consumer,null,(function(e){e||Object(u.a)(!1);var r=e.history,o=p(d(s,e.location),e.location),c=o?r.createHref(o):"",v=Object(l.a)({},g,{href:c,navigate:function(){var t=d(s,e.location);(n?r.replace:r.push)(t)}});return f!==m?v.ref=t||h:v.innerRef=h,i.a.createElement(a,v)}))})),g=function(e){return e},y=i.a.forwardRef;void 0===y&&(y=g);var b=y((function(e,t){var r=e["aria-current"],a=void 0===r?"page":r,n=e.activeClassName,s=void 0===n?"active":n,f=e.activeStyle,m=e.className,v=e.exact,b=e.isActive,O=e.location,M=e.sensitive,j=e.strict,_=e.style,P=e.to,I=e.innerRef,w=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return i.a.createElement(o.e.Consumer,null,(function(e){e||Object(u.a)(!1);var r=O||e.location,n=p(d(P,r),r),c=n.pathname,D=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),E=D?Object(o.f)(r.pathname,{path:D,exact:v,sensitive:M,strict:j}):null,S=!!(b?b(E,r):E),R=S?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((function(e){return e})).join(" ")}(m,s):m,T=S?Object(l.a)({},_,{},f):_,C=Object(l.a)({"aria-current":S&&a||null,className:R,style:T,to:n},w);return g!==y?C.ref=t||I:C.innerRef=I,i.a.createElement(h,C)}))}))},442:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2),a=o.__importStar(r(0)),n=o.__importDefault(r(209)),i=r(4),s=r(46);var l;!function(e){e.text="text",e.date="date",e.datetimeLocal="datetime-local",e.email="email",e.month="month",e.number="number",e.password="password",e.search="search",e.tel="tel",e.time="time",e.url="url"}(l=t.TextInputTypes||(t.TextInputTypes={}));class c extends a.Component{constructor(e){super(e),this.handleChange=e=>{this.props.onChange&&this.props.onChange(e.currentTarget.value,e)},e.id||e["aria-label"]||e["aria-labelledby"]||console.error("Text input:","Text input requires either an id or aria-label to be specified")}render(){const e=this.props,{innerRef:t,className:r,type:l,value:c,onChange:u,validated:d,isReadOnly:p,isRequired:f,isDisabled:m}=e,v=o.__rest(e,["innerRef","className","type","value","onChange","validated","isReadOnly","isRequired","isDisabled"]);return a.createElement("input",Object.assign({},v,{className:i.css(n.default.formControl,d===s.ValidatedOptions.success&&n.default.modifiers.success,d===s.ValidatedOptions.warning&&n.default.modifiers.warning,r),onChange:this.handleChange,type:l,value:c,"aria-invalid":d===s.ValidatedOptions.error,required:f,disabled:m,readOnly:p,ref:t}))}}t.TextInputBase=c,c.displayName="TextInputBase",c.defaultProps={"aria-label":null,className:"",isRequired:!1,validated:"default",isDisabled:!1,isReadOnly:!1,type:l.text,onChange:()=>{}},t.TextInput=a.forwardRef((e,t)=>a.createElement(c,Object.assign({},e,{innerRef:t})))},443:function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},456:function(e,t,r){"use strict";function o(e){return"function"==typeof e?e():e}function a(){var e={};return e.promise=new Promise((function(t,r){e.resolve=t,e.reject=r})),e}e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=void 0,i=void 0,s=void 0,l=[];return function(){var u=o(t),d=(new Date).getTime(),p=!n||d-n>u;n=d;for(var f=arguments.length,m=Array(f),v=0;v<f;v++)m[v]=arguments[v];if(p&&r.leading)return r.accumulate?Promise.resolve(e.call(this,[m])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(m)));if(i?clearTimeout(s):i=a(),l.push(m),s=setTimeout(c.bind(this),u),r.accumulate){var h=l.length-1;return i.promise.then((function(e){return e[h]}))}return i.promise};function c(){var t=i;clearTimeout(s),Promise.resolve(r.accumulate?e.call(this,l):e.apply(this,l[l.length-1])).then(t.resolve,t.reject),l=[],i=null}}},458:function(e,t,r){"use strict";t.__esModule=!0,r(503),t.default={modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"},split:"pf-l-split",splitItem:"pf-l-split__item"}},475:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2),a=o.__importStar(r(0)),n=o.__importDefault(r(458)),i=r(4);t.SplitItem=e=>{var{isFilled:t=!1,className:r="",children:s=null}=e,l=o.__rest(e,["isFilled","className","children"]);return a.createElement("div",Object.assign({},l,{className:i.css(n.default.splitItem,t&&n.default.modifiers.fill,r)}),s)},t.SplitItem.displayName="SplitItem"},476:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(2),a=o.__importStar(r(0)),n=o.__importDefault(r(458)),i=r(4);t.Split=e=>{var{hasGutter:t=!1,className:r="",children:s=null,component:l="div"}=e,c=o.__rest(e,["hasGutter","className","children","component"]);const u=l;return a.createElement(u,Object.assign({},c,{className:i.css(n.default.split,t&&n.default.modifiers.gutter,r)}),s)},t.Split.displayName="Split"},503:function(e,t,r){var o=r(6),a=r(504);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var n={insert:"head",singleton:!1};o(a,n);e.exports=a.locals||{}},504:function(e,t,r){(t=r(7)(!1)).push([e.i,".pf-l-split {\n  --pf-l-split--m-gutter--MarginRight: var(--pf-global--gutter);\n  display: flex;\n  flex-wrap: nowrap;\n  padding: 0;\n  margin: 0; }\n\n.pf-l-split__item.pf-m-fill {\n  flex-grow: 1; }\n\n.pf-l-split.pf-m-gutter > *:not(:last-child) {\n  margin-right: var(--pf-l-split--m-gutter--MarginRight); }\n",""]),e.exports=t},514:function(e,t,r){"use strict";r.d(t,"e",(function(){return J})),r.d(t,"f",(function(){return K})),r.d(t,"a",(function(){return Y})),r.d(t,"d",(function(){return V})),r.d(t,"c",(function(){return $})),r.d(t,"b",(function(){return H}));var o=r(49),a=r.n(o),n=r(33),i=r.n(n),s=r(1),l=r.n(s),c=r(0),u=r.n(c),d=r(121),p=r(3),f=r(56),m=r.n(f),v=r(87),h=r.n(v),g=r(84),y=r(13),b=r(66);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=Object(g.c)(),_=(Object(g.d)(),Object(g.f)()),P=Object(g.a)(),I=Object(g.b)();function w(e){return _.listServicePlans(e)}function D(e){return E.apply(this,arguments)}function E(){return(E=h()(m.a.mark((function e(t){var r,o,n,i,s,l,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.service_parameters,o=r.providerControlParameters,n=a()(r,["providerControlParameters"]),i=a()(t,["service_parameters"]),e.next=3,j.createOrder();case 3:return s=e.sent,(l={}).count=1,l=M(M(M({},l),i),{},{service_parameters:n,provider_control_parameters:o||{}}),e.next=9,j.addToOrder(s.id,l);case 9:return c=e.sent,e.abrupt("return",j.submitOrder(s.id).then((function(e){return M(M({},e),{},{orderItem:c})})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(e){return P.get("".concat(y.c,"/order_items?").concat(e.map((function(e){return"filter[order_id][]=".concat(e)})).join("&")))},R=function(e){return P.get("".concat(y.c,"/portfolio_items?").concat(e.map((function(e){return"filter[id][]=".concat(e)})).join("&")))},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.a;return P.get("".concat(y.c,"/orders?").concat(e,"&limit=").concat(t.limit,"&offset=").concat(t.offset)).then((function(e){return S(e.data.map((function(e){return e.id}))).then((function(t){return R(t.data.map((function(e){return e.portfolio_item_id}))).then((function(r){return M(M({portfolioItems:r},e),{},{data:e.data.map((function(e){return M(M({},e),{},{orderItems:t.data.filter((function(t){return t.order_id===e.id}))})}))})}))}))}))};var C=function(e){return P.get("".concat(y.c,"/order_items/").concat(e,"/approval_requests")).then((function(e){var t=e.data.map((function(e){var t,r,o=e.approval_request_ref;return t=o,I.post("".concat(y.a,"/graphql"),{query:(r=t,'query {\n  requests(id: "'.concat(r,'") {\n    group_name\n    state\n    actions {\n      created_at\n    }\n  }\n}'))},{"x-rh-persona":"approval/requester"}).then((function(e){return e.data.requests}))}));return Promise.all(t).then((function(e){var t;return{data:(null==e||null===(t=e[0])||void 0===t?void 0:t.map((function(e){var t=e.actions;return M(M({},a()(e,["actions"])),{},{updated:(null==t?void 0:t.length)>0?t.pop().created_at:void 0})})))||[]}}))}))},N=r(11),x=r.n(N),k=r(44),q=r(82),L=r(10),F=r(437),A=function(e){var t=e.id,r=e.dispatch,o=e.portfolioItemId,a=e.portfolioId,n=e.platformId,i=e.orderItemId;return(0,Object(q.a)().formatMessage)(F.a.orderSuccess,{id:t,link:function(e){return u.a.createElement(k.a,{onClick:function(){return r(Object(d.clearNotifications)())},to:{pathname:L.m,search:"?order=".concat(t,"&order-item=").concat(i,"&portfolio-item=").concat(o,"&platform=").concat(n,"&portfolio=").concat(a)}},e)}})};A.propTypes={id:x.a.string.isRequired,dispatch:x.a.func.isRequired,portfolioItemId:x.a.string.isRequired,portfolioId:x.a.string.isRequired,platformId:x.a.string.isRequired,orderItemId:x.a.string.isRequired};var U=A;function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=function(e){return{type:p.x,payload:w(e)}},K=function(e,t){return function(r){return r({type:p.X,payload:D(e).then((function(e){var o=e.id,a=e.orderItem;return r(Object(d.addNotification)({variant:"success",title:"Your order has been accepted successfully",description:u.a.createElement(U,{id:o,dispatch:r,portfolioItemId:t.id,portfolioId:t.portfolio_id,platformId:t.service_offering_source_ref,orderItemId:a.id}),dismissable:!0}))}))})}},Y=function(e){return function(t,r){t({type:"".concat(p.d,"_PENDING")});var o=r().orderReducer.orderDetail;return function(e){return j.cancelOrder(e)}(e).then((function(){return o.order.state="Canceled",o.approvalRequest&&o.approvalRequest.length>0&&(o.approvalRequest[0].state="canceled"),t({type:p.R,payload:B({},o)}),o})).then((function(e){return t(Object(d.addNotification)({variant:"success",title:"Your order has been canceled successfully",description:"Order ".concat("Order #".concat(e.order.id)," was canceled."),dismissable:!0}))})).then((function(){return t({type:"".concat(p.d,"_FULFILLED")})})).catch((function(e){t({type:"".concat(p.d,"_REJECTED"),payload:e})}))}},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.a;return function(r){var o=Object.entries(e).filter((function(e){var t=i()(e,2)[1];return t&&t.length>0})).map((function(e){var t=i()(e,2),r=t[0],o=t[1];return Array.isArray(o)?o.map((function(e){return"filter[".concat(r,"][]=").concat(e)})).join("&"):"filter[".concat(r,"][contains_i]=").concat(o)})).join("&");return r({type:"".concat(p.h,"_PENDING")}),T(o,t).then((function(n){var i=n.portfolioItems,s=a()(n,["portfolioItems"]);return r({type:p.S,payload:i}),r({type:"".concat(p.h,"_FULFILLED"),meta:B(B({},t),{},{filter:o,filters:e,storeState:!0,stateKey:"orders"}),payload:s})})).catch((function(e){return r({type:"".concat(p.h,"_REJECTED"),payload:e})}))}},$=function(e){return function(t){return t({type:"".concat(p.R,"_PENDING")}),function(e){var t=[P.get("".concat(y.c,"/orders/").concat(e.order)),P.get("".concat(y.c,"/order_items/").concat(e["order-item"])).catch((function(e){if(404===e.status||400===e.status)return{object:"Order item",notFound:!0};throw e})),P.get("".concat(y.c,"/portfolio_items/").concat(e["portfolio-item"])).catch((function(e){if(404===e.status||400===e.status)return{object:"Product",notFound:!0};throw e}))];return t.push(e.platform&&"undefined"!==e.platform?P.get("".concat(y.i,"/sources/").concat(e.platform)).catch((function(e){if(404===e.status||400===e.status)return{object:"Platform",notFound:!0};throw e})):{object:"Platform",notFound:!0}),t.push(P.get("".concat(y.c,"/order_items/").concat(e["order-item"],"/progress_messages")).catch((function(e){if(404===e.status||400===e.status)return{};throw e}))),t.push(e.portfolio&&"undefined"!==e.portfolio?P.get("".concat(y.c,"/portfolios/").concat(e.portfolio)).catch((function(e){if(404===e.status||400===e.status)return{object:"Portfolio",notFound:!0};throw e})):{object:"Portfolio",notFound:!0}),Promise.all(t)}(e).then((function(e){var r=i()(e,7),o=r[0],a=r[1],n=r[2],s=r[3],l=r[4],c=r[5],u=r[6];return t({type:"".concat(p.R,"_FULFILLED"),payload:{order:o,orderItem:a,portfolioItem:n,platform:s,progressMessages:l,portfolio:c,approvalRequest:u}})})).catch((function(e){return t({type:"".concat(p.R,"_REJECTED"),payload:e})}))}},H=function(e){return function(t){return t({type:"".concat(p.f,"_PENDING")}),C(e).then((function(e){return t({type:"".concat(p.f,"_FULFILLED"),payload:e}),e})).catch((function(e){return t({type:"".concat(p.f,"_REJECTED"),payload:e})}))}}},626:function(e,t,r){"use strict";var o=r(22),a=r.n(o),n=r(23),i=r(125);function s(){var e=a()(["\n  overflow: hidden;\n"]);return s=function(){return e},e}var l=Object(n.b)(i.Bullseye)(s());t.a=l},849:function(e,t,r){"use strict";r.r(t);var o=r(33),a=r.n(o),n=r(0),i=r.n(n),s=r(11),l=r.n(s),c=r(26),u=r(53),d=r(489),p=r(85),f=r(204),m=r(65),v=r(43),h=r(476),g=r(475),y=r(123),b=r(13),O=r(467),M=r(490),j=r(514),_=r(626),P=r(68),I=function(e){var t=e.closeUrl,r=Object(n.useState)(!0),o=a()(r,2),s=o[0],l=o[1],I=Object(u.h)().search,w=Object(u.g)().push,D=Object(c.useDispatch)(),E=Object(P.a)(["portfolio-item"]),S=a()(E,1)[0]["portfolio-item"],R=Object(c.useSelector)((function(e){return e.portfolioReducer.portfolioItem})).portfolioItem,T=Object(c.useSelector)((function(e){return e.orderReducer.servicePlans}));Object(n.useEffect)((function(){D(Object(j.e)(S)).then((function(){return l(!1)}))}),[]);var C=function(){return w({pathname:t,search:I})};return i.a.createElement(d.Modal,{isOpen:!0,onClose:C,title:"Confirm order submission",variant:"small"},i.a.createElement(h.Split,{hasGutter:!0,className:"pf-u-mb-md"},i.a.createElement(g.SplitItem,null,i.a.createElement(O.a,{height:48,src:"".concat(b.c,"/portfolio_items/").concat(R.id,"/icon"),sourceId:R.service_offering_source_ref})),i.a.createElement(g.SplitItem,null,i.a.createElement(p.Level,null,i.a.createElement(f.LevelItem,null,i.a.createElement(m.TextContent,null,i.a.createElement(v.Text,null,i.a.createElement("strong",null,R.name))))))),s?i.a.createElement(_.a,{className:"pf-u-m-sm"},i.a.createElement(y.Spinner,null)):i.a.createElement(M.c,{schema:T[0].create_json_schema.schema,onSubmit:function(e){D(Object(j.f)({portfolio_item_id:R.id,service_parameters:e},R)),C()},onCancel:C,formContainer:"modal"}))};I.propTypes={orderData:l.a.func,closeUrl:l.a.string.isRequired},t.default=I}}]);
//# sourceMappingURL=../sourcemaps/order-modal~31ecd969.js.map