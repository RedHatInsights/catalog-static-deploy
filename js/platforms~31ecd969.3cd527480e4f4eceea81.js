(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{385:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},388:function(e,t,n){"use strict";var r=n(385),o=n.n(r),a=n(45),i=n.n(a),c=n(0),s=n.n(c),l=n(12),u=n.n(l),f=n(386),p=n(186),m=n(59),d=function(e){var t=e.meta,n=t.limit,r=t.count,a=t.offset,c=e.apiProps,l=e.apiRequest,u=e.className,d=e.isCompact,g=i()(e,["meta","apiProps","apiRequest","className","isCompact"]);return s.a.createElement("div",{className:u},s.a.createElement(p.Pagination,o()({perPage:n||50,itemCount:r||0,onPerPageSelect:function(e,t){return l(c,{offset:a,limit:t})},page:Object(m.b)(n,a),onSetPage:function(e,t,r){var o={offset:Object(m.c)(t,n),limit:n},a=function(){return l(c,o)};return r?Object(f.a)(a,250)():a()},direction:"down",isCompact:d},g)))};d.propTypes={meta:u.a.shape({count:u.a.number,limit:u.a.number.isRequired,offset:u.a.number.isRequired}),apiRequest:u.a.func.isRequired,apiProps:u.a.any,className:u.a.string,isCompact:u.a.bool},d.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1},t.a=d},393:function(e,t,n){"use strict";n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return w})),n.d(t,"e",(function(){return L}));var r={};n.r(r),n.d(r,"getPlatforms",(function(){return b})),n.d(r,"getPlatform",(function(){return y})),n.d(r,"getPlatformItems",(function(){return O})),n.d(r,"getPlatformInventories",(function(){return v})),n.d(r,"getServiceOffering",(function(){return E}));var o=n(1),a=n.n(o),i=n(2),c=n(34),s=n.n(c),l=n(75),u=n(14),f=n(59);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=Object(l.a)(),g=Object(l.b)(),b=function(){return g.post("".concat(u.i,"/graphql"),{query:'\nquery {\n  application_types (filter: { name: "/insights/platform/catalog" }) {\n    id\n    name\n    sources {\n      id\n      name\n      source_type_id\n    }\n  }\n}'}).then((function(e){return e.data.application_types})).then((function(e){return s()(e,1)[0].sources}))},y=function(e){return d.get("".concat(u.i,"/sources/").concat(e))},O=function(e,t,n){var r=t?"&filter[name][contains_i]=".concat(t):"";return e?d.get("".concat(u.j,"/sources/").concat(e,"/service_offerings?filter[archived_at][nil]").concat(r).concat(n?"&limit=".concat(n.limit,"&offset=").concat(n.offset):"")):d.get("".concat(u.j,"/service_offerings"))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.a;return e?d.get("".concat(u.j,"/sources/").concat(e,"/service_inventories?filter[name][contains_i]=").concat(t).concat(n?"&limit=".concat(n.limit,"&offset=").concat(n.offset):"")):d.get("".concat(u.j,"/service_inventories?limit=").concat(n.limit,"&offset=").concat(n.offset))},E=function(e,t){return Promise.all([d.get("".concat(u.j,"/service_offerings/").concat(e)),d.get("".concat(u.i,"/sources/").concat(t)).then((function(e){return d.get("".concat(u.i,"/source_types/").concat(e.source_type_id)).then((function(t){var n=t.icon_url;return m(m({},e),{},{icon_url:n})}))}))]).then((function(e){var t=s()(e,2);return{service:t[0],source:t[1]}}))};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(){return function(e){return e({type:"".concat(i.k,"_PENDING")}),b().then((function(t){return e({type:"".concat(i.k,"_FULFILLED"),payload:t})})).catch((function(t){return e({type:"".concat(i.k,"_REJECTED"),payload:t})}))}},T=function(e,t,n){return{type:i.n,payload:O(e,t,n),meta:j({platformId:e,filter:t},n)}},_=function(e){return{type:i.j,payload:y(e)}},w=function(e,t,n){return{type:i.l,payload:v(e,t,n)}},L=function(){return{type:i.v,payload:E.apply(r,arguments)}}},413:function(e,t,n){"use strict";var r=(0,n(47).defineMessages)({workflowColumn:{id:"platform.inventories.columns.workflow",defaultMessage:"Workflow"},noInventoriesDescription:{id:"platform.inventories.empty.no-inventories",defaultMessage:"No inventories found."},noInventoriesFilterDescription:{id:"platform.inventories.empty.no-results",defaultMessage:"No inventories match your filter criteria."},inventoriesFilter:{id:"platform.inventories.filter.placeholder",defaultMessage:"Filter by inventory"},templatesFilter:{id:"platform.templates.filter.placeholder",defaultMessage:"Filter by template"},noTemplatesTitle:{id:"platform.templates.no-templates",defaultMessage:"No templates"},noTemplatesDescription:{id:"platform.templates.empty.no-templates",defaultMessage:"This platform has no templates."},configureSourceTitle:{id:"platforms.list.configure-source",defaultMessage:"Configure a source in order to add products to portfolios."},connectSource:{id:"platforms.list.connect-source",defaultMessage:"To connect to a source, go to <a>Sources</a> under Settings."},contactAdmin:{id:"platforms.list.contact-admin",defaultMessage:"Contact your organization administrator to setup sources for Catalog."},title:{id:"platforms.title",defaultMessage:"Platforms"},noPlatforms:{id:"platforms.list.empty.title",defaultMessage:"No platforms yet"},offeringTitle:{id:"platforms.offerings.detail.title",defaultMessage:"Service offering"},offeringParameters:{id:"platforms.offerings.detail.extra-params",defaultMessage:"Extra parameters"}});t.a=r},457:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n(488),o=n(399),a=n(388),i=function(e){var t=e.searchValue,n=e.onFilterChange,r=e.title;return{fields:[{component:o.b.TOP_TOOLBAR,key:"platforms-toolbar",fields:[{component:o.b.TOP_TOOLBAR_TITLE,key:"platforms-toolbar-title",title:r},{component:o.b.LEVEL,key:"platforms-toolbar-actions",fields:[{component:o.b.LEVEL_ITEM,key:"input-level-item",fields:[{component:o.b.FILTER_TOOLBAR_ITEM,key:"platforms-toolbar-filter-input",searchValue:t,onFilterChange:n,placeholder:"Filter by platform"}]},{component:o.b.LEVEL_ITEM,key:"pagination-level-item",fields:[]}]}]}]}},c=function(e){var t=e.title,n=e.paddingBottom,a=e.tabItems;return{fields:[{component:o.b.TOP_TOOLBAR,key:"platforms-toolbar",paddingBottom:n,fields:[{component:o.b.TOP_TOOLBAR_TITLE,key:"platforms-toolbar-title",title:t},{component:o.b.LEVEL_ITEM,key:"tabs-level-item",fields:a?[{component:r.a,key:"platform-tabs",tabItems:a}]:[]}]}]}},s=function(e){var t=e.searchValue,n=e.onFilterChange,r=e.meta,i=e.apiRequest,c=e.filterPlaceholder;return{fields:[{component:o.b.TOOLBAR,key:"platforms-filter-toolbar",className:"pf-u-pt-md pf-u-pb-md pf-u-pr-lg pf-u-pl-lg",fields:[{component:o.b.LEVEL,key:"platforms-toolbar-actions",className:"pf-m-grow",fields:[{component:o.b.LEVEL_ITEM,key:"input-level-item",fields:[{component:o.b.FILTER_TOOLBAR_ITEM,key:"platforms-toolbar-filter-input",searchValue:t,onFilterChange:n,placeholder:c}]},{component:o.b.LEVEL_ITEM,key:"pagination-level-item",fields:r.count>0?[{component:a.a,key:"platform-pagination",apiRequest:i,meta:r,isCompact:!0}]:[]}]}]}]}}},576:function(e,t,n){e.exports=n.p+"fonts/platform-default.svg"},577:function(e,t,n){e.exports=n.p+"fonts/platform-openshift.svg"},578:function(e,t,n){e.exports=n.p+"fonts/platform-amazon.png"},579:function(e,t,n){e.exports=n.p+"fonts/platform-tower.png"},698:function(e,t,n){"use strict";n.r(t);var r=n(385),o=n.n(r),a=n(34),i=n.n(a),c=n(0),s=n.n(c),l=n(26),u=n(40),f=n(58),p=n(403),m=n.n(p),d=n(104),g=n(409),b=n(446),y=n(393),O=n(1),v=n.n(O),E=n(45),h=n.n(E),j=n(12),P=n.n(j),T=n(420),_=n(445),w=n(126),L=n(576),k=n.n(L),C=n(577),I=n.n(C),M=n(578),D=n.n(M),R=n(579),S=n.n(R),x=function(e){var t=e.src,n=h()(e,["src"]);return s.a.createElement("img",o()({src:t},n))};x.propTypes={src:P.a.string.isRequired};var F=x,N=n(441),V=n(11),q=n(442),A=n(391),B=n(444),J=n(443);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var z=["description","modified"],G={1:I.a,2:D.a,3:S.a},H=function(e){var t=e.name,n=e.id,r=h()(e,["name","id"]);return s.a.createElement(w.GalleryItem,null,s.a.createElement(B.a,{key:n},s.a.createElement(T.CardHeader,null,s.a.createElement(F,{src:G[r.source_type_id]||k.a,width:"80",height:"40"})),s.a.createElement(J.a,null,s.a.createElement(f.TextContent,null,s.a.createElement(A.a,{pathname:V.r,searchParams:{platform:n}},s.a.createElement(u.Text,{title:t,className:"pf-u-mb-0",component:u.TextVariants.h3},s.a.createElement(q.a,null,t)))),s.a.createElement(N.a,o()({},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:t},r),{toDisplay:z}))),s.a.createElement(_.CardFooter,null)))};H.propTypes={history:P.a.object,imageUrl:P.a.string,name:P.a.string,source_type_id:P.a.string,id:P.a.string};var W=H,K=n(457),Q=n(421),X=n(66),Y=n(73),Z=n(413);t.default=function(){var e=Object(Y.a)().formatMessage,t=Object(c.useState)(""),n=i()(t,2),r=n[0],a=n[1],p=Object(l.useSelector)((function(e){var t=e.platformReducer;return{platforms:t.platforms,isLoading:t.isPlatformDataLoading}})),O=p.platforms,v=p.isLoading,E=Object(l.useDispatch)(),h=Object(c.useContext)(X.a).userIdentity.identity.user.is_org_admin;Object(c.useEffect)((function(){E(Object(y.c)()),Object(d.c)(),insights.chrome.appNavClick({id:"platforms",secondaryNav:!0})}),[]);var j=function(){return s.a.createElement(c.Fragment,null,s.a.createElement(f.TextContent,null,s.a.createElement(u.Text,{component:u.TextVariants.p},e(Z.a.configureSourceTitle)),h?s.a.createElement(u.Text,{component:u.TextVariants.p},e(Z.a.connectSource,{a:function(e){return s.a.createElement("a",{href:"".concat(document.baseURI,"settings/sources")},e)}})):s.a.createElement(u.Text,null,e(Z.a.contactAdmin))))},P={items:O.filter((function(e){return e.name.toLowerCase().includes(r.toLowerCase())})).map((function(e){return s.a.createElement(W,o()({key:e.id},e))})),isLoading:v&&0===O.length};return s.a.createElement(c.Fragment,null,s.a.createElement(g.a,{schema:Object(K.b)({onFilterChange:function(e){return a(e)},searchValue:r,title:e(Z.a.title)})}),s.a.createElement(b.a,o()({},P,{renderEmptyState:function(){return s.a.createElement(Q.b,{title:e(Z.a.noPlatforms),renderDescription:j,Icon:m.a})}})))}}}]);
//# sourceMappingURL=../sourcemaps/platforms~31ecd969.js.map