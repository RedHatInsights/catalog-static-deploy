(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{653:function(t,n,e){"use strict";e.d(n,"g",(function(){return b})),e.d(n,"h",(function(){return I})),e.d(n,"e",(function(){return g})),e.d(n,"f",(function(){return P})),e.d(n,"i",(function(){return w})),e.d(n,"a",(function(){return _})),e.d(n,"b",(function(){return E})),e.d(n,"n",(function(){return D})),e.d(n,"k",(function(){return T})),e.d(n,"l",(function(){return N})),e.d(n,"c",(function(){return C})),e.d(n,"d",(function(){return F})),e.d(n,"m",(function(){return k})),e.d(n,"o",(function(){return A})),e.d(n,"j",(function(){return L}));var r=e(39),o=e.n(r),c=e(2),i=e.n(c),a=e(72),u=e.n(a),f=e(0),s=e.n(f),p=e(703),l=e(82),d=e(4),y=e(675),h=e(74);function m(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function v(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?m(Object(e),!0).forEach((function(n){i()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):m(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a,n=t.filter,e=u()(t,["filter"]);return{type:d.p,meta:v(v({},h.a),{},{filter:n},e),payload:y.k(n,e)}},b=function(t){return function(n){return n(O(t))}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.a;return function(n){return n(O(v(v({},t),{},{storeState:!0,stateKey:"portfolio"})))}},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a;return{type:d.r,meta:{filter:t,storeState:!0,stateKey:"products"},payload:y.j(n.limit,n.offset,t)}},P=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a;return{type:d.s,payload:y.i(t,n),meta:v(v({},n),{},{storeState:!0,stateKey:"portfolioItems"})}},w=function(t){return{type:d.o,payload:y.f(t)}},_=function(t){return{type:d.a,payload:y.a(t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding portfolio",description:"Portfolio ".concat(t.name," was added successfully.")}}}}},E=function(t,n){return{type:d.c,payload:y.b(t,n),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding products",description:"Products were successfully added to portfolio."}}}}},D=function(t,n){return function(e,r){return e({type:d.Y,payload:t}),y.p(t,{getState:r}).then((function(){return e(O(n))})).then((function(){return e({type:l.ADD_NOTIFICATION,payload:{dismissable:!0,variant:"success",title:"Success updating portfolio",description:"The portfolio was updated successfully."}})})).catch((function(t){throw e({type:d.I}),t})).catch((function(t){return e({type:"".concat(d.Y,"_REJECTED"),payload:t})}))}},j=function(t,n,e){return function(r){return r({type:l.CLEAR_NOTIFICATIONS}),y.o(t,n).then((function(t){return r({type:l.ADD_NOTIFICATION,payload:{variant:"success",dismissable:!0,title:"Portfolio ".concat(t.name," has been restored")}}),r(b(e))}))}},T=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,r){return e({type:d.e,payload:t}),e({type:d.D,payload:y.l(t).then((function(o){var c=o.restore_key;e({type:l.ADD_NOTIFICATION,payload:{variant:"success",title:"Success removing portfolio",dismissable:!0,description:s.a.createElement(f.Fragment,null,"The portfolio was removed successfully. You can ",s.a.createElement("a",{href:"#",id:"undo-delete-portfolio-".concat(t),onClick:function(r){r.preventDefault(),e(j(t,c,n))}},"Undo")," this action if this was a mistake.")}});var i=r().portfolioReducer.portfolios,a=i.meta,u=i.data;return e(b(v(v(v({},n),a),{},{offset:0===u.length?0:a.offset})))})).catch((function(t){throw e({type:d.I}),t}))})}},N=function(t,n){return function(e,r){e({type:"".concat(d.E,"_PENDING")});var o=r().portfolioReducer,c=o.portfolioItems.meta,i=o.selectedPortfolio.id;return y.m(t).then((function(t){return e(P(i,{offset:0,limit:c.limit,filter:""})).then((function(){return t}))})).then((function(r){return e({type:l.ADD_NOTIFICATION,payload:{variant:"success",title:"Products removed",dismissable:!0,description:s.a.createElement(p.a,{id:"portfolio.remove-portfolio-items",defaultMessage:"You have removed {count, number} {count, plural,\n            one {product}\n            other {products}\n          } from the {portfolioName} portfolio. {undo} if this was a mistake.",values:{count:t.length,portfolioName:n,undo:s.a.createElement("a",{href:"#",id:"restore-portfolio-item-".concat(i),onClick:function(t){t.preventDefault(),e(function(t,n){return function(e){return e({type:"".concat(d.G,"_PENDING")}),y.n(t).then((function(){return e({type:"".concat(d.G,"_FULFILLED")})})).then((function(){return e({type:l.CLEAR_NOTIFICATIONS})})).then((function(){return e(P(n))})).then((function(){return e({type:l.ADD_NOTIFICATION,payload:{variant:"success",dismissable:!0,title:"Products have been restored"}})})).catch((function(t){return e({type:"".concat(d.G,"_REJECTED"),payload:t})}))}}(r,i))}},"Undo")}})}})})).then((function(){return e({type:"".concat(d.E,"_FULFILLED")})})).catch((function(t){return e({type:"".concat(d.E,"_REJECTED"),payload:t})}))}},C=function(t){return function(n){return n({type:"COPY_PORTFOLIO_PENDING"}),y.c(t).then((function(t){return n({type:"COPY_PORTFOLIO_FULFILLED"}),n({type:l.ADD_NOTIFICATION,payload:{variant:"success",title:"You have successfully copied a portfolio",description:"".concat(t.name," has been copied."),dismissable:!0}}),t})).catch((function(t){return n({type:"COPY_PORTFOLIO_REJECTED",payload:t})}))}},F=function(t,n,e){return function(r){return y.d(t,n).then((function(t){return r({type:l.ADD_NOTIFICATION,payload:{variant:"success",title:"You have successfully copied a product",description:"".concat(t.name," has been copied into ").concat(e.name),dismissable:!0}}),t})).catch((function(t){return r({type:"COPY_PORTFOLIO_ITEM_REJECTED",payload:t})}))}},k=function(){return{type:d.F}},A=function(t){return function(n,e){return n({type:d.Z,payload:t}),y.q(t,{getState:e}).then((function(t){return n({type:d.W,payload:t}),t})).then((function(t){return n({type:l.ADD_NOTIFICATION,payload:{variant:"success",title:'Product "'.concat(t.name,'" was successfully updated'),dismissable:!0}})})).catch((function(t){throw n({type:d.H}),t})).catch((function(t){return n({type:"".concat(d.Z,"_REJECTED"),payload:t})}))}},L=function(t){return function(n){return n({type:"".concat(d.J,"_PENDING")}),y.h(t).then((function(t){var e=o()(t,2),r=e[0],c=e[1];return n({type:"".concat(d.J,"_FULFILLED"),payload:{portfolioItem:r,source:c}})}))}}},675:function(t,n,e){"use strict";e.d(n,"k",(function(){return P})),e.d(n,"j",(function(){return w})),e.d(n,"f",(function(){return _})),e.d(n,"i",(function(){return E})),e.d(n,"a",(function(){return D})),e.d(n,"b",(function(){return T})),e.d(n,"p",(function(){return C})),e.d(n,"l",(function(){return k})),e.d(n,"m",(function(){return S})),e.d(n,"q",(function(){return J})),e.d(n,"e",(function(){return G})),e.d(n,"n",(function(){return M})),e.d(n,"c",(function(){return U})),e.d(n,"d",(function(){return K})),e.d(n,"r",(function(){return q})),e.d(n,"h",(function(){return Z})),e.d(n,"g",(function(){return H})),e.d(n,"o",(function(){return W}));var r=e(61),o=e.n(r),c=e(72),i=e.n(c),a=e(112),u=e.n(a),f=e(21),s=e.n(f),p=e(2),l=e.n(p),d=e(111),y=e(12),h=e(150),m=e(74);function v(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function O(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?v(Object(e),!0).forEach((function(n){l()(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):v(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var b=Object(d.a)(),I=Object(d.e)(),g=Object(d.f)();function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a,e=n.limit,r=n.offset;return b.get("".concat(y.c,"/portfolios?filter[name][contains_i]=").concat(t,"&limit=").concat(e,"&offset=").concat(r))}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return b.get("".concat(y.c,"/portfolio_items?filter[name][contains_i]=").concat(e,"&limit=").concat(t,"&offset=").concat(n)).then((function(t){var n=t.data.reduce((function(t,n,e){return n.portfolio_id?O(O({},t),{},l()({},n.portfolio_id,t[n.portfolio_id]?[].concat(s()(t[n.portfolio_id]),[e]):[e])):t}),{});return b.get("".concat(y.c,"/portfolios?").concat(Object.keys(n).map((function(t){return"filter[id][]=".concat(t)})).join("&"))).then((function(e){var r=e.data;return{portfolioItems:t,portfolioReference:n,portfolios:r}}))})).then((function(t){var n=t.portfolioItems,e=t.portfolioReference;return t.portfolios.forEach((function(t){var r=t.id,o=t.name;return e[r]&&e[r].forEach((function(t){n.data[t].portfolioName=o}))})),n}))}function _(t){return I.showPortfolio(t)}function E(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a,e=n.limit,r=n.offset,o=n.filter,c=void 0===o?"":o;return b.get("".concat(y.c,"/portfolios/").concat(t,"/portfolio_items?filter[name][contains_i]=").concat(c,"&limit=").concat(e,"&offset=").concat(r))}function D(t,n){return j.apply(this,arguments)}function j(){return(j=u()(o.a.mark((function t(n,e){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.createPortfolio(n);case 2:if(!((r=t.sent)&&e&&e.length>0)){t.next=5;break}return t.abrupt("return",T(r,e));case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t,n){return N.apply(this,arguments)}function N(){return(N=u()(o.a.mark((function t(n,e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e.map((function(t){return g.createPortfolioItem({portfolio_id:n,service_offering_ref:t})}))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t,n){return F.apply(this,arguments)}function F(){return(F=u()(o.a.mark((function t(n,e){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.id,c=i()(n,["id"]),t.next=3,I.updatePortfolio(r,Object(h.b)(c,"Portfolio",e));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){return A.apply(this,arguments)}function A(){return(A=u()(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",I.destroyPortfolio(n));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){return x.apply(this,arguments)}function x(){return(x=u()(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",g.destroyPortfolioItem(n));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){return R.apply(this,arguments)}function R(){return(R=u()(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(n.map(function(){var t=u()(o.a.mark((function t(n){var e,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(n);case 2:return e=t.sent,r=e.restore_key,t.abrupt("return",{portfolioItemId:n,restoreKey:r});case 5:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(t,n){return Y.apply(this,arguments)}function Y(){return(Y=u()(o.a.mark((function t(n,e){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.id,c=i()(n,["id"]),t.next=3,g.updatePortfolioItem(r,Object(h.b)(c,"PortfolioItem",e));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function G(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return b.get("".concat(y.c,"/portfolios"),{params:{filter:{name:t}}})}var M=function(t){return Promise.all(t.map((function(t){var n=t.portfolioItemId,e=t.restoreKey;return g.unDeletePortfolioItem(n,{restore_key:e})})))},U=function(t){return I.postCopyPortfolio(t)},K=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g.postCopyPortfolioItem(t,n)},q=function(t,n,e){var r=new FormData;return r.append("content",n,n.name),e?b.patch("".concat(y.c,"/icons/").concat(e),r):(r.append("portfolio_item_id",t),b.post("".concat(y.c,"/icons"),r,{headers:{accept:"application/json","Content-Type":"multipart/form-data; boundary=".concat(r._boundary)}}))},Z=function(t){return Promise.all([b.get("".concat(y.c,"/portfolio_items/").concat(t.portfolioItem)),b.get("".concat(y.i,"/sources/").concat(t.source)).catch((function(t){if(404===t.status)return{object:"platform",notFound:!0};throw t}))])},H=function(t,n){return t.selectedPortfolio&&t.selectedPortfolio.id===n?t.selectedPortfolio:t.portfolios.data.find((function(t){return t.id===n}))},W=function(t,n){return b.post("".concat(y.c,"/portfolios/").concat(t,"/undelete"),{restore_key:n})}},703:function(t,n,e){"use strict";var r=e(0),o=e(164),c=e(119),i=e(8),a=e(118),u=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&(e[r[o]]=t[r[o]])}return e};const f=e.n(a).a||a,s=(t,n)=>Object(c.b)(Object.assign({},i.a,{locale:"en"}),Object(i.c)(),t,n);class p extends r.Component{shouldComponentUpdate(t){const n=this.props,{values:e}=n,r=u(n,["values"]),{values:o}=t,c=u(t,["values"]);return!f(o,e)||!f(r,c)}render(){return r.createElement(o.a.Consumer,null,t=>{this.props.defaultMessage||Object(i.h)(t);const{formatMessage:n=s,textComponent:e=r.Fragment}=t||{},{id:o,description:c,defaultMessage:a,values:u,children:f,tagName:p=e}=this.props;let l=n({id:o,description:c,defaultMessage:a},u);return Array.isArray(l)||(l=[l]),"function"==typeof f?f(...l):p?r.createElement(p,null,...l):l})}}p.displayName="FormattedMessage",p.defaultProps={values:{}},n.a=p}}]);
//# sourceMappingURL=../sourcemaps/lib~add-portfolio~copy-portfolio-item-modal~portfolio~portfolios~products~remove-portfolio~share-por~a2fe5007.js.map