(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{42:function(e,t,r){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var t={}.hasOwnProperty;function r(){for(var e=[],o=0;o<arguments.length;o++){var n=arguments[o];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)&&n.length){var i=r.apply(null,n);i&&e.push(i)}else if("object"===a)for(var s in n)t.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return r})):window.classNames=r}()},646:function(e,t,r){"use strict";var o=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n};var n=function(e,t){if(null==e)return{};var r,n,a=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a};t._objectWithoutProperties=n},650:function(e,t,r){"use strict";var o=r(645),n=r.n(o),a=r(73),i=r.n(a),s=r(0),c=r.n(s),l=r(1),p=r.n(l),u=r(647),d=r(273),f=r(75),m=function(e){var t=e.meta,r=t.limit,o=t.count,a=t.offset,s=e.apiProps,l=e.apiRequest,p=e.className,m=e.isCompact,b=i()(e,["meta","apiProps","apiRequest","className","isCompact"]);return c.a.createElement("div",{className:p},c.a.createElement(d.Pagination,n()({perPage:r||50,itemCount:o||0,onPerPageSelect:function(e,t){return l(s,{offset:a,limit:t})},page:Object(f.b)(r,a),onSetPage:function(e,t,o){var n={offset:Object(f.c)(t,r),limit:r},a=function(){return l(s,n)};return o?Object(u.a)(a,250)():a()},direction:"down",isCompact:m},b)))};m.propTypes={meta:p.a.shape({count:p.a.number,limit:p.a.number.isRequired,offset:p.a.number.isRequired}),apiRequest:p.a.func.isRequired,apiProps:p.a.any,className:p.a.string,isCompact:p.a.bool},m.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1},t.a=m},652:function(e,t,r){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),r(149);var n=r(268),a=r(267),i=r(646),s=o(r(0)),c=o(r(1)),l=o(r(42)),p=function(e){var t=e.type,r=e.children,o=e.className,c=i._objectWithoutProperties(e,["type","children","className"]),p=l(o,a._defineProperty({},"ins-l-".concat(t),void 0!==t));return s.createElement("section",n._extends({},c,{className:p})," ",r," ")};p.propTypes={type:c.string,className:c.string,children:c.any.isRequired},t.Section=p},655:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var o=r(0),n=r.n(o),a=r(1),i=r.n(a),s=r(76),c=r(581),l=r(582),p=r(583),u=r(584),d=r(44),f=r(74),m=r(649),b=function(e){var t=e.title,r=e.Icon,o=e.description,a=e.PrimaryAction,i=e.renderDescription;return n.a.createElement("div",{className:"pf-u-mt-xl"},n.a.createElement(c.EmptyState,{className:"pf-u-ml-auto pf-u-mr-auto"},n.a.createElement(l.EmptyStateIcon,{icon:r}),n.a.createElement(f.TextContent,null,n.a.createElement(d.Text,{component:d.TextVariants.h1},t)),n.a.createElement(p.EmptyStateBody,null,o,i()),n.a.createElement(u.EmptyStateSecondaryActions,null,a&&n.a.createElement(a,null))))};b.defaultProps={renderDescription:function(){return null}},b.propTypes={title:i.a.string.isRequired,Icon:i.a.any.isRequired,description:i.a.string,PrimaryAction:i.a.any,renderDescription:i.a.func},t.b=b;var y=function(e){var t=e.url,r=e.label,o=e.hasPermission,a=void 0!==o&&o,i=e.id;return a&&n.a.createElement(m.a,{id:i,pathname:t,preserveSearch:!0},n.a.createElement(s.Button,{variant:"primary"},r))};y.propTypes={url:i.a.string.isRequired,label:i.a.string.isRequired,od:i.a.string}},660:function(e,t,r){"use strict";var o=r(73),n=r.n(o),a=r(50),i=r.n(a),s=r(0),c=r.n(s),l=r(51),p=r(1),u=r.n(p);function d(){var e=i()(["\n  overflow: hidden;\n"]);return d=function(){return e},e}var f=l.b.div(d()),m=function(e){var t=e.toDisplay,r=void 0===t?[]:t,o=n()(e,["toDisplay"]);return r.map((function(e){return c.a.createElement(f,{key:"card-prop-".concat(e)},o[e])}))};m.propTypes={toDisplay:u.a.arrayOf(u.a.oneOfType([u.a.string,u.a.node,u.a.arrayOf(u.a.node)]))},m.defaultProps={toDisplay:[]},t.a=m},661:function(e,t,r){"use strict";var o=r(50),n=r.n(o);function a(){var e=n()(["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]);return a=function(){return e},e}var i=r(51).b.div(a());t.a=i},662:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var o=r(50),n=r.n(o),a=r(51),i=r(114);function s(){var e=n()(["\n  height: 230px;\n  overflow: hidden;\n  padding: 0 !important;\n  margin: 0 24px 24px;\n"]);return s=function(){return e},e}var c=Object(a.b)(i.CardBody)(s())},663:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return b}));var o=r(73),n=r.n(o),a=r(50),i=r.n(a),s=r(0),c=r.n(s),l=r(51),p=r(113),u=r(154);function d(){var e=i()(["\n  position: relative;\n  ::after {\n    display: ",";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: '';\n    background-color: rgba(210, 210, 210, 0.5);\n    z-index: 1;\n    cursor: progress;\n  }\n"]);return d=function(){return e},e}function f(){var e=i()(["\n  height: 330px;\n  position: relative;\n"]);return f=function(){return e},e}var m=Object(l.b)(p.Card)(f()),b=Object(l.b)((function(e){e.isDisabled;var t=n()(e,["isDisabled"]);return c.a.createElement(u.GalleryItem,t)}))(d(),(function(e){return e.isDisabled?"block":"none"}))},665:function(e,t,r){"use strict";var o=r(0),n=r.n(o),a=r(1),i=r.n(a),s=r(652),c=r(44),l=r(156),p=r(77),u=function(){return n.a.createElement("div",null,n.a.createElement(c.Text,{component:c.TextVariants.h1},"No items found"))},d=function(e){var t=e.isLoading,r=e.items,o=e.renderEmptyState;return t?n.a.createElement(p.b,null):0===r.length?o?o():n.a.createElement(u,null):n.a.createElement(s.Section,{type:"content"},n.a.createElement(l.Gallery,{gutter:"md",className:"content-gallery"},r))};d.propTypes={isLoading:i.a.bool,items:i.a.array,renderEmptyState:i.a.func},t.a=d},666:function(e,t,r){"use strict";var o=r(0),n=r.n(o),a=r(1),i=r.n(a),s=function(e){var t=e.children;return n.a.createElement("div",{className:"pf-u-p-lg pf-u-pt-md pf-u-pb-md global-primary-background pf-u-mt-auto"},t)};s.propTypes={children:i.a.oneOfType([i.a.node,i.a.arrayOf(i.a.node)])},t.a=s},675:function(e,t,r){"use strict";var o=r(0),n=r.n(o),a=r(1),i=r.n(a),s=r(580),c=function(e){var t=e.handleCheck,r=e.isChecked,o=e.id;return n.a.createElement(s.Checkbox,{onClick:function(e){return e.stopPropagation()},isChecked:r,onChange:t,"aria-label":"card checkbox",id:o})};c.propTypes={handleCheck:i.a.func,isChecked:i.a.bool,id:i.a.string},t.a=c},676:function(e,t,r){"use strict";var o=r(2),n=r.n(o),a=r(645),i=r.n(a),s=r(73),c=r.n(s),l=r(0),p=r.n(l),u=r(1),d=r.n(u),f=r(44),m=r(74),b=r(660),y=r(677),h=r(661),g=r(662),v=function(e){var t=e.name,r=(e.display_name,e.distributor),o=e.pathname,n=e.searchParams,a=e.preserveSearch,s=e.portfolioName,u=c()(e,["name","display_name","distributor","pathname","searchParams","preserveSearch","portfolioName"]);return p.a.createElement(g.a,null,p.a.createElement(m.TextContent,null,p.a.createElement(y.a,{pathname:o,searchParams:n,preserveSearch:a},p.a.createElement(f.Text,{component:f.TextVariants.h3,title:t},p.a.createElement(h.a,null,t))),r&&p.a.createElement(f.Text,{component:f.TextVariants.small},r),s&&p.a.createElement(l.Fragment,null,p.a.createElement(f.Text,{className:"pf-u-mb-0",component:"small"},"Portfolio"),p.a.createElement(f.Text,null,s))),p.a.createElement(b.a,i()({toDisplay:[u.description?"description":"long_description"]},u)))};v.propTypes={name:d.a.string,display_name:d.a.string,distributor:d.a.string,long_description:d.a.string,description:d.a.string,pathname:d.a.string,preserveSearch:d.a.bool,searchParams:d.a.shape(n()({},d.a.string,d.a.string)),portfolioName:d.a.string},t.a=v},678:function(e,t,r){"use strict";r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return u}));var o=r(2),n=r.n(o),a=r(73),i=r.n(a),s=r(656);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.groupName,r=e.hidden,o=void 0!==r&&r,n=i()(e,["groupName","hidden"]);return{component:s.b.TOOLBAR_GROUP,key:"".concat(t,"/single-toolbar-item-group"),fields:o?[]:[{component:s.b.TOOLBAR_ITEM,key:"".concat(t,"/single-toolbar-item"),fields:[n]}]}},u=function(e){var t=e.pathname,r=e.preserveSearch,o=i()(e,["pathname","preserveSearch"]);return{component:s.b.LINK,pathname:t,preserveSearch:r,key:"".concat(o.key,"/button-link"),isDisabled:o.isDisabled,fields:[l({component:s.b.BUTTON},o)]}}},701:function(e,t,r){"use strict";var o=r(0),n=r.n(o),a=r(1),i=r.n(a),s=r(586),c=r(587),l=r(269),p=r(12),u=r(672),d=r(675),f=r(676),m=r(663),b=function(e){return n.a.createElement(m.b,{isDisabled:e.removeInProgress&&e.isSelected},n.a.createElement(m.a,null,n.a.createElement(s.CardHeader,{className:"card_header"},n.a.createElement(l.Level,null,n.a.createElement(u.a,{src:"".concat(p.c,"/portfolio_items/").concat(e.id,"/icon"),sourceId:e.service_offering_source_ref}),e.isSelectable&&n.a.createElement(d.a,{handleCheck:function(){return e.onSelect(e.id)},isChecked:e.isSelected,id:e.id}))),n.a.createElement(f.a,e),n.a.createElement(c.CardFooter,null)))};b.propTypes={id:i.a.string,platformId:i.a.string,service_offering_source_ref:i.a.string,isSelectable:i.a.bool,isSelected:i.a.bool,onSelect:i.a.func,orderUrl:i.a.string,removeInProgress:i.a.bool,portfolio_id:i.a.string,metadata:i.a.shape({user_capabilities:i.a.shape({destroy:i.a.bool}).isRequired}).isRequired},t.a=b},777:function(e,t,r){"use strict";r.r(t);var o=r(2),n=r.n(o),a=r(645),i=r.n(a),s=r(38),c=r.n(s),l=r(0),p=r.n(l),u=r(1),d=r.n(u),f=r(61),m=r(33),b=r(668),y=r(73),h=r.n(y),g=r(274),v=r(34),P=r(276),O=r(275),E=r(656),R=r(678),j=r(650),k=r(649);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=function(e){var t=e.editPortfolioRoute,r=e.workflowPortfolioRoute,o=e.removePortfolioRoute,n=e.copyInProgress,a=e.copyPortfolio,i=e.userCapabilities,s=i.copy,u=i.destroy,d=i.update,f=i.set_approval,m=Object(l.useState)(!1),b=c()(m,2),y=b[0],h=b[1],E=[];return s&&E.push(p.a.createElement(O.DropdownItem,{component:"button","aria-label":"Copy Portfolio",key:"copy-portfolio",id:"copy-portfolio",onClick:a},"Copy")),f&&E.push(p.a.createElement(O.DropdownItem,{"aria-label":"Set approval workflow",key:"set-approval-portfolio-action",id:"set-approval-portfolio-action",component:p.a.createElement(k.a,{preserveSearch:!0,pathname:r},"Set approval"),role:"link"})),d&&E.push(p.a.createElement(O.DropdownItem,{"aria-label":"Edit Portfolio",key:"edit-portfolio",id:"edit-portfolio",component:p.a.createElement(k.a,{id:"edit-portfolio",preserveSearch:!0,pathname:t},"Edit"),role:"link"})),u&&E.push(p.a.createElement(O.DropdownItem,{"aria-label":"Remove Portfolio",key:"delete-portfolio",id:"delete-portfolio",component:p.a.createElement(k.a,{preserveSearch:!0,pathname:o},"Delete"),role:"link",className:"pf-c-dropdown__menu-item"})),0===E.length?null:p.a.createElement(g.Dropdown,{className:"pf-u-ml-md",onSelect:function(){return h(!1)},position:v.DropdownPosition.right,toggle:p.a.createElement(P.KebabToggle,{id:"toggle-portfolio-actions",onToggle:h,isDisabled:n}),isOpen:y,isPlain:!0,dropdownItems:E})};D.propTypes={removePortfolioRoute:d.a.string.isRequired,editPortfolioRoute:d.a.string.isRequired,workflowPortfolioRoute:d.a.string.isRequired,copyPortfolio:d.a.func.isRequired,copyInProgress:d.a.bool,userCapabilities:d.a.shape({copy:d.a.bool,update:d.a.bool,destroy:d.a.bool,set_approval:d.a.bool}).isRequired};var C=function(e){var t=e.title,r=e.addProductsRoute,o=e.copyPortfolio,n=e.sharePortfolioRoute,a=e.editPortfolioRoute,i=e.workflowPortfolioRoute,s=e.removePortfolioRoute,c=e.copyInProgress,l=e.isLoading,p=e.removeProducts,u=e.itemsSelected,d=e.meta,f=e.fetchPortfolioItemsWithPortfolio,m=e.portfolioId,b=e.description,y=e.filterProps,g=y.searchValue,v=y.onFilterChange,P=y.placeholder,O=e.userCapabilities,k=O.share,w=O.unshare,C=h()(O,["share","unshare"]);return{fields:[{component:E.b.TOP_TOOLBAR,key:"portfolio-top-toolbar",fields:[{component:E.b.TOP_TOOLBAR_TITLE,key:"portfolio-toolbar-title",noData:d.noData,title:t,description:b,fields:[{component:E.b.LEVEL_ITEM,key:"portfolio-actions",fields:[Object(R.a)({pathname:n,preserveSearch:!0,variant:"secondary",title:"Share",isDisabled:c,key:"portfolio-share-button",id:"portfolio-share-button",hidden:!k&&!w}),{component:D,editPortfolioRoute:a,workflowPortfolioRoute:i,removePortfolioRoute:s,copyPortfolio:o,copyInProgress:c,userCapabilities:C,key:"portfolio-actions-dropdown"}]}]},{component:E.b.LEVEL,key:"portfolio-items-actions",fields:d.noData?[]:[{component:E.b.TOOLBAR,key:"portfolio-items-actions",fields:[Object(R.b)({groupName:"filter-portfolio-items",component:E.b.FILTER_TOOLBAR_ITEM,isClearable:!0,key:"portfolio-items-filter",searchValue:g,onFilterChange:v,placeholder:P}),Object(R.b)(S({hidden:0===d.count||!C.update,groupName:"add-portfolio-items",key:"portfolio-items-add-group"},Object(R.a)({preserveSearch:!0,pathname:r,isDisabled:l||c,variant:"primary",title:"Add",key:"add-products-button"}))),Object(R.b)({component:E.b.BUTTON,hidden:0===d.count||!C.update,groupName:"remove-portfolio-items",variant:"link",title:"Remove",key:"remove-products-button",id:"remove-products-button",isDisabled:!u,onClick:p})]},{component:E.b.LEVEL_ITEM,key:"pagination-item",fields:d.count>0?[{component:j.a,key:"portfolio-items-pagination",meta:d,apiRequest:f,apiProps:m,isCompact:!0}]:[]}]}]}]}},T=r(579),I=r.n(T),_=r(600),N=r.n(_),q=r(655),x=r(76),L=function(e){var t=e.url,r=e.handleFilterChange,o=e.meta,n=e.userCapabilities.update,a={PrimaryAction:o.noData?function(){return p.a.createElement(q.a,{url:t,label:"Add products",id:"add-products-to-portfolio",hasPermission:n})}:function(){return p.a.createElement(x.Button,{id:"clear-portfolio-filter",variant:"link",onClick:function(){return r("")}},"Clear all filters")},title:o.noData?"No products yet":"No results found",description:o.noData?"No products in your portfolio":"No results match the filter criteria. Remove all filters or clear all filters to show results.",Icon:o.noData?N.a:I.a};return p.a.createElement(q.b,a)};L.propTypes={url:d.a.string.isRequired,handleFilterChange:d.a.func.isRequired,meta:d.a.shape({noData:d.a.bool}).isRequired,userCapabilities:d.a.shape({update:d.a.bool}).isRequired};var F=L,A=r(665),B=r(701),V=r(659),M=r(666),U=r(78),W=r(11);function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K=function(e){var t=e.routes,r=e.handleFilterChange,o=e.removeProducts,n=e.copyPortfolio,a=e.stateDispatch,s=e.state,u=s.removeInProgress,d=s.isFetching,y=s.isFiltering,h=s.copyInProgress,g=s.selectedItems,v=s.filterValue,P=Object(m.useSelector)((function(e){var t=e.portfolioReducer,r=t.portfolioItems,o=r.data,n=r.meta,a=t.selectedPortfolio;return{data:o,meta:n,name:a.name,description:a.description,userCapabilities:a.metadata.user_capabilities}})),O=P.data,E=P.meta,R=P.name,k=P.description,w=P.userCapabilities,S=Object(f.i)(W.u).url,D=Object(U.a)(["portfolio"]),T=c()(D,1)[0].portfolio,I=Object(m.useDispatch)(),_=O.map((function(e){return p.a.createElement(B.a,i()({key:e.id},e,{pathname:"".concat(S,"/portfolio-item"),searchParams:{source:e.service_offering_source_ref,"portfolio-item":e.id},preserveSearch:!0,isSelectable:w.update,onSelect:function(e){return a({type:"selectItem",payload:e})},isSelected:g.includes(e.id),removeInProgress:u}))}));return p.a.createElement(l.Fragment,null,p.a.createElement(b.a,{schema:C(J(J({filterProps:{searchValue:v,onFilterChange:r,placeholder:"Filter by product"},title:R,description:k},t),{},{copyPortfolio:n,isLoading:d||y,copyInProgress:h,removeProducts:function(){return o(g)},itemsSelected:g.length>0,meta:E,fetchPortfolioItemsWithPortfolio:function(){return I(V.f.apply(void 0,arguments))},portfolioId:T,userCapabilities:w}))}),p.a.createElement(A.a,{items:_,isLoading:d||y,renderEmptyState:function(){return p.a.createElement(F,{handleFilterChange:r,meta:E,userCapabilities:w,url:t.addProductsRoute})}}),E.count>0&&p.a.createElement(M.a,null,p.a.createElement(j.a,{dropDirection:"up",meta:E,apiProps:T,apiRequest:function(){return I(V.f.apply(void 0,arguments))}})))};K.propTypes={routes:d.a.shape({addProductsRoute:d.a.string.isRequired,portfolioRoute:d.a.string.isRequired}).isRequired,handleFilterChange:d.a.func.isRequired,removeProducts:d.a.func.isRequired,copyPortfolio:d.a.func.isRequired,stateDispatch:d.a.func.isRequired,state:d.a.shape({removeInProgress:d.a.bool,isFetching:d.a.bool,isFiltering:d.a.bool,copyInProgress:d.a.bool,selectedItems:d.a.arrayOf(d.a.string),filterValue:d.a.string}).isRequired};t.default=K}}]);
//# sourceMappingURL=../sourcemaps/61.js.map