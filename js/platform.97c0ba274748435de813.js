"use strict";(self.webpackChunkcatalog=self.webpackChunkcatalog||[]).push([[7745],{80256:(e,t,r)=>{t.Z=void 0;const n=r(21988),o=n.__importStar(r(30624));t.Z=e=>{var{children:t=null}=e,r=n.__rest(e,["children"]);return o.createElement("div",Object.assign({},r),t)},t.Z.displayName="LevelItem"},39173:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(30624),o=r.n(n),a=r(45697),l=r.n(a),i=r(94184),c=r.n(i),s=r(60485),f=function(e){var t=e.className,r=e.title,n=c()(t);return o().createElement(s.D,{headingLevel:"h1",size:"2xl",className:n,"widget-type":"InsightsPageHeaderTitle"}," ",r," ")};const p=f;f.propTypes={title:l().node.isRequired,className:l().string}},4852:(e,t,r)=>{r.r(t),r.d(t,{default:()=>R});var n=r(29439),o=r(30624),a=r.n(o),l=r(334),i=r(63035),c=r(11608),s=r(49827),f=r(47786),p=r(14494),u=r(52579),m=r(36722),d=r(66678),v=r(12700),y=r(8666),h=r(80256),g=r(31369),E=r(56682),O=r(23349),b=(0,o.lazy)((function(){return r.e(25).then(r.bind(r,43256))})),P=(0,o.lazy)((function(){return Promise.all([r.e(2679),r.e(4026),r.e(4727)]).then(r.bind(r,47179))})),L=(0,o.lazy)((function(){return Promise.all([r.e(1436),r.e(7792)]).then(r.bind(r,87552))})),T=(0,o.lazy)((function(){return Promise.all([r.e(2679),r.e(5171),r.e(1806)]).then(r.bind(r,69872))})),_=[{eventKey:0,title:"Templates",name:"/platforms/platform/platform-templates"},{eventKey:1,title:"Inventories",name:"/platforms/platform/platform-inventories"},{eventKey:2,title:"Summary",name:"/platforms/platform/platform-details"}];const R=function(){var e=(0,p.I0)(),t=(0,f.Z)(["platform"]),r=(0,n.Z)(t,1)[0].platform,R=(0,p.v9)((function(e){var t=e.platformReducer;return{selectedPlatform:t.selectedPlatform,serviceOffering:t.serviceOffering}})),w=R.selectedPlatform,k=R.serviceOffering,I=(0,u.Z)([w,k]),A=(0,O.Z)();return(0,o.useEffect)((function(){var t,n;return Promise.all([e(null!==(t=window.catalog)&&void 0!==t&&t.standalone?(0,s.x6)(r):(0,c.x6)(r)),e(null!==(n=window.catalog)&&void 0!==n&&n.standalone?(0,s.dw)():(0,c.dw)())]),(0,i.k3)(),function(){I()}}),[r]),a().createElement(o.Fragment,null,a().createElement(l.Route,{exact:!0,path:[m.mg,m.AG,m.d2,m.Dq,"".concat(m.mg,"/*")]},a().createElement(h.Z,null,a().createElement(d.Z,{schema:(0,v.wr)({title:w.name,paddingBottom:!1,tabItems:_,platformAvailable:function(){return function(e){return{color:"available"===e.availability_status?"green":"red",icon:a().createElement(g.default,null),title:"available"===e.availability_status?A(E.Z.available):A(E.Z.notAvailable)}}(w)}})}))),a().createElement(o.Suspense,{fallback:a().createElement(y.Ii,null)},a().createElement(l.Switch,null,a().createElement(l.Route,{path:m.rg},a().createElement(T,null)),a().createElement(l.Route,{path:m.mg},a().createElement(L,null)),a().createElement(l.Route,{path:m.Dq},a().createElement(b,null)),a().createElement(l.Route,{path:[m.d2,m.AG]},a().createElement(P,null)))))}},12700:(e,t,r)=>{r.d(t,{qG:()=>s,wr:()=>f,At:()=>p});var n=r(4942),o=r(57464),a=r(91703),l=r(77172);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=function(e){var t=e.searchValue,r=e.onFilterChange,n=e.title;return{fields:[{component:a.H.TOP_TOOLBAR,key:"platforms-toolbar",fields:[{component:a.H.TOP_TOOLBAR_TITLE,key:"platforms-toolbar-title",title:n},{component:a.H.LEVEL,key:"platforms-toolbar-actions",fields:[{component:a.H.LEVEL_ITEM,key:"input-level-item",fields:[{component:a.H.FILTER_TOOLBAR_ITEM,key:"platforms-toolbar-filter-input",searchValue:t,onFilterChange:r,placeholder:"Filter by platform"}]},{component:a.H.LEVEL_ITEM,key:"pagination-level-item",fields:[]}]}]}]}},f=function(e){var t=e.title,r=e.paddingBottom,n=e.tabItems,l=e.platformAvailable;return{fields:[{component:a.H.TOP_TOOLBAR,key:"platforms-toolbar",paddingBottom:r,fields:[{component:a.H.LEVEL,fields:[{component:a.H.TOOLBAR_GROUP,key:"platform-toolbar",fields:[{component:a.H.TOOLBAR_ITEM,key:"platform-toolbar-group",fields:[{component:a.H.TOP_TOOLBAR_TITLE,key:"platforms-toolbar-title",title:t}]}]},{component:a.H.TOOLBAR_GROUP,key:"platform-toolbar",alignment:"alignRight",fields:[{component:a.H.TOOLBAR_ITEM,key:"platform-label",alignment:"alignRight",fields:[c({component:a.H.LABEL,key:"platform-available-label",variant:"outline"},l())]}]}]},{component:a.H.LEVEL_ITEM,key:"tabs-level-item",fields:n?[{component:o.Z,key:"platform-tabs",tabItems:n}]:[]}]}]}},p=function(e){var t=e.searchValue,r=e.onFilterChange,n=e.meta,o=e.apiRequest,i=e.filterPlaceholder;return{fields:[{component:a.H.TOOLBAR,key:"platforms-filter-toolbar",className:"pf-u-pt-md pf-u-pb-md pf-u-pr-lg pf-u-pl-lg",fields:[{component:a.H.LEVEL,key:"platforms-toolbar-actions",className:"pf-m-grow",fields:[{component:a.H.LEVEL_ITEM,key:"input-level-item",fields:[{component:a.H.FILTER_TOOLBAR_ITEM,key:"platforms-toolbar-filter-input",searchValue:t,onFilterChange:r,placeholder:i}]},{component:a.H.LEVEL_ITEM,key:"pagination-level-item",fields:n.count>0?[{component:l.Z,key:"platform-pagination",apiRequest:o,meta:n,isCompact:!0}]:[]}]}]}]}}},49827:(e,t,r)=>{r.d(t,{bJ:()=>y,Vx:()=>d,dw:()=>m,x6:()=>v,TP:()=>h});var n=r(90060),o=r(15654),a=r(35388),l=r(7247),i=(0,o.Hx)(),c=((0,o.mY)().post,function(e){return i.patch(a.Vs+"/sources/"+e+"/refresh/")}),s=function(e,t,r){if(e){var n=t?"?name="+t:"",o=r?"page_size="+r.limit+"&page="+(r.offset||1):"";return i.get(a.Vs+"/sources/"+e+"/service_offerings/"+n+(t?"&":"?")+o)}return i.get(a.Vs+"/service_offerings/")},f=function(e,t,r){if(void 0===t&&(t=""),void 0===r&&(r=l.he),e){var n=t?"name="+t:"";return i.get(a.Vs+"/sources/"+e+"/service_inventories/?"+n+(r?"&page_size="+r.limit+"&page="+(r.offset||1):""))}return i.get(a.Vs+"/service_inventories/?page_size="+r.limit+"&page="+(r.offset||1))},p=r(83215),u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},m=function(){return function(e){return e({type:n.mH+"_PENDING"}),i.get(a.Vs+"/sources/").then((function(t){return e({type:n.mH+"_FULFILLED",payload:t})})).catch((function(t){return e({type:n.mH+"_REJECTED",payload:t})}))}},d=function(e,t,r){return{type:n.d6,payload:s(e,t,r),meta:u({platformId:e,filter:t},r)}},v=function(e){return{type:n.UZ,payload:(t=e,i.get(a.Vs+"/sources/"+t+"/"))};var t},y=function(e,t,r){return{type:n.c_,payload:f(e,t,r)}},h=function(e){return function(t){return t({type:n.$f,payload:c(e).then((function(){return t((0,p.wN)({variant:"success",title:"Success starting the platform refresh",dismissable:!0,description:"The platform refresh started successfully"}))})).catch((function(e){429===e.status?t((0,p.wN)({variant:"info",title:"Platform refresh in progress",dismissable:!0,description:"Platform refresh already running."})):t({type:n.$f+"_REJECTED",payload:e})}))})}}},77172:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(30624),o=r.n(n),a=r(99166),l=r(56976),i=r(7247),c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};const s=function(e){var t=e.meta,r=t.limit,n=void 0===r?50:r,s=t.count,f=void 0===s?0:s,p=t.offset,u=void 0===p?0:p,m=e.apiProps,d=e.apiRequest,v=e.className,y=void 0===v?"":v,h=e.isCompact,g=void 0!==h&&h,E=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["meta","apiProps","apiRequest","className","isCompact"]);return o().createElement("div",{className:y},o().createElement(l.Pagination,c({perPage:n||50,itemCount:f||0,onPerPageSelect:function(e,t){return d(m,{offset:u,limit:t})},page:(0,i.FZ)(n,u),onSetPage:function(e,t,r){var o={offset:(0,i.SJ)(t,n),limit:n},l=function(){return d(m,o)};return r?(0,a.Z)(l,250)():l()},dropDirection:"down",isCompact:g},E)))}},52579:(e,t,r)=>{r.d(t,{Z:()=>y});var n,o,a=r(30624),l=r(334),i=r(14494),c=r(90060),s=r(36722),f=(s.oQ,{"portfolio-item":["source","portfolio"],"edit-survey":["source","portfolio","portfolio-item"]}),p=((n={})[s.hT]=function(e){return e().portfolioReducer.selectedPortfolio.name},n[s.YJ]=function(e){return e().portfolioReducer.portfolioItem.portfolioItem.name},n[s.PC]=function(){return"Edit survey"},n[s.kp]=function(){return"Add products"},n[s.AG]=function(e){return e().platformReducer.selectedPlatform.name},n[s.rg]=function(e){return e().platformReducer.serviceOffering.service.name},n[s.A5]=function(e){var t=e().orderReducer.orderDetail,r=t.portfolioItem,n=t.order;return r.name+" # "+n.id},n[s.Kf]=function(){return"Edit product"},n),u=((o={})[s.hT]={pathname:s.oQ,title:"Portfolios",searchParams:{}},o[s.AG]={pathname:s.gw,title:"Platforms",searchParams:{}},o[s.A5]={pathname:s.Xr,title:"Orders",searchParams:{}},o),m=function(){return(m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},d=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},v=function(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),function(r,n){if(0===e.length)return r({type:c.EL,payload:[]});var o=[];"/portfolios/portfolio"===e&&o.push("/portfolios"),e.startsWith("/portfolios/portfolio/portfolio-item")&&(o[0]="/portfolios",o[1]="/portfolio",e.startsWith("/portfolios/portfolio/portfolio-item/")&&(o[2]="/portfolio-item")),e.startsWith("/platforms/platform")&&(o[0]="/platforms");var a=(e=e.replace(o[0],"")).replace(/^\//,"").split("/").reduce((function(e,r,a){var l,i,c=""+(a>0&&e[a-1]?e[a-1].pathname:"")+o[a]+"/"+r,s=p[c];if(!s)return e;var v=m(m({},a>0&&(null===(i=e[a-1])||void 0===i?void 0:i.searchParams)),t[r]?((l={})[r]=t[r],l):{});f[r]&&f[r].forEach((function(e){v[e]=t[e]})),u[c]&&(e=[u[c]]);var y=s(n);return y?d(d([],e,!0),[{pathname:c,searchParams:v,title:y}],!1):e}),[]);return a.length>0&&u[a[0].pathname]&&(a=d([u[a[0].pathname]],a,!0)),r({type:c.EL,payload:a})}};const y=function(e){void 0===e&&(e=[]);var t=(0,i.I0)(),r=(0,l.useLocation)(),n=r.pathname,o=r.search;if(0===e.length)return t(v("",{}));var c=new URLSearchParams(o),s={};return c.forEach((function(e,t){s[t]=e})),(0,a.useEffect)((function(){t(v(n,s))}),function(e,t,r){if(r||2===arguments.length)for(var n,o=0,a=t.length;o<a;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}([n],e,!0)),function(){return t(v("",{}))}}}}]);
//# sourceMappingURL=../sourcemaps/platform.3fe21a0d7a2cbe35405ff85f6d9f96f8.js.map