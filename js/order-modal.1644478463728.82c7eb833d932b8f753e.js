"use strict";(self.webpackChunkcatalog=self.webpackChunkcatalog||[]).push([[7709],{91858:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(30624),l=n.n(r),a=n(14494),o=n(334),i=n(65832),c=n(67463),s=n(30137),u=n(2482),m=n(85132),f=n(58603),p=n(47786),d=n(56682),v=n(23349),h=n(63035),b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)};const E=function(e){var t=e.closeUrl,n=(0,r.useState)(!0),E=n[0],_=n[1],g=(0,o.useLocation)().search,k=(0,o.useHistory)().push,L=(0,a.I0)(),y=(0,p.Z)(["portfolio-item"])[0]["portfolio-item"],C=(0,a.v9)((function(e){return e.portfolioReducer.portfolioItem})).portfolioItem,O=(0,v.Z)(),Z=(0,a.v9)((function(e){return e.orderReducer.servicePlans}));(0,r.useEffect)((function(){L((0,h.$W)()?(0,m.kL)(y):(0,u.kL)(y)).then((function(){return _(!1)}))}),[]);var I=function(){return k({pathname:t,search:g})},P=function(e){var t,n=null===(t=null==e?void 0:e.fields)||void 0===t?void 0:t.map((function(e){return e.isSubstitution&&(delete e.validate,delete e.dataType),e}));return b(b({},e),{fields:n})},S=null;return Z[0]&&(S=(0,h.$W)()?P(Z[0].schema.schema):P(Z[0].create_json_schema.schema)),l().createElement(i.Modal,{isOpen:!0,onClose:I,title:"Order submission",variant:"small"},l().createElement(i.Level,{className:"pf-u-mb-md"},l().createElement(i.LevelItem,null,l().createElement(i.TextContent,null,l().createElement(i.Text,null,l().createElement("strong",null,C.name))))),E?l().createElement(f.Z,{className:"pf-u-m-sm"},l().createElement(c.Spinner,null)):S&&l().createElement(s.ZP,{schema:S,onSubmit:function(e){L((0,h.$W)()?(0,m.g3)({portfolio_item_id:C.id,service_parameters:e},C):(0,u.g3)({portfolio_item_id:C.id,service_parameters:e},C)),I()},onCancel:I,templateProps:{submitLabel:O(d.Z.confirm)}}))}}}]);
//# sourceMappingURL=../sourcemaps/order-modal.0e5255481bc018e67d74d061ab01336d.js.map