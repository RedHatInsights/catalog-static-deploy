(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{645:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},647:function(e,t,n){"use strict";var r=n(664),o=n.n(r);function i(e){var t=null,n=null,r=new Promise((function(e,r){t=e,n=r}));return e&&e.then((function(e){t&&t(e)}),(function(e){n&&n(e)})),{promise:r,resolve:function(e){t&&t(e)},reject:function(e){n&&n(e)},cancel:function(){t=null,n=null}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u={key:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},onlyResolvesLast:!0},a=function(){function e(e){this.config=e,this.debounceSingleton=null,this.debounceCache={}}return e.prototype._createDebouncedFunction=function(){var e,t,n=o()(this.config.func,this.config.wait,this.config.options);return this.config.options.onlyResolvesLast&&(e=n,t=null,n=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t&&t();var o=e.apply(void 0,n),c=i(o),u=c.promise,a=c.cancel;return t=a,u}),{func:n}},e.prototype.getDebouncedFunction=function(e){var t,n=(t=this.config.options).key.apply(t,e);return null==n?(this.debounceSingleton||(this.debounceSingleton=this._createDebouncedFunction()),this.debounceSingleton):(this.debounceCache[n]||(this.debounceCache[n]=this._createDebouncedFunction()),this.debounceCache[n])},e}();t.a=function(e,t,n){var r=c({},u,n),o=new a({func:e,wait:t,options:r});return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.getDebouncedFunction(e).func;return n.apply(void 0,e)}}},648:function(e,t,n){"use strict";var r=n(647);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(r.a)(e,t,n)}},664:function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e){return"function"==typeof e?e():e}function i(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=void 0,u=void 0,a=void 0,l=[];return function(){var f,p=o(t),b=(new Date).getTime(),h=!c||b-c>p;c=b;for(var v=arguments.length,y=Array(v),m=0;m<v;m++)y[m]=arguments[m];if(h&&n.leading)return n.accumulate?Promise.resolve(e.call(this,[y])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(y)));if(u?clearTimeout(a):u=i(),l.push(y),a=setTimeout(s.bind(this),p),n.accumulate){var d=(f=l.length-1,{v:u.promise.then((function(e){return e[f]}))});if("object"===(void 0===d?"undefined":r(d)))return d.v}return u.promise};function s(){var t=u;clearTimeout(a),Promise.resolve(n.accumulate?e.call(this,l):e.apply(this,l[l.length-1])).then(t.resolve,t.reject),l=[],u=null}}},667:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},670:function(e,t,n){"use strict";var r=n(2),o=n.n(r),i=n(667),c=n.n(i),u=n(61);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e){return"string"==typeof e?e.split("?")[0]:"object"===c()(e)?l(l({},e),{},{search:void 0}):e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.removeSearch,n=e.keepHash,r=Object(u.g)();return l(l({},r),{},{push:function(e){var o=e;return n&&r.location.hash.length>0&&(o="object"===c()(o)?l(l({},o),{},{hash:r.location.hash}):"".concat(o).concat(r.location.hash)),t?r.push(s(o)):r.push(o)}})}},706:function(e,t,n){"use strict";var r=n(50),o=n.n(r),i=n(51),c=n(151);function u(){var e=o()(["\n  overflow: hidden;\n"]);return u=function(){return e},e}var a=Object(i.b)(c.Bullseye)(u());t.a=a},780:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),i=n(62),c=n.n(i),u=n(112),a=n.n(u),l=n(38),s=n.n(l),f=n(0),p=n.n(f),b=n(1),h=n.n(b),v=n(33),y=n(585),m=n(153),d=n(674),O=n(657),g=n.n(O),j=n(12),S=n(648),w=n(681),P=Object(S.a)((function(e,t){return Object(w.e)(e).then((function(n){var r=n.data;if(!e||0===e.trim().length)throw"Required";if(r.find((function(n){return n.name===e&&n.id!==t})))throw"Name has already been taken"}))})),D=function(e,t,n){var r,o,i,c,u;return{fields:[{label:"Name",name:"name",component:g.a.TEXT_FIELD,isRequired:!0,maxLength:(null==t||null===(r=t.components)||void 0===r||null===(o=r.schemas)||void 0===o||null===(i=o.Portfolio)||void 0===i||null===(c=i.properties)||void 0===c||null===(u=c.name)||void 0===u?void 0:u.maxLength)||j.d,validate:[function(e){return P(e,n)}]},{label:"Description",component:g.a.TEXTAREA,name:"description"}]}},E=n(659),T=n(78),k=n(670),x=n(706),C=n(160),R=n(11),L=n(82);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var q=function(e){var t,n,r=e.removeQuery,o=e.closeTarget,i=e.viewState,u=Object(v.useDispatch)(),l=Object(f.useState)(!1),b=s()(l,2),h=b[0],O=b[1],g=Object(f.useState)(!0),j=s()(g,2),S=j[0],P=j[1],F=Object(f.useContext)(L.a).openApiSchema,q=Object(T.a)(["portfolio"]),A=s()(q,1)[0].portfolio,N=Object(k.a)({removeQuery:r,keepHash:!0}).push,Q=Object(v.useSelector)((function(e){var t=e.portfolioReducer;return Object(w.g)(t,A)})),H=function(){var e=a()(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.next=3,u(Object(E.a)(t));case 3:return n=e.sent,O(!1),e.abrupt("return",n&&n.value&&n.value.id?N({pathname:R.u,search:"?portfolio=".concat(n.value.id)}):N(o));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=A&&Q&&Object.keys(Q).length>0;return!1===(null==Q||null===(t=Q.metadata)||void 0===t||null===(n=t.user_capabilities)||void 0===n?void 0:n.update)?p.a.createElement(C.a,null):p.a.createElement(y.Modal,{title:A?"Edit portfolio":"Create portfolio",isOpen:S,onClose:function(){return N(o)},isSmall:!0},!A||J?p.a.createElement(d.b,{schema:D(0,F,A),schemaType:"default",onSubmit:function(e){return Q?(P(!1),u(Object(E.n)(e,i)).then((function(){return N(o)}))):H(e,i)},onCancel:function(){return N(o)},initialValues:_({},Q),formContainer:"modal",buttonsLabels:{submitLabel:A?"Save":"Create"},disableSubmit:h?["pristine","diry"]:[]}):p.a.createElement(x.a,{className:"pf-u-m-md"},p.a.createElement(m.Spinner,null)))};q.propTypes={removeQuery:h.a.bool,closeTarget:h.a.oneOfType([h.a.string,h.a.shape({pathname:h.a.string.isRequired,search:h.a.string})]).isRequired,viewState:h.a.shape({count:h.a.number,limit:h.a.number,offset:h.a.number,filter:h.a.string})};t.default=q}}]);
//# sourceMappingURL=../sourcemaps/add-portfolio~31ecd969.js.map