(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{577:function(e,t,r){"use strict";var a=r(69),n=r.n(a),o=r(70),i=r.n(o),s=r(0),c=r.n(s),l=r(4),u=r.n(l),d=r(179),f=r(284),p=r(23),m=function(e){var t=e.meta,r=t.limit,a=t.count,o=t.offset,s=e.apiProps,l=e.apiRequest,u=e.className,m=e.isCompact,g=i()(e,["meta","apiProps","apiRequest","className","isCompact"]);return c.a.createElement("div",{className:u},c.a.createElement(f.Pagination,n()({perPage:r||50,itemCount:a||0,onPerPageSelect:function(e,t){return l(s,{offset:o,limit:t})},page:Object(p.b)(r,o),onSetPage:function(e,t,a){var n={offset:Object(p.c)(t,r),limit:r},o=function(){return l(s,n)};return a?Object(d.a)(o,250)():o()},direction:"down",isCompact:m},g)))};m.propTypes={meta:u.a.shape({count:u.a.number,limit:u.a.number.isRequired,offset:u.a.number.isRequired}),apiRequest:u.a.func.isRequired,apiProps:u.a.any,className:u.a.string,isCompact:u.a.bool},m.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1},t.a=m},599:function(e,t,r){"use strict";var a=r(21),n=Object(a.b)({workflowColumn:{id:"platform.inventories.columns.workflow",defaultMessage:"Workflow"},noInventoriesDescription:{id:"platform.inventories.empty.no-inventories",defaultMessage:"No inventories found."},noInventoriesFilterDescription:{id:"platform.inventories.empty.no-results",defaultMessage:"No inventories match your filter criteria."},inventoriesFilter:{id:"platform.inventories.filter.placeholder",defaultMessage:"Filter by inventory"},templatesFilter:{id:"platform.templates.filter.placeholder",defaultMessage:"Filter by template"},noTemplatesTitle:{id:"platform.templates.no-templates",defaultMessage:"No templates"},noTemplatesDescription:{id:"platform.templates.empty.no-templates",defaultMessage:"This platform has no templates."},configureSourceTitle:{id:"platforms.list.configure-source",defaultMessage:"Configure a source in order to add products to portfolios."},connectSource:{id:"platforms.list.connect-source",defaultMessage:"To connect to a source, go to <a>Sources</a> under Settings."},contactAdmin:{id:"platforms.list.contact-admin",defaultMessage:"Contact your organization administrator to setup sources for Catalog."},title:{id:"platforms.title",defaultMessage:"Platforms"},noPlatforms:{id:"platforms.list.empty.title",defaultMessage:"No platforms yet"},offeringTitle:{id:"platforms.offerings.detail.title",defaultMessage:"Service offering"},offeringParameters:{id:"platforms.offerings.detail.extra-params",defaultMessage:"Extra parameters"}});t.a=n},644:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(1),n=a.__importStar(r(0)),o=r(2),i=a.__importDefault(r(47));t.CardHeader=e=>{var{children:t=null,className:r=""}=e,s=a.__rest(e,["children","className"]);return n.createElement("div",Object.assign({className:o.css(i.default.cardHeader,r)},s),t)},t.CardHeader.displayName="CardHeader"},648:function(e,t,r){"use strict";t.__esModule=!0,t.WrenchIconConfig={name:"WrenchIcon",height:512,width:512,svgPath:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z",yOffset:0,xOffset:0,transform:""},t.WrenchIcon=r(78).createIcon(t.WrenchIconConfig),t.default=t.WrenchIcon},701:function(e,t,r){"use strict";var a=r(182),n=r.n(a),o=r(0),i=r.n(o),s=r(4),c=r.n(s),l=r(644),u=r(702),d=r(287),f=r(5),p=r(612),m=r(695),g=r(675),b=r(613),y=r(20);function h(){var e=n()(["\n  flex: 1;\n"]);return h=function(){return e},e}var v=Object(y.b)(d.Level)(h()),O=function(e){return i.a.createElement(b.b,{isDisabled:e.removeInProgress&&e.isSelected},i.a.createElement(b.a,null,i.a.createElement(l.CardHeader,null,i.a.createElement(v,null,i.a.createElement(p.a,{src:"".concat(f.e,"/portfolio_items/").concat(e.id,"/icon"),sourceId:e.service_offering_source_ref}),e.isSelectable&&i.a.createElement(m.a,{handleCheck:function(){return e.onSelect(e.id)},isChecked:e.isSelected,id:e.id}))),i.a.createElement(g.a,e),i.a.createElement(u.CardFooter,null)))};O.propTypes={id:c.a.string,platformId:c.a.string,service_offering_source_ref:c.a.string,isSelectable:c.a.bool,isSelected:c.a.bool,onSelect:c.a.func,orderUrl:c.a.string,removeInProgress:c.a.bool,portfolio_id:c.a.string,metadata:c.a.shape({user_capabilities:c.a.shape({destroy:c.a.bool}).isRequired}).isRequired},t.a=O},702:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(1),n=a.__importStar(r(0)),o=a.__importDefault(r(47)),i=r(2);t.CardFooter=e=>{var{children:t=null,className:r="",component:s="div"}=e,c=a.__rest(e,["children","className","component"]);const l=s;return n.createElement(l,Object.assign({className:i.css(o.default.cardFooter,r)},c),t)},t.CardFooter.displayName="CardFooter"},952:function(e,t,r){"use strict";r.r(t);var a=r(69),n=r.n(a),o=r(26),i=r.n(o),s=r(13),c=r.n(s),l=r(0),u=r.n(l),d=r(19),f=r(648),p=r.n(f),m=r(580),g=r.n(m),b=r(135),y=r(97),h=r(701),v=r(595),O=r(577),E=function(e){var t=e.meta,r=e.fetchProducts,a=e.isLoading,n=e.filterProps,o=n.searchValue,i=n.onFilterChange,s=n.placeholder;return{fields:[{component:v.b.TOP_TOOLBAR,key:"products-top-toolbar",fields:[{component:v.b.TOP_TOOLBAR_TITLE,key:"products-toolbar-title",title:"Products",description:"All products collected from your portfolios",noData:t.noData},{component:v.b.LEVEL,key:"Products-actions",fields:t.noData?[]:[{component:v.b.TOOLBAR,key:"main-portfolio-toolbar",fields:[{groupName:"filter-group",component:v.b.FILTER_TOOLBAR_ITEM,key:"filter-input",searchValue:o,onFilterChange:i,placeholder:s,isClearable:!0}]},{component:v.b.LEVEL_ITEM,key:"pagination-item",fields:t.count>0?[{component:O.a,key:"products-pagination",meta:t,apiProps:o,apiRequest:r,isDisabled:a,isCompact:!0}]:[]}]}]}]}},P=r(598),_=r(23),j=r(614),C=r(592),F=r(106),T=r(593),S=r(132),M=r(39),w=r(38),D=r(250),I=r(9),N=r(615),R=r(186),k=r(109),L=r(578),V=r(21),x=Object(V.b)({addSource:{id:"products.empty.add-source",defaultMessage:"Add source"},configureSource:{id:"products.empty.configure-source",defaultMessage:"Configure a source and add products into portfolios."},title:{id:"products.toolbar.title",defaultMessage:"Products"}}),q=r(599),A=r(18);function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var H=Object(F.a)((function(e,t,r){r(!0),t(Object(b.e)(e,_.a)).then((function(){return r(!1)}))}),1e3),z={filterValue:"",isOpen:!1,isFetching:!0,isFiltering:!1},J=function(e,t){switch(t.type){case"setFetching":return W(W({},e),{},{isFetching:t.payload});case"setFilterValue":return W(W({},e),{},{filterValue:t.payload});case"setFilteringFlag":return W(W({},e),{},{isFiltering:t.payload})}return e};t.default=function(){var e,t=Object(A.a)(),r=Object(R.a)(),a=Object(l.useContext)(D.a).release,o=Object(l.useReducer)(J,W(W({},z),{},{filterValue:(null==r||null===(e=r.products)||void 0===e?void 0:e.filter)||""})),s=i()(o,2),c=s[0],f=c.isFetching,m=c.filterValue,v=c.isFiltering,_=s[1],F=Object(l.useContext)(k.a).userIdentity.identity.user.is_org_admin,V=Object(d.useDispatch)(),B=Object(d.useSelector)((function(e){return e.portfolioReducer.portfolioItems})),U=B.data,G=B.meta;Object(l.useEffect)((function(){var e;Promise.all([V(Object(b.e)(null==r||null===(e=r.products)||void 0===e?void 0:e.filter,null==r?void 0:r.products)),V(Object(C.c)())]).then((function(){return _({type:"setFetching",payload:!1})})),Object(y.d)(),insights.chrome.appNavClick({id:"products",secondaryNav:!0})}),[]);var K=function(e){_({type:"setFilterValue",payload:e}),H(e,V,(function(e){return _({type:"setFilteringFlag",payload:e})}))},Q=U.map((function(e){return u.a.createElement(h.a,n()({key:e.id,pathname:e.portfolio_id&&I.w},(r=(t=e).portfolio_id,a=t.id,o=t.service_offering_source_ref,r&&a&&o?{pathname:r&&I.w,searchParams:{portfolio:r,"portfolio-item":a,source:o,"from-products":"true"}}:{}),e,{toDisplay:[]}));var t,r,a,o})),X={PrimaryAction:G.noData?function(){return F&&u.a.createElement("a",{href:"".concat(a,"settings/sources/new")},u.a.createElement(S.Button,{variant:"primary"},t(x.addSource)))}:function(){return u.a.createElement(S.Button,{variant:"link",onClick:function(){return K("")}},t(L.a.clearFilters))},title:G.noData?t(L.a.noProducts):t(L.a.noResults),renderDescription:function(){return u.a.createElement(l.Fragment,null,u.a.createElement(M.TextContent,null,u.a.createElement(w.Text,{component:w.TextVariants.p},G.noData?t(x.configureSource):t(L.a.noResultsDescription)),F?u.a.createElement(w.Text,{component:w.TextVariants.p},t(q.a.connectSource,{a:function(e){return u.a.createElement(l.Fragment,null,u.a.createElement("a",{href:"".concat(document.baseURI,"settings/sources")},e))}})):u.a.createElement(w.Text,null,t(q.a.contactAdmin))))},Icon:G.noData?p.a:g.a};return u.a.createElement(l.Fragment,null,u.a.createElement(P.a,{schema:E({filterProps:{searchValue:m,onFilterChange:K,placeholder:t(L.a.filterByProduct)},title:t(x.title),isLoading:v||f,meta:G,fetchProducts:function(){return V(b.e.apply(void 0,arguments))}})}),u.a.createElement(j.a,{isLoading:v||f,items:Q,renderEmptyState:function(){return u.a.createElement(T.b,X)}}),G.count>0&&u.a.createElement(N.a,null,u.a.createElement(O.a,{dropDirection:"up",meta:G,apiRequest:function(e,t){var a;return V(Object(b.e)(null==r||null===(a=r.products)||void 0===a?void 0:a.filter,t))}})))}}}]);
//# sourceMappingURL=../sourcemaps/products~31ecd969.js.map