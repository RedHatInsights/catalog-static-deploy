(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{406:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(12),i=a.n(o),l=function(e){var t=e.children;return n.a.createElement("div",{className:"pf-u-p-lg pf-u-pt-md pf-u-pb-md global-primary-background pf-u-mt-auto"},t)};l.propTypes={children:i.a.oneOfType([i.a.node,i.a.arrayOf(i.a.node)])},t.a=l},414:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var r=a(0),n=a.n(r),o=a(12),i=a.n(o),l=a(60),s=a(424),c=a(425),u=a(426),f=a(449),p=a(40),m=a(58),d=a(394),g=function(e){var t=e.title,a=e.Icon,r=e.description,o=e.PrimaryAction,i=e.renderDescription;return n.a.createElement("div",{className:"pf-u-mt-xl"},n.a.createElement(s.EmptyState,{className:"pf-u-ml-auto pf-u-mr-auto"},n.a.createElement(c.EmptyStateIcon,{icon:a}),n.a.createElement(m.TextContent,null,n.a.createElement(p.Text,{component:p.TextVariants.h1},t)),n.a.createElement(u.EmptyStateBody,null,r,i()),n.a.createElement(f.EmptyStateSecondaryActions,null,o&&n.a.createElement(o,null))))};g.defaultProps={renderDescription:function(){return null}},g.propTypes={title:i.a.string.isRequired,Icon:i.a.any.isRequired,description:i.a.string,PrimaryAction:i.a.any,renderDescription:i.a.func},t.b=g;var b=function(e){var t=e.url,a=e.label,r=e.hasPermission,o=void 0!==r&&r,i=e.id;return o&&n.a.createElement(d.a,{id:i,pathname:t,preserveSearch:!0},n.a.createElement(l.Button,{variant:"primary"},a))};b.propTypes={url:i.a.string.isRequired,label:i.a.string.isRequired,id:i.a.string,hasPermission:i.a.bool}},415:function(e,t,a){"use strict";var r=(0,a(47).defineMessages)({workflowColumn:{id:"platform.inventories.columns.workflow",defaultMessage:"Workflow"},noInventoriesDescription:{id:"platform.inventories.empty.no-inventories",defaultMessage:"No inventories found."},noInventoriesFilterDescription:{id:"platform.inventories.empty.no-results",defaultMessage:"No inventories match your filter criteria."},inventoriesFilter:{id:"platform.inventories.filter.placeholder",defaultMessage:"Filter by inventory"},templatesFilter:{id:"platform.templates.filter.placeholder",defaultMessage:"Filter by template"},noTemplatesTitle:{id:"platform.templates.no-templates",defaultMessage:"No templates"},noTemplatesDescription:{id:"platform.templates.empty.no-templates",defaultMessage:"This platform has no templates."},configureSourceTitle:{id:"platforms.list.configure-source",defaultMessage:"Configure a source in order to add products to portfolios."},connectSource:{id:"platforms.list.connect-source",defaultMessage:"To connect to a source, go to <a>Sources</a> under Settings."},contactAdmin:{id:"platforms.list.contact-admin",defaultMessage:"Contact your organization administrator to setup sources for Catalog."},title:{id:"platforms.title",defaultMessage:"Platforms"},noPlatforms:{id:"platforms.list.empty.title",defaultMessage:"No platforms yet"},offeringTitle:{id:"platforms.offerings.detail.title",defaultMessage:"Service offering"},offeringParameters:{id:"platforms.offerings.detail.extra-params",defaultMessage:"Extra parameters"}});t.a=r},427:function(e,t,a){"use strict";var r=a(47),n=Object(r.defineMessages)({shared:{id:"common.labels.shared",defaultMessage:"Shared"},portfolio:{id:"common.labels.portfolio",defaultMessage:"Portfolio"},platform:{id:"common.labels.platform",defaultMessage:"Platform"},name:{id:"common.labels.name",defaultMessage:"Name"},description:{id:"common.labels.description",defaultMessage:"Description"}});t.a=n},678:function(e,t,a){"use strict";a.r(t);var r=a(34),n=a.n(r),o=a(1),i=a.n(o),l=a(0),s=a.n(l),c=a(26),u=a(48),f=a(404),p=a.n(f),m=a(112),d=a(104),g=a(410),b=a(59),y=a(393),v=a(458),O=a(414),h=a(387),E=a(12),j=a.n(E),w=a(40),F=a(450),S=a(552),M=a(550),P=a(62),D=a(73),T=a(398),R=function(){var e=Object(D.a)().formatMessage;return s.a.createElement(w.Text,{component:w.TextVariants.h1},e(T.a.noItems))},k=function(e){var t=e.data,a=e.columns,r=e.isCompact,o=e.isLoading,i=e.actionResolver,c=e.areActionsDisabled,u=e.borders,f=e.routes,p=e.titlePlural,m=e.renderEmptyState,d=Object(l.useState)([]),g=n()(d,2),b=g[0],y=g[1];Object(l.useEffect)((function(){y(t)}),[t]);return o?s.a.createElement(P.d,null):0===b.length?m?m():s.a.createElement(R,null):s.a.createElement(l.Fragment,null,f(),s.a.createElement(F.b,{"aria-label":"".concat(p," table"),variant:r?F.e.compact:null,borders:u,rows:b,cells:a,actionResolver:i,areActionsDisabled:c},s.a.createElement(S.a,null),s.a.createElement(M.a,null)))};k.propTypes={borders:j.a.bool,isCompact:j.a.bool,columns:j.a.array.isRequired,renderEmptyState:j.a.func.isRequired,data:j.a.array,pagination:j.a.shape({limit:j.a.number,offset:j.a.number,count:j.a.number}),titlePlural:j.a.string,titleSingular:j.a.string,routes:j.a.func,actionResolver:j.a.func,areActionsDisabled:j.a.func,isLoading:j.a.bool},k.defaultProps={requests:[],isLoading:!1,isCompact:!1,borders:!0,routes:function(){return null},items:j.a.array,renderEmptyState:j.a.func};var C=k,I=a(17),q=a.n(I),N=a(389),x=a(406),V=a(61),A=a(416),L=a(427),B=a(415);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W={filterValue:"",isOpen:!1,isFetching:!0,isFiltering:!1},_=Object(h.a)((function(e,t,a,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:b.a;r(!0),a(Object(y.a)(e,t,n)).then((function(){return r(!1)}))}),1e3),G=function(e,t){switch(t.type){case"setFetching":return z(z({},e),{},{isFetching:t.payload});case"setFilterValue":return z(z({},e),{},{filterValue:t.payload});case"setFilteringFlag":return z(z({},e),{},{isFiltering:t.payload});default:return e}};t.default=function(){var e=Object(D.a)().formatMessage,t=Object(l.useRef)([e(L.a.name),e(L.a.description),e(A.a.created),e(B.a.workflowColumn)]).current,a=Object(l.useReducer)(G,W),r=n()(a,2),o=r[0],i=o.filterValue,f=o.isFetching,h=o.isFiltering,E=r[1],j=Object(c.useSelector)((function(e){return e.platformReducer.platformInventories})),w=j.data,F=j.meta,S=Object(c.useSelector)((function(e){return e.platformReducer.selectedPlatform})),M=Object(c.useDispatch)(),P=Object(V.a)(["platform"]),T=n()(P,1)[0].platform,R=Object(u.g)();Object(l.useEffect)((function(){M(Object(y.a)(T,i,b.a)).then((function(){return E({type:"setFetching",payload:!1})})),Object(d.c)()}),[]);var k=w?function(e){return e.reduce((function(e,t,a){var r=t.id,n=t.name,o=t.description,i=t.created_at,l=t.workflow;return[].concat(q()(e),[{id:r,key:a,isOpen:!1,cells:[n,o,Object(d.d)(i),l]}])}),[])}(w):[],I=S?S.name:"";return s.a.createElement(l.Fragment,null,s.a.createElement(g.a,{schema:Object(v.a)({onFilterChange:function(e){E({type:"setFilterValue",payload:e}),_(T,e,M,(function(e){return E({type:"setFilteringFlag",payload:e})}),z(z({},F),{},{offset:0}))},searchValue:i,filterPlaceholder:e(B.a.inventoriesFilter),meta:F,apiRequest:function(e,t){return M(Object(y.a)(T,i,t))}})}),s.a.createElement(m.Section,{type:"content"},s.a.createElement(C,{title:I,data:k,columns:t,isLoading:f||h,actionResolver:function(e){return[{title:"Set approval",onClick:function(){return R.push({pathname:"/platform/platform-inventories/edit-workflow",search:"?platform=".concat(T,"&inventory=").concat(e.id)})}}]},renderEmptyState:function(){return s.a.createElement(O.b,{title:"No inventories",Icon:p.a,description:e(""===i?B.a.noInventoriesDescription:B.a.noInventoriesFilterDescription)})}})),F.count>0&&s.a.createElement(x.a,null,s.a.createElement(N.a,{dropDirection:"up",meta:F,apiRequest:function(e,t){return M(Object(y.a)(T,i,t))}})))}}}]);
//# sourceMappingURL=../sourcemaps/platform-inventories~5a11b65b.js.map