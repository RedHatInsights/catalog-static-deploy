(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{41:function(e,t,n){
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)&&a.length){var i=n.apply(null,a);i&&e.push(i)}else if("object"===o)for(var c in a)t.call(a,c)&&a[c]&&e.push(c)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return n})):window.classNames=n}()},547:function(e,t,n){"use strict";var r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a};var a=function(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o};t._objectWithoutProperties=a},551:function(e,t,n){"use strict";var r=n(546),a=n.n(r),o=n(68),i=n.n(o),c=n(0),s=n.n(c),u=n(1),l=n.n(u),p=n(548),f=n(235),m=n(70),d=function(e){var t=e.meta,n=t.limit,r=t.count,o=t.offset,c=e.apiProps,u=e.apiRequest,l=e.className,d=e.isCompact,y=i()(e,["meta","apiProps","apiRequest","className","isCompact"]);return s.a.createElement("div",{className:l},s.a.createElement(f.Pagination,a()({perPage:n||50,itemCount:r||0,onPerPageSelect:function(e,t){return u(c,{offset:o,limit:t})},page:Object(m.b)(n,o),onSetPage:function(e,t,r){var a={offset:Object(m.c)(t,n),limit:n},o=function(){return u(c,a)};return r?Object(p.a)(o,250)():o()},direction:"down",isCompact:d},y)))};d.propTypes={meta:l.a.shape({count:l.a.number,limit:l.a.number.isRequired,offset:l.a.number.isRequired}),apiRequest:l.a.func.isRequired,apiProps:l.a.any,className:l.a.string,isCompact:l.a.bool},d.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1},t.a=d},553:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0}),n(139);var a=n(230),o=n(229),i=n(547),c=r(n(0)),s=r(n(1)),u=r(n(41)),l=function(e){var t=e.type,n=e.children,r=e.className,s=i._objectWithoutProperties(e,["type","children","className"]),l=u(r,o._defineProperty({},"ins-l-".concat(t),void 0!==t));return c.createElement("section",a._extends({},s,{className:l})," ",n," ")};l.propTypes={type:s.string,className:s.string,children:s.any.isRequired},t.Section=l},555:function(e,t,n){"use strict";n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return _})),n.d(t,"a",(function(){return w})),n.d(t,"e",(function(){return L}));var r={};n.r(r),n.d(r,"getPlatforms",(function(){return b})),n.d(r,"getPlatform",(function(){return g})),n.d(r,"getPlatformItems",(function(){return v})),n.d(r,"getPlatformInventories",(function(){return O})),n.d(r,"getServiceOffering",(function(){return E}));var a=n(2),o=n.n(a),i=n(4),c=n(34),s=n.n(c),u=n(99),l=n(12),p=n(70);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=Object(u.a)(),y=Object(u.b)(),b=function(){return y.post("".concat(l.i,"/graphql"),{query:'\nquery {\n  application_types (filter: { name: "/insights/platform/catalog" }) {\n    id\n    name\n    sources {\n      id\n      name\n      source_type_id\n    }\n  }\n}'}).then((function(e){return e.data.application_types})).then((function(e){return s()(e,1)[0].sources}))},g=function(e){return d.get("".concat(l.i,"/sources/").concat(e))},v=function(e,t,n){var r=t?"&filter[name][contains_i]=".concat(t):"";return e?d.get("".concat(l.j,"/sources/").concat(e,"/service_offerings?filter[archived_at][nil]").concat(r).concat(n?"&limit=".concat(n.limit,"&offset=").concat(n.offset):"")):d.get("".concat(l.j,"/service_offerings"))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.a;return e?d.get("".concat(l.j,"/sources/").concat(e,"/service_inventories?filter[name][contains_i]=").concat(t).concat(n?"&limit=".concat(n.limit,"&offset=").concat(n.offset):"")):d.get("".concat(l.j,"/service_inventories?limit=").concat(n.limit,"&offset=").concat(n.offset))},E=function(e,t){return Promise.all([d.get("".concat(l.j,"/service_offerings/").concat(e)),d.get("".concat(l.i,"/sources/").concat(t)).then((function(e){return d.get("".concat(l.i,"/source_types/").concat(e.source_type_id)).then((function(t){var n=t.icon_url;return m(m({},e),{},{icon_url:n})}))}))]).then((function(e){var t=s()(e,2);return{service:t[0],source:t[1]}}))};function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(){return function(e){return e({type:"".concat(i.k,"_PENDING")}),b().then((function(t){return e({type:"".concat(i.k,"_FULFILLED"),payload:t})})).catch((function(t){return e({type:"".concat(i.k,"_REJECTED"),payload:t})}))}},T=function(e,t,n){return{type:i.n,payload:v(e,t,n),meta:j({platformId:e,filter:t},n)}},_=function(e){return{type:i.j,payload:g(e)}},w=function(e,t,n){return{type:i.l,payload:O(e,t,n)}},L=function(){return{type:i.v,payload:E.apply(r,arguments)}}},556:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(40),s=n(482),u=n(483),l=n(484),p=n(485),f=n(44),m=n(69),d=n(550),y=function(e){var t=e.title,n=e.Icon,r=e.description,o=e.PrimaryAction,i=e.renderDescription;return a.a.createElement("div",{className:"pf-u-mt-xl"},a.a.createElement(s.EmptyState,{className:"pf-u-ml-auto pf-u-mr-auto"},a.a.createElement(u.EmptyStateIcon,{icon:n}),a.a.createElement(m.TextContent,null,a.a.createElement(f.Text,{component:f.TextVariants.h1},t)),a.a.createElement(l.EmptyStateBody,null,r,i()),a.a.createElement(p.EmptyStateSecondaryActions,null,o&&a.a.createElement(o,null))))};y.defaultProps={renderDescription:function(){return null}},y.propTypes={title:i.a.string.isRequired,Icon:i.a.any.isRequired,description:i.a.string,PrimaryAction:i.a.any,renderDescription:i.a.func},t.b=y;var b=function(e){var t=e.url,n=e.label,r=e.hasPermission,o=void 0!==r&&r,i=e.id;return o&&a.a.createElement(d.a,{id:i,pathname:t,preserveSearch:!0},a.a.createElement(c.Button,{variant:"primary"},n))};b.propTypes={url:i.a.string.isRequired,label:i.a.string.isRequired,id:i.a.string,hasPermission:i.a.bool}},561:function(e,t,n){"use strict";var r=n(68),a=n.n(r),o=n(51),i=n.n(o),c=n(0),s=n.n(c),u=n(52),l=n(1),p=n.n(l);function f(){var e=i()(["\n  overflow: hidden;\n"]);return f=function(){return e},e}var m=u.b.div(f()),d=function(e){var t=e.toDisplay,n=void 0===t?[]:t,r=a()(e,["toDisplay"]);return n.map((function(e){return s.a.createElement(m,{key:"card-prop-".concat(e)},r[e])}))};d.propTypes={toDisplay:p.a.arrayOf(p.a.oneOfType([p.a.string,p.a.node,p.a.arrayOf(p.a.node)]))},d.defaultProps={toDisplay:[]},t.a=d},562:function(e,t,n){"use strict";var r=n(51),a=n.n(r);function o(){var e=a()(["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]);return o=function(){return e},e}var i=n(52).b.div(o());t.a=i},563:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(51),a=n.n(r),o=n(52),i=n(104);function c(){var e=a()(["\n  height: 230px;\n  overflow: hidden;\n  padding: 0 !important;\n  margin: 0 24px 24px;\n"]);return c=function(){return e},e}var s=Object(o.b)(i.CardBody)(c())},564:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return y}));var r=n(68),a=n.n(r),o=n(51),i=n.n(o),c=n(0),s=n.n(c),u=n(52),l=n(103),p=n(144);function f(){var e=i()(["\n  position: relative;\n  ::after {\n    display: ",";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: '';\n    background-color: rgba(210, 210, 210, 0.5);\n    z-index: 1;\n    cursor: progress;\n  }\n"]);return f=function(){return e},e}function m(){var e=i()(["\n  height: 330px;\n  position: relative;\n"]);return m=function(){return e},e}var d=Object(u.b)(l.Card)(m()),y=Object(u.b)((function(e){e.isDisabled;var t=a()(e,["isDisabled"]);return s.a.createElement(p.GalleryItem,t)}))(f(),(function(e){return e.isDisabled?"block":"none"}))},566:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(553),s=n(44),u=n(146),l=n(71),p=function(){return a.a.createElement("div",null,a.a.createElement(s.Text,{component:s.TextVariants.h1},"No items found"))},f=function(e){var t=e.isLoading,n=e.items,r=e.renderEmptyState;return t?a.a.createElement(l.b,null):0===n.length?r?r():a.a.createElement(p,null):a.a.createElement(c.Section,{type:"content"},a.a.createElement(u.Gallery,{gutter:"md",className:"content-gallery"},n))};f.propTypes={isLoading:i.a.bool,items:i.a.array,renderEmptyState:i.a.func},t.a=f},587:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n(604),a=n(557),o=n(551),i=function(e){var t=e.searchValue,n=e.onFilterChange,r=e.title;return{fields:[{component:a.b.TOP_TOOLBAR,key:"platforms-toolbar",fields:[{component:a.b.TOP_TOOLBAR_TITLE,key:"platforms-toolbar-title",title:r},{component:a.b.LEVEL,key:"platforms-toolbar-actions",fields:[{component:a.b.LEVEL_ITEM,key:"input-level-item",fields:[{component:a.b.FILTER_TOOLBAR_ITEM,key:"platforms-toolbar-filter-input",searchValue:t,onFilterChange:n,placeholder:"Filter by platform"}]},{component:a.b.LEVEL_ITEM,key:"pagination-level-item",fields:[]}]}]}]}},c=function(e){var t=e.title,n=e.paddingBottom,o=e.tabItems;return{fields:[{component:a.b.TOP_TOOLBAR,key:"platforms-toolbar",paddingBottom:n,fields:[{component:a.b.TOP_TOOLBAR_TITLE,key:"platforms-toolbar-title",title:t},{component:a.b.LEVEL_ITEM,key:"tabs-level-item",fields:o?[{component:r.a,key:"platform-tabs",tabItems:o}]:[]}]}]}},s=function(e){var t=e.searchValue,n=e.onFilterChange,r=e.meta,i=e.apiRequest,c=e.filterPlaceholder;return{fields:[{component:a.b.TOOLBAR,key:"platforms-filter-toolbar",className:"pf-u-pt-md pf-u-pb-md pf-u-pr-lg pf-u-pl-lg",fields:[{component:a.b.LEVEL,key:"platforms-toolbar-actions",className:"pf-m-grow",fields:[{component:a.b.LEVEL_ITEM,key:"input-level-item",fields:[{component:a.b.FILTER_TOOLBAR_ITEM,key:"platforms-toolbar-filter-input",searchValue:t,onFilterChange:n,placeholder:c}]},{component:a.b.LEVEL_ITEM,key:"pagination-level-item",fields:r.count>0?[{component:o.a,key:"platform-pagination",apiRequest:i,meta:r,isCompact:!0}]:[]}]}]}]}}},633:function(e,t,n){e.exports=n.p+"fonts/platform-default.svg"},634:function(e,t,n){e.exports=n.p+"fonts/platform-openshift.svg"},635:function(e,t,n){e.exports=n.p+"fonts/platform-amazon.png"},636:function(e,t,n){e.exports=n.p+"fonts/platform-tower.png"},678:function(e,t,n){"use strict";n.r(t);var r=n(546),a=n.n(r),o=n(34),i=n.n(o),c=n(0),s=n.n(c),u=n(28),l=n(44),p=n(69),f=n(480),m=n.n(f),d=n(142),y=n(569),b=n(566),g=n(555),v=n(2),O=n.n(v),E=n(68),h=n.n(E),j=n(1),P=n.n(j),T=n(487),_=n(488),w=n(144),L=n(633),k=n.n(L),x=n(634),D=n.n(x),C=n(635),I=n.n(C),R=n(636),S=n.n(R),N=function(e){var t=e.src,n=h()(e,["src"]);return s.a.createElement("img",a()({src:t},n))};N.propTypes={src:P.a.string.isRequired};var q=N,V=n(561),F=n(10),A=n(562),B=n(550),M=n(564),G=n(563);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var J=["description","modified"],U={1:D.a,2:I.a,3:S.a},W=function(e){var t=e.name,n=e.id,r=h()(e,["name","id"]);return s.a.createElement(w.GalleryItem,null,s.a.createElement(M.a,{key:n},s.a.createElement(T.CardHeader,null,s.a.createElement(q,{src:U[r.source_type_id]||k.a,width:"80",height:"40"})),s.a.createElement(G.a,null,s.a.createElement(p.TextContent,null,s.a.createElement(B.a,{pathname:F.r,searchParams:{platform:n}},s.a.createElement(l.Text,{title:t,className:"pf-u-mb-0",component:l.TextVariants.h3},s.a.createElement(A.a,null,t)))),s.a.createElement(V.a,a()({},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({name:t},r),{toDisplay:J}))),s.a.createElement(_.CardFooter,null)))};W.propTypes={history:P.a.object,imageUrl:P.a.string,name:P.a.string,source_type_id:P.a.string,id:P.a.string};var H=W,K=n(587),Q=n(556),X=n(76);t.default=function(){var e=Object(c.useState)(""),t=i()(e,2),n=t[0],r=t[1],o=Object(u.useSelector)((function(e){var t=e.platformReducer;return{platforms:t.platforms,isLoading:t.isPlatformDataLoading}})),f=o.platforms,v=o.isLoading,O=Object(u.useDispatch)(),E=Object(c.useContext)(X.a).userIdentity.identity.user.is_org_admin;Object(c.useEffect)((function(){O(Object(g.c)()),Object(d.c)(),insights.chrome.appNavClick({id:"platforms",secondaryNav:!0})}),[]);var h=function(){return s.a.createElement(c.Fragment,null,s.a.createElement(p.TextContent,null,s.a.createElement(l.Text,{component:l.TextVariants.p},"Configure a source in order to add products to portfolios."),E?s.a.createElement(l.Text,{component:l.TextVariants.p},"To connect to a source, go to"," ",s.a.createElement("a",{href:"".concat(document.baseURI,"settings/sources")},"Sources")," under Settings."):s.a.createElement(l.Text,null,"Contact your organization administrator to setup sources for Catalog.")))},j={items:f.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return s.a.createElement(H,a()({key:e.id},e))})),isLoading:v&&0===f.length};return s.a.createElement(c.Fragment,null,s.a.createElement(y.a,{schema:Object(K.b)({onFilterChange:function(e){return r(e)},searchValue:n,title:"Platforms"})}),s.a.createElement(b.a,a()({},j,{renderEmptyState:function(){return s.a.createElement(Q.b,{title:"No platforms yet",renderDescription:h,Icon:m.a})}})))}}}]);
//# sourceMappingURL=../sourcemaps/platforms~31ecd969.js.map