(window.webpackJsonp=window.webpackJsonp||[]).push([[14,18],{433:function(e,t,n){"use strict";var r=n(436);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(r.a)(e,t,n)}},436:function(e,t,n){"use strict";var r=n(473),o=n.n(r);function a(e){var t=null,n=null,r=new Promise((function(e,r){t=e,n=r}));return e&&e.then((function(e){t&&t(e)}),(function(e){n&&n(e)})),{promise:r,resolve:function(e){t&&t(e)},reject:function(e){n&&n(e)},cancel:function(){t=null,n=null}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},c={key:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},onlyResolvesLast:!0},u=function(){function e(e){this.config=e,this.debounceSingleton=null,this.debounceCache={}}return e.prototype._createDebouncedFunction=function(){var e,t,n=o()(this.config.func,this.config.wait,this.config.options);return this.config.options.onlyResolvesLast&&(e=n,t=null,n=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t&&t();var o=e.apply(void 0,n),i=a(o),c=i.promise,u=i.cancel;return t=u,c}),{func:n}},e.prototype.getDebouncedFunction=function(e){var t,n=(t=this.config.options).key.apply(t,e);return null==n?(this.debounceSingleton||(this.debounceSingleton=this._createDebouncedFunction()),this.debounceSingleton):(this.debounceCache[n]||(this.debounceCache[n]=this._createDebouncedFunction()),this.debounceCache[n])},e}();t.a=function(e,t,n){var r=i({},c,n),o=new u({func:e,wait:t,options:r});return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.getDebouncedFunction(e).func;return n.apply(void 0,e)}}},454:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),o=r.__importStar(n(0)),a=r.__importDefault(n(217)),i=n(4),c=n(55);var u;!function(e){e.text="text",e.date="date",e.datetimeLocal="datetime-local",e.email="email",e.month="month",e.number="number",e.password="password",e.search="search",e.tel="tel",e.time="time",e.url="url"}(u=t.TextInputTypes||(t.TextInputTypes={}));class s extends o.Component{constructor(e){super(e),this.handleChange=e=>{this.props.onChange&&this.props.onChange(e.currentTarget.value,e)},e.id||e["aria-label"]||e["aria-labelledby"]||console.error("Text input:","Text input requires either an id or aria-label to be specified")}render(){const e=this.props,{innerRef:t,className:n,type:u,value:s,onChange:l,validated:p,isReadOnly:f,isRequired:d,isDisabled:h}=e,m=r.__rest(e,["innerRef","className","type","value","onChange","validated","isReadOnly","isRequired","isDisabled"]);return o.createElement("input",Object.assign({},m,{className:i.css(a.default.formControl,p===c.ValidatedOptions.success&&a.default.modifiers.success,p===c.ValidatedOptions.warning&&a.default.modifiers.warning,n),onChange:this.handleChange,type:u,value:s,"aria-invalid":p===c.ValidatedOptions.error,required:d,disabled:h,readOnly:f,ref:t}))}}t.TextInputBase=s,s.displayName="TextInputBase",s.defaultProps={"aria-label":null,className:"",isRequired:!1,validated:"default",isDisabled:!1,isReadOnly:!1,type:u.text,onChange:()=>{}},t.TextInput=o.forwardRef((e,t)=>o.createElement(s,Object.assign({},e,{innerRef:t})))},460:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},472:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(460),i=n.n(a),c=n(59);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){return"string"==typeof e?e.split("?")[0]:"object"===i()(e)?s(s({},e),{},{search:void 0}):e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.removeSearch,n=e.keepHash,r=Object(c.g)();return s(s({},r),{},{push:function(e){var o=e;return n&&r.location.hash.length>0&&(o="object"===i()(o)?s(s({},o),{},{hash:r.location.hash}):"".concat(o).concat(r.location.hash)),t?r.push(l(o)):r.push(o)}})}},473:function(e,t,n){"use strict";function r(e){return"function"==typeof e?e():e}function o(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=void 0,i=void 0,c=void 0,u=[];return function(){var l=r(t),p=(new Date).getTime(),f=!a||p-a>l;a=p;for(var d=arguments.length,h=Array(d),m=0;m<d;m++)h[m]=arguments[m];if(f&&n.leading)return n.accumulate?Promise.resolve(e.call(this,[h])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(h)));if(i?clearTimeout(c):i=o(),u.push(h),c=setTimeout(s.bind(this),l),n.accumulate){var b=u.length-1;return i.promise.then((function(e){return e[b]}))}return i.promise};function s(){var t=i;clearTimeout(c),Promise.resolve(n.accumulate?e.call(this,u):e.apply(this,u[u.length-1])).then(t.resolve,t.reject),u=[],i=null}}},729:function(e,t,n){"use strict";var r=n(30),o=n.n(r),a=n(31),i=n(129);function c(){var e=o()(["\n  overflow: hidden;\n"]);return c=function(){return e},e}var u=Object(a.b)(i.Bullseye)(c());t.a=u},895:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(14),i=n.n(a),c=n(27),u=n.n(c),s=n(19),l=n.n(s),p=n(0),f=n.n(p),d=n(12),h=n.n(d),m=n(16),b=n(520),v=n(127),y=n(521),g=n(481),O=n.n(g),j=n(6),w=n(433),P=n(18),T=Object(w.a)((function(e,t){return Object(P.e)(e).then((function(n){var r=n.data;if(!e||0===e.trim().length)throw"Required";if(r.find((function(n){return n.name===e&&n.id!==t})))throw"Name has already been taken"}))})),S=function(e,t,n){var r,o,a,i,c;return{fields:[{label:"schemas.portfolio.name",name:"name",component:O.a.TEXT_FIELD,isRequired:!0,maxLength:(null==t||null===(r=t.components)||void 0===r||null===(o=r.schemas)||void 0===o||null===(a=o.Portfolio)||void 0===a||null===(i=a.properties)||void 0===i||null===(c=i.name)||void 0===c?void 0:c.maxLength)||j.d,validate:[function(e){return T(e,n)}]},{label:"schemas.portfolio.description",component:O.a.TEXTAREA,name:"description"}]}},x=n(93),D=n(73),C=n(472),R=n(729),E=n(137),_=n(11),k=n(78),q=n(126),L=n(91),N=n(441),F=n(88);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(e){var t,n,r=e.removeQuery,o=e.closeTarget,a=e.viewState,c=Object(F.a)(),s=Object(m.useDispatch)(),d=Object(p.useState)(!0),h=l()(d,2),g=h[0],O=h[1],j=Object(p.useContext)(k.a).openApiSchema,w=Object(D.a)(["portfolio"]),T=l()(w,1)[0].portfolio,I=Object(C.a)({removeQuery:r,keepHash:!0}).push,V=Object(m.useSelector)((function(e){var t=e.portfolioReducer;return Object(P.g)(t,T)})),B=function(){var e=u()(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={variant:"success",title:c(L.a.addSuccessTitle),description:c(L.a.addSuccessDescription,{name:t.name,b:function(e){return f.a.createElement("b",{key:"strong"},e)}})},e.next=3,s(Object(x.a)(t,n));case 3:return r=e.sent,e.abrupt("return",r&&r.value&&r.value.id?I({pathname:_.x,search:"?portfolio=".concat(r.value.id)}):I(o));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=T&&V&&Object.keys(V).length>0;return!1===(null==V||null===(t=V.metadata)||void 0===t||null===(n=t.user_capabilities)||void 0===n?void 0:n.update)?f.a.createElement(E.a,null):f.a.createElement(b.Modal,{title:c(T?L.a.modalEditTitle:L.a.modalCreateTitle),isOpen:g,onClose:function(){return I(o)},variant:"small"},!T||Q?f.a.createElement(y.c,{schema:S(0,j,T),schemaType:"default",onSubmit:function(e){return V?(O(!1),s(Object(x.o)(e,a)).then((function(){return I(o)}))):B(e,a)},onCancel:function(){return I(o)},initialValues:A({},V),formContainer:"modal",templateProps:{submitLabel:c(T?q.a.save:N.a.create),disableSubmit:["pristine","submitting"]}}):f.a.createElement(R.a,{className:"pf-u-m-md"},f.a.createElement(v.Spinner,null)))};V.propTypes={removeQuery:h.a.bool,closeTarget:h.a.oneOfType([h.a.string,h.a.shape({pathname:h.a.string.isRequired,search:h.a.string})]).isRequired,viewState:h.a.shape({count:h.a.number,limit:h.a.number,offset:h.a.number,filter:h.a.string})};t.default=V}}]);
//# sourceMappingURL=../sourcemaps/add-portfolio~31ecd969.js.map