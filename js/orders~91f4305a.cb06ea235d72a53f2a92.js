(window.webpackJsonp=window.webpackJsonp||[]).push([[45,11],{557:function(e,t,r){"use strict";var n=r(36),o=r.n(n),a=r(20),i=r.n(a),c=r(0),s=r.n(c),l=r(3),u=r.n(l),d=r(173),p=r(283),f=r(22),m=function(e){var t=e.meta,r=t.limit,n=t.count,a=t.offset,c=e.apiProps,l=e.apiRequest,u=e.className,m=e.isCompact,y=i()(e,["meta","apiProps","apiRequest","className","isCompact"]);return s.a.createElement("div",{className:u},s.a.createElement(p.Pagination,o()({perPage:r||50,itemCount:n||0,onPerPageSelect:function(e,t){return l(c,{offset:a,limit:t})},page:Object(f.b)(r,a),onSetPage:function(e,t,n){var o={offset:Object(f.c)(t,r),limit:r},a=function(){return l(c,o)};return n?Object(d.a)(a,250)():a()},direction:"down",isCompact:m},y)))};m.propTypes={meta:u.a.shape({count:u.a.number,limit:u.a.number.isRequired,offset:u.a.number.isRequired}),apiRequest:u.a.func.isRequired,apiProps:u.a.any,className:u.a.string,isCompact:u.a.bool},m.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1},t.a=m},560:function(e,t,r){"use strict";var n=r(9),o=r.n(n),a=r(169),i=r.n(a),c=r(78);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e){return"string"==typeof e?e.split("?")[0]:"object"===i()(e)?l(l({},e),{},{search:void 0}):e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.removeSearch,r=e.keepHash,n=Object(c.g)();return l(l({},n),{},{push:function(e){var o=e;return r&&n.location.hash.length>0&&(o="object"===i()(o)?l(l({},o),{},{hash:n.location.hash}):"".concat(o).concat(n.location.hash)),t?n.push(u(o)):n.push(o)}})}},562:function(e,t,r){"use strict";var n=(0,r(26).defineMessages)({noItems:{id:"common.filtering.noItems",defaultMessage:"No items found"},filterByProduct:{id:"common.filtering.filterByProduct",defaultMessage:"Filter by product"},noResults:{id:"common.filtering.noResults",defaultMessage:"No results found"},noResultsDescription:{id:"common.filtering.noResultsDescription",defaultMessage:"No results match the filter criteria. Remove all filters or clear all filters to show results."},clearFilters:{id:"common.filtering.clear-filters",defaultMessage:"Clear all filters"},noProducts:{id:"common.filtering.no-products",defaultMessage:"No products yet"},noRecords:{id:"commonMessages.noRecords",defaultMessage:"No records"},filterByTitle:{id:"tableToolbar.filterByTitle",defaultMessage:"Filter by {title}"},noResultsFound:{id:"tableToolbar.noResultsFound",defaultMessage:"No results found"},noResult:{id:"tableToolbar.noResult",defaultMessage:"No {results}"},unknown:{id:"commonMessages.unknown",defaultMessage:"Unknown"}});t.a=n},565:function(e,t,r){"use strict";var n=(0,r(26).defineMessages)({orderedBy:{id:"orders.common.orderedBy",defaultMessage:"Ordered by {owner}"},orderedByLabel:{id:"orders.approval.orderedBy",defaultMessage:"Ordered by"},lastUpdated:{id:"orders.common.lastUpdated",defaultMessage:"Last updated"},compositeTitle:{id:"orders.common.compositeTitle",defaultMessage:"{name} - Order # {id}"},detailTitle:{id:"orders.detail.title",defaultMessage:"Order ID {id}"},orderSuccess:{id:"orders.notification.success",defaultMessage:"You can track the progress of Order # {id} in your <link>Orders</link> page."},noOrdersTitle:{id:"orders.list.empty.title",defaultMessage:"No orders"},noOrdersDescription:{id:"orders.list.empty.description",defaultMessage:"No orders have been created."},noApprovalRequests:{id:"orders.approval.no-requests",defaultMessage:"We were unable to find any approval requests for this order."},creatingApprovalRequest:{id:"orders.approval.creating",defaultMessage:"Creating approval request"},approvalTitle:{id:"orders.approval.title",defaultMessage:"Summary"},approvalDetail:{id:"orders.approval.view-detail",defaultMessage:"View this order's approval request details"},approvalCreated:{id:"orders.approval.details.created",defaultMessage:"Request created"},approvalReason:{id:"orders.approval.details.reason",defaultMessage:"Approval reason"},approvalCompleted:{id:"orders.approval.details.completed",defaultMessage:"Completed at"},orderDetails:{id:"orders.common.details",defaultMessage:"Order details"},menuApproval:{id:"orders.menu.approval",defaultMessage:"Approval"},menuLifecycle:{id:"orders.menu.lifecycle",defaultMessage:"Lifecycle"},menuSteps:{id:"orders.menu.steps",defaultMessage:"Order steps"},objectsNotFound:{id:"order.detail.not-found",defaultMessage:"The {objects} for this order {count, plural, one {is} other {are}} not available"},orderID:{id:"orders.order.detail.ID",defaultMessage:"Order ID"},orderParameters:{id:"orders.order.detail.parameters",defaultMessage:"Order parameters"},orderProgressMessages:{id:"orders.order.detail.messages",defaultMessage:"Progress messages"},lifecycleLink:{id:"orders.order.lifecicle.link",defaultMessage:"Manage product"},cancelOrder:{id:"orders.actions.cancel",defaultMessage:"Cancel order"},keepOrder:{id:"orders.actions.keep",defaultMessage:"Keep order"},cancelDescription:{id:"orders.cancel.description",defaultMessage:"Are you sure you want to cancel {name}?"},backToOrders:{id:"orders.toolbar.backLink",defaultMessage:"Back to orders"},orderDate:{id:"orders.approval.order-date",defaultMessage:"Order date"},approvalParameters:{id:"orders.approval.parameters",defaultMessage:"Parameters"},activity:{id:"orders.approval.activity",defaultMessage:"Activity"}});t.a=n},566:function(e,t,r){"use strict";r.d(t,"c",(function(){return E})),r.d(t,"b",(function(){return _})),r.d(t,"d",(function(){return w})),r.d(t,"a",(function(){return T})),r.d(t,"e",(function(){return I}));var n={};r.r(n),r.d(n,"getPlatforms",(function(){return b})),r.d(n,"getPlatform",(function(){return g})),r.d(n,"getPlatformItems",(function(){return v})),r.d(n,"getPlatformInventories",(function(){return O})),r.d(n,"getServiceOffering",(function(){return h}));var o=r(9),a=r.n(o),i=r(1),c=r(15),s=r.n(c),l=r(29),u=r(5),d=r(22);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=Object(l.a)(),y=Object(l.b)(),b=function(){return y.post("".concat(u.i,"/graphql"),{query:'\nquery {\n  application_types (filter: { name: "/insights/platform/catalog" }) {\n    id\n    name\n    sources {\n      id\n      name\n      source_type_id\n    }\n  }\n}'}).then((function(e){return e.data.application_types})).then((function(e){return s()(e,1)[0].sources}))},g=function(e){return m.get("".concat(u.i,"/sources/").concat(e))},v=function(e,t,r){var n=t?"&filter[name][contains_i]=".concat(t):"";return e?m.get("".concat(u.j,"/sources/").concat(e,"/service_offerings?filter[archived_at][nil]").concat(n).concat(r?"&limit=".concat(r.limit,"&offset=").concat(r.offset):"")):m.get("".concat(u.j,"/service_offerings"))},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.a;return e?m.get("".concat(u.j,"/sources/").concat(e,"/service_inventories?filter[name][contains_i]=").concat(t).concat(r?"&limit=".concat(r.limit,"&offset=").concat(r.offset):"")):m.get("".concat(u.j,"/service_inventories?limit=").concat(r.limit,"&offset=").concat(r.offset))},h=function(e,t){return Promise.all([m.get("".concat(u.j,"/service_offerings/").concat(e)),m.get("".concat(u.i,"/sources/").concat(t)).then((function(e){return m.get("".concat(u.i,"/source_types/").concat(e.source_type_id)).then((function(t){var r=t.icon_url;return f(f({},e),{},{icon_url:r})}))}))]).then((function(e){var t=s()(e,2);return{service:t[0],source:t[1]}}))};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=function(){return function(e){return e({type:"".concat(i.n,"_PENDING")}),b().then((function(t){return e({type:"".concat(i.n,"_FULFILLED"),payload:t})})).catch((function(t){return e({type:"".concat(i.n,"_REJECTED"),payload:t})}))}},_=function(e,t,r){return{type:i.q,payload:v(e,t,r),meta:P({platformId:e,filter:t},r)}},w=function(e){return{type:i.m,payload:g(e)}},T=function(e,t,r){return{type:i.o,payload:O(e,t,r)}},I=function(){return{type:i.y,payload:h.apply(n,arguments)}}},567:function(e,t,r){"use strict";r.d(t,"b",(function(){return U}));var n=r(36),o=r.n(n),a=r(20),i=r.n(a),c=r(0),s=r.n(c),l=r(3),u=r.n(l),d=r(58),p=r(73),f=r(123),m=r(286),y=r(657),b=r(27),g=r.n(b),v=r(28),O=r(561),h=r.n(O),j=r(133),P=r.n(j),E=r(288);function _(){var e=g()(["\n  z-index: 1000;\n  fill: #72767b;\n"]);return _=function(){return e},e}function w(){var e=g()(["\n  z-index: 1000;\n  fill: #72767b;\n  :hover {\n    fill: var(--pf-global--Color--100);\n    cursor: pointer;\n  }\n"]);return w=function(){return e},e}function T(){var e=g()(["\n  position: absolute;\n  right: 8px;\n  top: 8px;\n"]);return T=function(){return e},e}function I(){var e=g()(["\n  position: absolute;\n  width: 300px;\n  padding-right: 34px;\n  background: transparent;\n"]);return I=function(){return e},e}function D(){var e=g()(["\n  position: relative;\n  width: 300px;\n  height: 36px;\n"]);return D=function(){return e},e}var M=v.b.div(D()),F=Object(v.b)(E.TextInput)(I()),R=v.b.span(T()),C=Object(v.b)(P.a)(w()),k=Object(v.b)(h.a)(_()),L=function(e){var t=e.searchValue,r=e.onFilterChange,n=e.placeholder,a=e.isClearable,c=i()(e,["searchValue","onFilterChange","placeholder","isClearable"]);return s.a.createElement(m.ToolbarItem,null,s.a.createElement(M,null,s.a.createElement(F,o()({id:"toolbar-filter",placeholder:n,value:t,type:"text",onChange:r,"aria-label":n},c)),s.a.createElement(R,null,a&&t&&s.a.createElement(C,{width:"16",height:"16",onClick:function(){return r("")}})||s.a.createElement(k,null))))};L.propTypes={onFilterChange:u.a.func.isRequired,placeholder:u.a.string,searchValue:u.a.string,isClearable:u.a.bool},L.defaultProps={searchValue:"",isClearable:!1};var S=L,N=r(623),q=r(625),x=r(558),B=r(180),A=function(e){var t=e.title,r=i()(e,["title"]);return s.a.createElement(d.Button,r,t)};A.propTypes={title:u.a.string.isRequired};var V=function(e){var t=e.children,r=i()(e,["children"]);return s.a.createElement(B.a,o()({className:"pf-u-p-0"},r),s.a.createElement(y.ToolbarContent,{className:"pf-u-pl-0"},t))};V.propTypes={noWrap:u.a.bool,children:u.a.oneOfType([u.a.node,u.a.arrayOf(u.a.node)])};var G={TopToolbar:N.b,TopToolbarTitle:N.a,Toolbar:V,ToolbarGroup:B.b,ToolbarItem:m.ToolbarItem,FilterToolbarItem:S,Link:x.a,Level:p.Level,LevelItem:f.LevelItem,Button:A,AppTabs:q.a},U={TOP_TOOLBAR:"TopToolbar",TOP_TOOLBAR_TITLE:"TopToolbarTitle",TOOLBAR:"Toolbar",TOOLBAR_ITEM:"ToolbarItem",TOOLBAR_GROUP:"ToolbarGroup",FILTER_TOOLBAR_ITEM:"FilterToolbarItem",LINK:"Link",BUTTON:"Button",LEVEL:"Level",LEVEL_ITEM:"LevelItem",TABS:"AppTabs"};t.a=G},571:function(e,t,r){"use strict";var n=r(36),o=r.n(n),a=r(20),i=r.n(a),c=r(0),s=r.n(c),l=r(3),u=r.n(l),d=r(567),p=Object(c.createContext)(),f=function(e){var t=e.component,r=i()(e,["component"]);return s.a.createElement(p.Consumer,null,(function(e){var n=e.componentMapper,o="string"==typeof t?n[t]:t;return s.a.createElement(o,r)}))};f.propTypes={component:u.a.oneOfType([u.a.string,u.a.node,u.a.func,u.a.element]).isRequired};var m=function e(t){return t.hidden?null:t.map((function(t){var r=t.hidden,n=t.fields,a=t.key,c=i()(t,["hidden","fields","key"]);return r?null:n?s.a.createElement(f,o()({key:a},c),e(n)):s.a.createElement(f,o()({key:a},c))}))},y=function(e){var t=e.schema,r=e.componentMapper;return s.a.createElement(p.Provider,{value:{render:m,componentMapper:r}},m(t.fields))};y.propTypes={schema:u.a.shape({fields:u.a.array.isRequired}).isRequired,componentMapper:u.a.object},y.defaultProps={componentMapper:d.a},t.a=y},621:function(e,t,r){"use strict";r.d(t,"b",(function(){return l}));var n=r(9),o=r.n(n),a=r(165);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=(0,r(26).defineMessages)({title:{id:"common.states.title",defaultMessage:"State"},ordered:{id:"common.states.ordered",defaultMessage:"Ordered"},approvalPending:{id:"common.states.approval-pending",defaultMessage:"Approval Pending"},canceled:{id:"common.states.canceled",defaultMessage:"Canceled"},completed:{id:"common.states.completed",defaultMessage:"Completed"},failed:{id:"common.states.failed",defaultMessage:"Failed"},undecided:{id:"common.states.undecided",defaultMessage:"Undecided"},approved:{id:"common.states.approved",defaultMessage:"Approved"},denied:{id:"common.states.denied",defaultMessage:"Denied"},error:{id:"common.states.error",defaultMessage:"Error"},pending:{id:"common.states.pending",defaultMessage:"Pending"},skipped:{id:"common.states.skipped",defaultMessage:"Skipped"},started:{id:"common.states.started",defaultMessage:"Started"},notified:{id:"common.states.notified",defaultMessage:"Notified"}}),l=function(e){return e.replace(/\s/g,"").replace(/^./,(function(e){return e.toLowerCase()}))};t.a=c(c({},s),{},{created:a.a.created})},622:function(e,t,r){"use strict";r.d(t,"e",(function(){return W})),r.d(t,"f",(function(){return H})),r.d(t,"a",(function(){return X})),r.d(t,"d",(function(){return Q})),r.d(t,"c",(function(){return Z})),r.d(t,"b",(function(){return $}));var n=r(20),o=r.n(n),a=r(15),i=r.n(a),c=r(9),s=r.n(c),l=r(0),u=r.n(l),d=r(100),p=r(1),f=r(607),m=r.n(f),y=r(608),b=r.n(y),g=r(29),v=r(5),O=r(22),h=r(38),j=function(e,t,r,n){return new(r||(r=Promise))((function(o,a){function i(e){try{s(n.next(e))}catch(e){a(e)}}function c(e){try{s(n.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}s((n=n.apply(e,t||[])).next())}))},P=function(e,t){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},E=Object(g.a)();function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=Object(g.c)(),I=(Object(g.d)(),Object(g.g)()),D=Object(g.a)(),M=Object(g.b)();function F(e){return I.listServicePlans(e)}function R(e){return C.apply(this,arguments)}function C(){return(C=b()(m.a.mark((function e(t){var r,n,a,i,c,s,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.service_parameters,n=r.providerControlParameters,a=o()(r,["providerControlParameters"]),i=o()(t,["service_parameters"]),e.next=3,T.createOrder();case 3:return c=e.sent,(s={}).count=1,s=w(w(w({},s),i),{},{service_parameters:a,provider_control_parameters:n||{}}),e.next=9,T.addToOrder(c.id,s);case 9:return l=e.sent,e.abrupt("return",T.submitOrder(c.id).then((function(e){return w(w({},e),{},{orderItem:l})})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=function(e){return D.get("".concat(v.c,"/order_items?").concat(e.map((function(e){return"filter[order_id][]=".concat(e)})).join("&")))},L=function(e){return D.get("".concat(v.c,"/portfolio_items?").concat(e.map((function(e){return"filter[id][]=".concat(e)})).join("&")))},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.a;return D.get("".concat(v.c,"/orders?").concat(e,"&limit=").concat(t.limit,"&offset=").concat(t.offset)).then((function(e){return k(e.data.map((function(e){return e.id}))).then((function(t){return L(t.data.map((function(e){return e.portfolio_item_id}))).then((function(r){return w(w({portfolioItems:r},e),{},{data:e.data.map((function(e){return w(w({},e),{},{orderItems:t.data.filter((function(t){return t.order_id===e.id}))})}))})}))}))}))};var N=function(e){if(Object.values(e).some((function(e){return!e})))return t=e.order,j(void 0,void 0,void 0,(function(){var e,r,n,o,a,i;return P(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,E.get(v.c+"/orders/"+t)];case 1:return e=c.sent(),[3,3];case 2:if(r=c.sent(),e={},404!==r.status&&400!==r.status)throw r;return h.a.replace({pathname:"/404",state:{from:h.a.location}}),[3,3];case 3:n={object:"Order item",notFound:!0},c.label=4;case 4:return c.trys.push([4,6,,7]),[4,E.get(v.c+"/order_items?order_id="+e.id)];case 5:return o=c.sent(),n=o.data[0],[3,7];case 6:return c.sent(),[3,7];case 7:a={object:"Product",notFound:!0},c.label=8;case 8:return c.trys.push([8,10,,11]),[4,E.get(v.c+"/portfolio_items/"+n.portfolio_item_id)];case 9:return a=c.sent(),[3,11];case 10:return c.sent(),[3,11];case 11:return i=[E.get(v.i+"/sources/"+a.service_offering_source_ref).catch((function(){return{object:"Platform",notFound:!0}})),E.get(v.c+"/order_items/"+n.id+"/progress_messages").catch((function(){return{object:"Messages",notFound:!0}})),E.get(v.c+"/portfolios/"+a.portfolio_id).catch((function(){return{object:"Portfolio",notFound:!0}}))],[2,Promise.all(i).then((function(t){var r=t[0],o=t[1],i=t[2];return[e,n,a,r,o,i]}))]}}))}));var t,r=[D.get("".concat(v.c,"/orders/").concat(e.order)).catch((function(e){if(404===e.status||400===e.status)return h.a.replace({pathname:"/404",state:{from:h.a.location}});throw e})),D.get("".concat(v.c,"/order_items/").concat(e["order-item"])).catch((function(e){if(404===e.status||400===e.status)return{object:"Order item",notFound:!0};throw e})),D.get("".concat(v.c,"/portfolio_items/").concat(e["portfolio-item"])).catch((function(e){if(404===e.status||400===e.status)return{object:"Product",notFound:!0};throw e}))];return r.push(e.platform&&"undefined"!==e.platform?D.get("".concat(v.i,"/sources/").concat(e.platform)).catch((function(e){if(404===e.status||400===e.status)return{object:"Platform",notFound:!0};throw e})):{object:"Platform",notFound:!0}),r.push(D.get("".concat(v.c,"/order_items/").concat(e["order-item"],"/progress_messages")).catch((function(e){if(404===e.status||400===e.status)return{};throw e}))),r.push(e.portfolio&&"undefined"!==e.portfolio?D.get("".concat(v.c,"/portfolios/").concat(e.portfolio)).catch((function(e){if(404===e.status||400===e.status)return{object:"Portfolio",notFound:!0};throw e})):{object:"Portfolio",notFound:!0}),Promise.all(r)},q=function(e){return D.get("".concat(v.c,"/order_items/").concat(e,"/approval_requests")).then((function(e){var t=e.data.map((function(e){var t,r,n=e.approval_request_ref;return t=n,M.post("".concat(v.a,"/graphql"),{query:(r=t,'query {\n  requests(id: "'.concat(r,'") {\n    group_name\n    state\n    actions {\n      created_at\n    }\n  }\n}'))},{"x-rh-persona":"approval/requester"}).then((function(e){return e.data.requests}))}));return Promise.all(t).then((function(e){var t;return{data:(null==e||null===(t=e[0])||void 0===t?void 0:t.map((function(e){var t=e.actions;return w(w({},o()(e,["actions"])),{},{updated:(null==t?void 0:t.length)>0?t.pop().created_at:void 0})})))||[]}}))}))},x=r(3),B=r.n(x),A=r(64),V=r(11),G=r(565),U=r(21),K=function(e){var t=e.id,r=e.dispatch,n=e.portfolioItemId,o=e.portfolioId,a=e.platformId,i=e.orderItemId;return Object(U.a)()(G.a.orderSuccess,{id:t,link:function(e){return u.a.createElement(A.a,{onClick:function(){return r(Object(d.clearNotifications)())},to:{pathname:V.o,search:"?order=".concat(t,"&order-item=").concat(i,"&portfolio-item=").concat(n,"&platform=").concat(a,"&portfolio=").concat(o)}},e)}})};K.propTypes={id:B.a.string.isRequired,dispatch:B.a.func.isRequired,portfolioItemId:B.a.string.isRequired,portfolioId:B.a.string.isRequired,platformId:B.a.string.isRequired,orderItemId:B.a.string.isRequired};var J=K;function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W=function(e){return{type:p.z,payload:F(e)}},H=function(e,t){return function(r){return r({type:p.cb,payload:R(e).then((function(e){var n=e.id,o=e.orderItem;return r(Object(d.addNotification)({variant:"success",title:"Your order has been accepted successfully",description:u.a.createElement(J,{id:n,dispatch:r,portfolioItemId:t.id,portfolioId:t.portfolio_id,platformId:t.service_offering_source_ref,orderItemId:o.id}),dismissable:!0}))}))})}},X=function(e){return function(t,r){t({type:"".concat(p.e,"_PENDING")});var n=r().orderReducer.orderDetail;return function(e){return T.cancelOrder(e)}(e).then((function(){return n.order.state="Canceled",n.approvalRequest&&n.approvalRequest.length>0&&(n.approvalRequest[0].state="canceled"),t({type:p.V,payload:Y({},n)}),n})).then((function(e){return t(Object(d.addNotification)({variant:"success",title:"Your order has been canceled successfully",description:"Order ".concat("Order #".concat(e.order.id)," was canceled."),dismissable:!0}))})).then((function(){return t({type:"".concat(p.e,"_FULFILLED")})})).catch((function(e){t({type:"".concat(p.e,"_REJECTED"),payload:e})}))}},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.a;return function(r){var n=Object.entries(e).filter((function(e){var t=i()(e,2)[1];return t&&t.length>0})).map((function(e){var t=i()(e,2),r=t[0],n=t[1];return Array.isArray(n)?n.map((function(e){return"filter[".concat(r,"][]=").concat(e)})).join("&"):"filter[".concat(r,"][contains_i]=").concat(n)})).join("&");return t.sortBy&&(n="".concat(n,"&sort_by=").concat(t.sortBy,":").concat(t.sortDirection||"desc")),r({type:"".concat(p.i,"_PENDING")}),S(n,t).then((function(a){var i=a.portfolioItems,c=o()(a,["portfolioItems"]);return r({type:p.X,payload:i}),r({type:"".concat(p.i,"_FULFILLED"),meta:Y(Y({},t),{},{filter:n,filters:e,storeState:!0,stateKey:"orders"}),payload:c})})).catch((function(e){return r({type:"".concat(p.i,"_REJECTED"),payload:e})}))}},Z=function(e){return function(t){return t({type:"".concat(p.V,"_PENDING")}),N(e).then((function(e){var r=i()(e,7),n=r[0],o=r[1],a=r[2],c=r[3],s=r[4],l=r[5],u=r[6];return t({type:"".concat(p.V,"_FULFILLED"),payload:{order:n,orderItem:o,portfolioItem:a,platform:c,progressMessages:s,portfolio:l,approvalRequest:u}})})).catch((function(e){return t({type:"".concat(p.V,"_REJECTED"),payload:e})}))}},$=function(e){return function(t){return t({type:"".concat(p.g,"_PENDING")}),q(e).then((function(e){return t({type:"".concat(p.g,"_FULFILLED"),payload:e}),e})).catch((function(e){return t({type:"".concat(p.g,"_REJECTED"),payload:e})}))}}},625:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(3),i=r.n(a),c=r(655),s=r(656),l=r(78),u=r(560),d=function(e){var t=e.tabItems,r=Object(u.a)().push,n=Object(l.h)(),a=n.pathname,i=n.search,d=t.find((function(e){var t=e.name;return a.includes(t)}));return o.a.createElement(c.Tabs,{activeKey:d?d.eventKey:0,onSelect:function(e,n){return r({pathname:t[n].name,search:i})}},t.map((function(e){return o.a.createElement(s.Tab,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name,disabled:e.disabled})})))};d.propTypes={tabItems:i.a.array.isRequired},t.a=d},715:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(650),i=r.n(a),c=r(665),s=r.n(c),l=r(596),u=r.n(l),d=r(716),p=r.n(d),f=r(717),m=r.n(f),y={Completed:{icon:o.a.createElement(s.a,null),color:"green"},"Approval Pending":{icon:o.a.createElement(p.a,null),color:"blue"},Ordered:{icon:o.a.createElement(m.a,null),color:"grey"},Failed:{icon:o.a.createElement(i.a,null),color:"red"},Canceled:{icon:o.a.createElement(u.a,null),color:"orange"},Created:{icon:o.a.createElement(m.a,null),color:"grey"}};t.a=y},896:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),a=r(176),i=r(571),c=r(567),s=function(){return{fields:[{component:c.b.TOP_TOOLBAR,className:"orders pf-u-p-lg",key:"orders-toolbar",fields:[{component:c.b.TOP_TOOLBAR_TITLE,key:"orders-toolbar-title",title:"Orders",className:""}]}]}},l=r(36),u=r.n(l),d=r(169),p=r.n(d),f=r(15),m=r.n(f),y=r(9),b=r.n(y),g=r(17),v=r(59),O=r(46),h=r(287),j=r(171),P=r(575),E=r(578),_=r(579),w=r(666),T=r(599),I=r(58),D=r(174),M=r(658),F=r(718),R=r(866),C=r(561),k=r.n(C),L=r(592),S=r(749),N=r(669),q=r(668),x=r(622),B=r(566),A=r(80),V=r(628),G=r(10),U=r(175),K=r(587),J=r(5),z=r(558),Y=r(11),W=r(621),H=r(617),X=r(715);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $=function(e,t,r,a){var i,c,s=e.orderItems[0]&&e.orderItems[0]||{},l=Z(Z(Z(Z({order:e.id},s.id?{"order-item":s.id}:{}),s.portfolio_item_id?{"portfolio-item":s.portfolio_item_id}:{}),t?{platform:t}:{}),r?{portfolio:r}:{}),d=Object(W.b)(e.state);return[{title:o.a.createElement(H.a,null,o.a.createElement(z.a,{pathname:Y.o,searchParams:l},e.id))},{title:o.a.createElement(n.Fragment,null,o.a.createElement(K.a,{height:60,src:(i=e,c=i.orderItems,c[0]&&"".concat(J.c,"/portfolio_items/").concat(c[0].portfolio_item_id,"/icon")),sourceId:t}))},e.orderName,e.owner,{title:o.a.createElement(G.Text,{className:"pf-u-mb-0",component:G.TextVariants.small},o.a.createElement(U.DateFormat,{date:e.created_at,variant:"relative"}))},{title:o.a.createElement(G.Text,{className:"pf-u-mb-0",component:G.TextVariants.small},o.a.createElement(U.DateFormat,{date:e.orderItems[0]&&e.orderItems[0].updated_at,variant:"relative"}))},{title:o.a.createElement(H.a,null,o.a.createElement(V.Label,u()({},X.a[e.state],{variant:"outline"}),a(W.a[d])))}]},ee=r(557),te=r(99),re=r(22),ne=r(178),oe=r(562),ae=r(565),ie=r(165),ce=r(21);function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){b()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ue=Object(te.a)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re.a,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;n(!0),r(Object(x.d)(e,t)).then((function(){return n(!1)}))}),1e3),de={isOpen:!1,isFetching:!0,isFiltering:!1,filterType:"state",filters:{state:[],owner:""},sortBy:{index:0,direction:L.a.desc}},pe=function(e,t){switch(t.type){case"setFetching":return le(le({},e),{},{isFetching:t.payload});case"setFilterValue":return le(le({},e),{},{filters:(r=t.payload,n=e.filterType,o=e.filters,le(le({},o),{},b()({},n,r)))});case"replaceFilterChip":return le(le({},e),{},{filters:t.payload});case"setFilteringFlag":return le(le({},e),{},{isFiltering:t.payload});case"setFilterType":return le(le({},e),{},{filterType:t.payload});case"setSortBy":return le(le({},e),{},{sortBy:t.payload,isFetching:!0})}var r,n,o;return e},fe={0:"id",3:"owner",4:"created_at",6:"state"},me=function(){var e,t,r,a=Object(ce.a)(),i=Object(g.useDispatch)(),c=Object(ne.a)(),s=Object(n.useReducer)(pe,le(le({},de),{},{filters:(null==c||null===(e=c.orders)||void 0===e?void 0:e.filters)||{state:[],owner:""},sortBy:{direction:(null==c||null===(t=c.orders)||void 0===t?void 0:t.sortDirection)||L.a.desc,index:(null==c||null===(r=c.orders)||void 0===r?void 0:r.sortIndex)||0}})),l=m()(s,2),d=l[0],f=d.isFetching,y=d.isFiltering,C=d.filterType,V=d.filters,G=d.sortBy,U=l[1],K=Object(g.useSelector)((function(e){return e.orderReducer.orders})),J=K.data,z=K.meta,Y=[{title:a(ae.a.orderID)},a(ie.a.product),"",{title:a(ae.a.orderedByLabel)},{title:a(ae.a.orderDate)},a(ie.a.updated),{title:a(ie.a.status)}].map((function(e){return"object"!==p()(e)||f||y||0===J.length?e:le(le({},e),{},{transforms:[S.a]})})),H=Object(g.useSelector)((function(e){return e.portfolioReducer.portfolioItems.data})),X=J.map((function(e){var t=function(e,t){var r=e.orderItems,n=r[0]&&t.find((function(e){var t=e.id;return r[0].portfolio_item_id===t}));return n?{orderPlatform:n.service_offering_source_ref,orderPortfolio:n.portfolio_id}:{}}(e,H),r=t.orderPlatform,n=t.orderPortfolio,o=function(e,t){var r=e.orderItems,n=e.id,o=r[0]&&t.find((function(e){var t=e.id;return r[0].portfolio_item_id===t}));return o?o.name:"Order ".concat(n)}(e,H);return $(le(le({},e),{},{orderName:o}),r,n,a)}));Object(n.useEffect)((function(){U({type:"setFetching",payload:!0}),Promise.all([i(Object(x.d)(V,null==c?void 0:c.orders)),i(Object(B.c)())]).then((function(){return U({type:"setFetching",payload:!1})}))}),[]);var Q=function(e,t){return U({type:"setFetching",payload:!0}),i(Object(x.d)(V,le(le({},t),{},{sortBy:fe[G.index],sortDirection:G.direction,sortIndex:G.index}))).then((function(){return U({type:"setFetching",payload:!1})})).catch((function(){return U({type:"setFetching",payload:!1})}))},Z=function(e){U({type:"setFilterValue",payload:e}),ue(le(le({},V),{},b()({},C,e)),le(le({},z),{},{sortBy:fe[G.index],sortDirection:G.direction,sortIndex:G.index,offset:0}),i,(function(e){return U({type:"setFilteringFlag",payload:e})}))},te=function(){return U({type:"replaceFilterChip",payload:de.filters}),ue(de.filters,le(le({},z),{},{sortBy:fe[G.index],sortDirection:G.direction,sortIndex:G.index}),i,(function(e){return U({type:"setFilteringFlag",payload:e})}))};return o.a.createElement(v.Grid,{hasGutter:!0},o.a.createElement(O.GridItem,null,o.a.createElement(D.Section,{type:"content"},!z.noData&&o.a.createElement(M.PrimaryToolbar,{activeFiltersConfig:{filters:Object.entries(V).filter((function(e){var t=m()(e,2)[1];return t&&t.length>0})).map((function(e){var t=m()(e,2),r=t[0],n=t[1];return{category:r,type:r,chips:Array.isArray(n)?n.map((function(e){return{name:e}})):[{name:n}]}})),onDelete:function(e,t,r){var n=m()(t,1)[0];if(r)return te();var o=le({},V);"state"===n.type?o[n.type]=o[n.type].filter((function(e){return e!==n.chips[0].name})):o[n.type]="",U({type:"replaceFilterChip",payload:o}),ue(o,z,i,(function(e){return U({type:"setFilteringFlag",payload:e})}))}},filterConfig:{onChange:function(e,t){return U({type:"setFilterType",payload:t})},value:C,items:[{filterValues:{items:[{value:"Approval Pending",label:a(W.a.approvalPending)},{value:"Canceled",label:a(W.a.canceled)},{value:"Completed",label:a(W.a.completed)},{value:"Created",label:a(ie.a.created)},{value:"Failed",label:a(W.a.failed)},{value:"Ordered",label:a(W.a.ordered)}],value:V.state,onChange:function(e,t){return Z(t)}},label:"State",value:"state",type:"checkbox"},{filterValues:{value:V.owner,onChange:function(e,t){return Z(t)}},label:"Owner",value:"owner"}]},pagination:o.a.createElement(ee.a,{isDisabled:f||y,apiRequest:Q,meta:z,isCompact:!0})}),o.a.createElement(L.b,u()({"aria-label":"orders"},f||y||0!==J.length?{sortBy:G,onSort:function(e,t,r){return U({type:"setSortBy",payload:{index:t,direction:r}}),i(Object(x.d)(V,le(le({},z),{},{sortBy:fe[t],sortDirection:r,sortIndex:t}))).then((function(){return U({type:"setFetching",payload:!1})}))}}:{},{cells:Y,rows:f||y?[]:X,className:"orders-table"}),o.a.createElement(N.a,null),o.a.createElement(q.a,null)),!(f||y)&&0===J.length&&o.a.createElement(F.EmptyTable,null,o.a.createElement(j.Bullseye,null,o.a.createElement(P.EmptyState,null,o.a.createElement(j.Bullseye,null,o.a.createElement(E.EmptyStateIcon,{icon:k.a})),o.a.createElement(h.Title,{headingLevel:"h1",size:"lg"},z.noData?a(ae.a.noOrdersTitle):a(oe.a.noResults)),o.a.createElement(_.EmptyStateBody,null,z.noData?a(ae.a.noOrdersDescription):a(oe.a.noResultsDescription)),!z.noData&&o.a.createElement(T.EmptyStateSecondaryActions,null,o.a.createElement(I.Button,{variant:"link",onClick:te},a(oe.a.clearFilters)))))),(f||y)&&o.a.createElement(A.e,null),o.a.createElement(R.TableToolbar,{className:"pf-u-mr-0"},o.a.createElement("div",{className:"bottom-pagination-container"},o.a.createElement(w.Flex,{justifyContent:{default:"justifyContentFlexEnd"}},z.count>0&&o.a.createElement(ee.a,{className:"pf-u-mt-0",isDisabled:f||y,apiRequest:Q,meta:z})))))))};t.default=function(){return Object(n.useEffect)((function(){insights.chrome.appNavClick({id:"orders",secondaryNav:!0})}),[]),o.a.createElement(a.Stack,null,o.a.createElement(i.a,{schema:s()}),o.a.createElement(me,null))}}}]);
//# sourceMappingURL=../sourcemaps/orders~91f4305a.js.map