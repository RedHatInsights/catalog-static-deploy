(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{503:function(e,t,r){"use strict";var o=r(499),n=r.n(o),a=r(69),i=r.n(a),s=r(0),c=r.n(s),l=r(12),p=r.n(l),u=r(500),d=r(222),f=r(71),m=function(e){var t=e.meta,r=t.limit,o=t.count,a=t.offset,s=e.apiProps,l=e.apiRequest,p=e.className,m=e.isCompact,b=i()(e,["meta","apiProps","apiRequest","className","isCompact"]);return c.a.createElement("div",{className:p},c.a.createElement(d.Pagination,n()({perPage:r||50,itemCount:o||0,onPerPageSelect:function(e,t){return l(s,{offset:a,limit:t})},page:Object(f.b)(r,a),onSetPage:function(e,t,o){var n={offset:Object(f.c)(t,r),limit:r},a=function(){return l(s,n)};return o?Object(u.a)(a,250)():a()},direction:"down",isCompact:m},b)))};m.propTypes={meta:p.a.shape({count:p.a.number,limit:p.a.number.isRequired,offset:p.a.number.isRequired}),apiRequest:p.a.func.isRequired,apiProps:p.a.any,className:p.a.string,isCompact:p.a.bool},m.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1},t.a=m},505:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var o=r(0),n=r.n(o),a=r(12),i=r.n(a),s=r(49),c=r(451),l=r(452),p=r(454),u=r(455),d=r(44),f=r(70),m=r(502),b=function(e){var t=e.title,r=e.Icon,o=e.description,a=e.PrimaryAction,i=e.renderDescription;return n.a.createElement("div",{className:"pf-u-mt-xl"},n.a.createElement(c.EmptyState,{className:"pf-u-ml-auto pf-u-mr-auto"},n.a.createElement(l.EmptyStateIcon,{icon:r}),n.a.createElement(f.TextContent,null,n.a.createElement(d.Text,{component:d.TextVariants.h1},t)),n.a.createElement(p.EmptyStateBody,null,o,i()),n.a.createElement(u.EmptyStateSecondaryActions,null,a&&n.a.createElement(a,null))))};b.defaultProps={renderDescription:function(){return null}},b.propTypes={title:i.a.string.isRequired,Icon:i.a.any.isRequired,description:i.a.string,PrimaryAction:i.a.any,renderDescription:i.a.func},t.b=b;var h=function(e){var t=e.url,r=e.label,o=e.hasPermission,a=void 0!==o&&o,i=e.id;return a&&n.a.createElement(m.a,{id:i,pathname:t,preserveSearch:!0},n.a.createElement(s.Button,{variant:"primary"},r))};h.propTypes={url:i.a.string.isRequired,label:i.a.string.isRequired,id:i.a.string,hasPermission:i.a.bool}},509:function(e,t,r){"use strict";var o=r(69),n=r.n(o),a=r(28),i=r.n(a),s=r(0),c=r.n(s),l=r(29),p=r(12),u=r.n(p);function d(){var e=i()(["\n  overflow: hidden;\n"]);return d=function(){return e},e}var f=l.b.div(d()),m=function(e){var t=e.toDisplay,r=void 0===t?[]:t,o=n()(e,["toDisplay"]);return r.map((function(e){return c.a.createElement(f,{key:"card-prop-".concat(e)},o[e])}))};m.propTypes={toDisplay:u.a.arrayOf(u.a.oneOfType([u.a.string,u.a.node,u.a.arrayOf(u.a.node)]))},m.defaultProps={toDisplay:[]},t.a=m},510:function(e,t,r){"use strict";var o=r(28),n=r.n(o);function a(){var e=n()(["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"]);return a=function(){return e},e}var i=r(29).b.div(a());t.a=i},511:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var o=r(28),n=r.n(o),a=r(29),i=r(108);function s(){var e=n()(["\n  height: 230px;\n  overflow: hidden;\n  padding: 0 !important;\n  margin: 0 24px 24px;\n"]);return s=function(){return e},e}var c=Object(a.b)(i.CardBody)(s())},512:function(e,t,r){"use strict";r.d(t,"a",(function(){return m})),r.d(t,"b",(function(){return b}));var o=r(69),n=r.n(o),a=r(28),i=r.n(a),s=r(0),c=r.n(s),l=r(29),p=r(107),u=r(139);function d(){var e=i()(["\n  position: relative;\n  ::after {\n    display: ",";\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: '';\n    background-color: rgba(210, 210, 210, 0.5);\n    z-index: 1;\n    cursor: progress;\n  }\n"]);return d=function(){return e},e}function f(){var e=i()(["\n  height: 330px;\n  position: relative;\n"]);return f=function(){return e},e}var m=Object(l.b)(p.Card)(f()),b=Object(l.b)((function(e){e.isDisabled;var t=n()(e,["isDisabled"]);return c.a.createElement(u.GalleryItem,t)}))(d(),(function(e){return e.isDisabled?"block":"none"}))},514:function(e,t,r){"use strict";var o=r(0),n=r.n(o),a=r(12),i=r.n(a),s=r(135),c=r(44),l=r(142),p=r(72),u=function(){return n.a.createElement("div",null,n.a.createElement(c.Text,{component:c.TextVariants.h1},"No items found"))},d=function(e){var t=e.isLoading,r=e.items,o=e.renderEmptyState;return t?n.a.createElement(p.b,null):0===r.length?o?o():n.a.createElement(u,null):n.a.createElement(s.Section,{type:"content"},n.a.createElement(l.Gallery,{hasGutter:!0,className:"content-gallery"},r))};d.propTypes={isLoading:i.a.bool,items:i.a.array,renderEmptyState:i.a.func},t.a=d},515:function(e,t,r){"use strict";var o=r(0),n=r.n(o),a=r(12),i=r.n(a),s=function(e){var t=e.children;return n.a.createElement("div",{className:"pf-u-p-lg pf-u-pt-md pf-u-pb-md global-primary-background pf-u-mt-auto"},t)};s.propTypes={children:i.a.oneOfType([i.a.node,i.a.arrayOf(i.a.node)])},t.a=s},524:function(e,t,r){"use strict";var o=r(0),n=r.n(o),a=r(12),i=r.n(a),s=r(450),c=function(e){var t=e.handleCheck,r=e.isChecked,o=e.id;return n.a.createElement(s.Checkbox,{onClick:function(e){return e.stopPropagation()},isChecked:r,onChange:t,"aria-label":"card checkbox",id:o})};c.propTypes={handleCheck:i.a.func,isChecked:i.a.bool,id:i.a.string},t.a=c},525:function(e,t,r){"use strict";var o=r(2),n=r.n(o),a=r(499),i=r.n(a),s=r(69),c=r.n(s),l=r(0),p=r.n(l),u=r(12),d=r.n(u),f=r(44),m=r(70),b=r(509),h=r(526),y=r(510),g=r(511),v=function(e){var t=e.name,r=(e.display_name,e.distributor),o=e.pathname,n=e.searchParams,a=e.preserveSearch,s=e.portfolioName,u=c()(e,["name","display_name","distributor","pathname","searchParams","preserveSearch","portfolioName"]);return p.a.createElement(g.a,null,p.a.createElement(m.TextContent,null,p.a.createElement(h.a,{pathname:o,searchParams:n,preserveSearch:a},p.a.createElement(f.Text,{component:f.TextVariants.h3,title:t},p.a.createElement(y.a,null,t))),r&&p.a.createElement(f.Text,{component:f.TextVariants.small},r),s&&p.a.createElement(l.Fragment,null,p.a.createElement(f.Text,{className:"pf-u-mb-0",component:"small"},"Portfolio"),p.a.createElement(f.Text,null,s))),p.a.createElement(b.a,i()({toDisplay:[u.description?"description":"long_description"]},u)))};v.propTypes={name:d.a.string,display_name:d.a.string,distributor:d.a.string,long_description:d.a.string,description:d.a.string,pathname:d.a.string,preserveSearch:d.a.bool,searchParams:d.a.shape(n()({},d.a.string,d.a.string)),portfolioName:d.a.string},t.a=v},527:function(e,t,r){"use strict";r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return u}));var o=r(2),n=r.n(o),a=r(69),i=r.n(a),s=r(506);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.groupName,r=e.hidden,o=void 0!==r&&r,n=i()(e,["groupName","hidden"]);return{component:s.b.TOOLBAR_GROUP,key:"".concat(t,"/single-toolbar-item-group"),fields:o?[]:[{component:s.b.TOOLBAR_ITEM,key:"".concat(t,"/single-toolbar-item"),fields:[n]}]}},u=function(e){var t=e.pathname,r=e.preserveSearch,o=i()(e,["pathname","preserveSearch"]);return{component:s.b.LINK,pathname:t,preserveSearch:r,key:"".concat(o.key,"/button-link"),isDisabled:o.isDisabled,fields:[l({component:s.b.BUTTON},o)]}}},548:function(e,t,r){"use strict";var o=r(28),n=r.n(o),a=r(0),i=r.n(a),s=r(12),c=r.n(s),l=r(457),p=r(458),u=r(103),d=r(14),f=r(522),m=r(524),b=r(525),h=r(512),y=r(29);function g(){var e=n()(["\n  flex: 1;\n"]);return g=function(){return e},e}var v=Object(y.b)(u.Level)(g()),P=function(e){return i.a.createElement(h.b,{isDisabled:e.removeInProgress&&e.isSelected},i.a.createElement(h.a,null,i.a.createElement(l.CardHeader,null,i.a.createElement(v,null,i.a.createElement(f.a,{src:"".concat(d.c,"/portfolio_items/").concat(e.id,"/icon"),sourceId:e.service_offering_source_ref}),e.isSelectable&&i.a.createElement(m.a,{handleCheck:function(){return e.onSelect(e.id)},isChecked:e.isSelected,id:e.id}))),i.a.createElement(b.a,e),i.a.createElement(p.CardFooter,null)))};P.propTypes={id:c.a.string,platformId:c.a.string,service_offering_source_ref:c.a.string,isSelectable:c.a.bool,isSelected:c.a.bool,onSelect:c.a.func,orderUrl:c.a.string,removeInProgress:c.a.bool,portfolio_id:c.a.string,metadata:c.a.shape({user_capabilities:c.a.shape({destroy:c.a.bool}).isRequired}).isRequired},t.a=P},619:function(e,t,r){"use strict";r.r(t);var o=r(2),n=r.n(o),a=r(499),i=r.n(a),s=r(36),c=r.n(s),l=r(0),p=r.n(l),u=r(12),d=r.n(u),f=r(56),m=r(30),b=r(518),h=r(69),y=r.n(h),g=r(223),v=r(16),P=r(109),O=r(104),E=r(506),R=r(527),k=r(503),w=r(502);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=function(e){var t=e.editPortfolioRoute,r=e.workflowPortfolioRoute,o=e.removePortfolioRoute,n=e.copyInProgress,a=e.copyPortfolio,i=e.userCapabilities,s=i.copy,u=i.destroy,d=i.update,f=i.set_approval,m=Object(l.useState)(!1),b=c()(m,2),h=b[0],y=b[1],E=[];return s&&E.push(p.a.createElement(O.DropdownItem,{component:"button","aria-label":"Copy Portfolio",key:"copy-portfolio",id:"copy-portfolio",onClick:a},"Copy")),f&&E.push(p.a.createElement(O.DropdownItem,{"aria-label":"Set approval workflow",key:"set-approval-portfolio-action",id:"set-approval-portfolio-action",component:p.a.createElement(w.a,{preserveSearch:!0,pathname:r},"Set approval"),role:"link"})),d&&E.push(p.a.createElement(O.DropdownItem,{"aria-label":"Edit Portfolio",key:"edit-portfolio",id:"edit-portfolio",component:p.a.createElement(w.a,{id:"edit-portfolio",preserveSearch:!0,pathname:t},"Edit"),role:"link"})),u&&E.push(p.a.createElement(O.DropdownItem,{"aria-label":"Remove Portfolio",key:"delete-portfolio",id:"delete-portfolio",component:p.a.createElement(w.a,{preserveSearch:!0,pathname:o},"Delete"),role:"link",className:"pf-c-dropdown__menu-item"})),0===E.length?null:p.a.createElement(g.Dropdown,{className:"pf-u-ml-md",onSelect:function(){return y(!1)},position:v.DropdownPosition.right,toggle:p.a.createElement(P.KebabToggle,{id:"toggle-portfolio-actions",onToggle:y,isDisabled:n}),isOpen:h,isPlain:!0,dropdownItems:E})};S.propTypes={removePortfolioRoute:d.a.string.isRequired,editPortfolioRoute:d.a.string.isRequired,workflowPortfolioRoute:d.a.string.isRequired,copyPortfolio:d.a.func.isRequired,copyInProgress:d.a.bool,userCapabilities:d.a.shape({copy:d.a.bool,update:d.a.bool,destroy:d.a.bool,set_approval:d.a.bool}).isRequired};var C=function(e){var t=e.title,r=e.addProductsRoute,o=e.copyPortfolio,n=e.sharePortfolioRoute,a=e.editPortfolioRoute,i=e.workflowPortfolioRoute,s=e.removePortfolioRoute,c=e.copyInProgress,l=e.isLoading,p=e.removeProducts,u=e.itemsSelected,d=e.meta,f=e.fetchPortfolioItemsWithPortfolio,m=e.portfolioId,b=e.description,h=e.filterProps,g=h.searchValue,v=h.onFilterChange,P=h.placeholder,O=e.userCapabilities,w=O.share,j=O.unshare,C=y()(O,["share","unshare"]);return{fields:[{component:E.b.TOP_TOOLBAR,key:"portfolio-top-toolbar",fields:[{component:E.b.TOP_TOOLBAR_TITLE,key:"portfolio-toolbar-title",noData:d.noData,title:t,description:b,fields:[{component:E.b.LEVEL_ITEM,key:"portfolio-actions",fields:[Object(R.a)({pathname:n,preserveSearch:!0,variant:"secondary",title:"Share",isDisabled:c,key:"portfolio-share-button",id:"portfolio-share-button",hidden:!w&&!j}),{component:S,editPortfolioRoute:a,workflowPortfolioRoute:i,removePortfolioRoute:s,copyPortfolio:o,copyInProgress:c,userCapabilities:C,key:"portfolio-actions-dropdown"}]}]},{component:E.b.LEVEL,key:"portfolio-items-actions",fields:d.noData?[]:[{component:E.b.TOOLBAR,key:"portfolio-items-actions",fields:[Object(R.b)({groupName:"filter-portfolio-items",component:E.b.FILTER_TOOLBAR_ITEM,isClearable:!0,key:"portfolio-items-filter",searchValue:g,onFilterChange:v,placeholder:P}),Object(R.b)(D({hidden:0===d.count||!C.update,groupName:"add-portfolio-items",key:"portfolio-items-add-group"},Object(R.a)({preserveSearch:!0,pathname:r,isDisabled:l||c,variant:"primary",title:"Add",key:"add-products-button"}))),Object(R.b)({component:E.b.BUTTON,hidden:0===d.count||!C.update,groupName:"remove-portfolio-items",variant:"link",title:"Remove",key:"remove-products-button",id:"remove-products-button",isDisabled:!u,onClick:p})]},{component:E.b.LEVEL_ITEM,key:"pagination-item",fields:d.count>0?[{component:k.a,key:"portfolio-items-pagination",meta:d,apiRequest:f,apiProps:m,isCompact:!0}]:[]}]}]}]}},T=r(449),I=r.n(T),q=r(467),_=r.n(q),N=r(505),x=r(49),L=function(e){var t=e.url,r=e.handleFilterChange,o=e.meta,n=e.userCapabilities.update,a={PrimaryAction:o.noData?function(){return p.a.createElement(N.a,{url:t,label:"Add products",id:"add-products-to-portfolio",hasPermission:n})}:function(){return p.a.createElement(x.Button,{id:"clear-portfolio-filter",variant:"link",onClick:function(){return r("")}},"Clear all filters")},title:o.noData?"No products yet":"No results found",description:o.noData?"No products in your portfolio":"No results match the filter criteria. Remove all filters or clear all filters to show results.",Icon:o.noData?_.a:I.a};return p.a.createElement(N.b,a)};L.propTypes={url:d.a.string.isRequired,handleFilterChange:d.a.func.isRequired,meta:d.a.shape({noData:d.a.bool}).isRequired,userCapabilities:d.a.shape({update:d.a.bool}).isRequired};var F=L,A=r(514),B=r(548),V=r(508),G=r(515),M=r(73),U=r(11);function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W=function(e){var t=e.routes,r=e.handleFilterChange,o=e.removeProducts,n=e.copyPortfolio,a=e.stateDispatch,s=e.state,u=s.removeInProgress,d=s.isFetching,h=s.isFiltering,y=s.copyInProgress,g=s.selectedItems,v=s.filterValue,P=Object(m.useSelector)((function(e){var t=e.portfolioReducer,r=t.portfolioItems,o=r.data,n=r.meta,a=t.selectedPortfolio;return{data:o,meta:n,name:a.name,description:a.description,userCapabilities:a.metadata.user_capabilities}})),O=P.data,E=P.meta,R=P.name,w=P.description,j=P.userCapabilities,D=Object(f.i)(U.u).url,S=Object(M.a)(["portfolio"]),T=c()(S,1)[0].portfolio,I=Object(m.useDispatch)(),q=O.map((function(e){return p.a.createElement(B.a,i()({key:e.id},e,{pathname:"".concat(D,"/portfolio-item"),searchParams:{source:e.service_offering_source_ref,"portfolio-item":e.id},preserveSearch:!0,isSelectable:j.update,onSelect:function(e){return a({type:"selectItem",payload:e})},isSelected:g.includes(e.id),removeInProgress:u}))}));return p.a.createElement(l.Fragment,null,p.a.createElement(b.a,{schema:C(K(K({filterProps:{searchValue:v,onFilterChange:r,placeholder:"Filter by product"},title:R,description:w},t),{},{copyPortfolio:n,isLoading:d||h,copyInProgress:y,removeProducts:function(){return o(g)},itemsSelected:g.length>0,meta:E,fetchPortfolioItemsWithPortfolio:function(){return I(V.f.apply(void 0,arguments))},portfolioId:T,userCapabilities:j}))}),p.a.createElement(A.a,{items:q,isLoading:d||h,renderEmptyState:function(){return p.a.createElement(F,{handleFilterChange:r,meta:E,userCapabilities:j,url:t.addProductsRoute})}}),E.count>0&&p.a.createElement(G.a,null,p.a.createElement(k.a,{dropDirection:"up",meta:E,apiProps:T,apiRequest:function(){return I(V.f.apply(void 0,arguments))}})))};W.propTypes={routes:d.a.shape({addProductsRoute:d.a.string.isRequired,portfolioRoute:d.a.string.isRequired}).isRequired,handleFilterChange:d.a.func.isRequired,removeProducts:d.a.func.isRequired,copyPortfolio:d.a.func.isRequired,stateDispatch:d.a.func.isRequired,state:d.a.shape({removeInProgress:d.a.bool,isFetching:d.a.bool,isFiltering:d.a.bool,copyInProgress:d.a.bool,selectedItems:d.a.arrayOf(d.a.string),filterValue:d.a.string}).isRequired};t.default=W}}]);
//# sourceMappingURL=../sourcemaps/51.js.map