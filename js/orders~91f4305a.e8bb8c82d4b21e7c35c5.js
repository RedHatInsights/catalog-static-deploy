(window.webpackJsonp=window.webpackJsonp||[]).push([[52,11],{609:function(e,t,r){"use strict";var n=r(107),a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};t.a=function(e){var t=void 0===e?{}:e,r=t.removeSearch,o=t.keepHash,i=Object(n.g)();return a(a({},i),{push:function(e){var t=e;return o&&i.location.hash.length>0&&(t="object"==typeof t?a(a({},t),{hash:i.location.hash}):""+t+i.location.hash),r?i.push(function(e){return"string"==typeof e?e.split("?")[0]:"object"==typeof e?a(a({},e),{search:void 0}):e}(t)):i.push(t)}})}},611:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(240),i=r(164),s=r(37),l=function(){return(l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};t.a=function(e){var t=e.meta,r=t.limit,n=void 0===r?50:r,u=t.count,d=void 0===u?0:u,f=t.offset,p=void 0===f?0:f,m=e.apiProps,y=e.apiRequest,v=e.className,g=void 0===v?"":v,h=e.isCompact,b=void 0!==h&&h,O=c(e,["meta","apiProps","apiRequest","className","isCompact"]);return a.a.createElement("div",{className:g},a.a.createElement(i.a,l({perPage:n||50,itemCount:d||0,onPerPageSelect:function(e,t){return y(m,{offset:p,limit:t})},page:Object(s.b)(n,p),onSetPage:function(e,t,r){var a={offset:Object(s.c)(t,n),limit:n},i=function(){return y(m,a)};return r?Object(o.a)(i,250)():i()},dropDirection:"down",isCompact:b},O)))}},613:function(e,t,r){"use strict";var n=r(29),a=Object(n.b)({noItems:{id:"common.filtering.noItems",defaultMessage:"No items found"},filterByProduct:{id:"common.filtering.filterByProduct",defaultMessage:"Filter by product"},noResults:{id:"common.filtering.noResults",defaultMessage:"No results found"},noResultsDescription:{id:"common.filtering.noResultsDescription",defaultMessage:"No results match the filter criteria. Remove all filters or clear all filters to show results."},clearFilters:{id:"common.filtering.clear-filters",defaultMessage:"Clear all filters"},noProducts:{id:"common.filtering.no-products",defaultMessage:"No products yet"},noRecords:{id:"commonMessages.noRecords",defaultMessage:"No records"},filterByTitle:{id:"tableToolbar.filterByTitle",defaultMessage:"Filter by {title}"},noResultsFound:{id:"tableToolbar.noResultsFound",defaultMessage:"No results found"},noResult:{id:"tableToolbar.noResult",defaultMessage:"No {results}"},unknown:{id:"commonMessages.unknown",defaultMessage:"Unknown"}});t.a=a},614:function(e,t,r){"use strict";r.d(t,"b",(function(){return A}));var n,a,o,i,s,l=r(0),c=r.n(l),u=r(5),d=r.n(u),f=r(67),p=r(927),m=r(824),y=r(194),v=r(223),g=r(191),h=r(30),b=r(323),O=r(765),E=r(764),_=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},j=function(){return(j=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},w=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},P=h.b.div(n||(n=_(["\n  position: relative;\n  width: 300px;\n  height: 36px;\n"],["\n  position: relative;\n  width: 300px;\n  height: 36px;\n"]))),I=Object(h.b)(E.a)(a||(a=_(["\n  position: absolute;\n  width: 300px;\n  padding-right: 34px;\n  background: transparent;\n"],["\n  position: absolute;\n  width: 300px;\n  padding-right: 34px;\n  background: transparent;\n"]))),M=h.b.span(o||(o=_(["\n  position: absolute;\n  right: 8px;\n  top: 8px;\n"],["\n  position: absolute;\n  right: 8px;\n  top: 8px;\n"]))),T=Object(h.b)(b.a)(i||(i=_(["\n  z-index: 1000;\n  fill: #72767b;\n  :hover {\n    fill: var(--pf-global--Color--100);\n    cursor: pointer;\n  }\n"],["\n  z-index: 1000;\n  fill: #72767b;\n  :hover {\n    fill: var(--pf-global--Color--100);\n    cursor: pointer;\n  }\n"]))),F=Object(h.b)(O.a)(s||(s=_(["\n  z-index: 1000;\n  fill: #72767b;\n"],["\n  z-index: 1000;\n  fill: #72767b;\n"]))),x=function(e){var t=e.searchValue,r=void 0===t?"":t,n=e.onFilterChange,a=e.placeholder,o=e.isClearable,i=void 0!==o&&o,s=w(e,["searchValue","onFilterChange","placeholder","isClearable"]);return c.a.createElement(y.a,null,c.a.createElement(P,null,c.a.createElement(I,j({id:"toolbar-filter",placeholder:a,value:r,type:"text",onChange:n,"aria-label":a},s)),c.a.createElement(M,null,i&&r&&c.a.createElement(T,{width:"16",height:"16",onClick:function(){return n("")}})||c.a.createElement(F,null))))},C=r(642),L=r(638),k=r(610),D=r(238),R=function(){return(R=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},N=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},B=function(e){var t=e.title,r=N(e,["title"]);return c.a.createElement(f.a,R({},r),t)};B.propTypes={title:d.a.string.isRequired};var S=function(e){var t=e.title,r=N(e,["title"]);return c.a.createElement(p.a,R({},r),t)};S.propTypes={title:d.a.string.isRequired};var q={TopToolbar:C.b,TopToolbarTitle:C.a,Toolbar:function(e){var t=e.children,r=N(e,["children"]);return c.a.createElement(D.a,R({className:"pf-u-p-0"},r),c.a.createElement(m.a,{className:"pf-u-pl-0"},t))},ToolbarGroup:D.b,ToolbarItem:y.a,FilterToolbarItem:x,Link:k.a,Level:v.a,LevelItem:g.a,Button:B,AppTabs:L.a,Label:S},A={TOP_TOOLBAR:"TopToolbar",TOP_TOOLBAR_TITLE:"TopToolbarTitle",TOOLBAR:"Toolbar",TOOLBAR_ITEM:"ToolbarItem",TOOLBAR_GROUP:"ToolbarGroup",FILTER_TOOLBAR_ITEM:"FilterToolbarItem",LINK:"Link",BUTTON:"Button",LEVEL:"Level",LEVEL_ITEM:"LevelItem",TABS:"AppTabs",LABEL:"Label"};t.a=q},617:function(e,t,r){"use strict";var n=r(29),a=Object(n.b)({orderedBy:{id:"orders.common.orderedBy",defaultMessage:"Ordered by {owner}"},orderedByLabel:{id:"orders.approval.orderedBy",defaultMessage:"Ordered by"},lastUpdated:{id:"orders.common.lastUpdated",defaultMessage:"Last updated"},compositeTitle:{id:"orders.common.compositeTitle",defaultMessage:"{name} - Order # {id}"},detailTitle:{id:"orders.detail.title",defaultMessage:"Order ID {id}"},orderSuccess:{id:"orders.notification.success",defaultMessage:"You can track the progress of Order # {id} in your <link>Orders</link> page."},noOrdersTitle:{id:"orders.list.empty.title",defaultMessage:"No orders"},noOrdersDescription:{id:"orders.list.empty.description",defaultMessage:"No orders have been created."},noApprovalRequests:{id:"orders.approval.no-requests",defaultMessage:"We were unable to find any approval requests for this order."},creatingApprovalRequest:{id:"orders.approval.creating",defaultMessage:"Creating approval request"},approvalTitle:{id:"orders.approval.title",defaultMessage:"Summary"},approvalDetail:{id:"orders.approval.view-detail",defaultMessage:"View this order's approval request details"},approvalCreated:{id:"orders.approval.details.created",defaultMessage:"Request created"},approvalReason:{id:"orders.approval.details.reason",defaultMessage:"Approval reason"},approvalCompleted:{id:"orders.approval.details.completed",defaultMessage:"Completed at"},orderDetails:{id:"orders.common.details",defaultMessage:"Order details"},menuApproval:{id:"orders.menu.approval",defaultMessage:"Approval"},menuProvision:{id:"orders.menu.provision",defaultMessage:"Provision"},menuLifecycle:{id:"orders.menu.lifecycle",defaultMessage:"Lifecycle"},menuSteps:{id:"orders.menu.steps",defaultMessage:"Order steps"},objectsNotFound:{id:"order.detail.not-found",defaultMessage:"The {objects} for this order {count, plural, one {is} other {are}} not available"},orderID:{id:"orders.order.detail.ID",defaultMessage:"Order ID"},orderParameters:{id:"orders.order.detail.parameters",defaultMessage:"Order parameters"},orderItemParameters:{id:"orders.order.provision.parameters",defaultMessage:"Parameters"},defaultOrderItemType:{id:"orders.order.default_type",defaultMessage:"Product"},orderProgressMessages:{id:"orders.order.detail.messages",defaultMessage:"Progress messages"},lifecycleLink:{id:"orders.order.lifecycle.link",defaultMessage:"Manage product"},cancelOrder:{id:"orders.actions.cancel",defaultMessage:"Cancel order"},reOrder:{id:"orders.actions.reorder",defaultMessage:"Reorder"},keepOrder:{id:"orders.actions.keep",defaultMessage:"Keep order"},cancelDescription:{id:"orders.cancel.description",defaultMessage:"Are you sure you want to cancel {name}?"},backToOrders:{id:"orders.toolbar.backLink",defaultMessage:"Back to orders"},orderDate:{id:"orders.approval.order-date",defaultMessage:"Order date"},approvalParameters:{id:"orders.approval.parameters",defaultMessage:"Parameters"},activity:{id:"orders.approval.activity",defaultMessage:"Activity"},artifacts:{id:"orders.artifacts",defaultMessage:"Order artifacts"},noOrderProvision:{id:"orders.provision.no-items",defaultMessage:"We were unable to find provisioning data for this order."},fetchingOrderProvision:{id:"orders.provision.fetching-provision",defaultMessage:"Retrieving order provisioning data"}});t.a=a},618:function(e,t,r){"use strict";r.d(t,"c",(function(){return g})),r.d(t,"b",(function(){return h})),r.d(t,"d",(function(){return b})),r.d(t,"a",(function(){return O})),r.d(t,"e",(function(){return E})),r.d(t,"f",(function(){return _}));var n=r(3),a=r(19),o=r(6),i=r(37),s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=Object(a.a)(),c=Object(a.b)().post,u=function(){return c(o.o+"/graphql",{query:'\nquery {\n  application_types (filter: { name: "/insights/platform/catalog" }) {\n    id\n    name\n    sources {\n      id\n      name\n      source_type_id\n    }\n  }\n}'}).then((function(e){return e.data.application_types})).then((function(e){var t,r=e[0].sources;return(t=r.map((function(e){return e.id})),l.get(o.f+"/sources?limit="+(t.length||i.a.limit)+(t.length?"&":"")+t.map((function(e){return"filter[id][]="+e})).join("&"))).then((function(e){return r.map((function(t){return s(s({},t),e.data.find((function(e){return e.id===t.id})))}))}))}))},d=function(e){return l.patch(o.f+"/sources/"+e+"/refresh")},f=function(e,t,r){var n=t?"&filter[name][contains_i]="+t:"";return e?l.get(o.f+"/sources/"+e+"/service_offerings?filter[archived_at][nil]"+n+(r?"&limit="+r.limit+"&offset="+r.offset:"")):l.get(o.f+"/service_offerings")},p=function(e,t,r){return void 0===t&&(t=""),void 0===r&&(r=i.a),e?l.get(o.f+"/sources/"+e+"/service_inventories?filter[name][contains_i]="+t+(r?"&limit="+r.limit+"&offset="+r.offset:"")):l.get(o.f+"/service_inventories?limit="+r.limit+"&offset="+r.offset)},m=function(e,t){return Promise.all([l.get(o.f+"/service_offerings/"+e),l.get(o.o+"/sources/"+t).then((function(e){return l.get(o.o+"/source_types/"+e.source_type_id).then((function(t){var r=t.icon_url;return s(s({},e),{icon_url:r})}))}))]).then((function(e){return{service:e[0],source:e[1]}}))},y=r(42),v=function(){return(v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},g=function(){return function(e){return e({type:n.n+"_PENDING"}),u().then((function(t){return e({type:n.n+"_FULFILLED",payload:t})})).catch((function(t){return e({type:n.n+"_REJECTED",payload:t})}))}},h=function(e,t,r){return{type:n.q,payload:f(e,t,r),meta:v({platformId:e,filter:t},r)}},b=function(e){return{type:n.m,payload:(t=e,l.get(o.f+"/sources/"+t))};var t},O=function(e,t,r){return{type:n.o,payload:p(e,t,r)}},E=function(e,t){return{type:n.y,payload:m(e,t)}},_=function(e){return function(t){return t({type:n.H,payload:d(e).then((function(){return t(Object(y.c)({variant:"success",title:"Success starting the platform refresh",dismissable:!0,description:"The platform refresh started successfully"}))})).catch((function(e){429===e.status?t(Object(y.c)({variant:"info",title:"Platform refresh in progress",dismissable:!0,description:"Platform refresh already running."})):t({type:n.H+"_REJECTED",payload:e})}))})}}},620:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(614),i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},l=Object(n.createContext)({}),c=function(e){var t=e.component,r=s(e,["component"]);return a.a.createElement(l.Consumer,null,(function(e){var n=e.componentMapper,o="string"==typeof t?n&&n[t]:t;return o?a.a.createElement(o,i({},r)):null}))},u=function(e){return e.map((function(e){var t=e.hidden,r=e.fields,n=e.key,o=s(e,["hidden","fields","key"]);return t?null:r?a.a.createElement(c,i({key:n},o),u(r)):a.a.createElement(c,i({key:n},o))}))};t.a=function(e){var t=e.schema,r=e.componentMapper,n=void 0===r?o.a:r;return a.a.createElement(l.Provider,{value:{render:u,componentMapper:n}},u(t.fields))}},638:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(821),i=r(766),s=r(107),l=r(609);t.a=function(e){var t=e.tabItems,r=Object(l.a)().push,n=Object(s.h)(),c=n.pathname,u=n.search,d=t.find((function(e){var t=e.name;return c.includes(t)}));return a.a.createElement(o.a,{activeKey:d?d.eventKey:0,onSelect:function(e,n){return r({pathname:t[n].name,search:u})}},t.map((function(e){return a.a.createElement(i.a,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name,disabled:e.disabled})})))}},663:function(e,t,r){"use strict";r.d(t,"b",(function(){return s}));var n=r(135),a=r(29),o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=Object(a.b)({title:{id:"common.states.title",defaultMessage:"State"},ordered:{id:"common.states.ordered",defaultMessage:"Ordered"},approvalPending:{id:"common.states.approval-pending",defaultMessage:"Approval Pending"},canceled:{id:"common.states.canceled",defaultMessage:"Canceled"},completed:{id:"common.states.completed",defaultMessage:"Completed"},failed:{id:"common.states.failed",defaultMessage:"Failed"},undecided:{id:"common.states.undecided",defaultMessage:"Undecided"},approved:{id:"common.states.approved",defaultMessage:"Approved"},denied:{id:"common.states.denied",defaultMessage:"Denied"},error:{id:"common.states.error",defaultMessage:"Error"},pending:{id:"common.states.pending",defaultMessage:"Pending"},skipped:{id:"common.states.skipped",defaultMessage:"Skipped"},started:{id:"common.states.started",defaultMessage:"Started"},notified:{id:"common.states.notified",defaultMessage:"Notified"},unknown:{id:"common.states.unknown",defaultMessage:"Unknown"}}),s=function(e){return e?e.replace(/\s/g,"").replace(/^./,(function(e){return e.toLowerCase()})):"unknown"};t.a=o(o({},i),{created:n.a.created})},668:function(e,t,r){"use strict";r.d(t,"f",(function(){return R})),r.d(t,"g",(function(){return N})),r.d(t,"a",(function(){return B})),r.d(t,"e",(function(){return S})),r.d(t,"c",(function(){return q})),r.d(t,"b",(function(){return A})),r.d(t,"d",(function(){return U}));var n=r(0),a=r.n(n),o=r(42),i=r(3),s=r(19),l=r(6),c=r(37),u=r(54),d=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))},f=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},p=Object(s.a)(),m=function(e){return d(void 0,void 0,void 0,(function(){var t,r,n,a,o;return f(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,p.get(l.e+"/order_items/?order_id="+e)];case 1:return r=i.sent(),t=r.data,[3,3];case 2:if(n=i.sent(),t=[],404!==n.status&&400!==n.status)throw n;return u.a.replace({pathname:"/404",state:{from:u.a.location}}),[3,3];case 3:return a=[],o=t.map((function(e){return p.get(l.e+"/order_items/"+e.id+"/progress_messages").then((function(t){return a.push({orderItemId:e.id||"",progressMessages:t.data}),a}))})),[4,Promise.all(o)];case 4:return i.sent(),[2,{orderItems:t,progressMessageItems:a}]}}))}))},y=function(){return(y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},v=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))},g=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},h=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},b=Object(s.c)(),O=(Object(s.d)(),Object(s.g)()),E=Object(s.a)(),_=Object(s.b)(),j=function(e){return O.listServicePlans(e)},w=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=c.a),E.get(l.e+"/orders?"+e+"&limit="+t.limit+"&offset="+t.offset).then((function(e){return(t=e.data.map((function(e){return e.id})),E.get(l.e+"/order_items?limit="+(3*t.length||c.a.limit)+(t.length?"&":"")+t.map((function(e){return"filter[order_id][]="+e})).join("&"))).then((function(t){return(r=t.data.map((function(e){return e.portfolio_item_id})),E.get(l.e+"/portfolio_items?"+r.map((function(e){return"filter[id][]="+e})).join("&"))).then((function(r){return y(y({portfolioItems:r},e),{data:e.data.map((function(e){return y(y({},e),{orderItems:t.data.filter((function(t){return t.order_id===e.id}))})}))})}));var r}));var t}))},P=function(e){if(Object.values(e).some((function(e){return!e})))return t=e.order,d(void 0,void 0,void 0,(function(){var e,r,n,a,o,i;return f(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,p.get(l.e+"/orders/"+t)];case 1:return e=s.sent(),[3,3];case 2:if(r=s.sent(),e={},404!==r.status&&400!==r.status)throw r;return u.a.replace({pathname:"/404",state:{from:u.a.location}}),[3,3];case 3:n={object:"Order item",notFound:!0},s.label=4;case 4:return s.trys.push([4,6,,7]),[4,p.get(l.e+"/order_items?order_id="+e.id)];case 5:return a=s.sent(),n=a.data[0],[3,7];case 6:return s.sent(),[3,7];case 7:o={object:"Product",notFound:!0},s.label=8;case 8:return s.trys.push([8,10,,11]),[4,p.get(l.e+"/portfolio_items/"+n.portfolio_item_id)];case 9:return o=s.sent(),[3,11];case 10:return s.sent(),[3,11];case 11:return i=[p.get(l.f+"/sources/"+o.service_offering_source_ref).catch((function(){return{object:"Platform",notFound:!0}})),p.get(l.e+"/order_items/"+n.id+"/progress_messages").catch((function(){return{object:"Messages",notFound:!0}})),p.get(l.e+"/portfolios/"+o.portfolio_id).catch((function(){return{object:"Portfolio",notFound:!0}}))],[2,Promise.all(i).then((function(t){var r=t[0],a=t[1],i=t[2];return[e,n,o,r,a,i]}))]}}))}));var t,r=[E.get(l.e+"/orders/"+e.order).catch((function(e){if(404===e.status||400===e.status)return u.a.replace({pathname:"/404",state:{from:u.a.location}});throw e})),E.get(l.e+"/order_items/"+e["order-item"]).catch((function(e){if(404===e.status||400===e.status)return{object:"Order item",notFound:!0};throw e})),E.get(l.e+"/portfolio_items/"+e["portfolio-item"]).catch((function(e){if(404===e.status||400===e.status)return{object:"Product",notFound:!0};throw e})),E.get(l.f+"/sources/"+e.platform).catch((function(e){if(404===e.status||400===e.status)return{object:"Platform",notFound:!0};throw e})),E.get(l.e+"/orders/"+e.order+"/progress_messages").catch((function(e){if(404===e.status||400===e.status)return{};throw e})),E.get(l.e+"/portfolios/"+e.portfolio).catch((function(e){if(404===e.status||400===e.status)return{object:"Portfolio",notFound:!0};throw e}))];return Promise.all(r)},I=function(e){return E.get(l.e+"/order_items/"+e+"/approval_requests").then((function(e){var t=e.data.map((function(e){var t,r,n=e.approval_request_ref;return t=n,_.post(l.b+"/graphql",{query:(r=t,'query {\n  requests(id: "'+r+'") {\n    id\n    number_of_children\n    decision\n    group_name\n    created_at\n    state\n    actions {\n      id\n      created_at\n    }\n    requests {\n      id\n      number_of_children\n      decision\n      group_name\n      state\n      parent_id\n      created_at\n      actions {\n        id\n        created_at\n      }\n    }\n  }\n}')},{"x-rh-persona":"approval/requester"}).then((function(e){var t=e.data.requests;return t&&t.length>0&&t[0].number_of_children>0?t[0].requests:t}))}));return Promise.all(t).then((function(e){var t;return{data:(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.map((function(e){var t,r=e.actions,n=h(e,["actions"]);return y(y({},n),{updated:(null==r?void 0:r.length)>0?null===(t=r.pop())||void 0===t?void 0:t.created_at:n.created_at})})))||[]}}))}))},M=r(87),T=r(14),F=r(617),x=r(28),C=function(e){var t=e.id,r=e.dispatch,n=e.portfolioItemId,i=e.portfolioId,s=e.platformId,l=e.orderItemId;return Object(x.a)()(F.a.orderSuccess,{id:t,link:function(e){return a.a.createElement(M.a,{onClick:function(){return r(Object(o.d)())},to:{pathname:T.o,search:"?order="+t+"&order-item="+l+"&portfolio-item="+n+"&platform="+s+"&portfolio="+i}},e)}})},L=r(59),k=function(){return(k=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},D=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},R=function(e){return{type:i.z,payload:j(e)}},N=function(e,t){return function(r){return r({type:i.eb,payload:(n=e,v(void 0,void 0,void 0,(function(){var e,t,r;return g(this,(function(a){switch(a.label){case 0:return s=n.service_parameters,l=s.providerControlParameters,c=h(s,["providerControlParameters"]),u=h(n,["service_parameters"]),[4,b.createOrder()];case 1:return e=a.sent(),(t={}).count=1,t=y(y(y({},t),u),{service_parameters:c,provider_control_parameters:l||{}}),[4,b.addToOrder(e.id,t)];case 2:return r=a.sent(),[2,b.submitOrder(e.id).then((function(e){return y(y({},e),{orderItem:r})}))]}}))}))).then((function(e){var n=e.id,i=e.orderItem;return r(Object(o.c)({variant:"success",title:"Your order has been accepted successfully",description:a.a.createElement(C,{id:n,dispatch:r,portfolioItemId:t.id,portfolioId:t.portfolio_id,platformId:t.service_offering_source_ref,orderItemId:i.id}),dismissable:!0}))}))});var n,s,l,c,u}},B=function(e){return function(t,r){t({type:i.e+"_PENDING"});var n=r().orderReducer.orderDetail;return function(e){return b.cancelOrder(e)}(e).then((function(){return n.order.state=L.OrderStateEnum.Canceled,n.approvalRequest&&n.approvalRequest.data.length>0&&(n.approvalRequest.data[0].state="canceled"),t({type:i.W,payload:k({},n)}),n})).then((function(e){return t(Object(o.c)({variant:"success",title:"Your order has been canceled successfully",description:"Order Order #"+e.order.id+" was canceled.",dismissable:!0}))})).then((function(){return t({type:i.e+"_FULFILLED"})})).catch((function(e){t({type:i.e+"_REJECTED",payload:e})}))}},S=function(e,t){return void 0===t&&(t=c.a),function(r){var n=Object.entries(e).filter((function(e){var t=e[1];return t&&t.length>0})).map((function(e){var t=e[0],r=e[1];return Array.isArray(r)?r.map((function(e){return"filter["+t+"][]="+e})).join("&"):"filter["+t+"][contains_i]="+r})).join("&");return t.sortBy&&(n=n+"&sort_by="+t.sortBy+":"+(t.sortDirection||"desc")),r({type:i.i+"_PENDING"}),w(n,t).then((function(a){var o=a.portfolioItems,s=D(a,["portfolioItems"]);return r({type:i.Z,payload:o}),r({type:i.i+"_FULFILLED",meta:k(k({},t),{filter:n,filters:e,storeState:!0,stateKey:"orders"}),payload:s})})).catch((function(e){return r({type:i.i+"_REJECTED",payload:e})}))}},q=function(e){return function(t){return t({type:i.W+"_PENDING"}),P(e).then((function(e){var r=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5];return t({type:i.W+"_FULFILLED",payload:{order:r,orderItem:n,portfolioItem:a,platform:o,progressMessages:s,portfolio:l}})})).catch((function(e){return t({type:i.W+"_REJECTED",payload:e})}))}},A=function(e){return function(t){return t({type:i.g+"_PENDING"}),I(e).then((function(e){return t({type:i.g+"_FULFILLED",payload:e}),e})).catch((function(e){return t({type:i.g+"_REJECTED",payload:e})}))}},U=function(e){return function(t){return t({type:i.Y+"_PENDING"}),function(e){return v(void 0,void 0,void 0,(function(){return g(this,(function(t){switch(t.label){case 0:return[4,m(e)];case 1:return[2,t.sent()]}}))}))}(e).then((function(e){var r=e.orderItems,n=e.progressMessageItems;return t({type:i.Y+"_FULFILLED",payload:{orderItems:r,progressMessageItems:n}})})).catch((function(e){return t({type:i.Y+"_REJECTED",payload:e})}))}}},723:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(160),i=r(864),s=r(865),l=r(161),c=r(162),u={Completed:{icon:a.a.createElement(o.a,null),color:"green"},"Approval Pending":{icon:a.a.createElement(i.a,null),color:"blue"},Ordered:{icon:a.a.createElement(s.a,null),color:"grey"},Failed:{icon:a.a.createElement(l.a,null),color:"red"},Canceled:{icon:a.a.createElement(c.a,null),color:"orange"},Created:{icon:a.a.createElement(s.a,null),color:"grey"},Approved:{icon:a.a.createElement(o.a,null),color:"green"},Denied:{icon:a.a.createElement(l.a,null),color:"red"},Error:{icon:a.a.createElement(l.a,null),color:"red"},Undecided:{icon:a.a.createElement(i.a,null),color:"blue"},Unknown:{icon:a.a.createElement(c.a,null),color:"grey"}};t.a=u},941:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(601),i=r(620),s=r(614),l=function(){return{fields:[{component:s.b.TOP_TOOLBAR,className:"orders pf-u-p-lg",key:"orders-toolbar",fields:[{component:s.b.TOP_TOOLBAR_TITLE,key:"orders-toolbar-title",title:"Orders",className:""}]}]}},c=r(27),u=r(575),d=r(576),f=r(580),p=r(681),m=r(748),y=r(749),v=r(750),g=r(767),h=r(67),b=r(833),O=r(577),E=r(843),_=r(866),j=r(929),w=r(765),P=r(845),I=r(772),M=r(920),T=r(925),F=r(922),x=r(668),C=r(618),L=r(113),k=r(75),D=r(927),R=r(605),N=r(634),B=r(6),S=r(610),q=r(14),A=r(663),U=r(696),G=r(723),J=function(){return(J=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},V=function(e,t,r,o){var i,s,l=e.orderItems[0]&&e.orderItems[0]||{},c=J(J(J(J({order:e.id},l.id?{"order-item":l.id}:{}),l.portfolio_item_id?{"portfolio-item":l.portfolio_item_id}:{}),t?{platform:t}:{}),r?{portfolio:r}:{}),u=Object(A.b)(e.state);return[{title:a.a.createElement(U.a,null,a.a.createElement(S.a,{pathname:q.o,searchParams:c},e.id))},{title:a.a.createElement(n.Fragment,null,a.a.createElement(N.a,{height:60,src:(i=e,s=i.orderItems,s[0]&&B.e+"/portfolio_items/"+s[0].portfolio_item_id+"/icon"),sourceId:t}))},e.orderName,e.owner,{title:a.a.createElement(k.a,{className:"pf-u-mb-0",component:k.b.small},a.a.createElement(R.a,{date:e.created_at,variant:"relative"}))},{title:a.a.createElement(k.a,{className:"pf-u-mb-0",component:k.b.small},a.a.createElement(R.a,{date:e.orderItems[0]&&e.orderItems[0].updated_at,variant:"relative"}))},{title:a.a.createElement(U.a,null,a.a.createElement(D.a,J({},G.a[e.state],{variant:"outline"}),o(A.a[u])))}]},K=r(611),z=r(154),W=r(37),Y=r(243),H=r(613),Z=r(617),Q=r(135),X=r(28),$=function(){return($=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ee=Object(z.a)((function(e,t,r,n){void 0===t&&(t=W.a),n(!0),r(Object(x.e)(e,t)).then((function(){return n(!1)}))}),1e3),te={isOpen:!1,isFetching:!0,isFiltering:!1,filterType:"state",filters:{state:[],owner:""},sortBy:{index:0,direction:P.a.desc}},re=function(e,t){switch(t.type){case"setFetching":return $($({},e),{isFetching:t.payload});case"setFilterValue":return $($({},e),{filters:(r=t.payload,n=e.filterType,a=e.filters,$($({},a),((o={})[n]=r,o)))});case"replaceFilterChip":return $($({},e),{filters:t.payload});case"setFilteringFlag":return $($({},e),{isFiltering:t.payload});case"setFilterType":return $($({},e),{filterType:t.payload});case"setSortBy":return $($({},e),{sortBy:t.payload,isFetching:!0})}var r,n,a,o;return e},ne={0:"id",3:"owner",4:"created_at",6:"state"},ae=function(){var e,t,r,o=Object(X.a)(),i=Object(c.d)(),s=Object(Y.a)(),l=Object(n.useReducer)(re,$($({},te),{filters:(null===(e=null==s?void 0:s.orders)||void 0===e?void 0:e.filters)||{state:[],owner:""},sortBy:{direction:(null===(t=null==s?void 0:s.orders)||void 0===t?void 0:t.sortDirection)||P.a.desc,index:(null===(r=null==s?void 0:s.orders)||void 0===r?void 0:r.sortIndex)||0}})),k=l[0],D=k.isFetching,R=k.isFiltering,N=k.filterType,B=k.filters,S=k.sortBy,q=l[1],U=Object(c.e)((function(e){return e.orderReducer.orders})),G=U.data,J=U.meta,z=[{title:o(Z.a.orderID)},o(Q.a.product),"",{title:o(Z.a.orderedByLabel)},{title:o(Z.a.orderDate)},o(Q.a.updated),{title:o(Q.a.status)}].map((function(e){return"object"!=typeof e||D||R||0===G.length?e:$($({},e),{transforms:[I.a]})})),W=Object(c.e)((function(e){return e.portfolioReducer.portfolioItems.data})),ae=G.map((function(e){var t=function(e,t){var r=e.orderItems,n=r[0]&&t.find((function(e){var t=e.id;return r[0].portfolio_item_id===t}));return n?{orderPlatform:n.service_offering_source_ref,orderPortfolio:n.portfolio_id}:{}}(e,W),r=t.orderPlatform,n=t.orderPortfolio,a=function(e,t){var r=e.orderItems,n=e.id,a=r[0]&&t.find((function(e){var t=e.id;return r[0].portfolio_item_id===t}));return a?a.name:"Order "+n}(e,W);return V($($({},e),{orderName:a}),r,n,o)}));Object(n.useEffect)((function(){q({type:"setFetching",payload:!0}),Promise.all([i(Object(x.e)(B,null==s?void 0:s.orders)),i(Object(C.c)())]).then((function(){return q({type:"setFetching",payload:!1})}))}),[]);var oe=function(e,t){return q({type:"setFetching",payload:!0}),i(Object(x.e)(B,$($({},t),{sortBy:ne[S.index],sortDirection:S.direction,sortIndex:S.index}))).then((function(){return q({type:"setFetching",payload:!1})})).catch((function(){return q({type:"setFetching",payload:!1})}))},ie=function(e){var t;void 0===e&&(e=""),q({type:"setFilterValue",payload:e}),ee($($({},B),((t={})[N]=e,t)),$($({},J),{sortBy:ne[S.index],sortDirection:S.direction,sortIndex:S.index,offset:0}),i,(function(e){return q({type:"setFilteringFlag",payload:e})}))},se=function(){return q({type:"replaceFilterChip",payload:te.filters}),ee(te.filters,$($({},J),{sortBy:ne[S.index],sortDirection:S.direction,sortIndex:S.index}),i,(function(e){return q({type:"setFilteringFlag",payload:e})}))};return a.a.createElement(u.a,{hasGutter:!0},a.a.createElement(d.a,null,a.a.createElement(O.a,{type:"content"},!J.noData&&a.a.createElement(E.a,{activeFiltersConfig:{filters:Object.entries(B).filter((function(e){var t=e[1];return t&&t.length>0})).map((function(e){var t=e[0],r=e[1];return{category:t,type:t,chips:Array.isArray(r)?r.map((function(e){return{name:e}})):[{name:r}]}})),onDelete:function(e,t,r){var n=t[0];if(r)return se();var a=$({},B);"state"===n.type?a[n.type]=a[n.type].filter((function(e){var t;return e!==(null===(t=null==n?void 0:n.chips)||void 0===t?void 0:t[0].name)})):a[n.type]="",q({type:"replaceFilterChip",payload:a}),ee(a,J,i,(function(e){return q({type:"setFilteringFlag",payload:e})}))}},filterConfig:{onChange:function(e,t){return q({type:"setFilterType",payload:t})},value:N,items:[{filterValues:{items:[{value:"Approval Pending",label:o(A.a.approvalPending)},{value:"Canceled",label:o(A.a.canceled)},{value:"Completed",label:o(A.a.completed)},{value:"Created",label:o(Q.a.created)},{value:"Failed",label:o(A.a.failed)},{value:"Ordered",label:o(A.a.ordered)}],value:B.state,onChange:function(e,t){return ie(t)}},label:"State",value:"state",type:"checkbox"},{filterValues:{value:B.owner,onChange:function(e,t){return ie(t)}},label:"Owner",value:"owner"}]},pagination:a.a.createElement(K.a,{isDisabled:D||R,apiRequest:oe,meta:J,isCompact:!0})}),a.a.createElement(M.a,$({"aria-label":"orders"},D||R||0!==G.length?{sortBy:S,onSort:function(e,t,r){return q({type:"setSortBy",payload:{index:t,direction:r}}),i(Object(x.e)(B,$($({},J),{sortBy:ne[t],sortDirection:r,sortIndex:t}))).then((function(){return q({type:"setFetching",payload:!1})}))}}:{},{cells:z,rows:D||R?[]:ae,className:"orders-table"}),a.a.createElement(T.a,null),a.a.createElement(F.a,null)),!(D||R)&&0===G.length&&a.a.createElement(_.a,null,a.a.createElement(f.a,null,a.a.createElement(p.a,null,a.a.createElement(f.a,null,a.a.createElement(m.a,{icon:w.a})),a.a.createElement(y.a,{headingLevel:"h1",size:"lg"},J.noData?o(Z.a.noOrdersTitle):o(H.a.noResults)),a.a.createElement(v.a,null,J.noData?o(Z.a.noOrdersDescription):o(H.a.noResultsDescription)),!J.noData&&a.a.createElement(g.a,null,a.a.createElement(h.a,{ouiaId:"clear-filter",variant:"link",onClick:se},o(H.a.clearFilters)))))),(D||R)&&a.a.createElement(L.e,null),a.a.createElement(j.a,{className:"pf-u-mr-0"},a.a.createElement("div",{className:"bottom-pagination-container"},a.a.createElement(b.a,{justifyContent:{default:"justifyContentFlexEnd"}},J&&J.count>0&&a.a.createElement(K.a,{className:"pf-u-mt-0",isDisabled:D||R,apiRequest:oe,meta:J})))))))};t.default=function(){return Object(n.useEffect)((function(){window.insights.chrome.appNavClick({id:"orders",secondaryNav:!0})}),[]),a.a.createElement(o.a,null,a.a.createElement(i.a,{schema:l()}),a.a.createElement(ae,null))}}}]);
//# sourceMappingURL=../sourcemaps/orders~91f4305a.js.map