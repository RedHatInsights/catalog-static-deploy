(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{1043:function(e,t,r){"use strict";r.r(t);var o=r(164),a=r.n(o),n=r(652),i=r.n(n),c=r(118),l=r.n(c),s=r(0),p=r.n(s),d=r(16),u=r.n(d),f=r(97),m=r(21),b=r(644),h=r(694),y=r.n(h),O=r(334),g=r(63),v=r(346),P=r(335),k=r(629),j=r(856),E=r(642),C=r(623),w=r(822),_=r(20),R=r(44),I=r(9);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=function(e){var t=e.editPortfolioRoute,r=e.workflowPortfolioRoute,o=e.removePortfolioRoute,a=e.copyInProgress,n=e.copyPortfolio,i=e.userCapabilities,c=i.copy,d=i.destroy,u=i.update,f=i.set_approval,m=e.canLinkOrderProcesses,b=Object(s.useState)(!1),h=l()(b,2),y=h[0],k=h[1],j=Object(_.a)(),E=[];if(u&&E.push(p.a.createElement(P.DropdownItem,{"aria-label":"Edit Portfolio",key:"edit-portfolio",id:"edit-portfolio",component:p.a.createElement(C.a,{id:"edit-portfolio",preserveSearch:!0,pathname:t},"Edit"),role:"link"})),c&&E.push(p.a.createElement(P.DropdownItem,{component:"button","aria-label":"Copy Portfolio",key:"copy-portfolio",id:"copy-portfolio",onClick:n},"Copy")),f&&E.push(p.a.createElement(P.DropdownItem,{"aria-label":"Set approval workflow",key:"set-approval-portfolio-action",id:"set-approval-portfolio-action",component:p.a.createElement(C.a,{preserveSearch:!0,pathname:r},"Set approval"),role:"link"})),u&&m){var w=j(R.a.setOrderProcess);E.push(p.a.createElement(P.DropdownItem,{"aria-label":w,key:"attach-order-processes",id:"attach-order-processes",component:p.a.createElement(C.a,{preserveSearch:!0,pathname:I.h},w),role:"link"}))}return d&&E.push(p.a.createElement(P.DropdownItem,{"aria-label":"Remove Portfolio",key:"delete-portfolio",id:"delete-portfolio",component:p.a.createElement(C.a,{preserveSearch:!0,pathname:o},"Delete"),role:"link",className:"pf-c-dropdown__menu-item"})),0===E.length?null:p.a.createElement(O.Dropdown,{className:"pf-u-ml-md",onSelect:function(){return k(!1)},position:g.DropdownPosition.right,toggle:p.a.createElement(v.KebabToggle,{id:"toggle-portfolio-actions",onToggle:k,isDisabled:a}),isOpen:y,isPlain:!0,dropdownItems:E})};N.propTypes={removePortfolioRoute:u.a.string.isRequired,editPortfolioRoute:u.a.string.isRequired,workflowPortfolioRoute:u.a.string.isRequired,copyPortfolio:u.a.func.isRequired,copyInProgress:u.a.bool,userCapabilities:u.a.shape({copy:u.a.bool,update:u.a.bool,destroy:u.a.bool,set_approval:u.a.bool}).isRequired,canLinkOrderProcesses:u.a.bool};var L=function(e){var t=e.title,r=e.addProductsRoute,o=e.copyPortfolio,a=e.sharePortfolioRoute,n=e.editPortfolioRoute,i=e.workflowPortfolioRoute,c=e.removePortfolioRoute,l=e.copyInProgress,s=e.isLoading,p=e.removeProducts,d=e.itemsSelected,u=e.meta,f=e.fetchPortfolioItemsWithPortfolio,m=e.portfolioId,b=e.description,h=e.fromProducts,O=e.filterProps,g=O.searchValue,v=O.onFilterChange,P=O.placeholder,C=e.userCapabilities,_=C.share,R=C.unshare,I=y()(C,["share","unshare"]),D=e.canLinkOrderProcesses;return{fields:[{component:k.b.TOP_TOOLBAR,breadcrumbs:!h,key:"portfolio-top-toolbar",fields:[{key:"back-to-products",hidden:!h,component:w.a},{component:k.b.TOP_TOOLBAR_TITLE,key:"portfolio-toolbar-title",noData:u.noData,title:t,description:b,fields:[{component:k.b.TOOLBAR,key:"portfolio-actions",noWrap:!0,fields:[Object(j.a)({pathname:a,preserveSearch:!0,variant:"secondary",title:"Share",isDisabled:l,key:"portfolio-share-button",id:"portfolio-share-button",hidden:!_&&!R}),{component:k.b.TOOLBAR_ITEM,key:"portfolio-actions-dropdown-item",fields:[{component:N,editPortfolioRoute:n,workflowPortfolioRoute:i,removePortfolioRoute:c,copyPortfolio:o,copyInProgress:l,userCapabilities:I,canLinkOrderProcesses:D,key:"portfolio-actions-dropdown"}]}]}]},{component:k.b.LEVEL,key:"portfolio-items-actions",fields:u.noData?[]:[{component:k.b.TOOLBAR,key:"portfolio-items-actions",fields:[{groupName:"filter-portfolio-items",component:k.b.FILTER_TOOLBAR_ITEM,isClearable:!0,key:"portfolio-items-filter",searchValue:g,onFilterChange:v,placeholder:P},S({hidden:0===u.count||!I.update,groupName:"add-portfolio-items",key:"portfolio-items-add-group"},Object(j.a)({preserveSearch:!0,pathname:r,isDisabled:s||l,variant:"primary",title:"Add",id:"add-products-button",key:"add-products-button"})),{component:k.b.TOOLBAR_ITEM,key:"remove-products-item",hidden:0===u.count||!I.update,fields:[{component:k.b.BUTTON,groupName:"remove-portfolio-items",variant:"link",title:"Remove",key:"remove-products-button",id:"remove-products-button",isDisabled:!d,onClick:p}]}]},{component:k.b.LEVEL_ITEM,key:"pagination-item",fields:u.count>0?[{component:E.a,key:"portfolio-items-pagination",meta:u,apiRequest:f,apiProps:m,isCompact:!0}]:[]}]}]}]}},T=r(626),F=r.n(T),q=r(746),B=r.n(q),x=r(676),M=r(162),A=r(630),V=r(54),W=function(e){var t=e.url,r=e.handleFilterChange,o=e.meta,a=e.userCapabilities.update,n=Object(_.a)(),i={PrimaryAction:o.noData?function(){return p.a.createElement(x.a,{url:t,label:n(V.a.addProducts),id:"add-products-to-portfolio",hasPermission:a})}:function(){return p.a.createElement(M.Button,{id:"clear-portfolio-filter",variant:"link",onClick:function(){return r("")}},n(A.a.clearFilters))},title:o.noData?n(A.a.noProducts):n(A.a.noResults),description:o.noData?n(V.a.emptyNoProducts):n(A.a.noResultsDescription),Icon:o.noData?B.a:F.a};return p.a.createElement(x.b,i)};W.propTypes={url:u.a.string.isRequired,handleFilterChange:u.a.func.isRequired,meta:u.a.shape({noData:u.a.bool}).isRequired,userCapabilities:u.a.shape({update:u.a.bool}).isRequired};var H=W,U=r(729),z=r(828),J=r(165),K=r(646),G=r(98),Q=r(134),X=r(119);function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $=function(e){var t=e.routes,r=e.handleFilterChange,o=e.removeProducts,a=e.copyPortfolio,n=e.stateDispatch,c=e.fromProducts,d=e.state,u=d.removeInProgress,h=d.isFetching,y=d.isFiltering,O=d.copyInProgress,g=d.selectedItems,v=d.filterValue,P=Object(_.a)(),k=Object(m.useSelector)((function(e){var t=e.portfolioReducer,r=t.portfolioItems,o=r.data,a=r.meta,n=t.selectedPortfolio;return{data:o,meta:a,name:n.name,description:n.description,userCapabilities:n.metadata.user_capabilities}})),j=k.data,C=k.meta,w=k.name,R=k.description,D=k.userCapabilities,S=Object(f.i)(I.y).url,N=Object(G.a)(["portfolio"]),T=l()(N,1)[0].portfolio,F=Object(m.useDispatch)(),q=Object(s.useContext)(Q.a).permissions,B=Object(X.b)(q,["catalog:order_processes:link"]),x=j.map((function(e){return p.a.createElement(z.a,i()({key:e.id},e,{pathname:"".concat(S,"/portfolio-item"),searchParams:{source:e.service_offering_source_ref,"portfolio-item":e.id},preserveSearch:!0,isSelectable:D.update,onSelect:function(t){return n({type:"selectItem",payload:{selectedItem:t,product:e}})},isSelected:g.includes(e.id),removeInProgress:u}))}));return p.a.createElement(s.Fragment,null,p.a.createElement(b.a,{schema:L(Z(Z({fromProducts:c,filterProps:{searchValue:v,onFilterChange:r,placeholder:P(A.a.filterByProduct)},title:w,description:R},t),{},{copyPortfolio:a,isLoading:h||y,copyInProgress:O,removeProducts:function(){return o(g)},itemsSelected:g.length>0,meta:C,fetchPortfolioItemsWithPortfolio:function(){return F(J.f.apply(void 0,arguments))},portfolioId:T,userCapabilities:D,canLinkOrderProcesses:B}))}),p.a.createElement(U.a,{items:x,isLoading:h||y,renderEmptyState:function(){return p.a.createElement(H,{handleFilterChange:r,meta:C,userCapabilities:D,url:t.addProductsRoute})}}),C.count>0&&p.a.createElement(K.a,null,p.a.createElement(E.a,{dropDirection:"up",meta:C,apiProps:T,apiRequest:function(){return F(J.f.apply(void 0,arguments))}})))};$.propTypes={routes:u.a.shape({addProductsRoute:u.a.string.isRequired,portfolioRoute:u.a.string.isRequired}).isRequired,handleFilterChange:u.a.func.isRequired,removeProducts:u.a.func.isRequired,copyPortfolio:u.a.func.isRequired,stateDispatch:u.a.func.isRequired,state:u.a.shape({removeInProgress:u.a.bool,isFetching:u.a.bool,isFiltering:u.a.bool,copyInProgress:u.a.bool,selectedItems:u.a.arrayOf(u.a.string),filterValue:u.a.string}).isRequired,fromProducts:u.a.bool};t.default=$},646:function(e,t,r){"use strict";var o=r(0),a=r.n(o),n=r(699),i=function(){return(i=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(r[o[a]]=e[o[a]])}return r};t.a=function(e){var t=e.children,r=e.className,o=c(e,["children","className"]);return a.a.createElement("div",i({className:Object(n.a)("pf-u-p-lg pf-u-pt-md pf-u-pb-md global-primary-background pf-u-mt-auto",r)},o),t)}},694:function(e,t,r){var o=r(809);e.exports=function(e,t){if(null==e)return{};var r,a,n=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}},696:function(e,t,r){"use strict";var o=r(0),a=r.n(o),n=r(333),i=r(160),c=r(743),l=r(744),s=r(725),p=r(726),d=function(){return(d=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(r[o[a]]=e[o[a]])}return r};t.a=function(e){var t=e.name,r=e.distributor,f=e.pathname,m=e.searchParams,b=e.preserveSearch,h=e.portfolioName,y=u(e,["name","distributor","pathname","searchParams","preserveSearch","portfolioName"]);return a.a.createElement(p.a,null,a.a.createElement(n.a,null,a.a.createElement(l.a,{pathname:f,searchParams:m,preserveSearch:b},a.a.createElement(i.a,{component:i.b.h3,title:t},a.a.createElement(s.a,null,t))),r&&a.a.createElement(i.a,{component:i.b.small},r),h&&a.a.createElement(o.Fragment,null,a.a.createElement(i.a,{className:"pf-u-mb-0",component:"small"},"Portfolio"),a.a.createElement(i.a,null,h))),a.a.createElement(c.a,d({toDisplay:[y.description?"description":"long_description"]},y)))}},723:function(e,t,r){"use strict";var o=r(0),a=r.n(o),n=r(1),i=r(344),c=r.n(i),l=r(2);const s=()=>{};class p extends o.Component{constructor(e){super(e),this.handleChange=e=>{this.props.onChange(e.currentTarget.checked,e)}}render(){const e=this.props,{"aria-label":t,className:r,onChange:a,isValid:i,isDisabled:p,isChecked:d,label:u,checked:f,defaultChecked:m,description:b}=e,h=Object(n.__rest)(e,["aria-label","className","onChange","isValid","isDisabled","isChecked","label","checked","defaultChecked","description"]),y={};return([!0,!1].includes(f)||!0===d)&&(y.checked=f||d),a!==s&&(y.checked=d),[!1,!0].includes(m)&&(y.defaultChecked=m),y.checked=null!==y.checked&&y.checked,o.createElement("div",{className:Object(l.css)(c.a.check,r)},o.createElement("input",Object.assign({},h,{className:Object(l.css)(c.a.checkInput),type:"checkbox",onChange:this.handleChange,"aria-invalid":!i,"aria-label":t,disabled:p,ref:e=>e&&(e.indeterminate=null===d)},y)),u&&o.createElement("label",{className:Object(l.css)(c.a.checkLabel,p&&c.a.modifiers.disabled),htmlFor:h.id},u),b&&o.createElement("div",{className:Object(l.css)(c.a.checkDescription)},b))}}p.displayName="Checkbox",p.defaultProps={className:"",isValid:!0,isDisabled:!1,isChecked:!1,onChange:s};t.a=function(e){var t=e.handleCheck,r=e.isChecked,o=e.id;return a.a.createElement(p,{onClick:function(e){return e.stopPropagation()},isChecked:r,onChange:t,"aria-label":"card checkbox",id:o})}},745:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CardHeader=void 0;const o=r(1),a=o.__importStar(r(0)),n=r(2),i=o.__importDefault(r(53));t.CardHeader=e=>{var{children:t=null,className:r=""}=e,c=o.__rest(e,["children","className"]);return a.createElement("div",Object.assign({className:n.css(i.default.cardHeader,r)},c),t)},t.CardHeader.displayName="CardHeader"},746:function(e,t,r){"use strict";t.__esModule=!0,t.WrenchIconConfig={name:"WrenchIcon",height:512,width:512,svgPath:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z",yOffset:0,xOffset:0},t.WrenchIcon=r(26).createIcon(t.WrenchIconConfig),t.default=t.WrenchIcon},809:function(e,t){e.exports=function(e,t){if(null==e)return{};var r,o,a={},n=Object.keys(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||(a[r]=e[r]);return a}},828:function(e,t,r){"use strict";var o=r(232),a=r.n(o),n=r(0),i=r.n(n),c=r(16),l=r.n(c),s=r(745),p=r(829),d=r(349),u=r(830),f=r(5),m=r(657),b=r(723),h=r(696),y=r(727),O=r(23),g=r(20),v=r(117);function P(){var e=a()(["\n  flex: 1;\n"]);return P=function(){return e},e}var k=Object(O.b)(d.Level)(P()),j=function(e){var t,r,o=Object(g.a)();return i.a.createElement(y.b,{isDisabled:e.removeInProgress&&e.isSelected},i.a.createElement(y.a,{ouiaId:"portfolio-item-".concat(e.id)},i.a.createElement(s.CardHeader,null,i.a.createElement(k,null,i.a.createElement(m.a,{src:"".concat(f.e,"/portfolio_items/").concat(e.id,"/icon"),sourceId:e.service_offering_source_ref}),e.isSelectable&&i.a.createElement(b.a,{handleCheck:function(){return e.onSelect(e.id)},isChecked:e.isSelected,id:e.id}))),i.a.createElement(h.a,e),i.a.createElement(p.CardFooter,null,(null===(t=e.metadata)||void 0===t||null===(r=t.statistics)||void 0===r?void 0:r.approval_processes)>0?i.a.createElement(u.Label,{variant:"filled",color:"grey"},o(v.a.approvalProcessSet)):"")))};j.propTypes={id:l.a.string,platformId:l.a.string,service_offering_source_ref:l.a.string,isSelectable:l.a.bool,isSelected:l.a.bool,onSelect:l.a.func,orderUrl:l.a.string,removeInProgress:l.a.bool,portfolio_id:l.a.string,metadata:l.a.shape({user_capabilities:l.a.shape({destroy:l.a.bool}).isRequired}).isRequired},t.a=j},829:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CardFooter=void 0;const o=r(1),a=o.__importStar(r(0)),n=o.__importDefault(r(53)),i=r(2);t.CardFooter=e=>{var{children:t=null,className:r="",component:c="div"}=e,l=o.__rest(e,["children","className","component"]);const s=c;return a.createElement(s,Object.assign({className:i.css(n.default.cardFooter,r)},l),t)},t.CardFooter.displayName="CardFooter"},830:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Label=void 0;const o=r(1),a=o.__importStar(r(0)),n=o.__importDefault(r(671)),i=r(213),c=r(2),l=o.__importDefault(r(342)),s={blue:n.default.modifiers.blue,cyan:n.default.modifiers.cyan,green:n.default.modifiers.green,orange:n.default.modifiers.orange,purple:n.default.modifiers.purple,red:n.default.modifiers.red,grey:""};t.Label=e=>{var{children:t,className:r="",color:p="grey",variant:d="filled",isTruncated:u=!1,icon:f,onClose:m,closeBtn:b,closeBtnProps:h,href:y,isOverflowLabel:O,render:g}=e,v=o.__rest(e,["children","className","color","variant","isTruncated","icon","onClose","closeBtn","closeBtnProps","href","isOverflowLabel","render"]);const P=O?"button":"span",k=y?"a":"span",j=b||a.createElement(i.Button,Object.assign({type:"button",variant:"plain",onClick:m},Object.assign({"aria-label":"label-close-button"},h)),a.createElement(l.default,null)),E=a.createElement(a.Fragment,null,f&&a.createElement("span",{className:c.css(n.default.labelIcon)},f),u&&a.createElement("span",{className:c.css(n.default.labelText)},t),!u&&t);return a.createElement(P,Object.assign({},v,{className:c.css(n.default.label,s[p],"outline"===d&&n.default.modifiers.outline,O&&n.default.modifiers.overflow,r)}),g?g({className:n.default.labelContent,content:E}):a.createElement(k,Object.assign({className:c.css(n.default.labelContent)},y&&{href:y}),E),m&&j)},t.Label.displayName="Label"},856:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var o=r(164),a=r.n(o),n=r(694),i=r.n(n),c=r(629);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.pathname,r=e.preserveSearch,o=e.id,a=i()(e,["pathname","preserveSearch","id"]);return{component:c.b.TOOLBAR_ITEM,key:"".concat(a.key,"/button-link"),fields:[{component:c.b.LINK,pathname:t,preserveSearch:r,key:"".concat(a.key,"/button-link"),isDisabled:a.isDisabled,id:o,fields:[s({component:c.b.BUTTON},a)]}]}}}}]);
//# sourceMappingURL=../sourcemaps/70.js.map