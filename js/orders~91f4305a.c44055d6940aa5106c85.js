(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{431:function(e,t,r){"use strict";var a=r(432);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(a.a)(e,t,r)}},433:function(e,t,r){"use strict";var a=r(89),n=r.n(a),o=r(29),i=r.n(o),s=r(0),c=r.n(s),l=r(12),d=r.n(l),u=r(432),p=r(211),f=r(23),m=function(e){var t=e.meta,r=t.limit,a=t.count,o=t.offset,s=e.apiProps,l=e.apiRequest,d=e.className,m=e.isCompact,g=i()(e,["meta","apiProps","apiRequest","className","isCompact"]);return c.a.createElement("div",{className:d},c.a.createElement(p.Pagination,n()({perPage:r||50,itemCount:a||0,onPerPageSelect:function(e,t){return l(s,{offset:o,limit:t})},page:Object(f.b)(r,o),onSetPage:function(e,t,a){var n={offset:Object(f.c)(t,r),limit:r},o=function(){return l(s,n)};return a?Object(u.a)(o,250)():o()},direction:"down",isCompact:m},g)))};m.propTypes={meta:d.a.shape({count:d.a.number,limit:d.a.number.isRequired,offset:d.a.number.isRequired}),apiRequest:d.a.func.isRequired,apiProps:d.a.any,className:d.a.string,isCompact:d.a.bool},m.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1},t.a=m},434:function(e,t,r){"use strict";var a=r(49),n=Object(a.defineMessages)({shared:{id:"common.labels.shared",defaultMessage:"Shared"},portfolio:{id:"common.labels.portfolio",defaultMessage:"Portfolio"},platform:{id:"common.labels.platform",defaultMessage:"Platform"},name:{id:"common.labels.name",defaultMessage:"Name"},description:{id:"common.labels.description",defaultMessage:"Description"},loading:{id:"common.labels.loading",defaultMessage:"Loading"},cancel:{id:"common.labels.cancel",defaultMessage:"Cancel"},save:{id:"common.labels.save",defaultMessage:"Save"},confirm:{id:"common.labels.confirm",defaultMessage:"Confirm"},create:{id:"common.labels.create",defaultMessage:"Create"},owner:{id:"common.labels.owner",defaultMessage:"Owner"},sortBy:{id:"common.labels.sort-by",defaultMessage:"Sort by"},updated:{id:"common.labels.updated",defaultMessage:"Updated"},created:{id:"common.states.created",defaultMessage:"Created"}});t.a=n},438:function(e,t,r){"use strict";var a=(0,r(49).defineMessages)({noItems:{id:"common.filtering.noItems",defaultMessage:"No items found"},filterByProduct:{id:"common.filtering.filterByProduct",defaultMessage:"Filter by product"},noResults:{id:"common.filtering.noResults",defaultMessage:"No results found"},noResultsDescription:{id:"common.filtering.noResultsDescription",defaultMessage:"No results match the filter criteria. Remove all filters or clear all filters to show results."},clearFilters:{id:"common.filtering.clear-filters",defaultMessage:"Clear all filters"},noProducts:{id:"common.filtering.no-products",defaultMessage:"No products yet"},noRecords:{id:"commonMessages.noRecords",defaultMessage:"No records"},filterByTitle:{id:"tableToolbar.filterByTitle",defaultMessage:"Filter by {title}"},noResultsFound:{id:"tableToolbar.noResultsFound",defaultMessage:"No results found"},noResult:{id:"tableToolbar.noResult",defaultMessage:"No {results}"},unknown:{id:"commonMessages.unknown",defaultMessage:"Unknown"}});t.a=a},439:function(e,t,r){"use strict";var a=(0,r(49).defineMessages)({orderedBy:{id:"orders.common.orderedBy",defaultMessage:"Ordered by {owner}"},orderedByLabel:{id:"orders.approval.orderedBy",defaultMessage:"Ordered by"},lastUpdated:{id:"orders.common.lastUpdated",defaultMessage:"Last updated"},compositeTitle:{id:"orders.common.compositeTitle",defaultMessage:"{name} - Order # {id}"},detailTitle:{id:"orders.detail.title",defaultMessage:"Order ID {id}"},orderSuccess:{id:"orders.notification.success",defaultMessage:"You can track the progress of Order # {id} in your <link>Orders</link> page."},noOrdersTitle:{id:"orders.list.empty.title",defaultMessage:"No orders"},noOrdersDescription:{id:"orders.list.empty.description",defaultMessage:"No orders have been created."},noApprovalRequests:{id:"orders.approval.no-requests",defaultMessage:"We were unable to find any approval requests for this order."},creatingApprovalRequest:{id:"orders.approval.creating",defaultMessage:"Creating approval request"},approvalTitle:{id:"orders.approval.title",defaultMessage:"Summary"},approvalDetail:{id:"orders.approval.view-detail",defaultMessage:"View this order's approval request details"},approvalCreated:{id:"orders.approval.details.created",defaultMessage:"Request created"},approvalReason:{id:"orders.approval.details.reason",defaultMessage:"Approval reason"},approvalCompleted:{id:"orders.approval.details.completed",defaultMessage:"Completed at"},orderDetails:{id:"orders.common.details",defaultMessage:"Order details"},menuApproval:{id:"orders.menu.approval",defaultMessage:"Approval"},menuLifecycle:{id:"orders.menu.lifecycle",defaultMessage:"Lifecycle"},menuSteps:{id:"orders.menu.steps",defaultMessage:"Order steps"},objectsNotFound:{id:"order.detail.not-found",defaultMessage:"The {objects} for this order {count, plural, one {is} other {are}} not available"},orderID:{id:"orders.order.detail.ID",defaultMessage:"Order ID"},orderParameters:{id:"orders.order.detail.parameters",defaultMessage:"Order parameters"},orderProgressMessages:{id:"orders.order.detail.messages",defaultMessage:"Progress messages"},lifecycleLink:{id:"orders.order.lifecicle.link",defaultMessage:"Manage product"},cancelOrder:{id:"orders.actions.cancel",defaultMessage:"Cancel order"},keepOrder:{id:"orders.actions.keep",defaultMessage:"Keep order"},cancelDescription:{id:"orders.cancel.description",defaultMessage:"Are you sure you want to cancel {name}?"},backToOrders:{id:"orders.toolbar.backLink",defaultMessage:"Back to orders"},approvalProduct:{id:"orders.approval.product",defaultMessage:"Product"},orderDate:{id:"orders.approval.order-date",defaultMessage:"Order date"},approvalParameters:{id:"orders.approval.parameters",defaultMessage:"Parameters"},activity:{id:"orders.approval.activity",defaultMessage:"Activity"}});t.a=a},506:function(e,t,r){"use strict";r.d(t,"e",(function(){return V})),r.d(t,"f",(function(){return J})),r.d(t,"a",(function(){return Y})),r.d(t,"d",(function(){return K})),r.d(t,"c",(function(){return z})),r.d(t,"b",(function(){return W}));var a=r(29),n=r.n(a),o=r(22),i=r.n(o),s=r(1),c=r.n(s),l=r(0),d=r.n(l),u=r(126),p=r(2),f=r(14),m=r.n(f),g=r(27),y=r.n(g),v=r(52),b=r(8),h=r(23);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=Object(v.c)(),P=(Object(v.d)(),Object(v.f)()),M=Object(v.a)(),w=Object(v.b)();function I(e){return P.listServicePlans(e)}function F(e){return _.apply(this,arguments)}function _(){return(_=y()(m.a.mark((function e(t){var r,a,o,i,s,c,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.service_parameters,a=r.providerControlParameters,o=n()(r,["providerControlParameters"]),i=n()(t,["service_parameters"]),e.next=3,j.createOrder();case 3:return s=e.sent,(c={}).count=1,c=E(E(E({},c),i),{},{service_parameters:o,provider_control_parameters:a||{}}),e.next=9,j.addToOrder(s.id,c);case 9:return l=e.sent,e.abrupt("return",j.submitOrder(s.id).then((function(e){return E(E({},e),{},{orderItem:l})})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){return M.get("".concat(b.c,"/order_items?").concat(e.map((function(e){return"filter[order_id][]=".concat(e)})).join("&")))},R=function(e){return M.get("".concat(b.c,"/portfolio_items?").concat(e.map((function(e){return"filter[id][]=".concat(e)})).join("&")))},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a;return M.get("".concat(b.c,"/orders?").concat(e,"&limit=").concat(t.limit,"&offset=").concat(t.offset)).then((function(e){return D(e.data.map((function(e){return e.id}))).then((function(t){return R(t.data.map((function(e){return e.portfolio_item_id}))).then((function(r){return E(E({portfolioItems:r},e),{},{data:e.data.map((function(e){return E(E({},e),{},{orderItems:t.data.filter((function(t){return t.order_id===e.id}))})}))})}))}))}))};var T=function(e){return M.get("".concat(b.c,"/order_items/").concat(e,"/approval_requests")).then((function(e){var t=e.data.map((function(e){var t,r,a=e.approval_request_ref;return t=a,w.post("".concat(b.a,"/graphql"),{query:(r=t,'query {\n  requests(id: "'.concat(r,'") {\n    group_name\n    state\n    actions {\n      created_at\n    }\n  }\n}'))},{"x-rh-persona":"approval/requester"}).then((function(e){return e.data.requests}))}));return Promise.all(t).then((function(e){var t;return{data:(null==e||null===(t=e[0])||void 0===t?void 0:t.map((function(e){var t=e.actions;return E(E({},n()(e,["actions"])),{},{updated:(null==t?void 0:t.length)>0?t.pop().created_at:void 0})})))||[]}}))}))},C=r(12),k=r.n(C),q=r(51),S=r(86),L=r(11),x=r(439),A=function(e){var t=e.id,r=e.dispatch,a=e.portfolioItemId,n=e.portfolioId,o=e.platformId,i=e.orderItemId;return(0,Object(S.a)().formatMessage)(x.a.orderSuccess,{id:t,link:function(e){return d.a.createElement(q.a,{onClick:function(){return r(Object(u.clearNotifications)())},to:{pathname:L.m,search:"?order=".concat(t,"&order-item=").concat(i,"&portfolio-item=").concat(a,"&platform=").concat(o,"&portfolio=").concat(n)}},e)}})};A.propTypes={id:k.a.string.isRequired,dispatch:k.a.func.isRequired,portfolioItemId:k.a.string.isRequired,portfolioId:k.a.string.isRequired,platformId:k.a.string.isRequired,orderItemId:k.a.string.isRequired};var B=A;function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){c()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V=function(e){return{type:p.x,payload:I(e)}},J=function(e,t){return function(r){return r({type:p.X,payload:F(e).then((function(e){var a=e.id,n=e.orderItem;return r(Object(u.addNotification)({variant:"success",title:"Your order has been accepted successfully",description:d.a.createElement(B,{id:a,dispatch:r,portfolioItemId:t.id,portfolioId:t.portfolio_id,platformId:t.service_offering_source_ref,orderItemId:n.id}),dismissable:!0}))}))})}},Y=function(e){return function(t,r){t({type:"".concat(p.d,"_PENDING")});var a=r().orderReducer.orderDetail;return function(e){return j.cancelOrder(e)}(e).then((function(){return a.order.state="Canceled",a.approvalRequest&&a.approvalRequest.length>0&&(a.approvalRequest[0].state="canceled"),t({type:p.R,payload:U({},a)}),a})).then((function(e){return t(Object(u.addNotification)({variant:"success",title:"Your order has been canceled successfully",description:"Order ".concat("Order #".concat(e.order.id)," was canceled."),dismissable:!0}))})).then((function(){return t({type:"".concat(p.d,"_FULFILLED")})})).catch((function(e){t({type:"".concat(p.d,"_REJECTED"),payload:e})}))}},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a;return function(r){var a=Object.entries(e).filter((function(e){var t=i()(e,2)[1];return t&&t.length>0})).map((function(e){var t=i()(e,2),r=t[0],a=t[1];return Array.isArray(a)?a.map((function(e){return"filter[".concat(r,"][]=").concat(e)})).join("&"):"filter[".concat(r,"][contains_i]=").concat(a)})).join("&");return r({type:"".concat(p.h,"_PENDING")}),N(a,t).then((function(o){var i=o.portfolioItems,s=n()(o,["portfolioItems"]);return r({type:p.S,payload:i}),r({type:"".concat(p.h,"_FULFILLED"),meta:U(U({},t),{},{filter:a,filters:e,storeState:!0,stateKey:"orders"}),payload:s})})).catch((function(e){return r({type:"".concat(p.h,"_REJECTED"),payload:e})}))}},z=function(e){return function(t){return t({type:"".concat(p.R,"_PENDING")}),function(e){var t=[M.get("".concat(b.c,"/orders/").concat(e.order)),M.get("".concat(b.c,"/order_items/").concat(e["order-item"])).catch((function(e){if(404===e.status||400===e.status)return{object:"Order item",notFound:!0};throw e})),M.get("".concat(b.c,"/portfolio_items/").concat(e["portfolio-item"])).catch((function(e){if(404===e.status||400===e.status)return{object:"Product",notFound:!0};throw e}))];return t.push(e.platform&&"undefined"!==e.platform?M.get("".concat(b.i,"/sources/").concat(e.platform)).catch((function(e){if(404===e.status||400===e.status)return{object:"Platform",notFound:!0};throw e})):{object:"Platform",notFound:!0}),t.push(M.get("".concat(b.c,"/order_items/").concat(e["order-item"],"/progress_messages")).catch((function(e){if(404===e.status||400===e.status)return{};throw e}))),t.push(e.portfolio&&"undefined"!==e.portfolio?M.get("".concat(b.c,"/portfolios/").concat(e.portfolio)).catch((function(e){if(404===e.status||400===e.status)return{object:"Portfolio",notFound:!0};throw e})):{object:"Portfolio",notFound:!0}),Promise.all(t)}(e).then((function(e){var r=i()(e,7),a=r[0],n=r[1],o=r[2],s=r[3],c=r[4],l=r[5],d=r[6];return t({type:"".concat(p.R,"_FULFILLED"),payload:{order:a,orderItem:n,portfolioItem:o,platform:s,progressMessages:c,portfolio:l,approvalRequest:d}})})).catch((function(e){return t({type:"".concat(p.R,"_REJECTED"),payload:e})}))}},W=function(e){return function(t){return t({type:"".concat(p.f,"_PENDING")}),T(e).then((function(e){return t({type:"".concat(p.f,"_FULFILLED"),payload:e}),e})).catch((function(e){return t({type:"".concat(p.f,"_REJECTED"),payload:e})}))}}},518:function(e,t,r){"use strict";r.d(t,"b",(function(){return l}));var a=r(1),n=r.n(a),o=r(434);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=(0,r(49).defineMessages)({title:{id:"common.states.title",defaultMessage:"State"},ordered:{id:"common.states.ordered",defaultMessage:"Ordered"},approvalPending:{id:"common.states.approval-pending",defaultMessage:"Approval Pending"},canceled:{id:"common.states.canceled",defaultMessage:"Canceled"},completed:{id:"common.states.completed",defaultMessage:"Completed"},failed:{id:"common.states.failed",defaultMessage:"Failed"},undecided:{id:"common.states.undecided",defaultMessage:"Undecided"},approved:{id:"common.states.approved",defaultMessage:"Approved"},denied:{id:"common.states.denied",defaultMessage:"Denied"},error:{id:"common.states.error",defaultMessage:"Error"},pending:{id:"common.states.pending",defaultMessage:"Pending"},skipped:{id:"common.states.skipped",defaultMessage:"Skipped"},started:{id:"common.states.started",defaultMessage:"Started"},notified:{id:"common.states.notified",defaultMessage:"Notified"}}),l=function(e){return e.replace(/\s/g,"").replace(/^./,(function(e){return e.toLowerCase()}))};t.a=s(s({},c),{},{created:o.a.created})},858:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(446),i=r(468),s=r(461),c=function(){return{fields:[{component:s.b.TOP_TOOLBAR,className:"orders pf-u-p-lg",key:"orders-toolbar",fields:[{component:s.b.TOP_TOOLBAR_TITLE,key:"orders-toolbar-title",title:"Orders",className:""}]}]}},l=r(22),d=r.n(l),u=r(1),p=r.n(u),f=r(16),m=r(75),g=r(76),y=r(448),v=r(129),b=r(463),h=r(466),O=r(467),E=r(547),j=r(495),P=r(72),M=r(86),w=r(130),I=r(558),F=r(621),_=r(779),D=r(440),R=r.n(D),N=r(506),T=r(454),C=r(74),k=r(12),q=r.n(k),S=r(90),L=r(209),x=r(50),A=r(71),B=r(131),G=r(546),U=r.n(G),V=r(460),J=r(8),Y=function(e){var t=e.orderItems;return t[0]&&"".concat(J.c,"/portfolio_items/").concat(t[0].portfolio_item_id,"/icon")},K=function(e,t){var r=e.orderItems,a=e.id,n=r[0]&&t.find((function(e){var t=e.id;return r[0].portfolio_item_id===t}));return n?n.name:"Order ".concat(a)},z=r(436),W=r(11),X=r(30),H=r.n(X),Q=r(89),Z=r.n(Q),$=r(29),ee=r.n($),te=r(631),re=r(31);function ae(){var e=H()(["\n  @media screen and (min-width: 768px) {\n    vertical-align: top !important;\n    width: ",";\n    img {\n      object-fit: contain;\n    }\n  }\n"]);return ae=function(){return e},e}var ne=q.a.oneOfType([q.a.node,q.a.arrayOf(q.a.node)]),oe=function(e){var t=e.children,r=e.className,a=ee()(e,["children","className"]);return n.a.createElement("table",Z()({className:Object(te.a)("pf-c-table","pf-m-grid-md",r)},a),t)};oe.propTypes={children:ne.isRequired,className:q.a.string};var ie=function(e){var t=e.children,r=ee()(e,["children"]);return n.a.createElement("tbody",r,t)};ie.propTypes={children:ne.isRequired};var se=Object(re.b)((function(e){e.shrink;var t=e.children,r=ee()(e,["shrink","children"]);return n.a.createElement("td",r,t)}))(ae(),(function(e){return e.shrink?"200px !important":"initial"})),ce=r(518),le=r(439),de={"Approval Pending":W.k,Completed:W.l},ue=Object(a.memo)((function(e){var t=e.item,r=Object(M.a)().formatMessage,a=Object(f.useSelector)((function(e){var r,a,n,o=e.portfolioReducer.portfolioItems.data,i=(r=o,a=t.orderItems,(n=a[0]&&r.find((function(e){var t=e.id;return a[0].portfolio_item_id===t})))?{orderPlatform:n.service_offering_source_ref,orderPortfolio:n.portfolio_id}:{});return{orderPlatform:i.orderPlatform,orderPortfolio:i.orderPortfolio,orderName:K(t,o)}})),o=a.orderPlatform,i=a.orderPortfolio,s=a.orderName,c=t.orderItems[0]&&t.orderItems[0]||{},l={order:t.id,"order-item":c.id,"portfolio-item":c.portfolio_item_id,platform:o,portfolio:i},d=Object(ce.b)(t.state);return n.a.createElement("tr",{"aria-labelledby":"".concat(t.id,"-expand"),className:"data-list-expand-fix"},n.a.createElement(se,{shrink:!0,className:"pf-u-pl-xl-on-md"},n.a.createElement(V.a,{height:60,src:Y(t),sourceId:o})),n.a.createElement(se,null,n.a.createElement(A.TextContent,null,n.a.createElement(m.Grid,{hasGutter:!0,className:"pf-u-gg-md"},n.a.createElement(g.GridItem,null,n.a.createElement(S.Level,{className:"flex-no-wrap"},n.a.createElement(L.LevelItem,null,n.a.createElement(x.Text,{className:"pf-u-mb-0",component:x.TextVariants.h5},n.a.createElement(z.a,{pathname:W.m,searchParams:l},r(le.a.compositeTitle,{name:s,id:t.id})))),n.a.createElement(L.LevelItem,{className:"flex-item-no-wrap"},n.a.createElement(z.a,{pathname:de[t.state]||W.m,searchParams:l},"Failed"===t.state&&n.a.createElement(U.a,{className:"pf-u-mr-sm icon-danger-fill"}),r(ce.a[d]))))),n.a.createElement(g.GridItem,null,n.a.createElement(S.Level,null,n.a.createElement(L.LevelItem,null,n.a.createElement(x.Text,{className:"pf-u-mb-0",component:x.TextVariants.small},r(ce.a.ordered)," ",n.a.createElement(B.DateFormat,{date:t.created_at,variant:"relative"}))),n.a.createElement(L.LevelItem,null,n.a.createElement(x.Text,{className:"pf-u-mb-0",component:x.TextVariants.small},r(le.a.orderedBy,{owner:t.owner}))),n.a.createElement(L.LevelItem,null,n.a.createElement(x.Text,{className:"pf-u-mb-0",component:x.TextVariants.small},r(le.a.lastUpdated)," ",n.a.createElement(B.DateFormat,{date:t.orderItems[0]&&t.orderItems[0].updated_at,variant:"relative"})))))))))}),(function(e,t){return e.id===t.id}));ue.propTypes={item:q.a.object.isRequired};var pe=ue,fe=r(433),me=r(431),ge=r(23),ye=r(136),ve=r(438),be=r(434);function he(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?he(Object(r),!0).forEach((function(t){p()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ee=Object(me.a)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge.a,r=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;a(!0),r(Object(N.d)(e,t)).then((function(){return a(!1)}))}),1e3),je={isOpen:!1,isFetching:!0,isFiltering:!1,filterType:"state",filters:{state:[],owner:""}},Pe=function(e,t){switch(t.type){case"setFetching":return Oe(Oe({},e),{},{isFetching:t.payload});case"setFilterValue":return Oe(Oe({},e),{},{filters:(r=t.payload,a=e.filterType,n=e.filters,Oe(Oe({},n),{},p()({},a,r)))});case"replaceFilterChip":return Oe(Oe({},e),{},{filters:t.payload});case"setFilteringFlag":return Oe(Oe({},e),{},{isFiltering:t.payload});case"setFilterType":return Oe(Oe({},e),{},{filterType:t.payload})}var r,a,n;return e},Me=function(){var e,t=Object(M.a)().formatMessage,r=Object(ye.a)(),o=Object(a.useReducer)(Pe,Oe(Oe({},je),{},{filters:(null==r||null===(e=r.orders)||void 0===e?void 0:e.filters)||{state:[],owner:""}})),i=d()(o,2),s=i[0],c=s.isFetching,l=s.isFiltering,u=s.filterType,D=s.filters,k=i[1],q=Object(f.useSelector)((function(e){return e.orderReducer.orders})),S=q.data,L=q.meta,x=Object(f.useDispatch)();Object(a.useEffect)((function(){k({type:"setFetching",payload:!0}),Promise.all([x(Object(N.d)(D,null==r?void 0:r.orders)),x(Object(T.c)())]).then((function(){return k({type:"setFetching",payload:!1})}))}),[]);var A=function(e,t){return k({type:"setFetching",payload:!0}),x(Object(N.d)(D,t)).then((function(){return k({type:"setFetching",payload:!1})})).catch((function(){return k({type:"setFetching",payload:!1})}))},B=function(e){k({type:"setFilterValue",payload:e}),Ee(Oe(Oe({},D),{},p()({},u,e)),Oe(Oe({},L),{},{offset:0}),x,(function(e){return k({type:"setFilteringFlag",payload:e})}))};return n.a.createElement(m.Grid,{hasGutter:!0},n.a.createElement(g.GridItem,null,n.a.createElement(w.Section,{type:"content"},!L.noData&&n.a.createElement(I.PrimaryToolbar,{activeFiltersConfig:{filters:Object.entries(D).filter((function(e){var t=d()(e,2)[1];return t&&t.length>0})).map((function(e){var t=d()(e,2),r=t[0],a=t[1];return{category:r,type:r,chips:Array.isArray(a)?a.map((function(e){return{name:e}})):[{name:a}]}})),onDelete:function(e,t,r){var a=d()(t,1)[0];if(r)return k({type:"replaceFilterChip",payload:je.filters}),Ee(je.filters,L,x,(function(e){return k({type:"setFilteringFlag",payload:e})}));var n=Oe({},D);"state"===a.type?n[a.type]=n[a.type].filter((function(e){return e!==a.chips[0].name})):n[a.type]="",k({type:"replaceFilterChip",payload:n}),Ee(n,L,x,(function(e){return k({type:"setFilteringFlag",payload:e})}))}},filterConfig:{onChange:function(e,t){return k({type:"setFilterType",payload:t})},value:u,items:[{filterValues:{items:[{value:"Approval Pending",label:t(ce.a.approvalPending)},{value:"Canceled",label:t(ce.a.canceled)},{value:"Completed",label:t(ce.a.completed)},{value:"Created",label:t(be.a.created)},{value:"Failed",label:t(ce.a.failed)},{value:"Ordered",label:t(ce.a.ordered)}],value:D.state,onChange:function(e,t){return B(t)}},label:"State",value:"state",type:"checkbox"},{filterValues:{value:D.owner,onChange:function(e,t){return B(t)}},label:"Owner",value:"owner"}]},pagination:n.a.createElement(fe.a,{isDisabled:c||l,apiRequest:A,meta:L,isCompact:!0})}),n.a.createElement(oe,{"aria-label":"order-list"},n.a.createElement(ie,null,c||l?n.a.createElement("tr",null,n.a.createElement("td",{className:"pf-u-p-0"},n.a.createElement(C.d,null))):S.length>0?S.map((function(e,t){return n.a.createElement(pe,{key:e.id,index:t,item:e})})):n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement(F.EmptyTable,null,n.a.createElement(v.Bullseye,null,n.a.createElement(b.EmptyState,null,n.a.createElement(v.Bullseye,null,n.a.createElement(h.EmptyStateIcon,{icon:R.a})),n.a.createElement(y.Title,{headingLevel:"h1",size:"lg"},L.noData?t(le.a.noOrdersTitle):t(ve.a.noResults)),n.a.createElement(O.EmptyStateBody,null,L.noData?t(le.a.noOrdersDescription):t(ve.a.noResultsDescription)),n.a.createElement(j.EmptyStateSecondaryActions,null,!L.noData&&n.a.createElement(P.Button,{variant:"link",onClick:function(){k({type:"setFilteringFlag",payload:!0}),B("")}},t(ve.a.clearFilters)))))))))),n.a.createElement(_.TableToolbar,{className:"pf-u-mr-0"},n.a.createElement("div",{className:"bottom-pagination-container"},n.a.createElement(E.Flex,{justifyContent:{default:"justifyContentFlexEnd"}},L.count>0&&n.a.createElement(fe.a,{className:"pf-u-mt-0",isDisabled:c||l,apiRequest:A,meta:L})))))))};t.default=function(){return Object(a.useEffect)((function(){insights.chrome.appNavClick({id:"orders",secondaryNav:!0})}),[]),n.a.createElement(o.Stack,null,n.a.createElement(i.a,{schema:c()}),n.a.createElement(Me,null))}}}]);
//# sourceMappingURL=../sourcemaps/orders~91f4305a.js.map