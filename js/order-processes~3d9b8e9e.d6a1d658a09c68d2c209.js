(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{433:function(e,t,r){"use strict";var a=r(436);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(a.a)(e,t,r)}},886:function(e,t,r){"use strict";r.r(t);var a=r(89),n=r.n(a),o=r(19),i=r.n(o),c=r(1),s=r.n(c),l=r(0),u=r.n(l),f=r(16),p=r(59),m=r(51),d=r(72),g=r(50),y=r(71),b=r(216),O=r(448),v=r.n(O),h=r(577),E=r(2),P=r(767),j=r(725),F=function(e){return function(t,r){var a=r().orderProcessReducer,n=a.sortBy,o=a.orderProcesses,i=a.filterValue,c=e;if(!e&&o){var s=o.meta;c={limit:s.limit,offset:s.offset}}return t({type:E.k,payload:P.c(i,c,n)})}},S=function(e){return{type:E.N,payload:e}},w=r(17),M=r.n(w),C=r(60),D=function(e){return e.reduce((function(e,t,r){var a=t.id,n=t.name,o=t.description,i=t.created_at;return[].concat(M()(e),[{id:a,key:r,isOpen:!1,cells:[n,o,Object(C.d)(i)]}])}),[])},R=r(12),T=r.n(R),V=r(451),B=r(544),k=r(543),N=r(23),x=r(74),q=r(169),I=r(131),L=r(568);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X=function(e){var t=e.createRows,r=e.columns,a=e.fetchData,o=e.toolbarButtons,c=e.data,s=e.actionResolver,f=e.routes,p=e.plural,m=e.pagination,d=e.filterValue,g=e.onFilterChange,y=e.isLoading,b=e.renderEmptyState,O=e.sortBy,v=e.onSort,h=e.activeFiltersConfig,E=e.filterConfig,P=Object(q.a)(),F=Object(l.useState)([]),S=i()(F,2),w=S[0],C=S[1];Object(l.useEffect)((function(){C(t(c))}),[c]);var D={itemCount:m.count,page:Object(N.b)(m.limit,m.offset),perPage:m.limit,onSetPage:function(e,t){return a(J(J({},m),{},{offset:Object(N.c)(t,m.limit)}))},onPerPageSelect:function(e,t){return a(J(J({},m),{},{limit:t}))},isDisabled:y};return u.a.createElement(I.Section,{type:"content","page-type":"tab-".concat(p),id:"tab-".concat(p)},f(),u.a.createElement(L.PrimaryToolbar,n()({className:"pf-u-p-lg",pagination:D},o&&{actionsConfig:{dropdownProps:{position:"right"},actions:[o()]}},{filterConfig:{items:[{label:P.formatMessage({id:"name",defaultMessage:"Name"}),filterValues:{id:"filter-by-name",placeholder:P.formatMessage(j.a.orderProcessesFilter),"aria-label":P.formatMessage(j.a.orderProcessesFilter),onChange:function(e,t){return g(t)},value:d}}].concat(M()(E))},activeFiltersConfig:h})),y&&u.a.createElement(x.d,null),y||0!==w.length?u.a.createElement(l.Fragment,null,!y&&u.a.createElement(V.b,{"aria-label":"".concat(p," table"),rows:w,cells:r,actionResolver:s,className:"pf-u-pt-0",sortBy:O,onSort:v},u.a.createElement(B.a,null),u.a.createElement(k.a,null)),m.count>0&&u.a.createElement(L.PrimaryToolbar,{className:"pf-u-pl-lg pf-u-pr-lg",pagination:J(J({},D),{},{dropDirection:"up",variant:"bottom",isCompact:!1})})):b())};X.propTypes={createRows:T.a.func.isRequired,columns:T.a.array.isRequired,toolbarButtons:T.a.func,fetchData:T.a.func.isRequired,data:T.a.array,pagination:T.a.shape({limit:T.a.number,offset:T.a.number,count:T.a.number}),plural:T.a.string,singular:T.a.string,routes:T.a.func,actionResolver:T.a.func,filterValue:T.a.string,onFilterChange:T.a.func,isLoading:T.a.bool,renderEmptyState:T.a.func,sortBy:T.a.object,onSort:T.a.func,activeFiltersConfig:T.a.object,filterConfig:T.a.array},X.defaultProps={requests:[],isLoading:!1,pagination:N.a,isSelectable:null,routes:function(){return null},renderEmptyState:function(){return null},filterConfig:[]};var _=r(565),z=r(433),G=r(489),H=r(492),K=r(493),Q=r(532),U=r(723),W=function(e){var t=e.title,r=e.Icon,a=e.description,n=e.PrimaryAction,o=e.renderDescription;return u.a.createElement(U.EmptyTable,{centered:!0,"aria-label":"No records"},u.a.createElement(G.EmptyState,{className:"pf-u-ml-auto pf-u-mr-auto"},u.a.createElement(H.EmptyStateIcon,{icon:r}),u.a.createElement(y.TextContent,null,u.a.createElement(g.Text,{component:g.TextVariants.h1},t)),u.a.createElement(K.EmptyStateBody,null,a,o&&o()),u.a.createElement(Q.EmptyStateSecondaryActions,null,n&&u.a.createElement(n,null))))};W.propTypes={title:T.a.string.isRequired,Icon:T.a.any.isRequired,description:T.a.string.isRequired,PrimaryAction:T.a.any,renderDescription:T.a.func};var Y=W,Z=r(450),$=r(441),ee=r(139),te=r(11),re=r(520),ae=r(875),ne=r(99),oe=r(521),ie=function(){var e=Object(f.useDispatch)(),t=Object(p.g)().push,r=Object(q.a)(),a=function(){return t(te.n)};return u.a.createElement(re.Modal,{isOpen:!0,onClose:a,title:r.formatMessage(ne.a.createOrderProcessTitle),variant:"small"},u.a.createElement(oe.c,{onSubmit:function(a){return t(te.n),e(function(e,t){return{type:E.a,payload:P.a(e),meta:{notifications:{fulfilled:{variant:"success",title:t.formatMessage(j.a.addProcessSuccessTitle),description:t.formatMessage(j.a.addProcessSuccessDescription)}}}}}(a,r)).then((function(){return e(F())}))},onCancel:a,schema:Object(ae.a)(r),disableSubmit:["validating"]}))};function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var le=function(e){return[{title:e.formatMessage($.a.name),transforms:[h.a]},{title:e.formatMessage($.a.description),transforms:[h.a]},{title:e.formatMessage($.a.created),transforms:[h.a]}]},ue=Object(z.a)((function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N.a;return r(!0),t(S(e)),t(F(a)).then((function(){return r(!1)}))}),1e3),fe=function(e,t){return e?[{category:t.formatMessage($.a.name),key:"name",chips:[{name:e,value:e}]}]:[]},pe=function(e,t){switch(t.type){case"setFetching":return se(se({},e),{},{isFetching:t.payload});case"setFilterValue":return se(se({},e),{},{filterValue:t.payload});case"setFilteringFlag":return se(se({},e),{},{isFiltering:t.payload});default:return e}};t.default=function(){var e=Object(f.useSelector)((function(e){var t=e.orderProcessReducer;return{orderProcesses:t.orderProcesses,sortBy:t.sortBy,filterValueRedux:t.filterValue}}),f.shallowEqual),t=e.orderProcesses,r=t.data,a=t.meta,o=e.sortBy,c=e.filterValueRedux,s=Object(l.useReducer)(pe,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{filterValue:e,isOpen:!1,isFetching:!0,isFiltering:!1}}(c)),O=i()(s,2),h=O[0],P=h.filterValue,S=h.isFetching,w=h.isFiltering,M=O[1],R=Object(f.useDispatch)(),T=Object(q.a)(),V=function(e){return M({type:"setFetching",payload:!0}),R(F(e)).then((function(){return M({type:"setFetching",payload:!1})})).catch((function(){return M({type:"setFetching",payload:!1})}))};Object(l.useEffect)((function(){insights.chrome.appNavClick({id:"order-processes",secondaryNav:!0}),V(N.a),Object(C.c)()}),[]);var B=function(e){M({type:"setFilterValue",payload:e}),ue(e,R,(function(e){return M({type:"setFilteringFlag",payload:e})}),se(se({},a),{},{offset:0}))};return u.a.createElement(l.Fragment,null,u.a.createElement(_.b,null,u.a.createElement(y.TextContent,{className:"pf-u-ml-md"},u.a.createElement(g.Text,{component:g.TextVariants.h1},T.formatMessage(j.a.title)))),u.a.createElement(X,{sortBy:o,onSort:function(e,t,r,a){var n=a.property;return R(function(e){return{type:E.X,payload:e}}({index:t,direction:r,property:n})),V()},data:r,createRows:D,routes:function(){return u.a.createElement(p.b,{exact:!0,path:te.a,render:function(e){return u.a.createElement(ie,n()({},e,{postMethod:V}))}})},columns:le(T),fetchData:V,titlePlural:T.formatMessage(j.a.orderProcesses),titleSingular:T.formatMessage(j.a.orderProcess),pagination:a,filterValue:P,onFilterChange:B,isLoading:S||w,toolbarButtons:function(){return u.a.createElement(ee.b,{className:"pf-u-pl-lg top-toolbar"},u.a.createElement(b.ToolbarItem,null,u.a.createElement(m.a,{id:"add-order-process-link",to:{pathname:te.a}},u.a.createElement(d.Button,{variant:"primary","aria-label":T.formatMessage(ne.a.createOrderProcessTitle)},T.formatMessage(ne.a.createOrderProcessTitle)))))},renderEmptyState:function(){return u.a.createElement(Y,{title:""===P?T.formatMessage(j.a.noOrderProcesses):T.formatMessage(Z.a.noResultsFound),Icon:v.a,PrimaryAction:function(){return""!==P?u.a.createElement(d.Button,{onClick:function(){return B("")},variant:"link"},T.formatMessage(Z.a.clearFilters)):null},description:""===P?T.formatMessage(j.a.noOrderProcesses):T.formatMessage(Z.a.noResultsDescription)})},activeFiltersConfig:{filters:fe(P,T),onDelete:function(){return B("")}}}))}}}]);
//# sourceMappingURL=../sourcemaps/order-processes~3d9b8e9e.js.map