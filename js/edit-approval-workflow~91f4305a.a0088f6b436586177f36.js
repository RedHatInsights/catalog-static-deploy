(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{593:function(e,t,o){"use strict";var n=o(12),r=o.n(n),a=o(183),c=o.n(a),i=o(85);function s(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function u(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach((function(t){r()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var l=function(e){return"string"==typeof e?e.split("?")[0]:"object"===c()(e)?u(u({},e),{},{search:void 0}):e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.removeSearch,o=e.keepHash,n=Object(i.g)();return u(u({},n),{},{push:function(e){var r=e;return o&&n.location.hash.length>0&&(r="object"===c()(r)?u(u({},r),{},{hash:n.location.hash}):"".concat(r).concat(n.location.hash)),t?n.push(l(r)):n.push(r)}})}},803:function(e,t,o){"use strict";o.r(t);var n=o(23),r=o.n(n),a=o(0),c=o.n(a),i=o(4),s=o.n(i),u=o(18),l=(o(52),o(107)),p=o(22),f=o(5),b=o(24),h=function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<o;t++)for(var a=arguments[t],c=0,i=a.length;c<i;c++,r++)n[r]=a[c];return n},d=function(e,t){void 0===e&&(e=""),void 0===t&&(t=[]);var o=t.map((function(e){return"filter[id][]="+e})).join("&");return Object(p.a)().get(f.b+"/workflows?filter[name][contains]="+e+"&"+(o||"")).then((function(e){return e.data.map((function(e){var t=e.id;return{label:e.name,value:t}}))}))},v=function(e,t,o){var n=e?e.map((function(e){return Object(p.j)().unlinkWorkflow(e,o)})):[],r=t?t.map((function(e){return Object(p.j)().linkWorkflow(e,o)})):[];return Promise.all(h(n,r))},j=function(e,t,o){void 0===t&&(t={limit:b.a.limit,offset:b.a.offset}),void 0===o&&(o="");var n="app_name="+e.appName+"&object_type="+e.objectType+"&object_id="+e.objectId,r="&limit="+t.limit+"&offset="+t.offset,a="&filter[name][contains]="+o;return Object(p.a)().get(f.b+"/workflows?"+n+a+r)},g=o(110),m=function(e){return e().i18nReducer.formatMessage},O=o(19),w=Object(O.b)({unlinkNotification:{id:"approval.notifications.unlink",defaultMessage:"{count, number} {count, plural, one {approval process was} other {approval processes were}} unlinked successfully."},linkNotification:{id:"approval.notifications.link",defaultMessage:"{count, number} {count, plural, one {approval process was} other {approval processes were}} linked successfully."},setWorkflow:{id:"approval.workflows.set",defaultMessage:"Select approval processes for <strong>{objectName}</strong>"},currentWorkflows:{id:"approval.workflows.current",defaultMessage:"Current approval processes"}}),k=o(86),y=o(593),P=o(17),S=o(202),N=o(200),T=function(e){var t=e.objectType,o=e.removeSearch,n=e.keepHash,i=e.querySelector,s=e.pushParam,p=e.objectName,b=void 0===p?function(){return t}:p,h=e.onClose,T=Object(P.a)(),W=Object(a.useRef)(T(Object(O.a)({id:"workflows.modal.title",defaultMessage:"Set approval process"}))).current,M=Object(u.useDispatch)(),R=Object(y.a)({removeSearch:o,keepHash:n}),_=Object(k.a)([i]),q=r()(_,1)[0],D=function(){h&&h(),R.push(s)};return c.a.createElement(S.a,{title:W,onClose:D,onSubmit:function(e,o){var n,r,a;D(),M((n=e,r=o,a={object_type:t,app_name:f.c[t],object_id:q[i]},function(e,t){var o=m(t);return e({type:l.a.UPDATE_WORKFLOWS,payload:v(r,n,a).then((function(){return e(Object(g.addNotification)({variant:"success",title:"Success updating approval process",dismissable:!0,description:"".concat(r.length>0?o(w.unlinkNotification,{count:r.length}):"","\n          ").concat(n.length>0?o(w.linkNotification,{count:n.length}):"")}))}))})}))},getInitialTags:function(){return j({objectType:t,appName:f.c[t],objectId:q[i]}).then((function(e){return e.data}))},loadTags:d,subTitle:T(w.setWorkflow,{strong:N.a,objectName:b(q[i])}),existingTagsMessage:T(w.currentWorkflows)})};T.propTypes={pushParam:s.a.oneOfType([s.a.string,s.a.shape({pathname:s.a.string.isRequired,search:s.a.string})]).isRequired,objectType:s.a.string.isRequired,objectName:s.a.func,removeSearch:s.a.bool,querySelector:s.a.oneOf(["portfolio","platform","inventory","portfolio-item"]).isRequired,keepHash:s.a.bool,onClose:s.a.func},T.defaultProps={keepHash:!1};t.default=T}}]);
//# sourceMappingURL=../sourcemaps/edit-approval-workflow~91f4305a.js.map