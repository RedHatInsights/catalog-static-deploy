(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{633:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(245),l=a(184),s=a(36),i=function(){return(i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};t.a=function(e){var t=e.meta,a=t.limit,n=void 0===a?50:a,f=t.count,m=void 0===f?0:f,u=t.offset,p=void 0===u?0:u,d=e.apiProps,b=e.apiRequest,g=e.className,h=void 0===g?"":g,y=e.isCompact,v=void 0!==y&&y,O=c(e,["meta","apiProps","apiRequest","className","isCompact"]);return r.a.createElement("div",{className:h},r.a.createElement(l.a,i({perPage:n||50,itemCount:m||0,onPerPageSelect:function(e,t){return b(d,{offset:p,limit:t})},page:Object(s.b)(n,p),onSetPage:function(e,t,a){var r={offset:Object(s.c)(t,n),limit:n},l=function(){return b(d,r)};return a?Object(o.a)(l,250)():l()},dropDirection:"down",isCompact:v},O)))}},651:function(e,t,a){"use strict";var n=a(28),r=Object(n.b)({workflowColumn:{id:"platform.inventories.columns.workflow",defaultMessage:"Workflow"},noInventoriesDescription:{id:"platform.inventories.empty.no-inventories",defaultMessage:"No inventories found."},noInventoriesFilterDescription:{id:"platform.inventories.empty.no-results",defaultMessage:"No inventories match your filter criteria."},inventoriesFilter:{id:"platform.inventories.filter.placeholder",defaultMessage:"Filter by inventory"},templatesFilter:{id:"platform.templates.filter.placeholder",defaultMessage:"Filter by template"},noTemplatesTitle:{id:"platform.templates.no-templates",defaultMessage:"No templates"},noTemplatesDescription:{id:"platform.templates.empty.no-templates",defaultMessage:"This platform has no templates."},platformsNoDataDescription:{id:"platforms.list.configure-source",defaultMessage:"To get started, add an Ansible Tower cluster as a source."},connectSource:{id:"platforms.list.connect-source",defaultMessage:"Go to Sources"},contactAdmin:{id:"platforms.list.contact-admin",defaultMessage:"Contact your organization administrator to setup sources for Catalog."},title:{id:"platforms.title",defaultMessage:"Platforms"},noPlatforms:{id:"platforms.list.empty.title",defaultMessage:"No platforms yet"},offeringTitle:{id:"platforms.offerings.detail.title",defaultMessage:"Service offering"},offeringParameters:{id:"platforms.offerings.detail.extra-params",defaultMessage:"Extra parameters"},platformVersion:{id:"platforms.version",defaultMessage:"Platform version"},ansibleVersion:{id:"platforms.ansible.version",defaultMessage:"Ansible version"},platformSummary:{id:"platforms.summary",defaultMessage:"Summmary"},mqttClientId:{id:"platform.mqttClientId",defaultMessage:"MQTT Client Id"},refreshState:{id:"platforms.refreshState",defaultMessage:"Refresh state"},refreshStarted:{id:"platforms.refreshStarted",defaultMessage:"Refresh started"},refreshFinished:{id:"platforms.refreshFinished",defaultMessage:"Refresh finished"},lastSuccessfulRefresh:{id:"platforms.lastSuccessfulRefresh",defaultMessage:"Last successful refresh"},lastChecked:{id:"platforms.lastChecked",defaultMessage:"Last checked"},lastAvailable:{id:"platforms.lastAvailable",defaultMessage:"Last available"},enabled:{id:"platforms.enabled",defaultMessage:"Enabled"},availabilityStatus:{id:"platforms.availabilityStatus",defaultMessage:"Availability status"},dateAdded:{id:"platforms.dateAdded",defaultMessage:"Date added"},refreshTooltip:{id:"platforms.refreshTooltip",defaultMessage:"Refresh platform"},lastRefreshMessage:{id:"platforms.lastRefreshMessage",defaultMessage:"Last refresh message"}});t.a=r},743:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return u}));var n=a(40),r=a.n(n),o=a(839),l=a(667),s=a(633);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f=function(e){var t=e.searchValue,a=e.onFilterChange,n=e.title;return{fields:[{component:l.b.TOP_TOOLBAR,key:"platforms-toolbar",fields:[{component:l.b.TOP_TOOLBAR_TITLE,key:"platforms-toolbar-title",title:n},{component:l.b.LEVEL,key:"platforms-toolbar-actions",fields:[{component:l.b.LEVEL_ITEM,key:"input-level-item",fields:[{component:l.b.FILTER_TOOLBAR_ITEM,key:"platforms-toolbar-filter-input",searchValue:t,onFilterChange:a,placeholder:"Filter by platform"}]},{component:l.b.LEVEL_ITEM,key:"pagination-level-item",fields:[]}]}]}]}},m=function(e){var t=e.title,a=e.paddingBottom,n=e.tabItems,r=e.platformEnabled,s=e.platformAvailable;return{fields:[{component:l.b.TOP_TOOLBAR,key:"platforms-toolbar",paddingBottom:a,fields:[{component:l.b.LEVEL,fields:[{component:l.b.TOOLBAR_GROUP,key:"platform-toolbar",fields:[{component:l.b.TOOLBAR_ITEM,key:"platform-toolbar-group",fields:[{component:l.b.TOP_TOOLBAR_TITLE,key:"platforms-toolbar-title",title:t}]}]},{component:l.b.TOOLBAR_GROUP,key:"platform-toolbar",alignment:"alignRight",fields:[{component:l.b.TOOLBAR_ITEM,key:"platform-label",alignment:"alignRight",fields:[c({component:l.b.LABEL,key:"platform-enabled-label"},r()),c({component:l.b.LABEL,key:"platform-available-label"},s())]}]}]},{component:l.b.LEVEL_ITEM,key:"tabs-level-item",fields:n?[{component:o.a,key:"platform-tabs",tabItems:n}]:[]}]}]}},u=function(e){var t=e.searchValue,a=e.onFilterChange,n=e.meta,r=e.apiRequest,o=e.filterPlaceholder;return{fields:[{component:l.b.TOOLBAR,key:"platforms-filter-toolbar",className:"pf-u-pt-md pf-u-pb-md pf-u-pr-lg pf-u-pl-lg",fields:[{component:l.b.LEVEL,key:"platforms-toolbar-actions",className:"pf-m-grow",fields:[{component:l.b.LEVEL_ITEM,key:"input-level-item",fields:[{component:l.b.FILTER_TOOLBAR_ITEM,key:"platforms-toolbar-filter-input",searchValue:t,onFilterChange:a,placeholder:o}]},{component:l.b.LEVEL_ITEM,key:"pagination-level-item",fields:n.count>0?[{component:s.a,key:"platform-pagination",apiRequest:r,meta:n,isCompact:!0}]:[]}]}]}]}}},820:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(2),r=a(0),o=a(1),l=a(62),s=a.n(l),i=a(193),c=a(75),f=a(240);const m=e=>{var{children:t=null,className:a="",id:l,onExpand:m,toggleButtonProps:u}=e,p=Object(n.__rest)(e,["children","className","id","onExpand","toggleButtonProps"]);return r.createElement(i.b.Consumer,null,({cardId:e})=>r.createElement("div",Object.assign({className:Object(o.css)(s.a.cardHeader,a),id:l},p),m&&r.createElement("div",{className:Object(o.css)(s.a.cardHeaderToggle)},r.createElement(c.a,Object.assign({variant:"plain",type:"button",onClick:t=>{m(t,e)}},u),r.createElement("span",{className:Object(o.css)(s.a.cardHeaderToggleIcon)},r.createElement(f.a,{"aria-hidden":"true"})))),t))};m.displayName="CardHeader"},821:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(2),r=a(0),o=a(62),l=a.n(o),s=a(1);const i=e=>{var{children:t=null,className:a="",component:o="div"}=e,i=Object(n.__rest)(e,["children","className","component"]);const c=o;return r.createElement(c,Object.assign({className:Object(s.css)(l.a.cardFooter,a)},i),t)};i.displayName="CardFooter"},874:function(e,t,a){"use strict";t.__esModule=!0,t.CogIconConfig={name:"CogIcon",height:512,width:512,svgPath:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z",yOffset:0,xOffset:0},t.CogIcon=a(97).createIcon(t.CogIconConfig),t.default=t.CogIcon},974:function(e,t,a){"use strict";a.r(t);var n=a(151),r=a.n(n),o=a(107),l=a.n(o),s=a(0),i=a.n(s),c=a(25),f=a(364),m=a(67),u=a(635),p=a.n(u),d=a(874),b=a.n(d),g=a(130),h=a(672),y=a(725),v=a(654),O=a(602),E=a(820),j=a(212),L=a(77),M=a(75),T=a(147),k=a(821),w=a(954),P=a(717),C=a(13),I=a(721),_=a(632),R=a(723),N=a(722),S=a(668),A=a(239),F=a(129),D=a(27),V=a(12);const B=Object(V.a)({name:"SyncAltIcon",height:512,width:512,svgPath:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z",yOffset:0,xOffset:0});var x=a(651),q=function(){return(q=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},H=function(e,t,a,n){return new(a||(a=Promise))((function(r,o){function l(e){try{i(n.next(e))}catch(e){o(e)}}function s(e){try{i(n.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,s)}i((n=n.apply(e,t||[])).next())}))},z=function(e,t){var a,n,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(r=l.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){l.label=o[1];break}if(6===o[0]&&l.label<r[1]){l.label=r[1],r=o;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(o);break}r[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],n=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},G=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},U=["description","modified"],J={isFetching:!1},Q=function(e,t){switch(t.type){case"setFetching":return q(q({},e),{isFetching:t.payload})}return e},W=function(e){var t,a,n=e.name,r=e.id,o=e.updateData,l=G(e,["name","id","updateData"]),f=Object(D.a)(),m=Object(c.d)(),u=Object(s.useReducer)(Q,J),p=u[0].isFetching,d=u[1];return i.a.createElement(O.a,null,i.a.createElement(R.a,{key:r,ouiaId:"platform-"+r},i.a.createElement(E.a,null,i.a.createElement(P.a,null,i.a.createElement(P.b,null,i.a.createElement(S.a,{height:40,sourceId:r})),i.a.createElement(j.a,{content:i.a.createElement(L.a,null,f(x.a.refreshTooltip))},i.a.createElement(M.a,{id:"refresh-platform-"+r,ouiaId:"refresh-platform-"+r,variant:"link",onClick:function(){return e=r,d({type:"setFetching",payload:!0}),void Promise.resolve(m(Object(v.f)(e))).then((function(){return H(void 0,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return[4,Object(g.b)(1e4)];case 1:return e.sent(),d({type:"setFetching",payload:!1}),o(),[2]}}))}))}));var e},isDisabled:p},p?i.a.createElement(B,{key:"refresh-"+r,color:"grey"}):i.a.createElement(B,{key:"refresh-"+r,color:"blue"}))))),i.a.createElement(N.a,null,i.a.createElement(T.a,null,i.a.createElement(_.a,{pathname:C.u,searchParams:{platform:r}},i.a.createElement(L.a,{title:n,className:"pf-u-mb-0",component:L.b.h3},i.a.createElement(I.a,null,n))),p?i.a.createElement(T.a,{className:"pf-u-mb-md"},i.a.createElement(L.a,{component:L.b.small,className:"pf-u-mb-0"},"Retrieving data....  ")):l.last_successful_refresh_at&&i.a.createElement(T.a,{className:"pf-u-mb-md"},i.a.createElement(L.a,{component:L.b.small,className:"pf-u-mb-0"},"Last refreshed  ",i.a.createElement(A.DateFormat,{date:l.last_successful_refresh_at,type:"relative"}))),l.info&&i.a.createElement(T.a,{className:"pf-u-mb-md"},i.a.createElement(L.a,{component:L.b.small,className:"pf-u-mb-0"},f(x.a.platformVersion)),i.a.createElement(L.a,{component:L.b.small,className:"pf-u-mb-0"},null===(t=null==l?void 0:l.info)||void 0===t?void 0:t.version),i.a.createElement(L.a,{component:L.b.small,className:"pf-u-mb-0"},f(x.a.ansibleVersion)),i.a.createElement(L.a,{component:L.b.small,className:"pf-u-mb-0"},null===(a=null==l?void 0:l.info)||void 0===a?void 0:a.ansible_version))),i.a.createElement(P.c,q({},q({name:n},l),{toDisplay:U}))),i.a.createElement(k.a,null,i.a.createElement(w.a,{variant:"filled",color:l.enabled?"green":"red"},l.enabled?f(F.a.enabled):f(F.a.disabled))," ",i.a.createElement(w.a,{variant:"filled",color:"available"===l.availability_status?"green":"red"},"available"===l.availability_status?f(F.a.available):f(F.a.notAvailable)))))},K=a(743),X=a(679),Y=a(153),Z=a(638);t.default=function(){var e=Object(D.a)(),t=Object(s.useState)(""),a=l()(t,2),n=a[0],o=a[1],u=Object(c.e)((function(e){var t=e.platformReducer;return{platforms:t.platforms,isLoading:t.isPlatformDataLoading}})),d=u.platforms,O=u.isLoading,E=Object(c.d)(),j=Object(s.useContext)(Y.a).userIdentity.identity.user.is_org_admin;Object(s.useEffect)((function(){E(Object(v.c)()),Object(g.e)(),insights.chrome.appNavClick({id:"platforms",secondaryNav:!0})}),[]);var L={items:d.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){return i.a.createElement(W,r()({ouiaId:"platform-".concat(e.id),key:e.id},e,{updateData:function(){return E(Object(v.c)())}}))})),isLoading:O&&0===d.length},M={PrimaryAction:n&&""!==n?function(){return i.a.createElement(f.Button,{ouiaId:"clear-filter",variant:"link",onClick:function(){return o("")}},e(Z.a.clearFilters))}:function(){return j?i.a.createElement(f.Button,{component:"a",href:"".concat(document.baseURI,"settings/sources"),id:"add-source"},e(x.a.connectSource)):i.a.createElement(m.Text,null,e(x.a.contactAdmin))},title:e(n&&""!==n?Z.a.noResults:x.a.noPlatforms),description:e(n&&""!==n?Z.a.noResultsDescription:x.a.platformsNoDataDescription),Icon:n&&""!==n?p.a:b.a};return i.a.createElement(s.Fragment,null,i.a.createElement(h.a,{schema:Object(K.b)({onFilterChange:function(e){return o(e)},searchValue:n,title:e(x.a.title)})}),i.a.createElement(y.a,r()({},L,{renderEmptyState:function(){return i.a.createElement(X.b,M)}})))}}}]);
//# sourceMappingURL=../sourcemaps/platforms~31ecd969.js.map