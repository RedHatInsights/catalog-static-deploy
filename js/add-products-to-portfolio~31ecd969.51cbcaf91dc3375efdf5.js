(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{430:function(e,t,n){"use strict";var r=n(425),o=n.n(r),a=n(49),i=n.n(a),c=n(0),s=n.n(c),u=n(11),l=n.n(u),p=n(427),f=n(203),d=n(66),m=function(e){var t=e.meta,n=t.limit,r=t.count,a=t.offset,c=e.apiProps,u=e.apiRequest,l=e.className,m=e.isCompact,b=i()(e,["meta","apiProps","apiRequest","className","isCompact"]);return s.a.createElement("div",{className:l},s.a.createElement(f.Pagination,o()({perPage:n||50,itemCount:r||0,onPerPageSelect:function(e,t){return u(c,{offset:a,limit:t})},page:Object(d.b)(n,a),onSetPage:function(e,t,r){var o={offset:Object(d.c)(t,n),limit:n},a=function(){return u(c,o)};return r?Object(p.a)(a,250)():a()},direction:"down",isCompact:m},b)))};m.propTypes={meta:l.a.shape({count:l.a.number,limit:l.a.number.isRequired,offset:l.a.number.isRequired}),apiRequest:l.a.func.isRequired,apiProps:l.a.any,className:l.a.string,isCompact:l.a.bool},m.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1},t.a=m},449:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(11),i=n.n(a),c=function(e){var t=e.children;return o.a.createElement("div",{className:"pf-u-p-lg pf-u-pt-md pf-u-pb-md global-primary-background pf-u-mt-auto"},t)};c.propTypes={children:i.a.oneOfType([i.a.node,i.a.arrayOf(i.a.node)])},t.a=c},483:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(11),i=n.n(a),c=n(438),s=function(e){var t=e.handleCheck,n=e.isChecked,r=e.id;return o.a.createElement(c.Checkbox,{onClick:function(e){return e.stopPropagation()},isChecked:n,onChange:t,"aria-label":"card checkbox",id:r})};s.propTypes={handleCheck:i.a.func,isChecked:i.a.bool,id:i.a.string},t.a=s},484:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(425),i=n.n(a),c=n(49),s=n.n(c),u=n(0),l=n.n(u),p=n(11),f=n.n(p),d=n(43),m=n(65),b=n(488),h=n(505),g=n(489),v=n(490),y=function(e){var t=e.name,n=(e.display_name,e.distributor),r=e.pathname,o=e.searchParams,a=e.preserveSearch,c=e.portfolioName,p=s()(e,["name","display_name","distributor","pathname","searchParams","preserveSearch","portfolioName"]);return l.a.createElement(v.a,null,l.a.createElement(m.TextContent,null,l.a.createElement(h.a,{pathname:r,searchParams:o,preserveSearch:a},l.a.createElement(d.Text,{component:d.TextVariants.h3,title:t},l.a.createElement(g.a,null,t))),n&&l.a.createElement(d.Text,{component:d.TextVariants.small},n),c&&l.a.createElement(u.Fragment,null,l.a.createElement(d.Text,{className:"pf-u-mb-0",component:"small"},"Portfolio"),l.a.createElement(d.Text,null,c))),l.a.createElement(b.a,i()({toDisplay:[p.description?"description":"long_description"]},p)))};y.propTypes={name:f.a.string,display_name:f.a.string,distributor:f.a.string,long_description:f.a.string,description:f.a.string,pathname:f.a.string,preserveSearch:f.a.bool,searchParams:f.a.shape(o()({},f.a.string,f.a.string)),portfolioName:f.a.string},t.a=y},509:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),o=n.n(r),a=n(49),i=n.n(a),c=n(442);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=e.pathname,n=e.preserveSearch,r=i()(e,["pathname","preserveSearch"]);return{component:c.b.TOOLBAR_ITEM,key:"".concat(r.key,"/button-link"),fields:[{component:c.b.LINK,pathname:t,preserveSearch:n,key:"".concat(r.key,"/button-link"),isDisabled:r.isDisabled,fields:[u({component:c.b.BUTTON},r)]}]}}},513:function(e,t,n){"use strict";t.__esModule=!0,t.FilterIconConfig={name:"FilterIcon",height:512,width:512,svgPath:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z",yOffset:0,xOffset:0,transform:""},t.FilterIcon=n(201).createIcon(t.FilterIconConfig),t.default=t.FilterIcon},546:function(e,t,n){"use strict";var r=n(425),o=n.n(r),a=n(49),i=n.n(a),c=n(22),s=n.n(c),u=n(0),l=n.n(u),p=n(23),f=n(11),d=n.n(f),m=n(67),b=n(121);function h(){var e=s()(["\n  margin-right: ",";\n"]);return h=function(){return e},e}function g(){var e=s()(["\n  display: flex !important;\n  align-items: center;\n"]);return g=function(){return e},e}var v=Object(p.b)(m.Button)(g()),y=p.b.span(h(),(function(e){return e.showSpinner?"8px":"0"})),O=function(e){var t=e.children,n=e.showSpinner,r=e.isDisabled,a=i()(e,["children","showSpinner","isDisabled"]);return l.a.createElement(v,o()({},a,{isDisabled:r}),l.a.createElement(y,{showSpinner:n},t),n&&l.a.createElement(b.Spinner,{size:"md"}))};O.propTypes={showSpinner:d.a.bool,children:d.a.oneOfType([d.a.node,d.a.arrayOf(d.a.node)]),isDisabled:d.a.bool},O.defaultProps={showSpinner:!1,isDisabled:!1},t.a=O},547:function(e,t,n){var r=n(812);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},585:function(e,t,n){"use strict";var r=n(49),o=n.n(r),a=n(22),i=n.n(a),c=n(0),s=n.n(c),u=n(11),l=n.n(u),p=n(467),f=n(492),d=n(85),m=n(466),b=n(483),h=n(484),g=n(491),v=n(23);function y(){var e=i()(["\n  flex: 1;\n"]);return y=function(){return e},e}var O=Object(v.b)(d.Level)(y()),j=function(e){e.src;var t=o()(e,["src"]);return s.a.createElement(g.a,{key:t.id},s.a.createElement(p.CardHeader,null,s.a.createElement(O,null,s.a.createElement(m.a,{height:40,sourceId:t.source_id}),t.editMode&&s.a.createElement(b.a,{id:t.id,isChecked:t.checked,handleCheck:t.onToggleItemSelect}))),s.a.createElement(h.a,t),s.a.createElement(f.CardFooter,null))};j.propTypes={id:l.a.string.isRequired,service_offering_icon_id:l.a.string,source_id:l.a.string,platformId:l.a.string,name:l.a.string,editMode:l.a.bool,checked:l.a.bool,onToggleItemSelect:l.a.func,src:l.a.string},t.a=j},806:function(e,t,n){var r=n(807);e.exports=function(e,t){return r(e,t)}},807:function(e,t,n){var r=n(808),o=n(828);e.exports=function e(t,n,a,i,c){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,a,i,e,c))}},808:function(e,t,n){var r=n(809),o=n(816),a=n(821),i=n(822),c=n(825),s=n(133),u=n(826),l=n(827),p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,d,m,b){var h=s(e),g=s(t),v=h?"[object Array]":c(e),y=g?"[object Array]":c(t),O=(v="[object Arguments]"==v?p:v)==p,j=(y="[object Arguments]"==y?p:y)==p,P=v==y;if(P&&u(e)){if(!u(t))return!1;h=!0,O=!1}if(P&&!O)return b||(b=new r),h||l(e)?o(e,t,n,d,m,b):a(e,t,v,n,d,m,b);if(!(1&n)){var E=O&&f.call(e,"__wrapped__"),k=j&&f.call(t,"__wrapped__");if(E||k){var _=E?e.value():e,T=k?t.value():t;return b||(b=new r),m(_,T,n,d,b)}}return!!P&&(b||(b=new r),i(e,t,n,d,m,b))}},809:function(e,t,n){var r=n(810),o=n(811),a=n(813),i=n(814),c=n(815);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=a,s.prototype.has=i,s.prototype.set=c,e.exports=s},810:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},811:function(e,t,n){var r=n(547),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},812:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},813:function(e,t,n){var r=n(547);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},814:function(e,t,n){var r=n(547);e.exports=function(e){return r(this.__data__,e)>-1}},815:function(e,t,n){var r=n(547);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},816:function(e,t,n){var r=n(817),o=n(818),a=n(819);e.exports=function(e,t,n,i,c,s){var u=1&n,l=e.length,p=t.length;if(l!=p&&!(u&&p>l))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var d=-1,m=!0,b=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++d<l;){var h=e[d],g=t[d];if(i)var v=u?i(g,h,d,t,e,s):i(h,g,d,e,t,s);if(void 0!==v){if(v)continue;m=!1;break}if(b){if(!o(t,(function(e,t){if(!a(b,t)&&(h===e||c(h,e,n,i,s)))return b.push(t)}))){m=!1;break}}else if(h!==g&&!c(h,g,n,i,s)){m=!1;break}}return s.delete(e),s.delete(t),m}},817:function(e,t,n){var r=n(133);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return r(e)?e:[e]}},818:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},819:function(e,t,n){var r=n(820);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},820:function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},821:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},822:function(e,t,n){var r=n(823),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,i,c){var s=1&n,u=r(e),l=u.length;if(l!=r(t).length&&!s)return!1;for(var p=l;p--;){var f=u[p];if(!(s?f in t:o.call(t,f)))return!1}var d=c.get(e);if(d&&c.get(t))return d==t;var m=!0;c.set(e,t),c.set(t,e);for(var b=s;++p<l;){var h=e[f=u[p]],g=t[f];if(a)var v=s?a(g,h,f,t,e,c):a(h,g,f,e,t,c);if(!(void 0===v?h===g||i(h,g,n,a,c):v)){m=!1;break}b||(b="constructor"==f)}if(m&&!b){var y=e.constructor,O=t.constructor;y==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof O&&O instanceof O||(m=!1)}return c.delete(e),c.delete(t),m}},823:function(e,t,n){var r=n(824)(Object.keys,Object);e.exports=r},824:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},825:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},826:function(e,t){e.exports=function(){return!1}},827:function(e,t){e.exports=function(){return!1}},828:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},858:function(e,t,n){"use strict";n.r(t);var r=n(17),o=n.n(r),a=n(33),i=n.n(a),c=n(1),s=n.n(c),u=n(425),l=n.n(u),p=n(0),f=n.n(p),d=n(11),m=n.n(d),b=n(49),h=n.n(b),g=n(445),v=n.n(g),y=n(513),O=n.n(y),j=n(493),P=n(468),E=n(82),k=n(448),_=n(435),T=function(e){var t=e.platform,n=Object(E.a)().formatMessage;return f.a.createElement(P.b,{Icon:t?v.a:O.a,title:n(t?_.a.addProducstFilterTitle:_.a.addProducstPlatformTitle),description:n(t?k.a.noResultsDescription:_.a.addProducstPlatformDescription)})};T.propTypes={platform:m.a.any};var w=function(e){var t=e.platform,n=h()(e,["platform"]);return f.a.createElement(j.a,l()({editMode:!0},n,{renderEmptyState:function(){return f.a.createElement(T,{platform:t})}}))};w.propTypes={checkedItems:m.a.arrayOf(m.a.string),platform:m.a.any},w.defaultProps={checkedItems:[]};var S=w,x=n(453),C=n(66),F=n(585),I=n(442),R=n(509),D=n(518),L=n(806),A=n.n(L);m.a.oneOfType([m.a.node,m.a.arrayOf(m.a.node)]).isRequired;var N=function(e){var t=e.onChange,n=h()(e,["onChange"]),r=Object(p.useState)(void 0),o=i()(r,2),a=o[0],c=o[1];return f.a.createElement("div",{key:"filter-select",id:"filter-select",className:"filter-select"},f.a.createElement(D.InternalSelect,l()({isDisabled:!n.options||0===n.options.length,name:"filter-select",simpleValue:!1,onChange:function(e){t(e||a),c(e||a)},value:a},n)))};N.propTypes={options:m.a.array,onChange:m.a.func.isRequired};var V=Object(p.memo)(N,(function(e,t){return A()(e.options,t.options)})),q=n(546),M=n(430);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){var t=e.options,n=e.isFetching,r=e.searchValue,o=e.portfolioName,a=e.itemsSelected,i=e.onOptionSelect,c=e.onFilterChange,s=e.portfolioRoute,u=e.onClickAddToPortfolio,l=e.meta,p=e.platformId,f=e.fetchPlatformItems;return{fields:[{component:I.b.TOP_TOOLBAR,key:"add-products-toolbar",fields:[{component:I.b.TOP_TOOLBAR_TITLE,title:"Add products: ".concat(o),key:"add-products-title"},{component:I.b.LEVEL,key:"add-products-actions",fields:[{component:I.b.TOOLBAR,key:"add-products-actions-toolbar",fields:[{component:I.b.TOOLBAR_GROUP,key:"products-filter-group",fields:[{component:V,key:"select-platforms",id:"products-platform-select",isMulti:!1,isSearchable:!0,placeholder:"Filter by Platform",options:t,onChange:i},{component:I.b.FILTER_TOOLBAR_ITEM,key:"filter-products-input",onFilterChange:c,searchValue:r,isDisabled:!p,placeholder:"Filter products"}]},z({groupName:"cancel-group-item"},Object(R.a)({key:"add-products-cancel-button",pathname:s,variant:"link","aria-label":"Cancel Add products to Portfolio",preserveSearch:!0,title:"Cancel"})),{component:I.b.TOOLBAR_ITEM,key:"add-group-item",fields:[{key:"portfolio-items-add-group",component:q.a,variant:"primary","aria-label":"Add products to Portfolio",title:"Add",type:"button",onClick:u,isDisabled:!a||n,showSpinner:n,children:"Add",id:"add-products-to-portfolio"}]}]},{component:I.b.LEVEL_ITEM,key:"pagination-item",fields:l?[{component:M.a,key:"add-products-pagination",meta:l,apiProps:p,apiRequest:f,isCompact:!0}]:[]}]}]}]}},J=n(434),U=n(444),G=n(446),K=n(26),Q=n(449),W=n(428);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return f.a.createElement(F.a,l()({key:e.id},e,{editMode:!0,onToggleItemSelect:function(){return t(e.id)},checked:n.includes(e.id)}))}))},$={filterValue:"",isFetching:!1,isFiltering:!1},ee=function(e,t){switch(t.type){case"setFetching":return Y(Y({},e),{},{isFetching:t.payload});case"setFilterValue":return Y(Y({},e),{},{filterValue:t.payload});case"setFilteringFlag":return Y(Y({},e),{},{isFiltering:t.payload})}return e},te=Object(W.a)((function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:C.a;r(!0),n(Object(J.b)(e,t,Y(Y({},o),{},{filter:t}))).then((function(){return r(!1)}))}),1e3),ne=function(e){var t=e.portfolioRoute,n=Object(p.useState)(void 0),r=i()(n,2),a=r[0],c=r[1],s=Object(p.useState)([]),u=i()(s,2),l=u[0],d=u[1],m=Object(p.useReducer)(ee,$),b=i()(m,2),h=b[0],g=h.filterValue,v=h.isFetching,y=b[1],O=Object(G.a)().push,j=Object(K.useDispatch)(),P=Object(K.useSelector)((function(e){var t=e.portfolioReducer.selectedPortfolio,n=e.platformReducer;return{platforms:n.platforms,platformItems:n.platformItems,isLoading:n.isPlatformDataLoading,portfolio:t}})),E=P.portfolio,k=P.platforms,_=P.platformItems,T=P.isLoading;Object(p.useEffect)((function(){j(Object(J.c)())}),[]);var w=a&&_[a.id]?_[a.id].data:[],F=a&&_[a.id]&&_[a.id].meta;return f.a.createElement(p.Fragment,null,f.a.createElement(x.a,{schema:H({options:k.map((function(e){return{value:e.id,label:e.name,id:e.id}})),isFetching:v,portfolioName:E&&E.name||"",itemsSelected:l.length>0,onOptionSelect:function(e){c(e),j(Object(J.b)(e.id,g,C.a))},onFilterChange:function(e){return function(e){y({type:"setFilterValue",payload:e}),te(a.id,e,j,(function(e){return y({type:"setFilteringFlag",payload:e})}),Y(Y({},F),{},{offset:0}))}(e)},portfolioRoute:t,onClickAddToPortfolio:function(){return j({type:"setFetching",payload:!0}),j(Object(U.b)(E.id,l)).then((function(){return j({type:"setFetching",payload:!1})})).then((function(){return O({pathname:t,search:"?portfolio=".concat(E.id)})})).then((function(){return j(Object(U.f)(E.id))})).catch((function(){return j({type:"setFetching",payload:!1})}))},meta:F,platformId:a&&a.id,searchValue:g,fetchPlatformItems:function(e,t){return j(Object(J.b)(e,g,t))}})}),f.a.createElement(S,{platform:!!a,checkedItems:l,isLoading:T,items:Z(w,(function(e){return d(function(e){var t=l.indexOf(e);return t>-1?[].concat(o()(l.slice(0,t)),o()(l.slice(t+1))):[].concat(o()(l),[e])}(e))}),l)}),F&&F.count>0&&f.a.createElement(Q.a,null,f.a.createElement(M.a,{meta:F,apiProps:a&&a.id,apiRequest:function(e,t){return Object(J.b)(e,g,t)},dropDirection:"up"})))};ne.propTypes={portfolioRoute:m.a.string.isRequired};t.default=ne}}]);
//# sourceMappingURL=../sourcemaps/add-products-to-portfolio~31ecd969.js.map