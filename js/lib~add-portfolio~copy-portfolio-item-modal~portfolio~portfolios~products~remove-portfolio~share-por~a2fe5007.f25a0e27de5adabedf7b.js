(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{540:function(t,e,n){"use strict";n.d(e,"g",(function(){return b})),n.d(e,"h",(function(){return I})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return P})),n.d(e,"i",(function(){return w})),n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return E})),n.d(e,"n",(function(){return j})),n.d(e,"k",(function(){return T})),n.d(e,"l",(function(){return N})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return F})),n.d(e,"m",(function(){return k})),n.d(e,"o",(function(){return A})),n.d(e,"j",(function(){return L}));var r=n(43),o=n.n(r),c=n(3),i=n.n(c),a=n(81),u=n.n(a),s=n(0),f=n.n(s),p=n(588),l=n(89),d=n(4),y=n(562),m=n(83);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.a,e=t.filter,n=u()(t,["filter"]);return{type:d.p,meta:v(v({},m.a),{},{filter:e},n),payload:y.k(e,n)}},b=function(t){return function(e){return e(O(t))}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.a;return function(e){return e(O(v(v({},t),{},{storeState:!0,stateKey:"portfolio"})))}},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a;return{type:d.r,meta:{filter:t,storeState:!0,stateKey:"products"},payload:y.j(e.limit,e.offset,t)}},P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a;return{type:d.s,payload:y.i(t,e),meta:v(v({},e),{},{storeState:!0,stateKey:"portfolioItems"})}},w=function(t){return{type:d.o,payload:y.f(t)}},_=function(t){return{type:d.a,payload:y.a(t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding portfolio",description:"Portfolio ".concat(t.name," was added successfully.")}}}}},E=function(t,e){return{type:d.c,payload:y.b(t,e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding products",description:"Products were successfully added to portfolio."}}}}},j=function(t,e){return function(n,r){return n({type:d.Y,payload:t}),y.p(t,{getState:r}).then((function(){return n(O(e))})).then((function(){return n({type:l.ADD_NOTIFICATION,payload:{dismissable:!0,variant:"success",title:"Success updating portfolio",description:"The portfolio was updated successfully."}})})).catch((function(t){throw n({type:d.I}),t})).catch((function(t){return n({type:"".concat(d.Y,"_REJECTED"),payload:t})}))}},D=function(t,e,n){return function(r){return r({type:l.CLEAR_NOTIFICATIONS}),y.o(t,e).then((function(t){return r({type:l.ADD_NOTIFICATION,payload:{variant:"success",dismissable:!0,title:"Portfolio ".concat(t.name," has been restored")}}),r(b(n))}))}},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){return n({type:d.e,payload:t}),n({type:d.D,payload:y.l(t).then((function(o){var c=o.restore_key;n({type:l.ADD_NOTIFICATION,payload:{variant:"success",title:"Success removing portfolio",dismissable:!0,description:f.a.createElement(s.Fragment,null,"The portfolio was removed successfully. You can ",f.a.createElement("a",{href:"#",id:"undo-delete-portfolio-".concat(t),onClick:function(r){r.preventDefault(),n(D(t,c,e))}},"Undo")," this action if this was a mistake.")}});var i=r().portfolioReducer.portfolios,a=i.meta,u=i.data;return n(b(v(v(v({},e),a),{},{offset:0===u.length?0:a.offset})))})).catch((function(t){throw n({type:d.I}),t}))})}},N=function(t,e){return function(n,r){n({type:"".concat(d.E,"_PENDING")});var o=r().portfolioReducer,c=o.portfolioItems.meta,i=o.selectedPortfolio.id;return y.m(t).then((function(t){return n(P(i,{offset:0,limit:c.limit,filter:""})).then((function(){return t}))})).then((function(r){return n({type:l.ADD_NOTIFICATION,payload:{variant:"success",title:"Products removed",dismissable:!0,description:f.a.createElement(p.a,{id:"portfolio.remove-portfolio-items",defaultMessage:"You have removed {count, number} {count, plural,\n            one {product}\n            other {products}\n          } from the {portfolioName} portfolio. {undo} if this was a mistake.",values:{count:t.length,portfolioName:e,undo:f.a.createElement("a",{href:"#",id:"restore-portfolio-item-".concat(i),onClick:function(t){t.preventDefault(),n(function(t,e){return function(n){return n({type:"".concat(d.G,"_PENDING")}),y.n(t).then((function(){return n({type:"".concat(d.G,"_FULFILLED")})})).then((function(){return n({type:l.CLEAR_NOTIFICATIONS})})).then((function(){return n(P(e))})).then((function(){return n({type:l.ADD_NOTIFICATION,payload:{variant:"success",dismissable:!0,title:"Products have been restored"}})})).catch((function(t){return n({type:"".concat(d.G,"_REJECTED"),payload:t})}))}}(r,i))}},"Undo")}})}})})).then((function(){return n({type:"".concat(d.E,"_FULFILLED")})})).catch((function(t){return n({type:"".concat(d.E,"_REJECTED"),payload:t})}))}},C=function(t){return function(e){return e({type:"COPY_PORTFOLIO_PENDING"}),y.c(t).then((function(t){return e({type:"COPY_PORTFOLIO_FULFILLED"}),e({type:l.ADD_NOTIFICATION,payload:{variant:"success",title:"You have successfully copied a portfolio",description:"".concat(t.name," has been copied."),dismissable:!0}}),t})).catch((function(t){return e({type:"COPY_PORTFOLIO_REJECTED",payload:t})}))}},F=function(t,e,n){return function(r){return y.d(t,e).then((function(t){return r({type:l.ADD_NOTIFICATION,payload:{variant:"success",title:"You have successfully copied a product",description:"".concat(t.name," has been copied into ").concat(n.name),dismissable:!0}}),t})).catch((function(t){return r({type:"COPY_PORTFOLIO_ITEM_REJECTED",payload:t})}))}},k=function(){return{type:d.F}},A=function(t){return function(e,n){return e({type:d.Z,payload:t}),y.q(t,{getState:n}).then((function(t){return e({type:d.W,payload:t}),t})).then((function(t){return e({type:l.ADD_NOTIFICATION,payload:{variant:"success",title:'Product "'.concat(t.name,'" was successfully updated'),dismissable:!0}})})).catch((function(t){throw e({type:d.H}),t})).catch((function(t){return e({type:"".concat(d.Z,"_REJECTED"),payload:t})}))}},L=function(t){return function(e){return e({type:"".concat(d.J,"_PENDING")}),y.h(t).then((function(t){var n=o()(t,2),r=n[0],c=n[1];return e({type:"".concat(d.J,"_FULFILLED"),payload:{portfolioItem:r,source:c}})}))}}},562:function(t,e,n){"use strict";n.d(e,"k",(function(){return P})),n.d(e,"j",(function(){return w})),n.d(e,"f",(function(){return _})),n.d(e,"i",(function(){return E})),n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return T})),n.d(e,"p",(function(){return C})),n.d(e,"l",(function(){return k})),n.d(e,"m",(function(){return S})),n.d(e,"q",(function(){return J})),n.d(e,"e",(function(){return G})),n.d(e,"n",(function(){return M})),n.d(e,"c",(function(){return U})),n.d(e,"d",(function(){return K})),n.d(e,"r",(function(){return q})),n.d(e,"h",(function(){return Z})),n.d(e,"g",(function(){return H})),n.d(e,"o",(function(){return W}));var r=n(70),o=n.n(r),c=n(81),i=n.n(c),a=n(120),u=n.n(a),s=n(24),f=n.n(s),p=n(3),l=n.n(p),d=n(116),y=n(18),m=n(149),h=n(83);function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){l()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var b=Object(d.a)(),I=Object(d.e)(),g=Object(d.f)();function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a,n=e.limit,r=e.offset;return b.get("".concat(y.c,"/portfolios?filter[name][contains_i]=").concat(t,"&limit=").concat(n,"&offset=").concat(r))}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return b.get("".concat(y.c,"/portfolio_items?filter[name][contains_i]=").concat(n,"&limit=").concat(t,"&offset=").concat(e)).then((function(t){var e=t.data.reduce((function(t,e,n){return e.portfolio_id?O(O({},t),{},l()({},e.portfolio_id,t[e.portfolio_id]?[].concat(f()(t[e.portfolio_id]),[n]):[n])):t}),{});return b.get("".concat(y.c,"/portfolios?").concat(Object.keys(e).map((function(t){return"filter[id][]=".concat(t)})).join("&"))).then((function(n){var r=n.data;return{portfolioItems:t,portfolioReference:e,portfolios:r}}))})).then((function(t){var e=t.portfolioItems,n=t.portfolioReference;return t.portfolios.forEach((function(t){var r=t.id,o=t.name;return n[r]&&n[r].forEach((function(t){e.data[t].portfolioName=o}))})),e}))}function _(t){return I.showPortfolio(t)}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.a,n=e.limit,r=e.offset,o=e.filter,c=void 0===o?"":o;return b.get("".concat(y.c,"/portfolios/").concat(t,"/portfolio_items?filter[name][contains_i]=").concat(c,"&limit=").concat(n,"&offset=").concat(r))}function j(t,e){return D.apply(this,arguments)}function D(){return(D=u()(o.a.mark((function t(e,n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I.createPortfolio(e);case 2:if(!((r=t.sent)&&n&&n.length>0)){t.next=5;break}return t.abrupt("return",T(r,n));case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t,e){return N.apply(this,arguments)}function N(){return(N=u()(o.a.mark((function t(e,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(n.map((function(t){return g.createPortfolioItem({portfolio_id:e,service_offering_ref:t})}))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function C(t,e){return F.apply(this,arguments)}function F(){return(F=u()(o.a.mark((function t(e,n){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,c=i()(e,["id"]),t.next=3,I.updatePortfolio(r,Object(m.b)(c,"Portfolio",n));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){return A.apply(this,arguments)}function A(){return(A=u()(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",I.destroyPortfolio(e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){return x.apply(this,arguments)}function x(){return(x=u()(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",g.destroyPortfolioItem(e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){return R.apply(this,arguments)}function R(){return(R=u()(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e.map(function(){var t=u()(o.a.mark((function t(e){var n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:return n=t.sent,r=n.restore_key,t.abrupt("return",{portfolioItemId:e,restoreKey:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(t,e){return Y.apply(this,arguments)}function Y(){return(Y=u()(o.a.mark((function t(e,n){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,c=i()(e,["id"]),t.next=3,g.updatePortfolioItem(r,Object(m.b)(c,"PortfolioItem",n));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function G(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return b.get("".concat(y.c,"/portfolios"),{params:{filter:{name:t}}})}var M=function(t){return Promise.all(t.map((function(t){var e=t.portfolioItemId,n=t.restoreKey;return g.unDeletePortfolioItem(e,{restore_key:n})})))},U=function(t){return I.postCopyPortfolio(t)},K=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g.postCopyPortfolioItem(t,e)},q=function(t,e,n){var r=new FormData;return r.append("content",e,e.name),n?b.patch("".concat(y.c,"/icons/").concat(n),r):(r.append("portfolio_item_id",t),b.post("".concat(y.c,"/icons"),r,{headers:{accept:"application/json","Content-Type":"multipart/form-data; boundary=".concat(r._boundary)}}))},Z=function(t){return Promise.all([b.get("".concat(y.c,"/portfolio_items/").concat(t.portfolioItem)),b.get("".concat(y.i,"/sources/").concat(t.source)).catch((function(t){if(404===t.status)return{object:"platform",notFound:!0};throw t}))])},H=function(t,e){return t.selectedPortfolio&&t.selectedPortfolio.id===e?t.selectedPortfolio:t.portfolios.data.find((function(t){return t.id===e}))},W=function(t,e){return b.post("".concat(y.c,"/portfolios/").concat(t,"/undelete"),{restore_key:e})}},588:function(t,e,n){"use strict";var r=n(0),o=n(163),c=n(127),i=n(9),a=n(126),u=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n};const s=n.n(a).a||a,f=(t,e)=>Object(c.b)(Object.assign(Object.assign({},i.a),{locale:"en"}),Object(i.c)(),t,e);class p extends r.Component{shouldComponentUpdate(t){const e=this.props,{values:n}=e,r=u(e,["values"]),{values:o}=t,c=u(t,["values"]);return!s(o,n)||!s(r,c)}render(){return r.createElement(o.a.Consumer,null,t=>{this.props.defaultMessage||Object(i.h)(t);const{formatMessage:e=f,textComponent:n=r.Fragment}=t||{},{id:o,description:c,defaultMessage:a,values:u,children:s,tagName:p=n}=this.props;let l=e({id:o,description:c,defaultMessage:a},u);return Array.isArray(l)||(l=[l]),"function"==typeof s?s(...l):p?r.createElement(p,null,...l):l})}}p.displayName="FormattedMessage",p.defaultProps={values:{}},e.a=p}}]);
//# sourceMappingURL=../sourcemaps/lib~add-portfolio~copy-portfolio-item-modal~portfolio~portfolios~products~remove-portfolio~share-por~a2fe5007.js.map