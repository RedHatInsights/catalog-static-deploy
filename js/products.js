(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{339:function(t,e,n){"use strict";var r=n(367);e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(r.a)(t,e,n)}},342:function(t,e,n){"use strict";n.d(e,"g",(function(){return v})),n.d(e,"e",(function(){return O})),n.d(e,"f",(function(){return P})),n.d(e,"h",(function(){return _})),n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return E})),n.d(e,"m",(function(){return I})),n.d(e,"j",(function(){return D})),n.d(e,"k",(function(){return w})),n.d(e,"c",(function(){return T})),n.d(e,"d",(function(){return C})),n.d(e,"l",(function(){return k})),n.d(e,"n",(function(){return F})),n.d(e,"i",(function(){return L}));var r=n(83),o=n.n(r),c=n(1),a=n.n(c),i=n(47),u=n.n(i),s=n(0),f=n.n(s),l=n(497),p=n(40),d=n(2),y=n(349),m=n(49);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.a,e=t.filter,n=u()(t,["filter"]);return{type:d.o,meta:{filter:e},payload:y.l(e,n)}},v=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return t(g.apply(void 0,e))}},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a;return{type:d.q,meta:{filter:t},payload:y.k(e.limit,e.offset,t)}},P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a;return{type:d.r,meta:{filter:e.filter},payload:y.j(t,e)}},_=function(t){return{type:d.n,payload:y.f(t)}},j=function(t,e){return function(n){return n({type:d.b,payload:b({},t,{isDisabled:!0,isTemporary:!0})}),n({type:d.a,payload:y.a(b({},t),e).then((function(){return n(g())})).catch((function(t){throw n({type:d.H}),t})),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding portfolio",description:"Portfolio ".concat(t.name," was added successfully.")}}}})}},E=function(t,e){return{type:d.c,payload:y.b(t,e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding products",description:"Products were successfully added to portfolio."}}}}},I=function(t){return function(e,n){return e({type:d.X,payload:t}),y.p(t,{getState:n}).then((function(){return e(g())})).then((function(){return e({type:p.ADD_NOTIFICATION,payload:{dismissable:!0,variant:"success",title:"Success updating portfolio",description:"The portfolio was updated successfully."}})})).catch((function(t){throw e({type:d.H}),t})).catch((function(t){return e({type:"".concat(d.X,"_REJECTED"),payload:t})}))}},D=function(t){return function(e){return e({type:d.e,payload:t}),e({type:d.C,payload:y.m(t).then((function(){return e(g())})).catch((function(t){throw e({type:d.H}),t})),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing portfolio",description:"The portfolio was removed successfully."}}}})}},w=function(t,e){return function(n,r){n({type:"".concat(d.D,"_PENDING")});var o=r().portfolioReducer,c=o.portfolioItems.meta,a=o.selectedPortfolio.id;return y.n(t).then((function(t){return n(P(a,{offset:0,limit:c.limit,filter:""})).then((function(){return t}))})).then((function(r){return n({type:p.ADD_NOTIFICATION,payload:{variant:"success",title:"Products removed",dismissable:!0,description:f.a.createElement(l.a,{id:"portfolio.remove-portfolio-items",defaultMessage:"You have removed {count, number} {count, plural,\n            one {product}\n            other {products}\n          } from the {portfolioName} portfolio. {undo} if this was a mistake.",values:{count:t.length,portfolioName:e,undo:f.a.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),n(function(t,e){return function(n){return n({type:"".concat(d.F,"_PENDING")}),y.o(t).then((function(){return n({type:"".concat(d.F,"_FULFILLED")})})).then((function(){return n({type:p.CLEAR_NOTIFICATIONS})})).then((function(){return n(P(e))})).then((function(){return n({type:p.ADD_NOTIFICATION,payload:{variant:"success",dismissable:!0,title:"Products have been restored"}})})).catch((function(t){return n({type:"".concat(d.F,"_REJECTED"),payload:t})}))}}(r,a))}},"Undo")}})}})})).then((function(){return n({type:"".concat(d.D,"_FULFILLED")})})).catch((function(t){return n({type:"".concat(d.D,"_REJECTED"),payload:t})}))}},T=function(t){return function(e){return e({type:"COPY_PORTFOLIO_PENDING"}),y.c(t).then((function(t){return e({type:"COPY_PORTFOLIO_FULFILLED"}),e({type:p.ADD_NOTIFICATION,payload:{variant:"success",title:"You have successfully copied a portfolio",description:"".concat(t.name," has been copied."),dismissable:!0}}),t})).catch((function(t){return e({type:"COPY_PORTFOLIO_REJECTED",payload:t})}))}},C=function(t,e,n){return function(r){return y.d(t,e).then((function(t){return r({type:p.ADD_NOTIFICATION,payload:{variant:"success",title:"You have successfully copied a product",description:"".concat(t.name," has been copied into ").concat(n.name),dismissable:!0}}),t})).catch((function(t){return r({type:"COPY_PORTFOLIO_ITEM_REJECTED",payload:t})}))}},k=function(){return{type:d.E}},F=function(t){return function(e,n){return e({type:d.Y,payload:t}),y.q(t,{getState:n}).then((function(){return e({type:d.V,payload:t}),t})).then((function(t){return e({type:p.ADD_NOTIFICATION,payload:{variant:"success",title:'Portfolio item "'.concat(t.name,'" was successfully updated'),dismissable:!0}})})).catch((function(t){throw e({type:d.G}),t})).catch((function(t){return e({type:"".concat(d.Y,"_REJECTED"),payload:t})}))}},L=function(t){return function(e){return e({type:"".concat(d.I,"_PENDING")}),y.i(t).then((function(t){var n=o()(t,3),r=n[0],c=n[1],a=n[2];return e({type:"".concat(d.I,"_FULFILLED"),payload:{portfolioItem:r,portfolio:c,source:a}})}))}}},345:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"getPlatforms",(function(){return m})),n.d(r,"getPlatform",(function(){return h})),n.d(r,"getPlatformItems",(function(){return b})),n.d(r,"getPlatformInventories",(function(){return g})),n.d(r,"getServiceOffering",(function(){return v}));var o=n(1),c=n.n(o),a=n(2),i=n(83),u=n.n(i),s=n(57),f=n(12),l=n(49);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var d=Object(s.a)(),y=Object(s.b)(),m=function(){return y.post("".concat(f.h,"/graphql"),{query:'\nquery {\n  application_types (filter: { name: "/insights/platform/catalog" }) {\n    id\n    name\n    sources {\n      id\n      name\n      source_type_id\n    }\n  }\n}'}).then((function(t){return t.data.application_types})).then((function(t){return u()(t,1)[0].sources}))},h=function(t){return d.get("".concat(f.h,"/sources/").concat(t))},b=function(t,e,n){var r=e?"&filter[name][contains_i]=".concat(e):"";return t?d.get("".concat(f.i,"/sources/").concat(t,"/service_offerings?filter[archived_at][nil]").concat(r).concat(n?"&limit=".concat(n.limit,"&offset=").concat(n.offset):"")):d.get("".concat(f.i,"/service_offerings"))},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.a;return t?d.get("".concat(f.i,"/sources/").concat(t,"/service_inventories?filter[name][contains_i]=").concat(e).concat(n?"&limit=".concat(n.limit,"&offset=").concat(n.offset):"")):d.get("".concat(f.i,"/service_inventories?limit=").concat(n.limit,"&offset=").concat(n.offset))},v=function(t,e){return Promise.all([d.get("".concat(f.i,"/service_offerings/").concat(t)),d.get("".concat(f.h,"/sources/").concat(e)).then((function(t){return d.get("".concat(f.h,"/source_types/").concat(t.source_type_id)).then((function(e){var n=e.icon_url;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t,{icon_url:n})}))}))]).then((function(t){var e=u()(t,2);return{service:e[0],source:e[1]}}))};function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.d(e,"c",(function(){return _})),n.d(e,"b",(function(){return j})),n.d(e,"d",(function(){return E})),n.d(e,"a",(function(){return I})),n.d(e,"e",(function(){return D}));var _=function(){return function(t){return t((function(t){return t({type:"".concat(a.j,"_PENDING")}),m().then((function(e){return t({type:"".concat(a.j,"_FULFILLED"),payload:e})})).catch((function(e){return t({type:"".concat(a.j,"_REJECTED"),payload:e})}))}))}},j=function(t,e,n){return{type:a.m,payload:b(t,e,n),meta:P({platformId:t,filter:e},n)}},E=function(t){return{type:a.i,payload:h(t)}},I=function(t,e,n){return{type:a.k,payload:g(t,e,n)}},D=function(){return{type:a.u,payload:v.apply(r,arguments)}}},349:function(t,e,n){"use strict";n.d(e,"l",(function(){return y})),n.d(e,"k",(function(){return m})),n.d(e,"h",(function(){return h})),n.d(e,"f",(function(){return b})),n.d(e,"j",(function(){return g})),n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return O})),n.d(e,"p",(function(){return P})),n.d(e,"m",(function(){return _})),n.d(e,"n",(function(){return E})),n.d(e,"q",(function(){return I})),n.d(e,"e",(function(){return D})),n.d(e,"o",(function(){return w})),n.d(e,"c",(function(){return T})),n.d(e,"d",(function(){return C})),n.d(e,"r",(function(){return k})),n.d(e,"i",(function(){return F})),n.d(e,"g",(function(){return L}));n(28),n(1);var r=n(47),o=n.n(r),c=n(42),a=n.n(c),i=n(57),u=n(12),s=n(348),f=n(49);var l=Object(i.a)(),p=Object(i.e)(),d=Object(i.f)();function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a,n=e.limit,r=e.offset;return l.get("".concat(u.c,"/portfolios?filter[name][contains_i]=").concat(t,"&limit=").concat(n,"&offset=").concat(r))}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return l.get("".concat(u.c,"/portfolio_items?filter[name][contains_i]=").concat(n,"&limit=").concat(t,"&offset=").concat(e))}function h(t){return l.get("".concat(u.c,"/portfolio_items/").concat(t))}function b(t){return p.showPortfolio(t)}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a,n=e.limit,r=e.offset,o=e.filter,c=void 0===o?"":o;return l.get("".concat(u.c,"/portfolios/").concat(t,"/portfolio_items?filter[name][contains_i]=").concat(c,"&limit=").concat(n,"&offset=").concat(r))}function v(t,e){var n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(p.createPortfolio(t));case 2:if(n=r.sent){r.next=5;break}return r.abrupt("return",n);case 5:if(!(e&&e.length>0)){r.next=7;break}return r.abrupt("return",O(n,e));case 7:case"end":return r.stop()}}))}function O(t,e){return a.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.all(e.map((function(e){return d.createPortfolioItem({portfolio_id:t,service_offering_ref:e})}))));case 1:case"end":return n.stop()}}))}function P(t,e){var n,r;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.id,r=o()(t,["id"]),c.next=3,a.a.awrap(p.updatePortfolio(n,Object(s.b)(r,"Portfolio",e)));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}}))}function _(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.awrap(p.destroyPortfolio(t));case 2:case"end":return e.stop()}}))}function j(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",d.destroyPortfolioItem(t));case 1:case"end":return e.stop()}}))}function E(t){return a.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map((function(t){var e,n;return a.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.a.awrap(j(t));case 2:return e=r.sent,n=e.restore_key,r.abrupt("return",{portfolioItemId:t,restoreKey:n});case 5:case"end":return r.stop()}}))}))));case 1:case"end":return e.stop()}}))}function I(t,e){var n,r;return a.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n=t.id,r=o()(t,["id"]),c.next=3,a.a.awrap(d.updatePortfolioItem(n,Object(s.b)(r,"PortfolioItem",e)));case 3:return c.abrupt("return",c.sent);case 4:case"end":return c.stop()}}))}function D(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l.get("".concat(u.c,"/portfolios"),{params:{filter:{name:t}}})}var w=function(t){return Promise.all(t.map((function(t){var e=t.portfolioItemId,n=t.restoreKey;return d.unDeletePortfolioItem(e,{restore_key:n})})))},T=function(t){return p.postCopyPortfolio(t)},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.postCopyPortfolioItem(t,e)},k=function(t,e,n){var r=new FormData;return r.append("content",e,e.name),n?l.patch("".concat(u.c,"/icons/").concat(n),r):(r.append("portfolio_item_id",t),l.post("".concat(u.c,"/icons"),r,{headers:{accept:"application/json","Content-Type":"multipart/form-data; boundary=".concat(r._boundary)}}))},F=function(t){return Promise.all([l.get("".concat(u.c,"/portfolio_items/").concat(t.portfolioItem)),l.get("".concat(u.c,"/portfolios/").concat(t.portfolio)),l.get("".concat(u.h,"/sources/").concat(t.source))])},L=function(t,e){return t.selectedPortfolio&&t.selectedPortfolio.id===e?t.selectedPortfolio:t.portfolios.data.find((function(t){return t.id===e}))}},351:function(t,e,n){"use strict";var r=n(83),o=n.n(r),c=n(84),a=n.n(c),i=n(0),u=n.n(i),s=n(3),f=n.n(s),l=n(85),p=n(34),d=n(50),y=n(359),m=n.n(y),h=n(371);function b(){var t=a()(["\n  height: ",";\n  display: ",";\n  float: ",";\n  width: ",";\n"]);return b=function(){return t},t}var g=Object(l.b)(h.LazyLoadImage)(b(),(function(t){var e=t.height;return t.hidden?"0px":"".concat(e,"px")||!1}),(function(t){return t.hidden?"none":"inherit"}),(function(t){return t.hidden?"left":"inherit"}),(function(t){return t.hidden?0:"inherit"}));function v(){var t=a()(["\n  display: inline-block;\n  height: ",";\n"]);return v=function(){return t},t}var O=l.b.div(v(),(function(t){var e=t.height;return"".concat(e,"px")})),P=function(t){var e=t.src,n=t.height,r=t.sourceId,c=Object(i.useState)(!1),a=o()(c,2),s=a[0],f=a[1],l=Object(i.useState)(!1),y=o()(l,2),h=y[0],b=y[1],v=Object(p.useSelector)((function(t){return t.platformReducer.platformIconMapping})),P=r?v[r]:m.a;return u.a.createElement(O,{height:n},!s&&u.a.createElement(d.c,{height:n}),u.a.createElement(g,{threshold:2e3,delayTime:0,hidden:!s,height:s?n:0,onError:function(){return b(!0)},onLoad:function(){return f(!0)},src:!e||h?P:e}))};P.propTypes={src:f.a.string,platformId:f.a.string,style:f.a.object,height:f.a.number,sourceId:f.a.string},P.defaultProps={style:{},height:40};e.a=P},359:function(t,e,n){t.exports=n.p+"fonts/card-icon-default.svg"},382:function(t,e,n){"use strict";var r=n(0),o=n.n(r),c=n(3),a=n.n(c),i=n(379),u=function(t){var e=t.handleCheck,n=t.isChecked,r=t.id;return o.a.createElement(i.Checkbox,{onClick:function(t){return t.stopPropagation()},isChecked:n,onChange:e,"aria-label":"card checkbox",id:r})};u.propTypes={handleCheck:a.a.func,isChecked:a.a.bool,id:a.a.string},e.a=u},383:function(t,e,n){"use strict";var r=n(1),o=n.n(r),c=n(27),a=n.n(c),i=n(47),u=n.n(i),s=n(84),f=n.n(s),l=n(0),p=n.n(l),d=n(3),y=n.n(d),m=n(60),h=n(21),b=n(39),g=n(380),v=n(352),O=n(360),P=n(85);function _(){var t=f()(["\n  height: 240px;\n"]);return _=function(){return t},t}var j=Object(P.b)(m.CardBody)(_()),E=function(t){var e=t.name,n=(t.display_name,t.distributor),r=t.pathname,o=t.searchParams,c=t.preserveSearch,i=u()(t,["name","display_name","distributor","pathname","searchParams","preserveSearch"]);return p.a.createElement(j,null,p.a.createElement(b.TextContent,null,p.a.createElement(v.a,{pathname:r,searchParams:o,preserveSearch:c},p.a.createElement(h.Text,{component:h.TextVariants.h3,title:e},p.a.createElement(O.a,null,e))),p.a.createElement(h.Text,{component:h.TextVariants.small},n," ")),p.a.createElement(g.a,a()({},i,{toDisplay:[i.description?"description":"long_description"]})))};E.propTypes={name:y.a.string,display_name:y.a.string,distributor:y.a.string,long_description:y.a.string,description:y.a.string,pathname:y.a.string,preserveSearch:y.a.bool,searchParams:y.a.shape(o()({},y.a.string,y.a.string))},e.a=E},387:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return l}));var r=n(1),o=n.n(r),c=n(47),a=n.n(c),i=n(341);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=function(t){var e=t.groupName,n=t.hidden,r=void 0!==n&&n,o=a()(t,["groupName","hidden"]);return{component:i.b.TOOLBAR_GROUP,key:"".concat(e,"/single-toolbar-item-group"),fields:r?[]:[{component:i.b.TOOLBAR_ITEM,key:"".concat(e,"/single-toolbar-item"),fields:[o]}]}},l=function(t){var e=t.pathname,n=t.preserveSearch,r=a()(t,["pathname","preserveSearch"]);return{component:i.b.LINK,pathname:e,preserveSearch:n,key:"".concat(r.key,"/button-link"),isDisabled:r.isDisabled,fields:[s({component:i.b.BUTTON},r)]}}},431:function(t,e,n){"use strict";var r=n(0),o=n.n(r),c=n(3),a=n.n(c),i=n(370),u=n(372),s=n(152),f=n(12),l=n(351),p=n(382),d=n(383),y=n(369),m=function(t){return o.a.createElement(y.b,{isDisabled:t.removeInProgress&&t.isSelected},o.a.createElement(y.a,null,o.a.createElement(i.CardHeader,{className:"card_header"},o.a.createElement(s.Level,null,o.a.createElement(l.a,{src:"".concat(f.c,"/portfolio_items/").concat(t.id,"/icon"),sourceId:t.service_offering_source_ref}),t.isSelectable&&o.a.createElement(p.a,{handleCheck:function(){return t.onSelect(t.id)},isChecked:t.isSelected,id:t.id}))),o.a.createElement(d.a,t),o.a.createElement(u.CardFooter,null)))};m.propTypes={id:a.a.string,platformId:a.a.string,service_offering_source_ref:a.a.string,isSelectable:a.a.bool,isSelected:a.a.bool,onSelect:a.a.func,orderUrl:a.a.string,removeInProgress:a.a.bool,portfolio_id:a.a.string},e.a=m},625:function(t,e,n){"use strict";n.r(e);var r=n(27),o=n.n(r),c=n(83),a=n.n(c),i=n(1),u=n.n(i),s=n(0),f=n.n(s),l=n(34),p=n(403),d=n.n(p),y=n(350),m=n.n(y),h=n(342),b=n(348),g=n(431),v=n(341),O=n(387),P=n(343),_=function(t){var e=t.meta,n=t.fetchProducts,r=t.isLoading,o=t.filterProps,c=o.searchValue,a=o.onFilterChange,i=o.placeholder;return{fields:[{component:v.b.TOP_TOOLBAR,key:"products-top-toolbar",fields:[{component:v.b.TOP_TOOLBAR_TITLE,key:"products-toolbar-title",title:"Products",description:"All products collected from your portfolios",noData:e.noData},{component:v.b.LEVEL,key:"Products-actions",fields:e.noData?[]:[{component:v.b.TOOLBAR,key:"main-portfolio-toolbar",fields:[Object(O.b)({groupName:"filter-group",component:v.b.FILTER_TOOLBAR_ITEM,key:"filter-input",searchValue:c,onFilterChange:a,placeholder:i,isClearable:!0})]},{component:v.b.LEVEL_ITEM,key:"pagination-item",fields:e.count>0?[{component:P.a,key:"products-pagination",meta:e,apiProps:c,apiRequest:n,isDisabled:r,isCompact:!0}]:[]}]}]}]}},j=n(356),E=n(49),I=n(374),D=n(345),w=n(339),T=n(363),C=n(86),k=n(115),F=n(51);function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){u()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S=Object(w.a)((function(t,e,n){n(!0),e(Object(h.e)(t,E.a)).then((function(){return n(!1)}))}),1e3),x={filterValue:"",isOpen:!1,isFetching:!0,isFiltering:!1},R=function(t,e){switch(e.type){case"setFetching":return N({},t,{isFetching:e.payload});case"setFilterValue":return N({},t,{filterValue:e.payload});case"setFilteringFlag":return N({},t,{isFiltering:e.payload})}return t};e.default=function(){var t=Object(s.useContext)(k.a).release,e=Object(s.useReducer)(R,x),n=a()(e,2),r=n[0],c=r.isFetching,i=r.filterValue,u=r.isFiltering,p=n[1],y=Object(l.useDispatch)(),v=Object(l.useSelector)((function(t){return t.portfolioReducer.portfolioItems})),O=v.data,w=v.meta;Object(s.useEffect)((function(){Promise.all([y(Object(h.e)(void 0,E.a)),y(Object(D.c)())]).then((function(){return p({type:"setFetching",payload:!1})})),Object(b.c)(),insights.chrome.appNavClick({id:"products",secondaryNav:!0})}),[]);var L=function(t){p({type:"setFilterValue",payload:t}),S(t,y,(function(t){return p({type:"setFilteringFlag",payload:t})}))},N=O.map((function(t){return f.a.createElement(g.a,o()({key:t.id,pathname:t.portfolio_id&&F.t},(n=(e=t).portfolio_id,r=e.id,c=e.service_offering_source_ref,n&&r&&c?{pathname:n&&F.t,searchParams:{portfolio:n,"portfolio-item":r,source:c}}:{}),t));var e,n,r,c})),A={PrimaryAction:w.noData?function(){return f.a.createElement("a",{href:"".concat(t,"settings/sources/new")},f.a.createElement(C.Button,{variant:"primary"},"Add source"))}:function(){return f.a.createElement(C.Button,{variant:"link",onClick:function(){return L("")}},"Clear all filters")},title:w.noData?"No products yet":"No results found",description:w.noData?"Configure a source to add products into portfolios.":"No results match the filter criteria. Remove all filters or clear all filters to show results.",Icon:w.noData?d.a:m.a};return f.a.createElement("div",null,f.a.createElement(j.a,{schema:_({filterProps:{searchValue:i,onFilterChange:L,placeholder:"Filter by product..."},title:"Products",isLoading:u||c,meta:w,fetchProducts:function(){return y(h.e.apply(void 0,arguments))}})}),f.a.createElement(I.a,{isLoading:u||c,items:N,renderEmptyState:function(){return f.a.createElement(T.b,A)}}),w.count>0&&f.a.createElement("div",{className:"pf-u-p-lg global-primary-background content-layout"},f.a.createElement(P.a,{dropDirection:"up",meta:w,apiRequest:function(){return y(h.e.apply(void 0,arguments))}})))}}}]);
//# sourceMappingURL=../sourcemaps/products.js.map