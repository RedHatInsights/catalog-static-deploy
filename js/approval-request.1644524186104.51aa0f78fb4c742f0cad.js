"use strict";(self.webpackChunkcatalog=self.webpackChunkcatalog||[]).push([[2798],{79074:(e,t,n)=>{t.Tw={name:"InfoIcon",height:512,width:192,svgPath:"M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z",yOffset:0,xOffset:0},t.sz=n(35183).createIcon(t.Tw),t.ZP=t.sz},53538:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(30624),a=n.n(r),l=n(14494),o=n(65832),c=n(41436),i=n(62410),s=n(79074),m=n(2482),u=n(85132),d=n(40229),p=n(31644),f=n(56682),x=n(23349),E=n(42413),T=n(35388),v=n(63035),h=["updated","group_name","decision"],I=function(e){return!e||!e.data||0===e.data.length};const L=function(){var e=(0,x.Z)(),t=(0,l.I0)(),n=(0,r.useState)({}),L=n[0],y=n[1],b=(0,l.v9)((function(e){return e.orderReducer.orderDetail})),w=b.order,g=b.approvalRequest,V=b.platform,Z=b.orderItem,k=b.portfolio,B=b.portfolioItem,C=(0,r.useState)(!0),S=C[0],z=C[1];if((0,r.useEffect)((function(){var e,n,r,a,l;(null==Z?void 0:Z.id)&&I(g)&&(z(!0),(e=function(){return t((e=Z.id,(0,v.$W)()?(0,u.MX)(e):(0,m.MX)(e)));var e},n=void 0,r=void 0,a=void 0,l=function(){var t,n;return function(e,t){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((a=(a=o.trys).length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(r){switch(r.label){case 0:t=0,r.label=1;case 1:return t<=T.xX?[4,e()]:[3,4];case 2:return(null==(n=r.sent())?void 0:n.data.length)>0||t++>=T.xX?[2,"Finished"]:[4,(0,v.gw)(3e3)];case 3:return r.sent(),[3,1];case 4:return[2]}}))},new(a||(a=Promise))((function(e,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function c(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,c)}i((l=l.apply(n,r||[])).next())}))).then((function(){return z(!1)})))}),[]),I(g)&&!S)return a().createElement(o.Bullseye,{id:"no-approval-requests"},a().createElement(o.Flex,{direction:{default:"column"},grow:{default:"grow"}},a().createElement(o.Bullseye,null,a().createElement(s.ZP,{size:"xl"})),a().createElement(o.Bullseye,null,a().createElement(o.Title,{headingLevel:"h1",size:"2xl"},e(d.Z.noApprovalRequests)))));var q=[{title:"Updated",transforms:[c.sortable]},{title:"Name",transforms:[c.sortable]},"Decision"],G=function(e){return E.Z[p.Z[(0,p.C)(e.decision)].defaultMessage||"Unknown"]},D=(null==g?void 0:g.data.map((function(t){return h.map((function(n){return"decision"===n?a().createElement(c.TableText,null,a().createElement(o.TextContent,{style:{color:G(t).color}},G(t).icon,"Â ",e(p.Z[(0,p.C)(t[n])]))):"updated"===n?a().createElement(r.Fragment,null,a().createElement(i.Z,{date:t[n],type:"exact"})):t[n]}))})).sort((function(e,t){return e[L.index]<t[L.index]?-1:e[L.index]<t[L.index]?1:0})))||[];return a().createElement(o.TextContent,null,I(g)?a().createElement(o.Bullseye,null,a().createElement(o.Flex,{direction:{default:"column"},grow:{default:"grow"}},a().createElement(o.Bullseye,{id:"creating-approval-request"},a().createElement(o.Title,{headingLevel:"h1",size:"xl"},e(d.Z.creatingApprovalRequest))),a().createElement(o.Bullseye,null,a().createElement(o.Spinner,{size:"xl"})))):a().createElement(o.Grid,{hasGutter:!0},a().createElement(o.GridItem,{md:12,lg:6,xl:4},a().createElement(o.Stack,{hasGutter:!0},a().createElement(o.StackItem,null,a().createElement(o.Card,null,a().createElement(o.CardBody,null,a().createElement(o.Text,{className:"pf-u-mb-md",component:o.TextVariants.h2},e(d.Z.approvalTitle)),a().createElement(o.TextList,{component:o.TextListVariants.dl},a().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},e(f.Z.product)),a().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},B.name),a().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},e(d.Z.orderID)),a().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},w.id),a().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},e(d.Z.orderDate)),a().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},a().createElement(i.Z,{date:w.created_at,variant:"relative"})),a().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},e(d.Z.orderedByLabel)),a().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},w.owner),a().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},e(f.Z.portfolio)),a().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},k.name),a().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},e(f.Z.platform)),a().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},V.name))))),a().createElement(o.StackItem,null,a().createElement(o.Card,null,a().createElement(o.CardBody,null,a().createElement(o.Text,{className:"pf-u-mb-md",component:o.TextVariants.h2},e(d.Z.approvalParameters)),a().createElement(o.TextList,{className:"overflow-wrap",component:o.TextListVariants.dl},Object.entries((null==Z?void 0:Z.service_parameters)||[]).map((function(e){var t=e[0],n=e[1];return a().createElement(r.Fragment,{key:t},a().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},t),a().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},n))})))))))),a().createElement(o.GridItem,{md:12,lg:6,xl:8},a().createElement(o.Card,null,a().createElement(o.CardBody,null,a().createElement(o.Text,{className:"pf-u-mb-md",component:o.TextVariants.h2},e(d.Z.activity)),a().createElement(c.Table,{"aria-label":"Approval request activity",onSort:function(e,t,n){return y({index:t,direction:n})},sortBy:L,cells:q,rows:L.direction===c.SortByDirection.asc?D:D.reverse()},a().createElement(c.TableHeader,null),a().createElement(c.TableBody,null)))))))}}}]);
//# sourceMappingURL=../sourcemaps/approval-request.13ebab3bc6d8b64ac54bfd9793aab095.js.map