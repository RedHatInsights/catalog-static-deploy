"use strict";(self.webpackChunkcatalog=self.webpackChunkcatalog||[]).push([[6267],{79074:(e,t,r)=>{t.Tw={name:"InfoIcon",height:512,width:192,svgPath:"M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z",yOffset:0,xOffset:0},t.sz=r(35183).createIcon(t.Tw),t.ZP=t.sz},17281:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var n=r(30624),l=r.n(n),a=r(14494),s=r(65832),c=r(41436),o=r(79074),i=r(2482),m=r(40229),u=r(23349),d=r(31644),p=r(42413),f=r(62410),E=r(55171),g=r.n(E);const v=function(e){var t=e.orderItem,r=e.progressMessages,n=e.formatMessage;return l().createElement(s.Grid,{hasGutter:!0},l().createElement(s.GridItem,{md:12,lg:6,xl:4},l().createElement(s.Stack,{hasGutter:!0},l().createElement(s.StackItem,null,l().createElement(s.Card,null,l().createElement(s.CardBody,null,l().createElement(s.TextContent,null,l().createElement(s.Text,{className:"pf-u-mb-md",component:s.TextVariants.h2},n(m.Z.orderItemParameters))),(null==t?void 0:t.service_parameters)&&l().createElement(g(),{src:t.service_parameters})))))),l().createElement(s.GridItem,{md:12,lg:6,xl:8},l().createElement(s.Card,null,l().createElement(s.CardBody,null,l().createElement(s.TextContent,null,l().createElement(s.Text,{className:"pf-u-mb-md",component:s.TextVariants.h2},n(m.Z.orderProgressMessages))),l().createElement(g(),{src:r})))))};var h=r(72510),x=r(63035),T=function(){return(T=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},y=function(e,t,r){if(r||2===arguments.length)for(var n,l=0,a=t.length;l<a;l++)!n&&l in t||(n||(n=Array.prototype.slice.call(t,0,l)),n[l]=t[l]);return e.concat(n||Array.prototype.slice.call(t))};const I=function(){var e=(0,u.Z)(),t=(0,n.useState)(!0),r=t[0],E=t[1],g=(0,a.I0)(),I=(0,a.v9)((function(e){return e.orderReducer.orderDetail})).order,b=(0,a.v9)((function(e){return e.orderReducer.orderProvision})),C=(0,n.useContext)(h.Z).permissions,Z=(0,x.Fs)(C,["catalog:order_processes:link"]);if(!r&&function(e){return!e||!e.orderItems||0===e.orderItems.length}(b))return l().createElement(s.Bullseye,{id:"no-order-provision"},l().createElement(s.Flex,{direction:{default:"column"},grow:{default:"grow"}},l().createElement(s.Bullseye,null,l().createElement(o.ZP,{size:"xl"})),l().createElement(s.Bullseye,null,l().createElement(s.Title,{headingLevel:"h1",size:"2xl"},e(m.Z.noOrderProvision)))));var O=[{title:"Updated",cellFormatters:Z?[c.expandable]:[]},{title:"Type"},{title:"Activity"},{title:""}],w=function(e,t){var r,n=(0,d.C)(e.state);return{id:e.id,isOpen:!1,cells:[{title:l().createElement(s.Text,{className:"pf-u-mb-0",component:s.TextVariants.small},l().createElement(f.Z,{date:e.updated_at,type:"exact"}))},{title:l().createElement(s.Text,{className:"pf-u-mb-0",component:s.TextVariants.small},l().createElement(c.TableText,null,(r=e.process_scope||t(m.Z.defaultOrderItemType),(null==r?void 0:r.charAt(0).toUpperCase())+(null==r?void 0:r.slice(1)))))},{title:l().createElement(s.Text,{className:"pf-u-mb-0",component:s.TextVariants.small},l().createElement(c.TableText,null,e.name))},{title:l().createElement(c.TableText,null,l().createElement(s.TextContent,{style:{color:p.Z[e.state].color}},p.Z[e.state].icon,"Â ",t(d.Z[n])))}]}},M=function(){return b.orderItems.reduce((function(t,r,n){var a=function(e,t,r){var n=[w(e,t)];if(Z&&b.progressMessageItems&&b.progressMessageItems.length>0){var a=b.progressMessageItems.find((function(t){return t.orderItemId===e.id}));a&&n.push(function(e,t,r,n){return{parent:2*n,cells:[{title:l().createElement(v,{orderItem:e,progressMessages:t,formatMessage:r})}]}}(e,a.progressMessages,t,r))}return n}(r,e,n);return y(y([],t,!0),a,!0)}),[])},B=(0,n.useState)(M()),P=B[0],z=B[1];return(0,n.useEffect)((function(){E(!0),Promise.all([g((0,i.zr)(I.id))]).then((function(){return E(!1)}))}),[]),(0,n.useEffect)((function(){z(M())}),[null==b?void 0:b.orderItems]),l().createElement(s.TextContent,null,r?l().createElement(s.Bullseye,null,l().createElement(s.Flex,{direction:{default:"column"},grow:{default:"grow"}},l().createElement(s.Bullseye,{id:"fetching-order-provision"},l().createElement(s.Title,{headingLevel:"h1",size:"xl"},e(m.Z.fetchingOrderProvision))),l().createElement(s.Bullseye,null,l().createElement(s.Spinner,{size:"xl"})))):l().createElement(s.Card,null,l().createElement(s.CardBody,null,l().createElement(s.Text,{className:"pf-u-mb-md",component:s.TextVariants.h2},e(m.Z.activity)),l().createElement(c.Table,{"aria-label":"Order provisioning activity",cells:O,rows:P,onCollapse:Z?function(e,t,r,n){var l,a,s=(l=P,a=n.id,l.map((function(e){return e.id===a?T(T({},e),{isOpen:!e.isOpen}):T({},e)})));z(s)}:void 0},l().createElement(c.TableHeader,null),l().createElement(c.TableBody,null)))))}}}]);
//# sourceMappingURL=../sourcemaps/order-provision.ca020580f4a26da7f7da867d1e78f61b.js.map