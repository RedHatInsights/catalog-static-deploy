(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{376:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},378:function(e,t,n){"use strict";var o=n(379);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(o.a)(e,t,n)}},379:function(e,t,n){"use strict";var o=n(398),r=n.n(o);function i(e){var t=null,n=null,o=new Promise((function(e,o){t=e,n=o}));return e&&e.then((function(e){t&&t(e)}),(function(e){n&&n(e)})),{promise:o,resolve:function(e){t&&t(e)},reject:function(e){n&&n(e)},cancel:function(){t=null,n=null}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var a=function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},u={key:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return null},onlyResolvesLast:!0},c=function(){function e(e){this.config=e,this.debounceSingleton=null,this.debounceCache={}}return e.prototype._createDebouncedFunction=function(){var e,t,n=r()(this.config.func,this.config.wait,this.config.options);return this.config.options.onlyResolvesLast&&(e=n,t=null,n=function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];t&&t();var r=e.apply(void 0,n),a=i(r),u=a.promise,c=a.cancel;return t=c,u}),{func:n}},e.prototype.getDebouncedFunction=function(e){var t,n=(t=this.config.options).key.apply(t,e);return null==n?(this.debounceSingleton||(this.debounceSingleton=this._createDebouncedFunction()),this.debounceSingleton):(this.debounceCache[n]||(this.debounceCache[n]=this._createDebouncedFunction()),this.debounceCache[n])},e}();t.a=function(e,t,n){var o=a({},u,n),r=new c({func:e,wait:t,options:o});return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r.getDebouncedFunction(e).func;return n.apply(void 0,e)}}},396:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(3),r=o.__importStar(n(0)),i=o.__importDefault(n(176)),a=n(4),u=n(37);var c;!function(e){e.text="text",e.date="date",e.datetimeLocal="datetime-local",e.email="email",e.month="month",e.number="number",e.password="password",e.search="search",e.tel="tel",e.time="time",e.url="url"}(c=t.TextInputTypes||(t.TextInputTypes={}));class s extends r.Component{constructor(e){super(e),this.handleChange=e=>{this.props.onChange&&this.props.onChange(e.currentTarget.value,e)},e.id||e["aria-label"]||e["aria-labelledby"]||console.error("Text input:","Text input requires either an id or aria-label to be specified")}render(){const e=this.props,{innerRef:t,className:n,type:c,value:s,onChange:l,validated:f,isReadOnly:p,isRequired:d,isDisabled:h}=e,m=o.__rest(e,["innerRef","className","type","value","onChange","validated","isReadOnly","isRequired","isDisabled"]);return r.createElement("input",Object.assign({},m,{className:a.css(i.default.formControl,f===u.ValidatedOptions.success&&i.default.modifiers.success,n),onChange:this.handleChange,type:c,value:s,"aria-invalid":f===u.ValidatedOptions.error,required:d,disabled:h,readOnly:p,ref:t}))}}t.TextInputBase=s,s.displayName="TextInputBase",s.defaultProps={"aria-label":null,className:"",isRequired:!1,validated:"default",isDisabled:!1,isReadOnly:!1,type:c.text,onChange:()=>{}},t.TextInput=r.forwardRef((e,t)=>r.createElement(s,Object.assign({},e,{innerRef:t})))},398:function(e,t,n){"use strict";function o(e){return"function"==typeof e?e():e}function r(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,a=void 0,u=void 0,c=[];return function(){var l=o(t),f=(new Date).getTime(),p=!i||f-i>l;i=f;for(var d=arguments.length,h=Array(d),m=0;m<d;m++)h[m]=arguments[m];if(p&&n.leading)return n.accumulate?Promise.resolve(e.call(this,[h])).then((function(e){return e[0]})):Promise.resolve(e.call.apply(e,[this].concat(h)));if(a?clearTimeout(u):a=r(),c.push(h),u=setTimeout(s.bind(this),l),n.accumulate){var b=c.length-1;return a.promise.then((function(e){return e[b]}))}return a.promise};function s(){var t=a;clearTimeout(u),Promise.resolve(n.accumulate?e.call(this,c):e.apply(this,c[c.length-1])).then(t.resolve,t.reject),c=[],a=null}}},402:function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},670:function(e,t,n){"use strict";n.r(t);var o=n(44),r=n.n(o),i=n(69),a=n.n(i),u=n(31),c=n.n(u),s=n(0),l=n.n(s),f=n(10),p=n.n(f),d=n(23),h=n(41),m=n(422),b=n(401),v=n.n(b),y=n(424),g=n(66),O=n(394),_=n(378),j=n(434),x=n(9),C=function(e){return Object(j.k)(e,{limit:100,offset:0}).then((function(e){return e.data.filter((function(e){return e.metadata.user_capabilities.update})).map((function(e){var t=e.name;return{value:e.id,label:t}}))}))},w=function(e,t,n){return{fields:[{component:"value-only",name:"portfolio_item_name",label:"Name",value:e},{component:v.a.SELECT,name:"portfolio_id",label:"Portfolio",isRequired:!0,loadOptions:Object(_.a)(C),onChange:t,isDisabled:n,isSearchable:!0}]}},S=function(e){var t=e.portfolioId,n=e.portfolioItemId,o=e.closeUrl,i=e.search,u=Object(d.useDispatch)(),f=Object(h.g)().push,p=Object(s.useState)(!1),b=c()(p,2),v=b[0],_=b[1],j=Object(s.useState)(),C=c()(j,2),S=C[0],R=C[1],T=Object(s.useState)(!1),I=c()(T,2),D=I[0],P=I[1];Object(s.useEffect)((function(){Object(g.f)().getPortfolioItemNextName(n,t).then((function(e){var t=e.next_name;return R(t)}))}),[]);var N=function(){var e=a()(r.a.mark((function e(o){var i,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.next=3,u(Object(O.i)(o.portfolio_id));case 3:return i=e.sent,a=i.value,e.abrupt("return",u(Object(O.d)(n,o,a)).then((function(e){var t=e.id,n=e.service_offering_source_ref;return f({pathname:x.t,search:"?portfolio=".concat(o.portfolio_id,"&portfolio-item=").concat(t,"&source=").concat(n)})})).then((function(){return o.portfolio_id===t&&u(Object(O.f)(t))})).catch((function(){return _(!1)})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(m.Modal,{isOpen:!0,title:"Copy product",onClose:function(){return f({pathname:o,search:i})},variant:"small"},l.a.createElement(y.c,{initialValues:{portfolio_id:t,portfolio_item_name:S},schema:w(S,(function(e){return P(!0),Object(g.f)().getPortfolioItemNextName(n,e).then((function(e){var t=e.next_name;R(t)})).then((function(){return P(!1)}))}),D),onSubmit:N,onCancel:function(){return f({pathname:o,search:i})},formContainer:"modal",buttonsLabels:{submitLabel:"Save"},disableSubmit:v?["pristine","dirty"]:[]}))};S.propTypes={closeUrl:p.a.string.isRequired,portfolioId:p.a.string,portfolioItemId:p.a.string.isRequired,search:p.a.string.isRequired},t.default=S}}]);
//# sourceMappingURL=../sourcemaps/copy-portfolio-item-modal~31ecd969.js.map