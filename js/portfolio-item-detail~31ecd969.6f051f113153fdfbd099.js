(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{712:function(e,t,a){"use strict";var r=a(36),n=a.n(r),o=a(20),i=a.n(o),c=a(27),l=a.n(c),s=a(0),u=a.n(s),p=a(28),d=a(3),m=a.n(d),f=a(58),b=a(168);function h(){var e=l()(["\n  margin-right: ",";\n"]);return h=function(){return e},e}function g(){var e=l()(["\n  display: flex !important;\n  align-items: center;\n"]);return g=function(){return e},e}var v=Object(p.b)(f.Button)(g()),E=p.b.span(h(),(function(e){return e.showSpinner?"8px":"0"})),y=function(e){var t=e.children,a=e.showSpinner,r=e.isDisabled,o=i()(e,["children","showSpinner","isDisabled"]);return u.a.createElement(v,n()({},o,{isDisabled:r}),u.a.createElement(E,{showSpinner:a},t),a&&u.a.createElement(b.Spinner,{size:"md"}))};y.propTypes={showSpinner:m.a.bool,children:m.a.oneOfType([m.a.node,m.a.arrayOf(m.a.node)]),isDisabled:m.a.bool},y.defaultProps={showSpinner:!1,isDisabled:!1},t.a=y},844:function(e,t,a){"use strict";a.r(t);var r=a(15),n=a.n(r),o=a(0),i=a.n(o),c=a(3),l=a.n(c),s=a(17),u=a(48),p=a.n(u),d=a(97),m=a(29),f=a(5),b=a(22),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=t.map((function(e){return"filter[id][]=".concat(e)})).join("&");return Object(m.a)().get("".concat(f.a,"/workflows?filter[name][contains]=").concat(e,"&").concat(a||"")).then((function(e){return e.data.map((function(e){var t=e.id;return{label:e.name,value:t}}))}))},g=function(e,t,a){var r=e?e.map((function(e){return Object(m.j)().unlinkWorkflow(e,a)})):[],n=t?t.map((function(e){return Object(m.j)().linkWorkflow(e,a)})):[];return Promise.all([].concat(p()(r),p()(n)))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:b.a.limit,offset:b.a.offset},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="app_name=".concat(e.appName,"&object_type=").concat(e.objectType,"&object_id=").concat(e.objectId),n="&limit=".concat(t.limit,"&offset=").concat(t.offset),o="&filter[name][contains]=".concat(a);return Object(m.a)().get("".concat(f.a,"/workflows?").concat(r).concat(o).concat(n))},E=a(100),y=function(e){return e().i18nReducer.formatMessage},O=(0,a(26).defineMessages)({unlinkNotification:{id:"approval.notifications.unlink",defaultMessage:"{count, number} {count, plural, one {approval process was} other {approval processes were}} unlinked successfully."},linkNotification:{id:"approval.notifications.link",defaultMessage:"{count, number} {count, plural, one {approval process was} other {approval processes were}} linked successfully."},setWorkflow:{id:"approval.workflows.set",defaultMessage:"Select approval processes for <strong>{objectName}</strong>"},currentWorkflows:{id:"approval.workflows.current",defaultMessage:"Current approval processes"}}),j=a(78),w=a(569),T=a(26),S=a(21),k=a(187),_=a(185),I=function(e){var t=e.objectType,a=e.removeSearch,r=e.keepHash,c=e.querySelector,l=e.pushParam,u=e.objectName,p=void 0===u?function(){return t}:u,m=e.onClose,b=Object(S.a)(),I=Object(o.useRef)(b(Object(T.defineMessage)({id:"workflows.modal.title",defaultMessage:"Set approval process"}))).current,R=Object(s.useDispatch)(),x=Object(w.a)({removeSearch:a,keepHash:r}),P=Object(j.a)([c]),q=n()(P,1)[0],D=function(){m&&m(),x.push(l)};return i.a.createElement(k.a,{title:I,onClose:D,onSubmit:function(e,a){var r,n,o;D(),R((r=e,n=a,o={object_type:t,app_name:f.b[t],object_id:q[c]},function(e,t){var a=y(t);return e({type:d.a.UPDATE_WORKFLOWS,payload:g(n,r,o).then((function(){return e(Object(E.addNotification)({variant:"success",title:"Success updating approval process",dismissable:!0,description:"".concat(n.length>0?a(O.unlinkNotification,{count:n.length}):"","\n          ").concat(r.length>0?a(O.linkNotification,{count:r.length}):"")}))}))})}))},getInitialTags:function(){return v({objectType:t,appName:f.b[t],objectId:q[c]}).then((function(e){return e.data}))},loadTags:h,subTitle:b(O.setWorkflow,{strong:_.a,objectName:p(q[c])}),existingTagsMessage:b(O.currentWorkflows)})};I.propTypes={pushParam:l.a.oneOfType([l.a.string,l.a.shape({pathname:l.a.string.isRequired,search:l.a.string})]).isRequired,objectType:l.a.string.isRequired,objectName:l.a.func,removeSearch:l.a.bool,querySelector:l.a.oneOf(["portfolio","platform","inventory","portfolio-item"]).isRequired,keepHash:l.a.bool,onClose:l.a.func},I.defaultProps={keepHash:!1};t.default=I},845:function(e,t,a){"use strict";a.d(t,"a",(function(){return U})),a.d(t,"b",(function(){return L}));var r=a(15),n=a.n(r),o=a(0),i=a.n(o),c=a(3),l=a.n(c),s=a(77),u=a(64),p=a(73),d=a(122),m=a(10),f=a(14),b=a(58),h=a(711),g=a(279),v=a(289),E=a(280),y=a(50),O=a(712),j=a(561),w=a(101),T=a(42),S=a(21),k=a(34),_=a(11),I=function(e){var t=e.copyUrl,a=e.orderUrl,r=e.editUrl,n=e.workflowUrl,c=e.editSurveyUrl,l=e.isOpen,s=e.setOpen,u=e.isFetching,p=e.availability,m=e.userCapabilities,f=m.update,b=m.copy,h=m.set_approval,I=Object(S.a)(),R=[];if(f&&R.push(i.a.createElement(E.DropdownItem,{"aria-label":"Edit Portfolio",key:"edit-portfolio-item",id:"edit-portfolio-item",component:i.a.createElement(j.a,{pathname:r,preserveSearch:!0},I(w.a.edit)),role:"link"})),b&&R.push(i.a.createElement(E.DropdownItem,{"aria-label":"Copy Portfolio",key:"copy-portfolio-item",id:"copy-portfolio-item",component:i.a.createElement(j.a,{pathname:t,preserveSearch:!0},I(w.a.copy)),role:"link"})),h&&R.push(i.a.createElement(E.DropdownItem,{"aria-label":"Set approval",key:"set-approval_workflow",id:"set-approval_workflow",component:i.a.createElement(j.a,{pathname:n,preserveSearch:!0},I(w.a.setApproval)),role:"link"})),window.insights.chrome.isBeta()&&f){var x=I(k.a.setOrderProcess);R.push(i.a.createElement(E.DropdownItem,{"aria-label":x,key:"attach-order-processes",id:"attach-order-processes",component:i.a.createElement(j.a,{preserveSearch:!0,pathname:_.v},x),role:"link"}))}return f&&R.push(i.a.createElement(E.DropdownItem,{"aria-label":"Edit survey",key:"edit-survey",id:"edit-survey",component:i.a.createElement(j.a,{pathname:c,preserveSearch:!0},I(T.a.portfolioItemSurvey)),role:"link"})),i.a.createElement(o.Fragment,null,i.a.createElement(d.LevelItem,null,i.a.createElement(j.a,{isDisabled:u||"unavailable"===p,pathname:a,preserveSearch:!0},i.a.createElement(O.a,{isDisabled:u||"unavailable"===p,showSpinner:u,variant:"primary",id:"order-portfolio-item"},I(T.a.portfolioItemOrder)))),i.a.createElement(d.LevelItem,{style:{marginLeft:16}},R.length>0&&i.a.createElement(g.Dropdown,{isPlain:!0,onToggle:s,onSelect:function(){return s(!1)},position:y.DropdownPosition.right,toggle:i.a.createElement(v.KebabToggle,{id:"portfolio-item-actions-toggle",onToggle:function(e){return s(e)}}),isOpen:l,dropdownItems:R})))};I.propTypes={orderUrl:l.a.string.isRequired,editUrl:l.a.string.isRequired,copyUrl:l.a.string.isRequired,editSurveyUrl:l.a.string.isRequired,workflowUrl:l.a.string.isRequired,isOpen:l.a.bool,setOpen:l.a.func.isRequired,isFetching:l.a.bool,availability:l.a.oneOf(["available","unavailable"]).isRequired,userCapabilities:l.a.shape({update:l.a.bool,copy:l.a.bool,set_approval:l.a.bool}).isRequired},I.defaultProps={isFetching:!1};var R=I,x=a(5),P=a(606),q=a(639),D=a(85),N=a(709),C=function(e){var t=e.id,a=e.sourceId;return i.a.createElement(P.a,{src:"".concat(x.c,"/portfolio_items/").concat(t,"/icon"),sourceId:a,height:64})};C.propTypes={id:l.a.string.isRequired,sourceId:l.a.string.isRequired};var U=function(e){var t=e.url,a=e.isOpen,r=e.product,n=e.setOpen,o=e.isFetching,c=e.availability,l=e.userCapabilities,u=e.fromProducts,b=Object(S.a)(),h=Object(s.h)().pathname;return i.a.createElement(q.b,{paddingBottom:h!==_.x,breadcrumbsSpacing:!1,breadcrumbs:!u},u&&i.a.createElement(N.a,null),i.a.createElement(p.Level,{className:"flex-no-wrap"},i.a.createElement(s.d,null,i.a.createElement(s.b,{path:_.x,exact:!0},i.a.createElement(q.a,{title:b(T.a.editProduct),noData:!0})),i.a.createElement(s.b,null,i.a.createElement(D.a,{grow:!0,alignStart:!0,className:"pf-l-flex"},l.update?i.a.createElement(C,{id:r.id,sourceId:r.service_offering_source_ref}):i.a.createElement(P.a,{src:"".concat(x.c,"/portfolio_items/").concat(r.id,"/icon"),sourceId:r.service_offering_source_ref,height:64}),i.a.createElement(f.TextContent,{className:"pf-u-ml-md"},i.a.createElement(m.Text,{component:m.TextVariants.h1},r.name))),i.a.createElement(d.LevelItem,{style:{minHeight:36},className:"flex-item-no-wrap"},i.a.createElement(p.Level,{className:"flex-no-wrap"},i.a.createElement(R,{isOpen:a,setOpen:function(e){return n(e)},orderUrl:"".concat(t,"/order"),editUrl:"".concat(t,"/edit"),copyUrl:"".concat(t,"/copy"),editSurveyUrl:"".concat(t,"/edit-survey"),workflowUrl:"".concat(t,"/edit-workflow"),isFetching:o,availability:c,userCapabilities:l})))))))};U.propTypes={url:l.a.string.isRequired,isOpen:l.a.bool,product:l.a.shape({distributor:l.a.string,name:l.a.string.isRequired,id:l.a.string.isRequired,service_offering_source_ref:l.a.string.isRequired}).isRequired,setOpen:l.a.func.isRequired,isFetching:l.a.bool,availability:l.a.oneOf(["available","unavailable"]).isRequired,userCapabilities:l.a.object,fromProducts:l.a.bool},U.defaultProps={isFetching:!1};var F=function(e){var t=e.handleResetSurvey,a=Object(S.a)(),r=Object(o.useState)(!1),c=n()(r,2),l=c[0],s=c[1];return i.a.createElement(g.Dropdown,{isOpen:l,isPlain:!0,onSelect:function(){return s(!1)},position:"right",toggle:i.a.createElement(v.KebabToggle,{onToggle:function(e){return s(e)}}),dropdownItems:[i.a.createElement(E.DropdownItem,{onClick:t,component:"button",key:"synchronize"},a(T.a.restoreSurvey))]})};F.propTypes={handleResetSurvey:l.a.func.isRequired};var L=function(e){var t=e.handleSaveSurvey,a=e.closeUrl,r=e.search,n=e.isFetching,o=e.isValid,c=e.modified,l=e.handleResetSurvey,s=Object(S.a)();return i.a.createElement(q.b,{breadcrumbsSpacing:!1,breadcrumbs:!0},i.a.createElement(p.Level,null,i.a.createElement(D.a,{grow:!0,alignStart:!0,className:"pf-l-flex"},i.a.createElement(f.TextContent,null,i.a.createElement(m.Text,{component:m.TextVariants.h1},s(T.a.portfolioItemSurvey)))),i.a.createElement(d.LevelItem,null,i.a.createElement(h.Flex,{className:"align-items-center"},i.a.createElement(O.a,{variant:"primary",showSpinner:n,isDisabled:n||!o,onClick:t},s(w.a.save)),i.a.createElement(u.a,{to:{pathname:a,search:r}},i.a.createElement(b.Button,{variant:"link"},"Cancel")),c&&i.a.createElement(F,{handleResetSurvey:l})))))};L.propTypes={handleSaveSurvey:l.a.func.isRequired,closeUrl:l.a.string.isRequired,search:l.a.string.isRequired,isFetching:l.a.bool,isValid:l.a.bool,modified:l.a.bool,handleResetSurvey:l.a.func,fromProducts:l.a.bool}},869:function(e,t,a){"use strict";t.__esModule=!0,t.PencilAltIconConfig={name:"PencilAltIcon",height:512,width:512,svgPath:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z",yOffset:0,xOffset:0,transform:""},t.PencilAltIcon=a(72).createIcon(t.PencilAltIconConfig),t.default=t.PencilAltIcon},892:function(e,t,a){"use strict";a.r(t);var r=a(9),n=a.n(r),o=a(20),i=a.n(o),c=a(15),l=a.n(c),s=a(0),u=a.n(s),p=a(17),d=a(77),m=a(59),f=a(46),b=a(296),h=a(173),g=a(3),v=a.n(g),E=a(10),y=a(14),O=a(174),j=a(21),w={id:"portfolio.item.detail.info.platform",defaultMessage:"Platform"},T={id:"portfolio.item.detail.info.portfolio",defaultMessage:"Portfolio"},S={id:"portfolio.item.detail.info.vendor",defaultMessage:"Vendor"},k={id:"portfolio.item.detail.info.created",defaultMessage:"Created"},_=function(e){var t=e.product,a=e.source,r=e.portfolio,n=Object(j.a)();return u.a.createElement(y.TextContent,{className:"pf-u-mb-md"},u.a.createElement(E.Text,{className:"font-14"},n(w)),u.a.createElement(E.Text,{id:"source-name",className:"overflow-wrap",component:E.TextVariants.p},a.name),u.a.createElement(E.Text,{className:"font-14"},n(T)),u.a.createElement(E.Text,{id:"portfolio-name",className:"overflow-wrap",component:E.TextVariants.p},r.name),t.distributor&&u.a.createElement("span",{id:"distributor"},u.a.createElement(E.Text,{className:"font-14"},n(S)),u.a.createElement(E.Text,{className:"overflow-wrap",component:E.TextVariants.p},t.distributor)),u.a.createElement(E.Text,{className:"font-14"},n(k)),u.a.createElement(E.Text,{id:"created_at",component:E.TextVariants.p},u.a.createElement(O.DateFormat,{variant:"relative",date:t.created_at})))};_.propTypes={product:v.a.shape({distributor:v.a.string,updated_at:v.a.string,created_at:v.a.string.isRequired}).isRequired,source:v.a.shape({name:v.a.string}).isRequired,portfolio:v.a.shape({name:v.a.string}).isRequired};var I=_,R=a(171),x=a(35),P=a.n(x),q=a(24),D=a.n(q),N={fields:[{component:P.a.TEXT_FIELD,name:"name",label:"schemas.portfolio-item.name",isRequired:!0,validate:[{type:D.a.REQUIRED}]},{component:P.a.TEXT_FIELD,name:"description",label:"schemas.portfolio-item.description"},{component:P.a.TEXT_FIELD,name:"long_description",label:"schemas.portfolio-item.long_description"},{component:P.a.TEXT_FIELD,name:"distributor",label:"schemas.portfolio-item.vendor"},{component:P.a.TEXT_FIELD,name:"documentation_url",label:"schemas.portfolio-item.documentation_url",validate:[{type:D.a.URL}]},{component:P.a.TEXT_FIELD,name:"support_url",label:"schemas.portfolio-item.support_url",validate:[{type:D.a.URL}]}]},C=a(123),U=a(176),F=a(133),L=a(27),M=a.n(L),V=a(869),z=a.n(V),A=a(168),W=a(100),H=a(28),X=a(42);function G(){var e=M()(["\n  height: 64px;\n  max-width: 300px;\n  object-fit: cover;\n"]);return G=function(){return e},e}function B(){var e=M()(["\n  position: relative;\n  display: inline-block;\n"]);return B=function(){return e},e}function K(){var e=M()(["\n  border: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding-left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  &::after {\n    content: ' ';\n    position: absolute;\n    display: block;\n    top: -0.3em;\n    right: -0.3em;\n    width: 1.5em;\n    height: 1.5em;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.8);\n    z-index: 0;\n  }\n  svg {\n    z-index: 1;\n    position: absolute;\n    top: 0;\n    right: 0;\n  }\n"]);return K=function(){return e},e}var J=H.b.button(K()),Q=H.b.div(B()),Y=H.b.img(G()),Z=function(e){var t=e.uploadIcon,a=e.children,r=Object(j.a)(),n=Object(s.useRef)(),o=Object(s.useState)(),i=l()(o,2),c=i[0],d=i[1],m=Object(s.useState)(!1),f=l()(m,2),b=f[0],h=f[1],g=Object(p.useDispatch)();return u.a.createElement(Q,null,u.a.createElement("input",{accept:".png,.svg,.jpeg",onChange:function(e){d(e.target.files[0]),h(!0),t(e.target.files[0]).then((function(){return h(!1)})).catch((function(e){g(Object(W.addNotification)({variant:"danger",title:r(X.a.portfolioItemIconTitle),description:e.data.errors[0].detail,dismissable:!0})),d(void 0),h(!1)}))},ref:n,type:"file",id:"icon-upload",hidden:!0}),u.a.createElement(J,{disabled:b,onClick:function(){return n.current.click()}},b?u.a.createElement(A.Spinner,{size:"md"}):u.a.createElement(z.a,{size:"sm"})),!c&&a,c&&u.a.createElement(Y,{style:{height:64},src:URL.createObjectURL(c),id:c.name}))};Z.propTypes={uploadIcon:v.a.func.isRequired,children:v.a.oneOfType([v.a.node,v.a.arrayOf(v.a.node)])};var $=Z,ee=a(5),te=a(606);function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ne=function(e){var t=e.cancelUrl,a=e.uploadIcon,r=e.product,n=(r.owner,r.created_at,r.updated_at,i()(r,["owner","created_at","updated_at"])),o=e.userCapabilities,c=Object(p.useDispatch)(),l=Object(d.g)().push,s=Object(d.h)().search;return u.a.createElement(U.Stack,{hasGutter:!0},u.a.createElement(F.StackItem,null,u.a.createElement($,{uploadIcon:a},u.a.createElement(te.a,{src:"".concat(ee.c,"/portfolio_items/").concat(n.id,"/icon"),sourceId:n.service_offering_source_ref,height:64}))),u.a.createElement(F.StackItem,null,u.a.createElement(R.c,{initialValues:re({},n),onSubmit:function(e){return l({pathname:t,search:s}),c(Object(C.p)(re(re({},e),{},{metadata:{user_capabilities:o}})))},schema:N,templateProps:{disableSubmit:["pristine"]},onCancel:function(){return l({pathname:t,search:s})}})))};ne.propTypes={cancelUrl:v.a.string.isRequired,product:v.a.object.isRequired,userCapabilities:v.a.object.isRequired,uploadIcon:v.a.func.isRequired};var oe=ne,ie=a(844),ce=a(39),le=a(230),se=a(11),ue=function(e){var t=e.userCapabilities,a=e.product,r=e.url,n=e.search,o=e.detailPaths,i=e.uploadIcon,c=Object(j.a)();return u.a.createElement(d.d,null,u.a.createElement(d.b,{path:"".concat(r,"/edit-workflow")},u.a.createElement(ie.default,{pushParam:{pathname:r,search:n},objectType:ee.f,objectId:a.id,objectName:function(){return a.name},querySelector:"portfolio-item"})),u.a.createElement(d.b,{path:se.v},u.a.createElement(le.a,{querySelector:"portfolio-item",objectType:ee.f,pushParam:{pathname:r,search:n}})),u.a.createElement(d.b,{exact:!0,path:o,render:function(){return u.a.createElement(y.TextContent,null,(a.description||a.long_description)&&u.a.createElement(E.Text,{component:E.TextVariants.h6},c(X.a.portfolioItemOverview)),a.description&&u.a.createElement(E.Text,{id:"description",component:E.TextVariants.p},a.description),a.long_description&&u.a.createElement(E.Text,{id:"long_description",component:E.TextVariants.p},a.long_description),a.support_url&&u.a.createElement(E.Text,{id:"support_url",component:E.TextVariants.p},u.a.createElement("a",{href:a.support_url,target:"_blank",rel:"noopener noreferrer"},c(X.a.portfolioItemSupport))),a.documentation_url&&u.a.createElement(s.Fragment,null,u.a.createElement(E.Text,{component:E.TextVariants.h6},c(X.a.portfolioItemDocumentation)),u.a.createElement(E.Text,{id:"documentation_url",component:E.TextVariants.p},u.a.createElement("a",{href:a.documentation_url,target:"_blank",rel:"noopener noreferrer"},c(X.a.portfolioItemDocLink)))))}}),u.a.createElement(ce.a,{exact:!0,path:"".concat(r,"/edit"),requiredCapabilities:"update",userCapabilities:t},u.a.createElement(oe,{cancelUrl:r,product:a,userCapabilities:t,uploadIcon:i})))};ue.propTypes={product:v.a.shape({name:v.a.string,long_description:v.a.string,support_url:v.a.string,documentation_url:v.a.string,description:v.a.string,id:v.a.string.isRequired}).isRequired,url:v.a.string.isRequired,search:v.a.string.isRequired,userCapabilities:v.a.object.isRequired,detailPaths:v.a.arrayOf(v.a.string),uploadIcon:v.a.func.isRequired};var pe=ue,de=a(845),me=a(639),fe=a(79),be=a(25),he=a(78),ge=a(709);function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Ee=Object(s.lazy)((function(){return Promise.all([a.e(64),a.e(65)]).then(a.bind(null,888))})),ye=["portfolio","source","portfolio-item","from-products"];t.default=function(){var e=Object(j.a)(),t=Object(s.useState)(!1),a=l()(t,2),r=a[0],o=a[1],c=Object(s.useState)(!0),g=l()(c,2),v=g[0],E=g[1],y=Object(p.useDispatch)(),O=Object(he.a)(ye),w=l()(O,2),T=w[0],S=w[1],k=Object(d.h)().pathname,_=Object(d.i)(se.w).url,R=Object(p.useSelector)((function(e){return e.portfolioReducer.portfolioItem})),x=R.portfolioItem,P=x.metadata.user_capabilities,q=i()(x,["metadata"]),D=R.source,N=Object(p.useSelector)((function(e){return e.portfolioReducer.selectedPortfolio})),U="true"===T["from-products"];if(Object(s.useEffect)((function(){E(!0),insights.chrome.appNavClick({id:U?"products":"portfolios",secondaryNav:!0}),y(Object(C.j)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({portfolioItem:T["portfolio-item"]},T))).then((function(){return E(!1)})).catch((function(){return E(!1)}))}),[T["portfolio-item"]]),v||0===Object.keys(q).length)return u.a.createElement(h.Section,{className:"global-primary-background full-height"},u.a.createElement(me.b,{breadcrumbs:!U},U&&u.a.createElement(ge.a,null),u.a.createElement(fe.h,null)));var F=D.availability_status||"unavailable",L=[D].filter((function(e){return e.notFound})).map((function(t){var a=t.object;return u.a.createElement(b.Alert,{className:"pf-u-mb-sm",key:a,variant:"warning",isInline:!0,title:e(X.a.objectUnavaiable,{object:a})})})),M=function(e){return Object(be.r)(q.id,e)},V=[se.w,"".concat(_,"/order"),"".concat(_,"/copy"),"".concat(_,"/edit-workflow"),se.v];return u.a.createElement(s.Fragment,null,u.a.createElement(d.d,null,u.a.createElement(ce.a,{requiredCapabilities:"update",userCapabilities:P,path:"".concat(_,"/edit-survey")},u.a.createElement(s.Suspense,{fallback:u.a.createElement(fe.a,null)},u.a.createElement(Ee,{closeUrl:_,search:S,uploadIcon:M,portfolioItem:q,portfolio:N}))),u.a.createElement(d.b,null,u.a.createElement(h.Section,{className:"full-height global-primary-background"},u.a.createElement(de.a,{fromProducts:U,url:_,isOpen:r,product:q,setOpen:o,isFetching:v,availability:F,userCapabilities:P}),L.length>0&&u.a.createElement("div",{className:"pf-u-mr-lg pf-u-ml-lg"},L),"unavailable"===D.availability_status&&u.a.createElement(b.Alert,{className:"pf-u-ml-lg pf-u-mr-lg",id:"unavailable-alert-info",variant:"info",isInline:!0,title:e(X.a.sourceUnavaiable)}),u.a.createElement(m.Grid,{hasGutter:!0,className:"pf-u-p-lg"},u.a.createElement(d.b,{path:V,exact:!0},u.a.createElement(f.GridItem,{md:3,lg:2},u.a.createElement(I,{product:q,portfolio:N,source:D}))),u.a.createElement(f.GridItem,{md:k===se.x?12:9,lg:k===se.x?12:10},u.a.createElement(pe,{uploadIcon:M,product:q,userCapabilities:P,url:_,detailPaths:V,search:S})))))))}}}]);
//# sourceMappingURL=../sourcemaps/portfolio-item-detail~31ecd969.js.map