(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{568:function(e,t,r){"use strict";var a=r(19),n=Object(a.b)({noItems:{id:"common.filtering.noItems",defaultMessage:"No items found"},filterByProduct:{id:"common.filtering.filterByProduct",defaultMessage:"Filter by product"},noResults:{id:"common.filtering.noResults",defaultMessage:"No results found"},noResultsDescription:{id:"common.filtering.noResultsDescription",defaultMessage:"No results match the filter criteria. Remove all filters or clear all filters to show results."},clearFilters:{id:"common.filtering.clear-filters",defaultMessage:"Clear all filters"},noProducts:{id:"common.filtering.no-products",defaultMessage:"No products yet"},noRecords:{id:"commonMessages.noRecords",defaultMessage:"No records"},filterByTitle:{id:"tableToolbar.filterByTitle",defaultMessage:"Filter by {title}"},noResultsFound:{id:"tableToolbar.noResultsFound",defaultMessage:"No results found"},noResult:{id:"tableToolbar.noResult",defaultMessage:"No {results}"},unknown:{id:"commonMessages.unknown",defaultMessage:"Unknown"}});t.a=n},570:function(e,t,r){"use strict";var a=r(83),n=function(){return(n=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};t.a=function(e){var t=void 0===e?{}:e,r=t.removeSearch,s=t.keepHash,o=Object(a.g)();return n(n({},o),{push:function(e){var t=e;return s&&o.location.hash.length>0&&(t="object"==typeof t?n(n({},t),{hash:o.location.hash}):""+t+o.location.hash),r?o.push(function(e){return"string"==typeof e?e.split("?")[0]:"object"==typeof e?n(n({},e),{search:void 0}):e}(t)):o.push(t)}})}},960:function(e,t,r){"use strict";r.r(t);var a=r(47),n=r.n(a),s=r(592),o=r.n(s),c=r(132),l=r.n(c),i=r(0),u=r.n(i),d=r(18),f=r(83),m=r(67),p=r(131),g=r(46),b=r(48),h=r(596),O=r(566),y=r.n(O),v=r(822),P=r(802),j=r(190),E=r(10),M=r.n(E),w=r(287),F=r(97),S=Object(i.createContext)({selectedOrderProcesses:[]}),k=function(e){var t=e.id,r=Object(i.useContext)(S),a=r.selectedOrderProcesses,n=r.setSelectedOrderProcesses;return u.a.createElement(w.Checkbox,{id:"select-".concat(t),isChecked:a.includes(t),onChange:function(){return n(t)}})};k.propTypes={id:M.a.string.isRequired};var C=function(e){return e.map((function(e){var t=e.id,r=e.name,a=e.description,n=e.created_at;return{id:t,cells:[u.a.createElement(u.a.Fragment,{key:"".concat(t,"-checkbox")},u.a.createElement(k,{id:t})),r,a,u.a.createElement(u.a.Fragment,{key:t},u.a.createElement(F.a,{date:n}))]}}))},R=r(602),D=r(674),T=r(672),N=r(22),V=r(85),x=r(158),B=r(175),A=r(690),q=r(33),I=function(){return(I=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},L=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var a=Array(e),n=0;for(t=0;t<r;t++)for(var s=arguments[t],o=0,c=s.length;o<c;o++,n++)a[n]=s[o];return a},_=function(e){var t=e.columns,r=e.fetchData,a=e.toolbarButtons,n=e.actionResolver,s=e.routes,o=void 0===s?function(){return null}:s,c=e.plural,l=e.pagination,d=void 0===l?N.a:l,f=e.filterValue,m=e.onFilterChange,p=e.isLoading,g=void 0!==p&&p,b=e.renderEmptyState,h=void 0===b?function(){return null}:b,O=e.sortBy,y=e.onSort,v=e.activeFiltersConfig,P=e.filterConfig,j=void 0===P?[]:P,E=e.rows,M=Object(x.a)(),w={itemCount:d.count,page:Object(N.b)(d.limit,d.offset),perPage:d.limit,onSetPage:function(e,t){return r(I(I({},d),{offset:Object(N.c)(t,d.limit)}))},onPerPageSelect:function(e,t){return r(I(I({},d),{limit:t}))},isDisabled:g};return u.a.createElement(B.Section,{type:"content","page-type":"tab-"+c,id:"tab-"+c},o(),u.a.createElement(A.PrimaryToolbar,I({className:"pf-u-p-lg",pagination:w},a&&{actionsConfig:{dropdownProps:{position:"right"},actions:[a()]}},{filterConfig:{items:L([{label:M.formatMessage({id:"name",defaultMessage:"Name"}),filterValues:{id:"filter-by-name",placeholder:M.formatMessage(q.a.orderProcessesFilter),"aria-label":M.formatMessage(q.a.orderProcessesFilter),onChange:function(e,t){return m(t)},value:f}}],j)},activeFiltersConfig:v})),g&&u.a.createElement(V.e,null),g||0!==E.length?u.a.createElement(i.Fragment,null,!g&&u.a.createElement(R.b,{"aria-label":c+" table",rows:E,cells:t,actionResolver:n,className:"pf-u-pt-0",sortBy:O,onSort:y},u.a.createElement(D.a,null),u.a.createElement(T.a,null)),d.count>0&&u.a.createElement(A.PrimaryToolbar,{className:"pf-u-pl-lg pf-u-pr-lg",pagination:I(I({},w),{dropDirection:"up",variant:"bottom",isCompact:!1,className:"pf-u-pr-0"})})):h())},z=r(667),H=r(107),J=r(728),U=r(729),G=r(279),K=r(129),Q=r(730),W=r(731),X=r(767),Y=function(e){var t=e.title,r=e.Icon,a=e.description,n=e.PrimaryAction,s=e.renderDescription;return u.a.createElement(X.EmptyTable,{centered:!0,"aria-label":"No records"},u.a.createElement(J.a,{className:"pf-u-ml-auto pf-u-mr-auto"},u.a.createElement(U.a,{icon:r}),u.a.createElement(G.a,null,u.a.createElement(K.a,{component:K.b.h1},t)),u.a.createElement(Q.a,null,a,s&&s()),u.a.createElement(W.a,null,n&&u.a.createElement(n,null))))};Y.propTypes={title:M.a.string.isRequired,Icon:M.a.any.isRequired,description:M.a.string.isRequired,PrimaryAction:M.a.any,renderDescription:M.a.func};var Z=Y,$=r(568),ee=r(95),te=r(188),re=r(8),ae=r(606),ne=r(941),se=r(178),oe=r(84),ce=r(570),le=function(e){var t,r=Object(d.useSelector)((function(e){return{orderProcesses:e.orderProcessReducer.orderProcesses}}),d.shallowEqual).orderProcesses;return null==r||null===(t=r.data)||void 0===t?void 0:t.find((function(t){return t.id===e}))};function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var de=function(e,t){var r=t.type,a=t.initialValues,n=t.schema;switch(r){case"loaded":return ue(ue({},e),{},{initialValues:a,schema:n,isLoading:!1});default:return e}},fe=function(e){var t=e.edit,r=Object(d.useDispatch)(),a=Object(oe.a)(["order_process"]),s=n()(a,1)[0].order_process,o=Object(d.useSelector)((function(e){var r=e.orderProcessReducer.orderProcesses.data;return t?r.find((function(e){return e.id===s})):{}})),c=Object(ce.a)({keepHash:!0}).push,l=Object(x.a)(),f=le(s),m=Object(i.useReducer)(de,{isLoading:!0}),p=n()(m,2),g=p[0].initialValues,b=p[1];Object(i.useEffect)((function(){f||void 0===f?void 0!==f&&b({type:"loaded",initialValues:f,schema:Object(ne.a)(l,f.id)}):Object(j.b)(s).then((function(e){return b({type:"loaded",initialValues:e,schema:Object(ne.a)(l,e.id)})}))}),[]);var h=function(){return c(re.n)};return t&&!o?null:u.a.createElement(ae.Modal,{isOpen:!0,onClose:h,title:l.formatMessage(t?q.a.updateOrderProcess:q.a.createOrderProcess),variant:"small"},u.a.createElement(se.c,{initialValues:g,onSubmit:function(e){var a=t?function(){return Object(j.h)(s,e,l)}:function(){return Object(j.a)(e,l)};return h(),r(a()).then((function(){return r(Object(j.c)())}))},onCancel:h,schema:Object(ne.a)(l,s),templateProps:{submitLabel:t?l.formatMessage(ee.a.save):l.formatMessage(ee.a.create),disableSubmit:["validating","pristine"]}}))};fe.propTypes={edit:M.a.bool},fe.defaultProps={edit:!1};var me=fe,pe=r(184),ge=r(176),be=r(290),he=r(644),Oe=r.n(he),ye=r(109),ve=function(e){var t=e.ids,r=void 0===t?[]:t,a=e.fetchData,s=e.resetSelectedOrderProcesses,o=Object(d.useDispatch)(),c=Object(i.useState)(),l=n()(c,2),f=l[0],m=l[1],h=Object(i.useState)(!1),O=n()(h,2),y=O[0],v=O[1],P=Object(ce.a)({keepHash:!0}).push,E=Object(oe.a)(["order_process"]),M=n()(E,1)[0].order_process||1===r.length&&r[0],w=Object(x.a)(),F=le(M);if(Object(i.useEffect)((function(){M&&!F&&o(Object(j.b)(M)).then((function(e){var t=e.value;return m(t)})).catch((function(){return P(re.n)}))}),[]),!M&&0===r.length)return null;var S=function(){return P(re.n)},k=u.a.createElement("b",{key:"remove-key"},M?f&&f.name||F&&F.name:u.a.createElement(u.a.Fragment,null,r.length," ",w.formatMessage(q.a.orderProcesses))),C=M&&!F&&!f;return u.a.createElement(ae.Modal,{isOpen:!0,variant:"small","aria-label":w.formatMessage(q.a.removeProcessAriaLabel,{count:M?1:r.length}),header:u.a.createElement(be.Title,{size:"2xl",headingLevel:"h1"},u.a.createElement(Oe.a,{size:"sm",fill:"#f0ab00",className:"pf-u-mr-sm"}),w.formatMessage(q.a.removeProcessTitle,{count:M?1:r.length})),onClose:S,actions:[u.a.createElement(p.Button,{id:"submit-remove-order-process",key:"submit",variant:"danger",type:"button",isDisabled:y,onClick:function(){return v(!0),o(M?Object(j.d)(M,w):Object(j.e)(r,w)).catch((function(){return v(!1)})).then((function(){return P(re.n)})).then((function(){return s()})).then((function(){return a()}))}},y?u.a.createElement(u.a.Fragment,null,u.a.createElement(ge.Spinner,{size:"sm",className:"pf-u-mr-md"}),w.formatMessage(ye.a.deleting)):w.formatMessage(ye.a.delete)),u.a.createElement(p.Button,{id:"cancel-remove-order-process",key:"cancel",variant:"link",type:"button",isDisabled:y,onClick:S},w.formatMessage(ee.a.cancel))]},u.a.createElement(b.TextContent,null,u.a.createElement(g.Text,{component:g.TextVariants.p},C?u.a.createElement(V.c,null):w.formatMessage(q.a.removeProcessDescription,{name:k}))))};ve.propTypes={fetchData:M.a.func.isRequired,ids:M.a.array,resetSelectedOrderProcesses:M.a.func.isRequired};var Pe=ve;function je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?je(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Me=function(e,t,r){return[{title:u.a.createElement(w.Checkbox,{onChange:r,isChecked:t,id:"select-all"}),transforms:[Object(v.a)(1)]},{title:e.formatMessage(ee.a.name),transforms:[P.a]},{title:e.formatMessage(ee.a.description),transforms:[P.a]},{title:e.formatMessage(ee.a.created),transforms:[P.a]}]},we=Object(H.a)((function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N.a;return r(!0),t(Object(j.c)(Ee({filterValue:e},a))).then((function(){return r(!1)}))}),1e3),Fe=function(e,t){return e?[{category:t.formatMessage(ee.a.name),key:"name",chips:[{name:e,value:e}]}]:[]},Se={filter:"",isFetching:!0,isFiltering:!1,selectedOrderProcesses:[],allSelected:!1,rows:[]},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.every((function(e){return t.includes(e.id)}))},Ce=function(e,t,r){return r.indexOf(e)===t},Re=function(e,t){switch(t.type){case"setRows":return Ee(Ee({},e),{},{rows:t.payload,allSelected:ke(t.payload,e.selectedOrderProcesses)});case"setFetching":return Ee(Ee({},e),{},{isFetching:t.payload});case"setFilterValue":return Ee(Ee({},e),{},{filterValue:t.payload});case"select":return Ee(Ee({},e),{},{allSelected:!1,selectedOrderProcesses:e.selectedOrderProcesses.includes(t.payload)?e.selectedOrderProcesses.filter((function(e){return e!==t.payload})):[].concat(o()(e.selectedOrderProcesses),[t.payload])});case"selectAll":return Ee(Ee({},e),{},{selectedOrderProcesses:[].concat(o()(e.selectedOrderProcesses),o()(t.payload)).filter(Ce),allSelected:!0});case"unselectAll":return Ee(Ee({},e),{},{selectedOrderProcesses:e.selectedOrderProcesses.filter((function(e){return!t.payload.includes(e)})),allSelected:!1});case"resetSelected":return Ee(Ee({},e),{},{selectedOrderProceses:[],allSelected:!1});case"setFilteringFlag":return Ee(Ee({},e),{},{isFiltering:t.payload});default:return e}};t.default=function(){var e=Object(pe.a)(),t=Object(d.useSelector)((function(e){var t=e.orderProcessReducer;return{orderProcesses:t.orderProcesses,sortBy:t.sortBy}}),d.shallowEqual),r=t.orderProcesses,a=r.data,s=r.meta,o=t.sortBy,c=Object(i.useReducer)(Re,Ee(Ee({},Se),{},{filterValue:(null==e?void 0:e.orderProcesses.filter)||Se.filterValue})),l=n()(c,2),O=l[0],v=O.filterValue,P=O.isFetching,E=O.isFiltering,M=O.selectedOrderProcesses,w=O.allSelected,k=O.rows,R=l[1],D=Object(d.useDispatch)(),T=Object(x.a)(),V=Object(ce.a)({keepHash:!0}),B=function(e){return R({type:"setFetching",payload:!0}),D(Object(j.c)(e)).then((function(){return R({type:"setFetching",payload:!1})})).catch((function(){return R({type:"setFetching",payload:!1})}))};Object(i.useEffect)((function(){insights.chrome.appNavClick({id:"order-processes",secondaryNav:!0}),B((null==e?void 0:e.orderProcesses)?Ee(Ee({},e.orderProcesses),{},{filterValue:v}):N.a),Object(F.d)()}),[]),Object(i.useEffect)((function(){R({type:"setRows",payload:C(a)})}),[a]);var A=function(e){R({type:"setFilterValue",payload:e}),we(e,D,(function(e){return R({type:"setFilteringFlag",payload:e})}),Ee(Ee({},s),{},{offset:0}))},I=M.length>0;return u.a.createElement(i.Fragment,null,u.a.createElement(z.b,null,u.a.createElement(b.TextContent,{className:"pf-u-ml-md"},u.a.createElement(g.Text,{component:g.TextVariants.h1},T.formatMessage(q.a.title)))),u.a.createElement(S.Provider,{value:{selectedOrderProcesses:M,setSelectedOrderProcesses:function(e){return R({type:"select",payload:e})}}},u.a.createElement(_,{sortBy:o,onSort:function(e,t,r,a){var n=a.property;return D(Object(j.g)({index:t,direction:r,property:n})),B(Ee(Ee({},s),{},{filterValue:v}))},rows:k,columns:Me(T,w,(function(){return R(w?{type:"unselectAll",payload:a.map((function(e){return e.id}))}:{type:"selectAll",payload:a.map((function(e){return e.id}))})})),routes:function(){return u.a.createElement(i.Fragment,null,u.a.createElement(f.b,{exact:!0,path:re.a},u.a.createElement(me,{postMethod:B})),u.a.createElement(f.b,{exact:!0,path:re.z},u.a.createElement(Pe,{ids:M,fetchData:B,resetSelectedOrderProcesses:function(){return R({type:"resetSelected"})}})),u.a.createElement(f.b,{exact:!0,path:re.C},u.a.createElement(me,{edit:!0})))},fetchData:B,titlePlural:T.formatMessage(q.a.title),titleSingular:T.formatMessage(q.a.orderProcess),pagination:s,filterValue:v,onFilterChange:A,isLoading:P||E,toolbarButtons:function(){return u.a.createElement(te.b,{className:"pf-u-pl-lg top-toolbar"},u.a.createElement(h.ToolbarItem,null,u.a.createElement(m.a,{id:"add-order-process-link",to:{pathname:re.a}},u.a.createElement(p.Button,{variant:"primary","aria-label":T.formatMessage(ee.a.create)},T.formatMessage(ee.a.create)))),u.a.createElement(h.ToolbarItem,null,u.a.createElement(m.a,{id:"remove-multiple-order-processes'",className:I?"":"disabled-link",to:{pathname:re.z}},u.a.createElement(p.Button,{variant:"secondary",isDisabled:!I,"aria-label":T.formatMessage(q.a.deleteOrderProcess)},T.formatMessage(ye.a.delete)))))},actionResolver:function(){return[{title:T.formatMessage(ye.a.edit),onClick:function(e,t,r){return V.push({pathname:re.C,search:"?order_process=".concat(r.id)})}},{title:T.formatMessage(ye.a.delete),onClick:function(e,t,r){return V.push({pathname:re.z,search:"?order_process=".concat(r.id)})}}]},renderEmptyState:function(){return u.a.createElement(Z,{title:""===v?T.formatMessage(q.a.noOrderProcesses):T.formatMessage($.a.noResultsFound),Icon:y.a,PrimaryAction:function(){return""!==v?u.a.createElement(p.Button,{onClick:function(){return A("")},variant:"link"},T.formatMessage($.a.clearFilters)):null},description:""===v?T.formatMessage(q.a.noOrderProcesses):T.formatMessage($.a.noResultsDescription)})},activeFiltersConfig:{filters:Fe(v,T),onDelete:function(){return A("")}}})))}}}]);
//# sourceMappingURL=../sourcemaps/order-processes~5a11b65b.js.map