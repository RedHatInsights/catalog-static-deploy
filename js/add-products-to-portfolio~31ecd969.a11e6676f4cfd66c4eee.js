(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{615:function(e,t,n){var r=n(655);e.exports=function(e,t){return r(e,t)}},616:function(e,t,n){var r=n(640);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},640:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},655:function(e,t,n){var r=n(702),o=n(363);e.exports=function e(t,n,a,i,c){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,a,i,e,c))}},656:function(e,t,n){var r=n(703),o=n(704),a=n(705),i=n(706),c=n(707);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=i,l.prototype.set=c,e.exports=l},657:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},658:function(e,t){e.exports=function(){return!1}},659:function(e,t){e.exports=function(){return!1}},702:function(e,t,n){var r=n(656),o=n(708),a=n(710),i=n(711),c=n(713),l=n(138),s=n(658),u=n(659),p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,d,m,b){var O=l(e),g=l(t),h=O?"[object Array]":c(e),y=g?"[object Array]":c(t),v=(h="[object Arguments]"==h?p:h)==p,j=(y="[object Arguments]"==y?p:y)==p,P=h==y;if(P&&s(e)){if(!s(t))return!1;O=!0,v=!1}if(P&&!v)return b||(b=new r),O||u(e)?o(e,t,n,d,m,b):a(e,t,h,n,d,m,b);if(!(1&n)){var w=v&&f.call(e,"__wrapped__"),E=j&&f.call(t,"__wrapped__");if(w||E){var _=w?e.value():e,k=E?t.value():t;return b||(b=new r),m(_,k,n,d,b)}}return!!P&&(b||(b=new r),i(e,t,n,d,m,b))}},703:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},704:function(e,t,n){var r=n(616),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},705:function(e,t,n){var r=n(616);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},706:function(e,t,n){var r=n(616);e.exports=function(e){return r(this.__data__,e)>-1}},707:function(e,t,n){var r=n(616);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},708:function(e,t,n){var r=n(371),o=n(709),a=n(372);e.exports=function(e,t,n,i,c,l){var s=1&n,u=e.length,p=t.length;if(u!=p&&!(s&&p>u))return!1;var f=l.get(e),d=l.get(t);if(f&&d)return f==t&&d==e;var m=-1,b=!0,O=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++m<u;){var g=e[m],h=t[m];if(i)var y=s?i(h,g,m,t,e,l):i(g,h,m,e,t,l);if(void 0!==y){if(y)continue;b=!1;break}if(O){if(!o(t,(function(e,t){if(!a(O,t)&&(g===e||c(g,e,n,i,l)))return O.push(t)}))){b=!1;break}}else if(g!==h&&!c(g,h,n,i,l)){b=!1;break}}return l.delete(e),l.delete(t),b}},709:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},710:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},711:function(e,t,n){var r=n(712),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,i,c){var l=1&n,s=r(e),u=s.length;if(u!=r(t).length&&!l)return!1;for(var p=u;p--;){var f=s[p];if(!(l?f in t:o.call(t,f)))return!1}var d=c.get(e),m=c.get(t);if(d&&m)return d==t&&m==e;var b=!0;c.set(e,t),c.set(t,e);for(var O=l;++p<u;){var g=e[f=s[p]],h=t[f];if(a)var y=l?a(h,g,f,t,e,c):a(g,h,f,e,t,c);if(!(void 0===y?g===h||i(g,h,n,a,c):y)){b=!1;break}O||(O="constructor"==f)}if(b&&!O){var v=e.constructor,j=t.constructor;v==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof j&&j instanceof j||(b=!1)}return c.delete(e),c.delete(t),b}},712:function(e,t,n){var r=n(657)(Object.keys,Object);e.exports=r},713:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},759:function(e,t,n){"use strict";var r,o,a=n(0),i=n.n(a),c=n(30),l=n(67),s=n(193),u=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},d=Object(c.b)(l.a)(r||(r=u(["\n  display: flex !important;\n  align-items: center;\n"],["\n  display: flex !important;\n  align-items: center;\n"]))),m=c.b.span(o||(o=u(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),(function(e){return e.showSpinner?"8px":"0"})),b=Object(a.forwardRef)((function(e,t){var n=e.children,r=e.showSpinner,o=void 0!==r&&r,a=e.isDisabled,c=void 0!==a&&a,l=f(e,["children","showSpinner","isDisabled"]);return i.a.createElement(d,p({ref:t},l,{isDisabled:c}),i.a.createElement(m,{showSpinner:o},n),o&&i.a.createElement(s.Spinner,{size:"md"}))}));b.displayName="ButtonWithSpinner",t.a=b},768:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(2),o=n(0),a=n(1),i=n(41),c=n.n(i),l=n(195),s=n(67),u=n(235);const p=e=>{var{children:t=null,className:n="",id:i,onExpand:p,toggleButtonProps:f,isToggleRightAligned:d}=e,m=Object(r.__rest)(e,["children","className","id","onExpand","toggleButtonProps","isToggleRightAligned"]);return o.createElement(l.b.Consumer,null,({cardId:e})=>{const r=o.createElement("div",{className:Object(a.css)(c.a.cardHeaderToggle)},o.createElement(s.a,Object.assign({variant:"plain",type:"button",onClick:t=>{p(t,e)}},f),o.createElement("span",{className:Object(a.css)(c.a.cardHeaderToggleIcon)},o.createElement(u.a,{"aria-hidden":"true"}))));return o.createElement("div",Object.assign({className:Object(a.css)(c.a.cardHeader,d&&c.a.modifiers.toggleRight,n),id:i},m),p&&!d&&r,t,p&&d&&r)})};p.displayName="CardHeader"},769:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(2),o=n(0),a=n(41),i=n.n(a),c=n(1);const l=e=>{var{children:t=null,className:n="",component:a="div"}=e,l=Object(r.__rest)(e,["children","className","component"]);const s=a;return o.createElement(s,Object.assign({className:Object(c.css)(i.a.cardFooter,n)},l),t)};l.displayName="CardFooter"},817:function(e,t,n){"use strict";var r,o=n(0),a=n.n(o),i=n(223),c=n(768),l=n(769),s=n(634),u=n(669),p=n(670),f=n(671),d=n(30),m=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},O=Object(d.b)(i.a)(r||(r=m(["\n  flex: 1;\n"],["\n  flex: 1;\n"])));t.a=function(e){return a.a.createElement(f.a,{key:e.id,ouiaId:"platform-item"+e.id},a.a.createElement(c.a,null,a.a.createElement(O,null,a.a.createElement(s.a,{height:40,sourceId:e.source_id}),e.editMode&&a.a.createElement(u.a,{id:e.id,isChecked:e.checked,handleCheck:e.onToggleItemSelect}))),a.a.createElement(p.a,b({},e)),a.a.createElement(l.a,null))}},897:function(e,t,n){"use strict";t.__esModule=!0,t.FilterIconConfig={name:"FilterIcon",height:512,width:512,svgPath:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z",yOffset:0,xOffset:0},t.FilterIcon=n(98).createIcon(t.FilterIconConfig),t.default=t.FilterIcon},941:function(e,t,n){"use strict";n.r(t);var r=n(111),o=n.n(r),a=n(99),i=n.n(a),c=n(26),l=n.n(c),s=n(88),u=n.n(s),p=n(0),f=n.n(p),d=n(5),m=n.n(d),b=n(151),O=n.n(b),g=n(632),h=n.n(g),y=n(897),v=n.n(y),j=n(675),P=n(646),w=n(613),E=n(56),_=n(28),k=function(e){var t=e.platform,n=Object(_.a)();return f.a.createElement(P.b,{Icon:t?h.a:v.a,title:n(t?E.a.addProducstFilterTitle:E.a.addProducstPlatformTitle),description:n(t?w.a.noResultsDescription:E.a.addProducstPlatformDescription)})};k.propTypes={platform:m.a.any};var x=function(e){var t=e.platform,n=O()(e,["platform"]);return f.a.createElement(j.a,u()({editMode:!0},n,{renderEmptyState:function(){return f.a.createElement(k,{platform:t})}}))};x.propTypes={checkedItems:m.a.arrayOf(m.a.string),platform:m.a.any},x.defaultProps={checkedItems:[]};var F=x,I=n(620),S=n(37),T=n(817),C=n(614),R=n(836),A=n(83),D=n(615),L=n.n(D),N=function(){return(N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},V=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},B=function(e){var t=e.onChange,n=V(e,["onChange"]),r=Object(p.useState)(void 0),o=r[0],a=r[1];return f.a.createElement("div",{key:"filter-select",id:"filter-select",className:"filter-select"},f.a.createElement(A.InternalSelect,N({isDisabled:!n.options||0===n.options.length,name:"filter-select",simpleValue:!1,onChange:function(e){t&&t(e||o),a(e||o)},value:o},n)))};B.propTypes={options:m.a.array,onChange:m.a.func.isRequired};var M=Object(p.memo)(B,(function(e,t){return L()(e.options,t.options)})),z=n(759),H=n(611);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=function(e){var t=e.options,n=e.isFetching,r=e.searchValue,o=e.portfolioName,a=e.itemsSelected,i=e.onOptionSelect,c=e.onFilterChange,l=e.portfolioRoute,s=e.onClickAddToPortfolio,u=e.meta,p=e.platformId,f=e.fetchPlatformItems;return{fields:[{component:C.b.TOP_TOOLBAR,key:"add-products-toolbar",fields:[{component:C.b.TOP_TOOLBAR_TITLE,title:"Add products: ".concat(o),key:"add-products-title"},{component:C.b.LEVEL,key:"add-products-actions",fields:[{component:C.b.TOOLBAR,key:"add-products-actions-toolbar",fields:[{component:C.b.TOOLBAR_GROUP,key:"products-filter-group",fields:[{component:M,key:"select-platforms",id:"products-platform-select",isMulti:!1,isSearchable:!0,placeholder:"Filter by Platform",options:t,onChange:i},{component:C.b.FILTER_TOOLBAR_ITEM,key:"filter-products-input",onFilterChange:c,searchValue:r,isDisabled:!p,placeholder:"Filter products"}]},J({groupName:"cancel-group-item"},Object(R.a)({key:"add-products-cancel-button",pathname:l,variant:"link","aria-label":"Cancel Add products to Portfolio",preserveSearch:!0,title:"Cancel"})),{component:C.b.TOOLBAR_ITEM,key:"add-group-item",fields:[{key:"portfolio-items-add-group",component:z.a,variant:"primary","aria-label":"Add products to Portfolio",title:"Add",type:"button",onClick:s,isDisabled:!a||n,showSpinner:n,children:"Add",id:"add-products-to-portfolio"}]}]},{component:C.b.LEVEL_ITEM,key:"pagination-item",fields:u?[{component:H.a,key:"add-products-pagination",meta:u,apiProps:p,apiRequest:f,isCompact:!0}]:[]}]}]}]}},U=n(618),W=n(155),K=n(609),Q=n(27),X=n(631),Y=n(154);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return f.a.createElement(T.a,u()({key:e.id},e,{editMode:!0,onToggleItemSelect:function(){return t(e.id)},checked:n.includes(e.id)}))}))},te={filterValue:"",isFetching:!1,isFiltering:!1},ne=function(e,t){switch(t.type){case"setFetching":return $($({},e),{},{isFetching:t.payload});case"setFilterValue":return $($({},e),{},{filterValue:t.payload});case"setFilteringFlag":return $($({},e),{},{isFiltering:t.payload})}return e},re=Object(Y.a)((function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:S.a;r(!0),n(Object(U.b)(e,t,$($({},o),{},{filter:t}))).then((function(){return r(!1)}))}),1e3),oe=function(e){var t=e.portfolioRoute,n=Object(p.useState)(void 0),r=i()(n,2),a=r[0],c=r[1],l=Object(p.useState)([]),s=i()(l,2),u=s[0],d=s[1],m=Object(p.useReducer)(ne,te),b=i()(m,2),O=b[0],g=O.filterValue,h=O.isFetching,y=b[1],v=Object(K.a)().push,j=Object(Q.d)(),P=Object(Q.e)((function(e){var t=e.portfolioReducer.selectedPortfolio,n=e.platformReducer;return{platforms:n.platforms,platformItems:n.platformItems,isLoading:n.isPlatformDataLoading,portfolio:t}})),w=P.portfolio,E=P.platforms,_=P.platformItems,k=P.isLoading;Object(p.useEffect)((function(){j(Object(U.c)())}),[]);var x=a&&_[a.id]?_[a.id].data:[],T=a&&_[a.id]&&_[a.id].meta;return f.a.createElement(p.Fragment,null,f.a.createElement(I.a,{schema:G({options:E.map((function(e){return{value:e.id,label:e.name,id:e.id}})),isFetching:h,portfolioName:w&&w.name||"",itemsSelected:u.length>0,onOptionSelect:function(e){c(e),j(Object(U.b)(e.id,g,S.a))},onFilterChange:function(e){return function(e){y({type:"setFilterValue",payload:e}),re(a.id,e,j,(function(e){return y({type:"setFilteringFlag",payload:e})}),$($({},T),{},{offset:0}))}(e)},portfolioRoute:t,onClickAddToPortfolio:function(){return j({type:"setFetching",payload:!0}),j(Object(W.b)(w.id,u)).then((function(){return j({type:"setFetching",payload:!1})})).then((function(){return v({pathname:t,search:"?portfolio=".concat(w.id)})})).then((function(){return j(Object(W.f)(w.id))})).catch((function(){return j({type:"setFetching",payload:!1})}))},meta:T,platformId:a&&a.id,searchValue:g,fetchPlatformItems:function(e,t){return j(Object(U.b)(e,g,t))}})}),f.a.createElement(F,{platform:!!a,checkedItems:u,isLoading:k,items:ee(x,(function(e){return d(function(e){var t=u.indexOf(e);return t>-1?[].concat(o()(u.slice(0,t)),o()(u.slice(t+1))):[].concat(o()(u),[e])}(e))}),u)}),T&&T.count>0&&f.a.createElement(X.a,null,f.a.createElement(H.a,{meta:T,apiProps:a&&a.id,apiRequest:function(e,t){return Object(U.b)(e,g,t)},dropDirection:"up"})))};oe.propTypes={portfolioRoute:m.a.string.isRequired};t.default=oe}}]);
//# sourceMappingURL=../sourcemaps/add-products-to-portfolio~31ecd969.js.map