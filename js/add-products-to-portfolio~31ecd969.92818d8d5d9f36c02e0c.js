(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{606:function(e,t,r){var n=r(766);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},616:function(e,t,r){"use strict";t.__esModule=!0,t.FilterIconConfig={name:"FilterIcon",height:512,width:512,svgPath:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z",yOffset:0,xOffset:0},t.FilterIcon=r(76).createIcon(t.FilterIconConfig),t.default=t.FilterIcon},673:function(e,t,r){var n=r(674),o=r(675),i=r(300),a=r(676);e.exports=function(e){return n(e)||o(e)||i(e)||a()}},674:function(e,t,r){var n=r(301);e.exports=function(e){if(Array.isArray(e))return n(e)}},675:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},676:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},695:function(e,t,r){"use strict";var n,o,i=r(0),a=r.n(i),c=r(19),l=r(129),u=r(180),s=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},p=function(){return(p=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},d=Object(c.b)(l.a)(n||(n=s(["\n  display: flex !important;\n  align-items: center;\n"],["\n  display: flex !important;\n  align-items: center;\n"]))),b=c.b.span(o||(o=s(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),(function(e){return e.showSpinner?"8px":"0"})),m=Object(i.forwardRef)((function(e,t){var r=e.children,n=e.showSpinner,o=void 0!==n&&n,i=e.isDisabled,c=void 0!==i&&i,l=f(e,["children","showSpinner","isDisabled"]);return a.a.createElement(d,p({ref:t},l,{isDisabled:c}),a.a.createElement(b,{showSpinner:o},r),o&&a.a.createElement(u.Spinner,{size:"md"}))}));m.displayName="ButtonWithSpinner",t.a=m},706:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(1),o=r(0),i=r(2),a=r(44),c=r.n(a);const l=e=>{var{children:t=null,className:r=""}=e,a=Object(n.__rest)(e,["children","className"]);return o.createElement("div",Object.assign({className:Object(i.css)(c.a.cardHeader,r)},a),t)};l.displayName="CardHeader"},707:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(1),o=r(0),i=r(44),a=r.n(i),c=r(2);const l=e=>{var{children:t=null,className:r="",component:i="div"}=e,l=Object(n.__rest)(e,["children","className","component"]);const u=i;return o.createElement(u,Object.assign({className:Object(c.css)(a.a.cardFooter,r)},l),t)};l.displayName="CardFooter"},760:function(e,t,r){var n=r(761);e.exports=function(e,t){return n(e,t)}},761:function(e,t,r){var n=r(762),o=r(309);e.exports=function e(t,r,i,a,c){return t===r||(null==t||null==r||!o(t)&&!o(r)?t!=t&&r!=r:n(t,r,i,a,e,c))}},762:function(e,t,r){var n=r(763),o=r(770),i=r(772),a=r(773),c=r(776),l=r(113),u=r(777),s=r(778),p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,d,b,m){var O=l(e),y=l(t),h=O?"[object Array]":c(e),v=y?"[object Array]":c(t),g=(h="[object Arguments]"==h?p:h)==p,j=(v="[object Arguments]"==v?p:v)==p,P=h==v;if(P&&u(e)){if(!u(t))return!1;O=!0,g=!1}if(P&&!g)return m||(m=new n),O||s(e)?o(e,t,r,d,b,m):i(e,t,h,r,d,b,m);if(!(1&r)){var w=g&&f.call(e,"__wrapped__"),E=j&&f.call(t,"__wrapped__");if(w||E){var _=w?e.value():e,k=E?t.value():t;return m||(m=new n),b(_,k,r,d,m)}}return!!P&&(m||(m=new n),a(e,t,r,d,b,m))}},763:function(e,t,r){var n=r(764),o=r(765),i=r(767),a=r(768),c=r(769);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=c,e.exports=l},764:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},765:function(e,t,r){var n=r(606),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)}},766:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},767:function(e,t,r){var n=r(606);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},768:function(e,t,r){var n=r(606);e.exports=function(e){return n(this.__data__,e)>-1}},769:function(e,t,r){var n=r(606);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},770:function(e,t,r){var n=r(307),o=r(771),i=r(308);e.exports=function(e,t,r,a,c,l){var u=1&r,s=e.length,p=t.length;if(s!=p&&!(u&&p>s))return!1;var f=l.get(e);if(f&&l.get(t))return f==t;var d=-1,b=!0,m=2&r?new n:void 0;for(l.set(e,t),l.set(t,e);++d<s;){var O=e[d],y=t[d];if(a)var h=u?a(y,O,d,t,e,l):a(O,y,d,e,t,l);if(void 0!==h){if(h)continue;b=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(O===e||c(O,e,r,a,l)))return m.push(t)}))){b=!1;break}}else if(O!==y&&!c(O,y,r,a,l)){b=!1;break}}return l.delete(e),l.delete(t),b}},771:function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},772:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},773:function(e,t,r){var n=r(774),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,a,c){var l=1&r,u=n(e),s=u.length;if(s!=n(t).length&&!l)return!1;for(var p=s;p--;){var f=u[p];if(!(l?f in t:o.call(t,f)))return!1}var d=c.get(e);if(d&&c.get(t))return d==t;var b=!0;c.set(e,t),c.set(t,e);for(var m=l;++p<s;){var O=e[f=u[p]],y=t[f];if(i)var h=l?i(y,O,f,t,e,c):i(O,y,f,e,t,c);if(!(void 0===h?O===y||a(O,y,r,i,c):h)){b=!1;break}m||(m="constructor"==f)}if(b&&!m){var v=e.constructor,g=t.constructor;v==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g||(b=!1)}return c.delete(e),c.delete(t),b}},774:function(e,t,r){var n=r(775)(Object.keys,Object);e.exports=n},775:function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},776:function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},777:function(e,t){e.exports=function(){return!1}},778:function(e,t){e.exports=function(){return!1}},779:function(e,t,r){"use strict";var n,o=r(0),i=r.n(o),a=r(540),c=r(706),l=r(707),u=r(607),s=r(679),p=r(639),f=r(594),d=r(19),b=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},m=function(){return(m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},O=Object(d.b)(a.a)(n||(n=b(["\n  flex: 1;\n"],["\n  flex: 1;\n"])));t.a=function(e){return i.a.createElement(f.a,{key:e.id},i.a.createElement(c.a,null,i.a.createElement(O,null,i.a.createElement(u.a,{height:40,sourceId:e.source_id}),e.editMode&&i.a.createElement(s.a,{id:e.id,isChecked:e.checked,handleCheck:e.onToggleItemSelect}))),i.a.createElement(p.a,m({},e)),i.a.createElement(l.a,null))}},780:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(133),o=r.n(n),i=r(582),a=r.n(i),c=r(586);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=function(e){var t=e.pathname,r=e.preserveSearch,n=e.id,o=a()(e,["pathname","preserveSearch","id"]);return{component:c.b.TOOLBAR_ITEM,key:"".concat(o.key,"/button-link"),fields:[{component:c.b.LINK,pathname:t,preserveSearch:r,key:"".concat(o.key,"/button-link"),isDisabled:o.isDisabled,id:n,fields:[u({component:c.b.BUTTON},o)]}]}}},983:function(e,t,r){"use strict";r.r(t);var n=r(673),o=r.n(n),i=r(95),a=r.n(i),c=r(133),l=r.n(c),u=r(574),s=r.n(u),p=r(0),f=r.n(p),d=r(13),b=r.n(d),m=r(582),O=r.n(m),y=r(573),h=r.n(y),v=r(616),g=r.n(v),j=r(595),P=r(588),w=r(570),E=r(45),_=r(17),k=function(e){var t=e.platform,r=Object(_.a)();return f.a.createElement(P.b,{Icon:t?h.a:g.a,title:r(t?E.a.addProducstFilterTitle:E.a.addProducstPlatformTitle),description:r(t?w.a.noResultsDescription:E.a.addProducstPlatformDescription)})};k.propTypes={platform:b.a.any};var S=function(e){var t=e.platform,r=O()(e,["platform"]);return f.a.createElement(j.a,s()({editMode:!0},r,{renderEmptyState:function(){return f.a.createElement(k,{platform:t})}}))};S.propTypes={checkedItems:b.a.arrayOf(b.a.string),platform:b.a.any},S.defaultProps={checkedItems:[]};var x=S,F=r(591),I=r(24),T=r(779),D=r(586),C=r(780),A=r(65),R=r(760),L=r.n(R),N=function(){return(N=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},V=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},M=function(e){var t=e.onChange,r=V(e,["onChange"]),n=Object(p.useState)(void 0),o=n[0],i=n[1];return f.a.createElement("div",{key:"filter-select",id:"filter-select",className:"filter-select"},f.a.createElement(A.InternalSelect,N({isDisabled:!r.options||0===r.options.length,name:"filter-select",simpleValue:!1,onChange:function(e){t&&t(e||o),i(e||o)},value:o},r)))};M.propTypes={options:b.a.array,onChange:b.a.func.isRequired};var B=Object(p.memo)(M,(function(e,t){return L()(e.options,t.options)})),z=r(695),q=r(581);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U=function(e){var t=e.options,r=e.isFetching,n=e.searchValue,o=e.portfolioName,i=e.itemsSelected,a=e.onOptionSelect,c=e.onFilterChange,l=e.portfolioRoute,u=e.onClickAddToPortfolio,s=e.meta,p=e.platformId,f=e.fetchPlatformItems;return{fields:[{component:D.b.TOP_TOOLBAR,key:"add-products-toolbar",fields:[{component:D.b.TOP_TOOLBAR_TITLE,title:"Add products: ".concat(o),key:"add-products-title"},{component:D.b.LEVEL,key:"add-products-actions",fields:[{component:D.b.TOOLBAR,key:"add-products-actions-toolbar",fields:[{component:D.b.TOOLBAR_GROUP,key:"products-filter-group",fields:[{component:B,key:"select-platforms",id:"products-platform-select",isMulti:!1,isSearchable:!0,placeholder:"Filter by Platform",options:t,onChange:a},{component:D.b.FILTER_TOOLBAR_ITEM,key:"filter-products-input",onFilterChange:c,searchValue:n,isDisabled:!p,placeholder:"Filter products"}]},J({groupName:"cancel-group-item"},Object(C.a)({key:"add-products-cancel-button",pathname:l,variant:"link","aria-label":"Cancel Add products to Portfolio",preserveSearch:!0,title:"Cancel"})),{component:D.b.TOOLBAR_ITEM,key:"add-group-item",fields:[{key:"portfolio-items-add-group",component:z.a,variant:"primary","aria-label":"Add products to Portfolio",title:"Add",type:"button",onClick:u,isDisabled:!i||r,showSpinner:r,children:"Add",id:"add-products-to-portfolio"}]}]},{component:D.b.LEVEL_ITEM,key:"pagination-item",fields:s?[{component:q.a,key:"add-products-pagination",meta:s,apiProps:p,apiRequest:f,isCompact:!0}]:[]}]}]}]}},G=r(585),K=r(135),W=r(575),Q=r(18),X=r(596),Y=r(108);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return f.a.createElement(T.a,s()({key:e.id},e,{editMode:!0,onToggleItemSelect:function(){return t(e.id)},checked:r.includes(e.id)}))}))},te={filterValue:"",isFetching:!1,isFiltering:!1},re=function(e,t){switch(t.type){case"setFetching":return $($({},e),{},{isFetching:t.payload});case"setFilterValue":return $($({},e),{},{filterValue:t.payload});case"setFilteringFlag":return $($({},e),{},{isFiltering:t.payload})}return e},ne=Object(Y.a)((function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:I.a;n(!0),r(Object(G.b)(e,t,$($({},o),{},{filter:t}))).then((function(){return n(!1)}))}),1e3),oe=function(e){var t=e.portfolioRoute,r=Object(p.useState)(void 0),n=a()(r,2),i=n[0],c=n[1],l=Object(p.useState)([]),u=a()(l,2),s=u[0],d=u[1],b=Object(p.useReducer)(re,te),m=a()(b,2),O=m[0],y=O.filterValue,h=O.isFetching,v=m[1],g=Object(W.a)().push,j=Object(Q.useDispatch)(),P=Object(Q.useSelector)((function(e){var t=e.portfolioReducer.selectedPortfolio,r=e.platformReducer;return{platforms:r.platforms,platformItems:r.platformItems,isLoading:r.isPlatformDataLoading,portfolio:t}})),w=P.portfolio,E=P.platforms,_=P.platformItems,k=P.isLoading;Object(p.useEffect)((function(){j(Object(G.c)())}),[]);var S=i&&_[i.id]?_[i.id].data:[],T=i&&_[i.id]&&_[i.id].meta;return f.a.createElement(p.Fragment,null,f.a.createElement(F.a,{schema:U({options:E.map((function(e){return{value:e.id,label:e.name,id:e.id}})),isFetching:h,portfolioName:w&&w.name||"",itemsSelected:s.length>0,onOptionSelect:function(e){c(e),j(Object(G.b)(e.id,y,I.a))},onFilterChange:function(e){return function(e){v({type:"setFilterValue",payload:e}),ne(i.id,e,j,(function(e){return v({type:"setFilteringFlag",payload:e})}),$($({},T),{},{offset:0}))}(e)},portfolioRoute:t,onClickAddToPortfolio:function(){return j({type:"setFetching",payload:!0}),j(Object(K.b)(w.id,s)).then((function(){return j({type:"setFetching",payload:!1})})).then((function(){return g({pathname:t,search:"?portfolio=".concat(w.id)})})).then((function(){return j(Object(K.f)(w.id))})).catch((function(){return j({type:"setFetching",payload:!1})}))},meta:T,platformId:i&&i.id,searchValue:y,fetchPlatformItems:function(e,t){return j(Object(G.b)(e,y,t))}})}),f.a.createElement(x,{platform:!!i,checkedItems:s,isLoading:k,items:ee(S,(function(e){return d(function(e){var t=s.indexOf(e);return t>-1?[].concat(o()(s.slice(0,t)),o()(s.slice(t+1))):[].concat(o()(s),[e])}(e))}),s)}),T&&T.count>0&&f.a.createElement(X.a,null,f.a.createElement(q.a,{meta:T,apiProps:i&&i.id,apiRequest:function(e,t){return Object(G.b)(e,y,t)},dropDirection:"up"})))};oe.propTypes={portfolioRoute:b.a.string.isRequired};t.default=oe}}]);
//# sourceMappingURL=../sourcemaps/add-products-to-portfolio~31ecd969.js.map