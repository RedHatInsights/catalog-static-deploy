(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{389:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(3),a=r.__importStar(o(0)),i=r.__importDefault(o(181)),n=o(4),l=()=>{};class s extends a.Component{constructor(e){super(e),this.handleChange=e=>{this.props.onChange(e.currentTarget.checked,e)}}render(){const e=this.props,{"aria-label":t,className:o,onChange:s,isValid:c,isDisabled:p,isChecked:d,label:u,checked:f,defaultChecked:m,description:h}=e,b=r.__rest(e,["aria-label","className","onChange","isValid","isDisabled","isChecked","label","checked","defaultChecked","description"]),g={};return([!0,!1].includes(f)||!0===d)&&(g.checked=f||d),s!==l&&(g.checked=d),[!1,!0].includes(m)&&(g.defaultChecked=m),g.checked=null!==g.checked&&g.checked,a.createElement("div",{className:n.css(i.default.check,o)},a.createElement("input",Object.assign({},b,{className:n.css(i.default.checkInput),type:"checkbox",onChange:this.handleChange,"aria-invalid":!c,"aria-label":t,disabled:p,ref:e=>e&&(e.indeterminate=null===d)},g)),u&&a.createElement("label",{className:n.css(i.default.checkLabel,p&&i.default.modifiers.disabled),htmlFor:b.id},u),h&&a.createElement("div",{className:n.css(i.default.checkDescription)},h))}}t.Checkbox=s,s.displayName="Checkbox",s.defaultProps={className:"",isValid:!0,isDisabled:!1,isChecked:!1,onChange:l}},428:function(e,t,o){"use strict";var r=o(0),a=o.n(r),i=o(10),n=o.n(i),l=o(389),s=function(e){var t=e.handleCheck,o=e.isChecked,r=e.id;return a.a.createElement(l.Checkbox,{onClick:function(e){return e.stopPropagation()},isChecked:o,onChange:t,"aria-label":"card checkbox",id:r})};s.propTypes={handleCheck:n.a.func,isChecked:n.a.bool,id:n.a.string},t.a=s},429:function(e,t,o){"use strict";var r=o(1),a=o.n(r),i=o(376),n=o.n(i),l=o(40),s=o.n(l),c=o(0),p=o.n(c),d=o(10),u=o.n(d),f=o(35),m=o(50),h=o(407),b=o(441),g=o(408),y=o(409),P=function(e){var t=e.name,o=(e.display_name,e.distributor),r=e.pathname,a=e.searchParams,i=e.preserveSearch,l=e.portfolioName,d=s()(e,["name","display_name","distributor","pathname","searchParams","preserveSearch","portfolioName"]);return p.a.createElement(y.a,null,p.a.createElement(m.TextContent,null,p.a.createElement(b.a,{pathname:r,searchParams:a,preserveSearch:i},p.a.createElement(f.Text,{component:f.TextVariants.h3,title:t},p.a.createElement(g.a,null,t))),o&&p.a.createElement(f.Text,{component:f.TextVariants.small},o),l&&p.a.createElement(c.Fragment,null,p.a.createElement(f.Text,{className:"pf-u-mb-0",component:"small"},"Portfolio"),p.a.createElement(f.Text,null,l))),p.a.createElement(h.a,n()({toDisplay:[d.description?"description":"long_description"]},d)))};P.propTypes={name:u.a.string,display_name:u.a.string,distributor:u.a.string,long_description:u.a.string,description:u.a.string,pathname:u.a.string,preserveSearch:u.a.bool,searchParams:u.a.shape(a()({},u.a.string,u.a.string)),portfolioName:u.a.string},t.a=P},442:function(e,t,o){"use strict";t.__esModule=!0,t.WrenchIconConfig={name:"WrenchIcon",height:512,width:512,svgPath:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z",yOffset:0,xOffset:0,transform:""},t.WrenchIcon=o(172).createIcon(t.WrenchIconConfig),t.default=t.WrenchIcon},473:function(e,t,o){"use strict";var r=o(19),a=o.n(r),i=o(0),n=o.n(i),l=o(10),s=o.n(l),c=o(395),p=o(411),d=o(67),u=o(12),f=o(421),m=o(428),h=o(429),b=o(410),g=o(20);function y(){var e=a()(["\n  flex: 1;\n"]);return y=function(){return e},e}var P=Object(g.b)(d.Level)(y()),v=function(e){return n.a.createElement(b.b,{isDisabled:e.removeInProgress&&e.isSelected},n.a.createElement(b.a,null,n.a.createElement(c.CardHeader,null,n.a.createElement(P,null,n.a.createElement(f.a,{src:"".concat(u.c,"/portfolio_items/").concat(e.id,"/icon"),sourceId:e.service_offering_source_ref}),e.isSelectable&&n.a.createElement(m.a,{handleCheck:function(){return e.onSelect(e.id)},isChecked:e.isSelected,id:e.id}))),n.a.createElement(h.a,e),n.a.createElement(p.CardFooter,null)))};v.propTypes={id:s.a.string,platformId:s.a.string,service_offering_source_ref:s.a.string,isSelectable:s.a.bool,isSelected:s.a.bool,onSelect:s.a.func,orderUrl:s.a.string,removeInProgress:s.a.bool,portfolio_id:s.a.string,metadata:s.a.shape({user_capabilities:s.a.shape({destroy:s.a.bool}).isRequired}).isRequired},t.a=v},683:function(e,t,o){"use strict";o.r(t);var r=o(1),a=o.n(r),i=o(376),n=o.n(i),l=o(31),s=o.n(l),c=o(0),p=o.n(c),d=o(10),u=o.n(d),f=o(41),m=o(23),h=o(403),b=o(40),g=o.n(b),y=o(175),P=o(26),v=o(179),k=o(174),O=o(406),E=o(477),C=o(381),R=o(383);function I(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function w(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?I(Object(o),!0).forEach((function(t){a()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):I(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var _=function(e){var t=e.editPortfolioRoute,o=e.workflowPortfolioRoute,r=e.removePortfolioRoute,a=e.copyInProgress,i=e.copyPortfolio,n=e.userCapabilities,l=n.copy,d=n.destroy,u=n.update,f=n.set_approval,m=Object(c.useState)(!1),h=s()(m,2),b=h[0],g=h[1],O=[];return l&&O.push(p.a.createElement(k.DropdownItem,{component:"button","aria-label":"Copy Portfolio",key:"copy-portfolio",id:"copy-portfolio",onClick:i},"Copy")),f&&O.push(p.a.createElement(k.DropdownItem,{"aria-label":"Set approval workflow",key:"set-approval-portfolio-action",id:"set-approval-portfolio-action",component:p.a.createElement(R.a,{preserveSearch:!0,pathname:o},"Set approval"),role:"link"})),u&&O.push(p.a.createElement(k.DropdownItem,{"aria-label":"Edit Portfolio",key:"edit-portfolio",id:"edit-portfolio",component:p.a.createElement(R.a,{id:"edit-portfolio",preserveSearch:!0,pathname:t},"Edit"),role:"link"})),d&&O.push(p.a.createElement(k.DropdownItem,{"aria-label":"Remove Portfolio",key:"delete-portfolio",id:"delete-portfolio",component:p.a.createElement(R.a,{preserveSearch:!0,pathname:r},"Delete"),role:"link",className:"pf-c-dropdown__menu-item"})),0===O.length?null:p.a.createElement(y.Dropdown,{className:"pf-u-ml-md",onSelect:function(){return g(!1)},position:P.DropdownPosition.right,toggle:p.a.createElement(v.KebabToggle,{id:"toggle-portfolio-actions",onToggle:g,isDisabled:a}),isOpen:b,isPlain:!0,dropdownItems:O})};_.propTypes={removePortfolioRoute:u.a.string.isRequired,editPortfolioRoute:u.a.string.isRequired,workflowPortfolioRoute:u.a.string.isRequired,copyPortfolio:u.a.func.isRequired,copyInProgress:u.a.bool,userCapabilities:u.a.shape({copy:u.a.bool,update:u.a.bool,destroy:u.a.bool,set_approval:u.a.bool}).isRequired};var D=function(e){var t=e.title,o=e.addProductsRoute,r=e.copyPortfolio,a=e.sharePortfolioRoute,i=e.editPortfolioRoute,n=e.workflowPortfolioRoute,l=e.removePortfolioRoute,s=e.copyInProgress,c=e.isLoading,p=e.removeProducts,d=e.itemsSelected,u=e.meta,f=e.fetchPortfolioItemsWithPortfolio,m=e.portfolioId,h=e.description,b=e.filterProps,y=b.searchValue,P=b.onFilterChange,v=b.placeholder,k=e.userCapabilities,R=k.share,I=k.unshare,D=g()(k,["share","unshare"]);return{fields:[{component:O.b.TOP_TOOLBAR,key:"portfolio-top-toolbar",fields:[{component:O.b.TOP_TOOLBAR_TITLE,key:"portfolio-toolbar-title",noData:u.noData,title:t,description:h,fields:[{component:O.b.TOOLBAR,key:"portfolio-actions",noWrap:!0,fields:[Object(E.a)({pathname:a,preserveSearch:!0,variant:"secondary",title:"Share",isDisabled:s,key:"portfolio-share-button",id:"portfolio-share-button",hidden:!R&&!I}),{component:O.b.TOOLBAR_ITEM,key:"portfolio-actions-dropdown-item",fields:[{component:_,editPortfolioRoute:i,workflowPortfolioRoute:n,removePortfolioRoute:l,copyPortfolio:r,copyInProgress:s,userCapabilities:D,key:"portfolio-actions-dropdown"}]}]}]},{component:O.b.LEVEL,key:"portfolio-items-actions",fields:u.noData?[]:[{component:O.b.TOOLBAR,key:"portfolio-items-actions",fields:[{groupName:"filter-portfolio-items",component:O.b.FILTER_TOOLBAR_ITEM,isClearable:!0,key:"portfolio-items-filter",searchValue:y,onFilterChange:P,placeholder:v},w({hidden:0===u.count||!D.update,groupName:"add-portfolio-items",key:"portfolio-items-add-group"},Object(E.a)({preserveSearch:!0,pathname:o,isDisabled:c||s,variant:"primary",title:"Add",key:"add-products-button"})),{component:O.b.TOOLBAR_ITEM,key:"remove-products-item",hidden:0===u.count||!D.update,fields:[{component:O.b.BUTTON,groupName:"remove-portfolio-items",variant:"link",title:"Remove",key:"remove-products-button",id:"remove-products-button",isDisabled:!d,onClick:p}]}]},{component:O.b.LEVEL_ITEM,key:"pagination-item",fields:u.count>0?[{component:C.a,key:"portfolio-items-pagination",meta:u,apiRequest:f,apiProps:m,isCompact:!0}]:[]}]}]}]}},S=o(397),T=o.n(S),j=o(442),N=o.n(j),q=o(399),L=o(52),F=function(e){var t=e.url,o=e.handleFilterChange,r=e.meta,a=e.userCapabilities.update,i={PrimaryAction:r.noData?function(){return p.a.createElement(q.a,{url:t,label:"Add products",id:"add-products-to-portfolio",hasPermission:a})}:function(){return p.a.createElement(L.Button,{id:"clear-portfolio-filter",variant:"link",onClick:function(){return o("")}},"Clear all filters")},title:r.noData?"No products yet":"No results found",description:r.noData?"No products in your portfolio":"No results match the filter criteria. Remove all filters or clear all filters to show results.",Icon:r.noData?N.a:T.a};return p.a.createElement(q.b,i)};F.propTypes={url:u.a.string.isRequired,handleFilterChange:u.a.func.isRequired,meta:u.a.shape({noData:u.a.bool}).isRequired,userCapabilities:u.a.shape({update:u.a.bool}).isRequired};var x=F,V=o(413),A=o(473),B=o(394),M=o(414),W=o(54),z=o(9);function J(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function U(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?J(Object(o),!0).forEach((function(t){a()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):J(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var H=function(e){var t=e.routes,o=e.handleFilterChange,r=e.removeProducts,a=e.copyPortfolio,i=e.stateDispatch,l=e.state,d=l.removeInProgress,u=l.isFetching,b=l.isFiltering,g=l.copyInProgress,y=l.selectedItems,P=l.filterValue,v=Object(m.useSelector)((function(e){var t=e.portfolioReducer,o=t.portfolioItems,r=o.data,a=o.meta,i=t.selectedPortfolio;return{data:r,meta:a,name:i.name,description:i.description,userCapabilities:i.metadata.user_capabilities}})),k=v.data,O=v.meta,E=v.name,R=v.description,I=v.userCapabilities,w=Object(f.i)(z.u).url,_=Object(W.a)(["portfolio"]),S=s()(_,1)[0].portfolio,T=Object(m.useDispatch)(),j=k.map((function(e){return p.a.createElement(A.a,n()({key:e.id},e,{pathname:"".concat(w,"/portfolio-item"),searchParams:{source:e.service_offering_source_ref,"portfolio-item":e.id},preserveSearch:!0,isSelectable:I.update,onSelect:function(e){return i({type:"selectItem",payload:e})},isSelected:y.includes(e.id),removeInProgress:d}))}));return p.a.createElement(c.Fragment,null,p.a.createElement(h.a,{schema:D(U(U({filterProps:{searchValue:P,onFilterChange:o,placeholder:"Filter by product"},title:E,description:R},t),{},{copyPortfolio:a,isLoading:u||b,copyInProgress:g,removeProducts:function(){return r(y)},itemsSelected:y.length>0,meta:O,fetchPortfolioItemsWithPortfolio:function(){return T(B.f.apply(void 0,arguments))},portfolioId:S,userCapabilities:I}))}),p.a.createElement(V.a,{items:j,isLoading:u||b,renderEmptyState:function(){return p.a.createElement(x,{handleFilterChange:o,meta:O,userCapabilities:I,url:t.addProductsRoute})}}),O.count>0&&p.a.createElement(M.a,null,p.a.createElement(C.a,{dropDirection:"up",meta:O,apiProps:S,apiRequest:function(){return T(B.f.apply(void 0,arguments))}})))};H.propTypes={routes:u.a.shape({addProductsRoute:u.a.string.isRequired,portfolioRoute:u.a.string.isRequired}).isRequired,handleFilterChange:u.a.func.isRequired,removeProducts:u.a.func.isRequired,copyPortfolio:u.a.func.isRequired,stateDispatch:u.a.func.isRequired,state:u.a.shape({removeInProgress:u.a.bool,isFetching:u.a.bool,isFiltering:u.a.bool,copyInProgress:u.a.bool,selectedItems:u.a.arrayOf(u.a.string),filterValue:u.a.string}).isRequired};t.default=H}}]);
//# sourceMappingURL=../sourcemaps/54.js.map