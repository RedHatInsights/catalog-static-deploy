(self.webpackChunkcatalog=self.webpackChunkcatalog||[]).push([[3814],{42697:(e,t,r)=>{"use strict";r.d(t,{s:()=>C,X:()=>L});var n=r(29439),o=r(30624),i=r.n(o),a=r(45697),l=r.n(a),c=r(334),s=r(24774),u=r(80256),p=r(63540),d=r(20018),m=r(6202),f=r(36001),h=r(22910),b=r(47962),v=r(96823),g=r(92512),y=r(68212),E=r(20697),w=r(7579),_=r(64466),Z=r(23349),k=r(29751),O=r(36722),I=function(e){var t=e.copyUrl,r=e.orderUrl,n=e.editUrl,a=e.workflowUrl,l=e.editSurveyUrl,c=e.isOpen,s=e.setOpen,p=e.isFetching,d=e.availability,m=e.orderable,f=e.userCapabilities,I=e.canLinkOrderProcesses,R=(0,Z.Z)(),P=[];if(null!=f&&f.update&&P.push(i().createElement(v.h,{"aria-label":"Edit Portfolio",key:"edit-portfolio-item",id:"edit-portfolio-item",component:i().createElement(E.Z,{pathname:n,preserveSearch:!0},R(w.Z.edit)),role:"link"})),null!=f&&f.copy&&P.push(i().createElement(v.h,{"aria-label":"Copy Portfolio",key:"copy-portfolio-item",id:"copy-portfolio-item",component:i().createElement(E.Z,{pathname:t,preserveSearch:!0},R(w.Z.copy)),role:"link"})),null!=f&&f.set_approval&&P.push(i().createElement(v.h,{"aria-label":"Set approval",key:"set-approval_workflow",id:"set-approval_workflow",component:i().createElement(E.Z,{pathname:a,preserveSearch:!0},R(w.Z.setApproval)),role:"link"})),null!=f&&f.update&&I){var T=R(k.Z.setOrderProcess);P.push(i().createElement(v.h,{"aria-label":T,key:"attach-order-processes",id:"attach-order-processes",component:i().createElement(E.Z,{preserveSearch:!0,pathname:O.$t},T),role:"link"}))}return null!=f&&f.update&&P.push(i().createElement(v.h,{"aria-label":"Edit survey",key:"edit-survey",id:"edit-survey",component:i().createElement(E.Z,{pathname:l,preserveSearch:!0},R(_.Z.portfolioItemSurvey)),role:"link"})),i().createElement(o.Fragment,null,i().createElement(u.Z,null,i().createElement(E.Z,{isDisabled:p||!m,pathname:r,preserveSearch:!0},i().createElement(y.Z,{isDisabled:p||!m,showSpinner:p,variant:"primary",id:"order-portfolio-item",ouiaId:"order-portfolio-item"},R(_.Z.portfolioItemOrder)))),i().createElement(u.Z,{style:{marginLeft:16}},"unavailable"!==d&&P.length>0&&i().createElement(h.L,{isPlain:!0,onToggle:s,onSelect:function(){return s(!1)},position:g.DropdownPosition.right,toggle:i().createElement(b.a,{id:"portfolio-item-actions-toggle",onToggle:function(e){return s(e)}}),isOpen:c,dropdownItems:P})))};I.propTypes={orderUrl:l().string.isRequired,editUrl:l().string.isRequired,copyUrl:l().string.isRequired,editSurveyUrl:l().string.isRequired,workflowUrl:l().string.isRequired,isOpen:l().bool,setOpen:l().func.isRequired,isFetching:l().bool,availability:l().oneOf(["available","unavailable"]).isRequired,orderable:l().bool,userCapabilities:l().shape({update:l().bool,copy:l().bool,set_approval:l().bool}).isRequired,canLinkOrderProcesses:l().bool},I.defaultProps={isFetching:!1,orderable:!0,canLinkOrderProcesses:!1};const R=I;var P=r(35388),T=r(32642),j=r(15811),x=r(57628),S=r(21976),q=r(63035),N=function(e){var t=e.product;return i().createElement(T.Z,{src:(0,q.$W)()?t.icon_url:"".concat(P.Vs,"/portfolio_items/").concat(t.id,"/icon"),sourceId:null==t?void 0:t.service_offering_source_ref,height:64})};N.propTypes={product:l().shape({id:l().string.isRequired,service_offering_source_ref:l().string,icon_url:l().string}).isRequired};var C=function(e){var t=e.url,r=e.isOpen,n=e.product,o=e.setOpen,a=e.isFetching,l=e.availability,m=e.userCapabilities,f=e.orderable,h=e.fromProducts,b=e.canLinkOrderProcesses,v=e.breadcrumbfragments,g=(0,Z.Z)(),y=(0,c.useLocation)().pathname;return i().createElement(j.Z,{paddingBottom:y!==O.Kf,breadcrumbs:!h,breadcrumbfragments:v},h&&i().createElement(S.Z,null),i().createElement(s.a,{className:"flex-no-wrap"},i().createElement(c.Switch,null,i().createElement(c.Route,{path:O.Kf,exact:!0},i().createElement(j.y,{title:g(_.Z.editProduct),noData:!0})),i().createElement(c.Route,null,i().createElement(x.v,{grow:!0,alignStart:!0,className:"pf-l-flex"},m.update?i().createElement(N,{product:n}):i().createElement(T.Z,{src:(0,q.$W)()?n.icon_url:"".concat(P.Vs,"/portfolio_items/").concat(n.id,"/icon"),sourceId:n.service_offering_source_ref,height:64}),i().createElement(d.TextContent,{className:"pf-u-ml-md"},i().createElement(p.Text,{component:p.TextVariants.h1},n.name))),i().createElement(u.Z,{style:{minHeight:36},className:"flex-item-no-wrap"},i().createElement(s.a,{className:"flex-no-wrap"},i().createElement(R,{isOpen:r,setOpen:function(e){return o(e)},orderUrl:"".concat(t,"/order"),editUrl:"".concat(t,"/edit"),copyUrl:"".concat(t,"/copy"),editSurveyUrl:"".concat(t,"/edit-survey"),workflowUrl:"".concat(t,"/edit-workflow"),isFetching:a,availability:l,orderable:f,userCapabilities:m,canLinkOrderProcesses:b})))))))};C.propTypes={url:l().string.isRequired,isOpen:l().bool,product:l().shape({distributor:l().string,name:l().string.isRequired,id:l().string.isRequired,service_offering_source_ref:l().string.isRequired,metadata:l().shape({orderable:l().bool}),icon_url:l().string}).isRequired,setOpen:l().func.isRequired,isFetching:l().bool,availability:l().oneOf(["available","unavailable"]).isRequired,userCapabilities:l().object,fromProducts:l().bool,orderable:l().bool,canLinkOrderProcesses:l().bool},C.defaultProps={isFetching:!1,orderable:!0};var U=function(e){var t=e.handleResetSurvey,r=(0,Z.Z)(),a=(0,o.useState)(!1),l=(0,n.Z)(a,2),c=l[0],s=l[1];return i().createElement(h.L,{isOpen:c,isPlain:!0,onSelect:function(){return s(!1)},position:"right",toggle:i().createElement(b.a,{onToggle:function(e){return s(e)}}),dropdownItems:[i().createElement(v.h,{onClick:t,component:"button",key:"synchronize"},r(_.Z.restoreSurvey))]})};U.propTypes={handleResetSurvey:l().func.isRequired};var L=function(e){var t=e.handleSaveSurvey,r=e.breadcrumbfragments,n=e.closeUrl,o=e.search,a=e.isFetching,l=e.isValid,h=e.modified,b=e.breadcrumbs,v=e.handleResetSurvey,g=(0,Z.Z)();return i().createElement(j.Z,{breadcrumbs:b,breadcrumbfragments:r},i().createElement(s.a,null,i().createElement(x.v,{grow:!0,alignStart:!0,className:"pf-l-flex"},i().createElement(d.TextContent,null,i().createElement(p.Text,{component:p.TextVariants.h1},g(_.Z.portfolioItemSurvey)))),i().createElement(u.Z,null,i().createElement(f.k,{className:"align-items-center"},i().createElement(y.Z,{variant:"primary",ouiaId:"save-survey",showSpinner:a,isDisabled:a||!l,onClick:t},g(w.Z.save)),i().createElement(c.Link,{to:{pathname:n,search:o}},i().createElement(m.Button,{ouiaId:"cancel",variant:"link"},"Cancel")),h&&i().createElement(U,{handleResetSurvey:v})))))};L.propTypes={handleSaveSurvey:l().func.isRequired,closeUrl:l().string.isRequired,search:l().string.isRequired,isFetching:l().bool,isValid:l().bool,modified:l().bool,handleResetSurvey:l().func,fromProducts:l().bool,canLinkOrderProcesses:l().bool}},81166:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Re});var n=r(4942),o=r(29439),i=r(30624),a=r.n(i),l=r(14494),c=r(334),s=r(49287),u=r(18038),p=r(70044),d=r(54213),m=r(45697),f=r.n(m),h=r(63540),b=r(20018),v=r(62410),g=r(23349),y={id:"portfolio.item.detail.info.platform",defaultMessage:"Platform"},E={id:"portfolio.item.detail.info.portfolio",defaultMessage:"Portfolio"},w={id:"portfolio.item.detail.info.vendor",defaultMessage:"Vendor"},_={id:"portfolio.item.detail.info.created",defaultMessage:"Created"},Z=function(e){var t=e.product,r=e.source,n=e.portfolio,o=(0,g.Z)();return a().createElement(b.TextContent,{className:"pf-u-mb-md"},a().createElement(h.Text,{className:"font-14"},o(y)),a().createElement(h.Text,{id:"source-name",className:"overflow-wrap",component:h.TextVariants.p},r.name),a().createElement(h.Text,{className:"font-14"},o(E)),a().createElement(h.Text,{id:"portfolio-name",className:"overflow-wrap",component:h.TextVariants.p},n.name),t.distributor&&a().createElement("span",{id:"distributor"},a().createElement(h.Text,{className:"font-14"},o(w)),a().createElement(h.Text,{className:"overflow-wrap",component:h.TextVariants.p},t.distributor)),a().createElement(h.Text,{className:"font-14"},o(_)),a().createElement(h.Text,{id:"created_at",component:h.TextVariants.p},a().createElement(v.Z,{variant:"relative",date:t.created_at})))};Z.propTypes={product:f().shape({distributor:f().string,updated_at:f().string,created_at:f().string.isRequired}).isRequired,source:f().shape({name:f().string}).isRequired,portfolio:f().shape({name:f().string}).isRequired};const k=Z;var O=r(45987),I=r(30137),R=r(96354),P=r(64124);const T={fields:[{component:R.Z.TEXT_FIELD,name:"name",label:"schemas.portfolio-item.name",isRequired:!0,validate:[{type:P.Z.REQUIRED}]},{component:R.Z.TEXT_FIELD,name:"description",label:"schemas.portfolio-item.description"},{component:R.Z.TEXT_FIELD,name:"long_description",label:"schemas.portfolio-item.long_description"},{component:R.Z.TEXT_FIELD,name:"distributor",label:"schemas.portfolio-item.vendor"},{component:R.Z.TEXT_FIELD,name:"documentation_url",label:"schemas.portfolio-item.documentation_url",validate:[{type:P.Z.URL}]},{component:R.Z.TEXT_FIELD,name:"support_url",label:"schemas.portfolio-item.support_url",validate:[{type:P.Z.URL}]}]};var j=r(89231),x=r(77503),S=r(81159),q=r(34023),N=r(30168),C=r(92098),U=r(67463),L=r(22910),D=r(80765),W=r(96823),F=r(83215),V=r(29163),$=r(64466);const M=(0,r(50049).vU)({changeIcon:{id:"icons.actions.change",defaultMessage:"Upload image"},resetIcon:{id:"icons.actions.reset",defaultMessage:"Reset image"}});var z,A,H,K,X=V.ZP.span(z||(z=(0,N.Z)(["\n  border: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding-left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  &::after {\n    content: ' ';\n    position: absolute;\n    display: block;\n    top: -0.3em;\n    right: -0.3em;\n    width: 1.5em;\n    height: 1.5em;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.8);\n    z-index: 0;\n  }\n  svg,\n  .pf-c-spinner {\n    z-index: 1;\n    position: absolute;\n    top: 0;\n    right: 0;\n  }\n"]))),B=V.ZP.div(A||(A=(0,N.Z)(["\n  position: relative;\n  display: inline-block;\n"]))),G=V.ZP.img(H||(H=(0,N.Z)(["\n  height: 64px;\n  max-width: 300px;\n  object-fit: cover;\n"]))),J=(0,V.ZP)(L.L)(K||(K=(0,N.Z)(["\n  .pf-c-dropdown__menu {\n    top: 24px;\n    left: calc(100% - 24px);\n  }\n"]))),Y=function(e){var t=e.uploadIcon,r=e.resetIcon,n=e.enableReset,c=e.children,s=(0,g.Z)(),u=(0,i.useRef)(),p=(0,i.useState)(),d=(0,o.Z)(p,2),m=d[0],f=d[1],h=(0,i.useState)(!1),b=(0,o.Z)(h,2),v=b[0],y=b[1],E=(0,i.useState)(!1),w=(0,o.Z)(E,2),_=w[0],Z=w[1],k=(0,l.I0)(),O=[a().createElement(W.h,{onClick:function(){return Z(!1),u.current.click()},key:"change-icon"},s(M.changeIcon)),a().createElement(W.h,{isDisabled:!n,onClick:function(){return f(void 0),y(!0),r().then((function(){return y(!1)}))},key:"reset-icon"},s(M.resetIcon))];return a().createElement(B,null,a().createElement("input",{accept:".png,.svg,.jpeg",onChange:function(e){f(e.target.files[0]),y(!0),t(e.target.files[0]).then((function(){return y(!1)})).catch((function(e){k((0,F.wN)({variant:"danger",title:s($.Z.portfolioItemIconTitle),description:e.data.errors[0].detail,dismissable:!0})),f(void 0),y(!1)}))},ref:u,type:"file",id:"icon-upload",hidden:!0}),a().createElement(J,{onSelect:function(){return Z(!1)},isOpen:_,isPlain:!0,disabled:v,dropdownItems:O,toggle:a().createElement(D.Z,{disabled:v,toggleIndicator:null,onToggle:function(e,t){t.stopPropagation(),Z(e)}},a().createElement(X,{ouiaId:"upload-icon"},v?a().createElement(U.Spinner,{size:"md"}):a().createElement(C.ZP,{size:"sm"})),!m&&c,m&&a().createElement(G,{style:{height:64},src:URL.createObjectURL(m),id:m.name}))}))};Y.propTypes={uploadIcon:f().func.isRequired,children:f().oneOfType([f().node,f().arrayOf(f().node)]),resetIcon:f().func.isRequired,enableReset:f().bool};const Q=Y;var ee=r(35388),te=r(32642),re=r(63035),ne=["owner","created_at","updated_at"];function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae=function(e){var t=e.cancelUrl,r=e.uploadIcon,n=e.resetIcon,o=e.product,i=(o.owner,o.created_at,o.updated_at,(0,O.Z)(o,ne)),s=e.userCapabilities,u=(0,l.I0)(),p=(0,c.useHistory)().push,d=(0,c.useLocation)().search,m=(0,re.$W)()?i.icon_url:i.icon_id,f=(0,re.$W)()?i.icon_url||"default":"".concat(ee.Vs,"/portfolio_items/").concat(i.id,"/icon?cache_id=").concat(i.icon_id||"default");return a().createElement(S.K,{hasGutter:!0},a().createElement(q.v,{key:m||"default"},a().createElement(Q,{uploadIcon:r,resetIcon:n,enableReset:!!m},a().createElement(te.Z,{src:f,sourceId:i.service_offering_source_ref,height:64}))),a().createElement(q.v,null,a().createElement(I.ZP,{initialValues:ie({},i),onSubmit:function(e){return p({pathname:t,search:d}),u((0,re.$W)()?(0,x.qR)(ie(ie({},e),{},{metadata:{user_capabilities:s}})):(0,j.qR)(ie(ie({},e),{},{metadata:{user_capabilities:s}})))},schema:T,templateProps:{disableSubmit:["pristine"]},onCancel:function(){return p({pathname:t,search:d})}})))};ae.propTypes={cancelUrl:f().string.isRequired,product:f().object.isRequired,userCapabilities:f().object.isRequired,uploadIcon:f().func.isRequired,resetIcon:f().func.isRequired};const le=ae;var ce=r(25583),se=r(94002),ue=r(32796),pe=r(36722),de=function(e){var t=e.userCapabilities,r=e.product,n=e.url,o=e.search,l=e.detailPaths,s=e.uploadIcon,u=e.resetIcon,p=(0,g.Z)();return a().createElement(c.Switch,null,a().createElement(c.Route,{path:"".concat(n,"/edit-workflow")},a().createElement(ce.default,{pushParam:{pathname:n,search:o},objectType:ee._5,objectId:r.id,objectName:function(){return r.name},querySelector:"portfolio-item"})),a().createElement(c.Route,{path:pe.$t},a().createElement(ue.Z,{querySelector:"portfolio-item",objectType:ee._5,objectName:function(){return r.name},pushParam:{pathname:n,search:o}})),a().createElement(c.Route,{exact:!0,path:l,render:function(){return a().createElement(b.TextContent,null,(r.description||r.long_description)&&a().createElement(h.Text,{component:h.TextVariants.h6},p($.Z.portfolioItemOverview)),r.description&&a().createElement(h.Text,{id:"description",component:h.TextVariants.p},r.description),r.long_description&&a().createElement(h.Text,{id:"long_description",component:h.TextVariants.p},r.long_description),r.support_url&&a().createElement(h.Text,{id:"support_url",component:h.TextVariants.p},a().createElement("a",{href:r.support_url,target:"_blank",rel:"noopener noreferrer"},p($.Z.portfolioItemSupport))),r.documentation_url&&a().createElement(i.Fragment,null,a().createElement(h.Text,{component:h.TextVariants.h6},p($.Z.portfolioItemDocumentation)),a().createElement(h.Text,{id:"documentation_url",component:h.TextVariants.p},a().createElement("a",{href:r.documentation_url,target:"_blank",rel:"noopener noreferrer"},p($.Z.portfolioItemDocLink)))))}}),a().createElement(se.Z,{exact:!0,path:"".concat(n,"/edit"),requiredCapabilities:"update",userCapabilities:t},a().createElement(le,{cancelUrl:n,product:r,userCapabilities:t,uploadIcon:s,resetIcon:u})))};de.propTypes={product:f().shape({name:f().string,long_description:f().string,support_url:f().string,documentation_url:f().string,description:f().string,id:f().string.isRequired}).isRequired,url:f().string.isRequired,search:f().string.isRequired,userCapabilities:f().object.isRequired,detailPaths:f().arrayOf(f().string),uploadIcon:f().func.isRequired,resetIcon:f().func.isRequired};const me=de;var fe=r(42697),he=r(15811),be=r(8666),ve=r(83629),ge=r(73712),ye=r(47786),Ee=r(21976),we=r(72510);function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ke=(0,i.lazy)((function(){return Promise.all([r.e(8430),r.e(7620),r.e(5201)]).then(r.bind(r,13148))})),Oe=(0,i.lazy)((function(){return Promise.all([r.e(8430),r.e(7620),r.e(8)]).then(r.bind(r,90331))})),Ie=["portfolio","source","portfolio-item","from-products"];const Re=function(){var e,t,r,n,m,f,h,b,v,y=(0,g.Z)(),E=(0,i.useState)(!1),w=(0,o.Z)(E,2),_=w[0],Z=w[1],O=(0,i.useState)(!0),I=(0,o.Z)(O,2),R=I[0],P=I[1],T=(0,l.I0)(),S=(0,ye.Z)(Ie),q=(0,o.Z)(S,2),N=q[0],C=q[1],U=(0,c.useLocation)().pathname,L=(0,c.useRouteMatch)(pe.YJ).url,D=(0,l.v9)((function(e){return e.portfolioReducer.portfolioItem})),W=(0,l.v9)((function(e){return e.portfolioReducer.selectedPortfolio})),F="true"===N["from-products"],V=(0,i.useContext)(we.Z).permissions,M=(0,re.Fs)(V,["catalog:order_processes:link"]),z=function(e){e||P(!0),T((0,re.$W)()?(0,x.s8)(Ze({portfolioItem:N["portfolio-item"]},N)):(0,j.s8)(Ze({portfolioItem:N["portfolio-item"]},N))).then((function(){return P(!1)})).catch((function(){return P(!1)}))};if((0,i.useEffect)((function(){z(!1)}),[N["portfolio-item"]]),R||0===Object.keys(D).length)return a().createElement(d.Z,{className:"global-primary-background full-height"},a().createElement(he.Z,{breadcrumbs:!F},F&&a().createElement(Ee.Z,null),a().createElement(be.bx,null)));var A=(0,re.$W)()?"available":(null==D||null===(e=D.source)||void 0===e?void 0:e.availability_status)||"unavailable",H=[];null!=D&&D.source&&(H=[null==D?void 0:D.source].filter((function(e){return e.notFound})).map((function(e){var t=e.object;return a().createElement(p.Alert,{className:"pf-u-mb-sm",key:t,variant:"warning",isInline:!0,title:y($.Z.objectUnavaiable,{object:t})})})));var K=function(e){var t,r,n;return((0,re.$W)()?(0,ge.tN)({portfolioItemId:null==D||null===(t=D.portfolioItem)||void 0===t?void 0:t.id,icon_url:null==D||null===(r=D.portfolioItem)||void 0===r?void 0:r.icon_url,file:e}):(0,ve.tN)({portfolioItemId:null==D||null===(n=D.portfolioItem)||void 0===n?void 0:n.id,file:e})).then((function(){return z(!0)}))},X=[pe.YJ,"".concat(L,"/order"),"".concat(L,"/copy"),"".concat(L,"/edit-workflow"),pe.$t],B=(0,re.$W)()?Oe:ke;return a().createElement(i.Fragment,null,a().createElement(c.Switch,null,a().createElement(se.Z,{requiredCapabilities:"update",userCapabilities:null==D||null===(t=D.portfolioItem)||void 0===t||null===(r=t.metadata)||void 0===r?void 0:r.user_capabilities,path:"".concat(L,"/edit-survey")},a().createElement(i.Suspense,{fallback:a().createElement(be.zx,null)},a().createElement(B,{closeUrl:L,search:C,uploadIcon:K,portfolioItem:D.portfolioItem,portfolio:W}))),a().createElement(c.Route,null,a().createElement(d.Z,{className:"full-height global-primary-background"},a().createElement(fe.s,{fromProducts:F,url:L,isOpen:_,product:D.portfolioItem,setOpen:Z,isFetching:R,availability:A,userCapabilities:(0,re.$W)()?ee.Do:null==D||null===(n=D.portfolioItem)||void 0===n||null===(m=n.metadata)||void 0===m?void 0:m.user_capabilities,orderable:null==D||null===(f=D.portfolioItem.metadata)||void 0===f?void 0:f.orderable,canLinkOrderProcesses:M}),H.length>0&&a().createElement("div",{className:"pf-u-mr-lg pf-u-ml-lg"},H),"unavailable"===(null==D||null===(h=D.source)||void 0===h?void 0:h.availability_status)&&a().createElement(p.Alert,{className:"pf-u-ml-lg pf-u-mr-lg",id:"unavailable-alert-info",variant:"info",isInline:!0,title:y($.Z.sourceUnavaiable)}),a().createElement(d.Z,{type:"content"},a().createElement(s.r,{hasGutter:!0,className:"pf-u-p-lg"},a().createElement(c.Route,{path:X,exact:!0},a().createElement(u.P,{md:3,lg:2},a().createElement(k,{product:D.portfolioItem,portfolio:W,source:(0,re.$W)()?"1":D.source}))),a().createElement(u.P,{md:U===pe.Kf?12:9,lg:U===pe.Kf?12:10},a().createElement(me,{resetIcon:function(){var e,t;return((0,re.$W)()?(0,ge.w6)(null==D||null===(e=D.portfolioItem)||void 0===e?void 0:e.id):(0,ve.w6)(null==D||null===(t=D.portfolioItem)||void 0===t?void 0:t.icon_id)).then(z)},uploadIcon:K,product:D.portfolioItem,userCapabilities:null==D||null===(b=D.portfolioItem)||void 0===b||null===(v=b.metadata)||void 0===v?void 0:v.user_capabilities,url:L,detailPaths:X,search:C}))))))))}},68212:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(30624),o=r.n(n),i=r(29163),a=r(65832),l=r(67463),c=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},s=function(){return(s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=(0,i.ZP)(a.Button)(f||(f=c(["\n  display: flex !important;\n  align-items: center;\n"],["\n  display: flex !important;\n  align-items: center;\n"]))),p=i.ZP.span(h||(h=c(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),(function(e){return e.showSpinner?"8px":"0"})),d=(0,n.forwardRef)((function(e,t){var r=e.children,n=e.showSpinner,i=void 0!==n&&n,a=e.isDisabled,c=void 0!==a&&a,d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["children","showSpinner","isDisabled"]);return o().createElement(u,s({ref:t},d,{isDisabled:c}),o().createElement(p,{showSpinner:i},r),i&&o().createElement(l.Spinner,{size:"md"}))}));d.displayName="ButtonWithSpinner";const m=d;var f,h},32642:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(30624),o=r.n(n),i=r(29163),a=r(14494),l=r(8666),c=r(36288),s=r(72892),u=r(72679);const p=(0,i.ZP)(u.LazyLoadImage)(f||(d=["\n  height: ",";\n  display: ",";\n  float: ",";\n  width: ",";\n"],m=["\n  height: ",";\n  display: ",";\n  float: ",";\n  width: ",";\n"],Object.defineProperty?Object.defineProperty(d,"raw",{value:m}):d.raw=m,f=d),(function(e){var t=e.height;return e.hidden?"0px":t+"px"||0}),(function(e){return e.hidden?"none":"inherit"}),(function(e){return e.hidden?"left":"inherit"}),(function(e){return e.hidden?0:"inherit"}));var d,m,f,h=r(63035),b=i.ZP.div(g||(g=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}(["\n  display: inline-block;\n  height: ",";\n"],["\n  display: inline-block;\n  height: ",";\n"])),(function(e){return e.height+"px"}));const v=function(e){var t=e.src,r=e.height,i=void 0===r?40:r,u=e.sourceId,d=(0,n.useState)(!1),m=d[0],f=d[1],v=(0,n.useState)(!1),g=v[0],y=v[1],E=(0,a.v9)((function(e){return e.platformReducer.platformIconMapping})),w=u?E[u]:c,_=(0,h.$W)()?s:w;return o().createElement(b,{height:i},!m&&o().createElement(l.bz,{height:i}),o().createElement(p,{threshold:2e3,delayTime:0,hidden:!m,height:m?i:0,onError:function(){return y(!0)},onLoad:function(){return f(!0)},src:!t||g?_:t}))};var g},25583:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>I});var n=r(30624),o=r.n(n),i=r(14494),a=r(22720),l=r(22437),c=r(35388),s=r(7247),u=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},p=function(e,t){void 0===e&&(e=""),void 0===t&&(t=[]);var r=t.map((function(e){return"filter[id][]="+e})).join("&");return(0,l.Hx)().get(c._R+"/workflows?filter[name][contains]="+e+"&"+(r||"")).then((function(e){return e.data.map((function(e){var t=e.id;return{label:e.name,value:t}}))}))},d=function(e,t,r){var n=e?e.map((function(e){return(0,l.xZ)().unlinkWorkflow(e,r)})):[],o=t?t.map((function(e){return(0,l.xZ)().linkWorkflow(e,r)})):[];return Promise.all(u(u([],n,!0),o,!0))},m=r(83215);const f=function(e){return e().i18nReducer.formatMessage};var h=r(50049);const b=(0,h.vU)({unlinkNotification:{id:"approval.notifications.unlink",defaultMessage:"Approval processes were unlinked successfully."},linkNotification:{id:"approval.notifications.link",defaultMessage:"Approval processes were linked successfully."},setWorkflow:{id:"approval.workflows.set",defaultMessage:"Select approval processes for <strong>{objectName}</strong>"},currentWorkflows:{id:"approval.workflows.current",defaultMessage:"Current approval processes"}});var v=function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},g=function(e,t){void 0===e&&(e=""),void 0===t&&(t=[]);var r=t.map((function(e){return"id="+e})).join("&");return(0,l.Hx)().get(c._R+"/workflows?name="+e+"&"+(r||"")).then((function(e){return e.results.map((function(e){var t=e.id;return{label:e.name,value:t}}))}))},y=function(e,t,r){var n=e?e.map((function(e){return function(e,t){return(0,l.Hx)().post(c._R+"/workflows/"+e+"/unlink/",t)}(e,r)})):[],o=t?t.map((function(e){return function(e,t){return(0,l.Hx)().post(c._R+"/workflows/"+e+"/link/",t)}(e,r)})):[];return Promise.all(v(v([],n,!0),o,!0))},E=r(47786),w=r(74798),_=r(23349),Z=r(28723),k=r(56915),O=r(63035);const I=function(e){var t=e.objectType,r=e.removeSearch,u=e.keepHash,v=void 0!==u&&u,I=e.querySelector,R=e.pushParam,P=e.objectName,T=void 0===P?function(){return t}:P,j=e.postMethod,x=e.onClose,S=(0,_.Z)(),q=(0,n.useRef)(S((0,h.Em)({id:"workflows.modal.title",defaultMessage:"Set approval process"}))).current,N=(0,i.I0)(),C=(0,w.Z)({removeSearch:r,keepHash:v}),U=(0,E.Z)([I])[0],L=function(){x&&x(),C.push(R)};return o().createElement(Z.Z,{title:q,onClose:L,onSubmit:function(e,r){var n,o,i;L(),N((0,O.$W)()?(n=e,o=r,i={object_type:t,app_name:c.iC[t],object_id:U[I]},function(e,t){var r=f(t);return e({type:a.k.UPDATE_WORKFLOWS,payload:y(o,n,i).then((function(){return e((0,m.wN)({variant:"success",title:"Success updating approval process",dismissable:!0,description:(o.length>0?r&&r(b.unlinkNotification,{count:o.length}):"")+"\n          "+(n.length>0?r(b.linkNotification,{count:n.length}):"")}))}))})}):function(e,t,r){return function(n,o){var i=f(o);return n({type:a.k.UPDATE_WORKFLOWS,payload:d(t,e,r).then((function(){return n((0,m.wN)({variant:"success",title:"Success updating approval process",dismissable:!0,description:(t.length>0?i&&i(b.unlinkNotification,{count:t.length}):"")+"\n          "+(e.length>0?i(b.linkNotification,{count:e.length}):"")}))}))})}}(e,r,{object_type:t,app_name:c.iC[t],object_id:U[I]})).then((function(){j&&N(j())}))},getInitialTags:function(){return(0,O.$W)()?function(e,t,r){void 0===t&&(t={limit:s.he.limit,offset:s.he.offset}),void 0===r&&(r="");var n="app_name="+e.appName+"&object_type="+e.objectType+"&object_id="+e.objectId,o="&page_size="+t.limit+"&page="+(t.offset||1),i="&filter[name][contains]="+r;return(0,l.Hx)().get(c._R+"/workflows?"+n+i+o)}({objectType:t,appName:c.iC[t],objectId:U[I]}).then((function(e){return e.results})):function(e,t,r){void 0===t&&(t={limit:s.he.limit,offset:s.he.offset}),void 0===r&&(r="");var n="app_name="+e.appName+"&object_type="+e.objectType+"&object_id="+e.objectId,o="&limit="+t.limit+"&offset="+t.offset,i="&filter[name][contains]="+r;return(0,l.Hx)().get(c._R+"/workflows?"+n+i+o)}({objectType:t,appName:c.iC[t],objectId:U[I]}).then((function(e){return e.data}))},loadTags:(0,O.$W)()?g:p,subTitle:S(b.setWorkflow,{strong:k.d,objectName:T(U[I])}),existingTagsMessage:S(b.currentWorkflows)})}},72892:(e,t,r)=>{"use strict";e.exports=r.p+"fonts/card-icon-default-s.svg"},36288:(e,t,r)=>{"use strict";e.exports=r.p+"fonts/card-icon-default.svg"},38299:()=>{},53519:()=>{}}]);
//# sourceMappingURL=../sourcemaps/portfolio-item-detail.c3842d742dad14f0431bb70d0ae8323b.js.map