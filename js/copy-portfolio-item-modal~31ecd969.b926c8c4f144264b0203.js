(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{645:function(t,n){function e(){return t.exports=e=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},e.apply(this,arguments)}t.exports=e},647:function(t,n,e){"use strict";var o=e(664),r=e.n(o);function i(t){var n=null,e=null,o=new Promise((function(t,o){n=t,e=o}));return t&&t.then((function(t){n&&n(t)}),(function(t){e&&e(t)})),{promise:o,resolve:function(t){n&&n(t)},reject:function(t){e&&e(t)},cancel:function(){n=null,e=null}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var u=function(){return(u=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},c={key:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return null},onlyResolvesLast:!0},a=function(){function t(t){this.config=t,this.debounceSingleton=null,this.debounceCache={}}return t.prototype._createDebouncedFunction=function(){var t,n,e=r()(this.config.func,this.config.wait,this.config.options);return this.config.options.onlyResolvesLast&&(t=e,n=null,e=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];n&&n();var r=t.apply(void 0,e),u=i(r),c=u.promise,a=u.cancel;return n=a,c}),{func:e}},t.prototype.getDebouncedFunction=function(t){var n,e=(n=this.config.options).key.apply(n,t);return null==e?(this.debounceSingleton||(this.debounceSingleton=this._createDebouncedFunction()),this.debounceSingleton):(this.debounceCache[e]||(this.debounceCache[e]=this._createDebouncedFunction()),this.debounceCache[e])},t}();n.a=function(t,n,e){var o=u({},c,e),r=new a({func:t,wait:n,options:o});return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=r.getDebouncedFunction(t).func;return e.apply(void 0,t)}}},648:function(t,n,e){"use strict";var o=e(647);n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(o.a)(t,n,e)}},664:function(t,n,e){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t){return"function"==typeof t?t():t}function i(){var t={};return t.promise=new Promise((function(n,e){t.resolve=n,t.reject=e})),t}t.exports=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=void 0,c=void 0,a=void 0,l=[];return function(){var f,p=r(n),m=(new Date).getTime(),b=!u||m-u>p;u=m;for(var h=arguments.length,v=Array(h),y=0;y<h;y++)v[y]=arguments[y];if(b&&e.leading)return e.accumulate?Promise.resolve(t.call(this,[v])).then((function(t){return t[0]})):Promise.resolve(t.call.apply(t,[this].concat(v)));if(c?clearTimeout(a):c=i(),l.push(v),a=setTimeout(s.bind(this),p),e.accumulate){var d=(f=l.length-1,{v:c.promise.then((function(t){return t[f]}))});if("object"===(void 0===d?"undefined":o(d)))return d.v}return c.promise};function s(){var n=c;clearTimeout(a),Promise.resolve(e.accumulate?t.call(this,l):t.apply(this,l[l.length-1])).then(n.resolve,n.reject),l=[],c=null}}},667:function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(n){return"function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?t.exports=o=function(t){return e(t)}:t.exports=o=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},o(n)}t.exports=o},764:function(t,n,e){"use strict";e.r(n);var o=e(62),r=e.n(o),i=e(112),u=e.n(i),c=e(38),a=e.n(c),l=e(0),s=e.n(l),f=e(1),p=e.n(f),m=e(33),b=e(61),h=e(585),v=e(657),y=e.n(v),d=e(674),g=e(111),S=e(659),j=e(648),O=e(681),_=e(11),w=function(t){return Object(O.k)(t,{limit:100,offset:0}).then((function(t){return t.data.filter((function(t){return t.metadata.user_capabilities.update})).map((function(t){var n=t.name;return{value:t.id,label:n}}))}))},x=function(t,n,e){return{fields:[{component:"value-only",name:"portfolio_item_name",label:"Name",value:t},{component:y.a.SELECT,name:"portfolio_id",label:"Portfolio",isRequired:!0,loadOptions:Object(j.a)(w),onChange:n,isDisabled:e,isSearchable:!0}]}},C=function(t){var n=t.portfolioId,e=t.portfolioItemId,o=t.closeUrl,i=t.search,c=Object(m.useDispatch)(),f=Object(b.g)().push,p=Object(l.useState)(!1),v=a()(p,2),y=v[0],j=v[1],O=Object(l.useState)(),w=a()(O,2),C=w[0],P=w[1],D=Object(l.useState)(!1),I=a()(D,2),R=I[0],k=I[1];Object(l.useEffect)((function(){Object(g.f)().getPortfolioItemNextName(e,n).then((function(t){var n=t.next_name;return P(n)}))}),[]);var L=function(){var t=u()(r.a.mark((function t(o){var i,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.next=3,c(Object(S.i)(o.portfolio_id));case 3:return i=t.sent,u=i.value,t.abrupt("return",c(Object(S.d)(e,o,u)).then((function(t){var n=t.id,e=t.service_offering_source_ref;return f({pathname:_.t,search:"?portfolio=".concat(o.portfolio_id,"&portfolio-item=").concat(n,"&source=").concat(e)})})).then((function(){return o.portfolio_id===n&&c(Object(S.f)(n))})).catch((function(){return j(!1)})));case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return s.a.createElement(h.Modal,{isOpen:!0,title:"Copy product",onClose:function(){return f({pathname:o,search:i})},isSmall:!0},s.a.createElement(d.b,{initialValues:{portfolio_id:n,portfolio_item_name:C},schema:x(C,(function(t){return k(!0),Object(g.f)().getPortfolioItemNextName(e,t).then((function(t){var n=t.next_name;P(n)})).then((function(){return k(!1)}))}),R),onSubmit:L,onCancel:function(){return f({pathname:o,search:i})},formContainer:"modal",buttonsLabels:{submitLabel:"Save"},disableSubmit:y?["pristine","dirty"]:[]}))};C.propTypes={closeUrl:p.a.string.isRequired,portfolioId:p.a.string,portfolioItemId:p.a.string.isRequired,search:p.a.string.isRequired},n.default=C}}]);
//# sourceMappingURL=../sourcemaps/copy-portfolio-item-modal~31ecd969.js.map