(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{338:function(e,t,r){"use strict";var n=r(1),o=r.n(n),a=r(25);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(a.h)(),r=t.search,n=new URLSearchParams(r);return[e.reduce((function(e,t){return c({},e,o()({},t,n.get(t)))}),{}),r,n]}},339:function(e,t,r){"use strict";var n=r(367);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(n.a)(e,t,r)}},342:function(e,t,r){"use strict";r.d(t,"g",(function(){return g})),r.d(t,"e",(function(){return v})),r.d(t,"f",(function(){return j})),r.d(t,"h",(function(){return P})),r.d(t,"a",(function(){return w})),r.d(t,"b",(function(){return E})),r.d(t,"m",(function(){return D})),r.d(t,"j",(function(){return T})),r.d(t,"k",(function(){return _})),r.d(t,"c",(function(){return S})),r.d(t,"d",(function(){return I})),r.d(t,"l",(function(){return k})),r.d(t,"n",(function(){return C})),r.d(t,"i",(function(){return R}));var n=r(83),o=r.n(n),a=r(1),i=r.n(a),c=r(47),u=r.n(c),l=r(0),s=r.n(l),p=r(498),f=r(40),d=r(2),m=r(348),b=r(49);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.a,t=e.filter,r=u()(e,["filter"]);return{type:d.o,meta:{filter:t},payload:m.l(t,r)}},g=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return e(h.apply(void 0,t))}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.a;return{type:d.q,meta:{filter:e},payload:m.k(t.limit,t.offset,e)}},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.a;return{type:d.r,meta:{filter:t.filter},payload:m.j(e,t)}},P=function(e){return{type:d.n,payload:m.f(e)}},w=function(e,t){return function(r){return r({type:d.b,payload:y({},e,{isDisabled:!0,isTemporary:!0})}),r({type:d.a,payload:m.a(y({},e),t).then((function(){return r(h())})).catch((function(e){throw r({type:d.H}),e})),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding portfolio",description:"Portfolio ".concat(e.name," was added successfully.")}}}})}},E=function(e,t){return{type:d.c,payload:m.b(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding products",description:"Products were successfully added to portfolio."}}}}},D=function(e){return function(t,r){return t({type:d.X,payload:e}),m.p(e,{getState:r}).then((function(){return t(h())})).then((function(){return t({type:f.ADD_NOTIFICATION,payload:{dismissable:!0,variant:"success",title:"Success updating portfolio",description:"The portfolio was updated successfully."}})})).catch((function(e){throw t({type:d.H}),e})).catch((function(e){return t({type:"".concat(d.X,"_REJECTED"),payload:e})}))}},T=function(e){return function(t){return t({type:d.e,payload:e}),t({type:d.C,payload:m.m(e).then((function(){return t(h())})).catch((function(e){throw t({type:d.H}),e})),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing portfolio",description:"The portfolio was removed successfully."}}}})}},_=function(e,t){return function(r,n){r({type:"".concat(d.D,"_PENDING")});var o=n().portfolioReducer,a=o.portfolioItems.meta,i=o.selectedPortfolio.id;return m.n(e).then((function(e){return r(j(i,{offset:0,limit:a.limit,filter:""})).then((function(){return e}))})).then((function(n){return r({type:f.ADD_NOTIFICATION,payload:{variant:"success",title:"Products removed",dismissable:!0,description:s.a.createElement(p.a,{id:"portfolio.remove-portfolio-items",defaultMessage:"You have removed {count, number} {count, plural,\n            one {product}\n            other {products}\n          } from the {portfolioName} portfolio. {undo} if this was a mistake.",values:{count:e.length,portfolioName:t,undo:s.a.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),r(function(e,t){return function(r){return r({type:"".concat(d.F,"_PENDING")}),m.o(e).then((function(){return r({type:"".concat(d.F,"_FULFILLED")})})).then((function(){return r({type:f.CLEAR_NOTIFICATIONS})})).then((function(){return r(j(t))})).then((function(){return r({type:f.ADD_NOTIFICATION,payload:{variant:"success",dismissable:!0,title:"Products have been restored"}})})).catch((function(e){return r({type:"".concat(d.F,"_REJECTED"),payload:e})}))}}(n,i))}},"Undo")}})}})})).then((function(){return r({type:"".concat(d.D,"_FULFILLED")})})).catch((function(e){return r({type:"".concat(d.D,"_REJECTED"),payload:e})}))}},S=function(e){return function(t){return t({type:"COPY_PORTFOLIO_PENDING"}),m.c(e).then((function(e){return t({type:"COPY_PORTFOLIO_FULFILLED"}),t({type:f.ADD_NOTIFICATION,payload:{variant:"success",title:"You have successfully copied a portfolio",description:"".concat(e.name," has been copied."),dismissable:!0}}),e})).catch((function(e){return t({type:"COPY_PORTFOLIO_REJECTED",payload:e})}))}},I=function(e,t,r){return function(n){return m.d(e,t).then((function(e){return n({type:f.ADD_NOTIFICATION,payload:{variant:"success",title:"You have successfully copied a product",description:"".concat(e.name," has been copied into ").concat(r.name),dismissable:!0}}),e})).catch((function(e){return n({type:"COPY_PORTFOLIO_ITEM_REJECTED",payload:e})}))}},k=function(){return{type:d.E}},C=function(e){return function(t,r){return t({type:d.Y,payload:e}),m.q(e,{getState:r}).then((function(){return t({type:d.V,payload:e}),e})).then((function(e){return t({type:f.ADD_NOTIFICATION,payload:{variant:"success",title:'Portfolio item "'.concat(e.name,'" was successfully updated'),dismissable:!0}})})).catch((function(e){throw t({type:d.G}),e})).catch((function(e){return t({type:"".concat(d.Y,"_REJECTED"),payload:e})}))}},R=function(e){return function(t){return t({type:"".concat(d.I,"_PENDING")}),m.i(e).then((function(e){var r=o()(e,3),n=r[0],a=r[1],i=r[2];return t({type:"".concat(d.I,"_FULFILLED"),payload:{portfolioItem:n,portfolio:a,source:i}})}))}}},348:function(e,t,r){"use strict";r.d(t,"l",(function(){return v})),r.d(t,"k",(function(){return j})),r.d(t,"h",(function(){return P})),r.d(t,"f",(function(){return w})),r.d(t,"j",(function(){return E})),r.d(t,"a",(function(){return D})),r.d(t,"b",(function(){return T})),r.d(t,"p",(function(){return _})),r.d(t,"m",(function(){return S})),r.d(t,"n",(function(){return k})),r.d(t,"q",(function(){return C})),r.d(t,"e",(function(){return R})),r.d(t,"o",(function(){return N})),r.d(t,"c",(function(){return x})),r.d(t,"d",(function(){return F})),r.d(t,"r",(function(){return L})),r.d(t,"i",(function(){return M})),r.d(t,"g",(function(){return q}));var n=r(47),o=r.n(n),a=r(42),i=r.n(a),c=r(28),u=r.n(c),l=r(1),s=r.n(l),p=r(57),f=r(12),d=r(347),m=r(49);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=Object(p.a)(),h=Object(p.e)(),g=Object(p.f)();function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a,r=t.limit,n=t.offset;return y.get("".concat(f.c,"/portfolios?filter[name][contains_i]=").concat(e,"&limit=").concat(r,"&offset=").concat(n))}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return y.get("".concat(f.c,"/portfolio_items?filter[name][contains_i]=").concat(r,"&limit=").concat(e,"&offset=").concat(t)).then((function(e){var t=e.data.reduce((function(e,t,r){return t.portfolio_id?O({},e,s()({},t.portfolio_id,e[t.portfolio_id]?[].concat(u()(e[t.portfolio_id]),[r]):[r])):e}),{});return y.get("".concat(f.c,"/portfolios?").concat(Object.keys(t).map((function(e){return"filter[id][]=".concat(e)})).join("&"))).then((function(r){var n=r.data;return{portfolioItems:e,portfolioReference:t,portfolios:n}}))})).then((function(e){var t=e.portfolioItems,r=e.portfolioReference;return e.portfolios.forEach((function(e){var n=e.id,o=e.name;return r[n].forEach((function(e){t.data[e].portfolioName=o}))})),t}))}function P(e){return y.get("".concat(f.c,"/portfolio_items/").concat(e))}function w(e){return h.showPortfolio(e)}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.a,r=t.limit,n=t.offset,o=t.filter,a=void 0===o?"":o;return y.get("".concat(f.c,"/portfolios/").concat(e,"/portfolio_items?filter[name][contains_i]=").concat(a,"&limit=").concat(r,"&offset=").concat(n))}function D(e,t){var r;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(h.createPortfolio(e));case 2:if(r=n.sent){n.next=5;break}return n.abrupt("return",r);case 5:if(!(t&&t.length>0)){n.next=7;break}return n.abrupt("return",T(r,t));case 7:case"end":return n.stop()}}))}function T(e,t){return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(t.map((function(t){return g.createPortfolioItem({portfolio_id:e,service_offering_ref:t})}))));case 1:case"end":return r.stop()}}))}function _(e,t){var r,n;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.id,n=o()(e,["id"]),a.next=3,i.a.awrap(h.updatePortfolio(r,Object(d.b)(n,"Portfolio",t)));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))}function S(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(h.destroyPortfolio(e));case 2:case"end":return t.stop()}}))}function I(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",g.destroyPortfolioItem(e));case 1:case"end":return t.stop()}}))}function k(e){return i.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e.map((function(e){var t,r;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(I(e));case 2:return t=n.sent,r=t.restore_key,n.abrupt("return",{portfolioItemId:e,restoreKey:r});case 5:case"end":return n.stop()}}))}))));case 1:case"end":return t.stop()}}))}function C(e,t){var r,n;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.id,n=o()(e,["id"]),a.next=3,i.a.awrap(g.updatePortfolioItem(r,Object(d.b)(n,"PortfolioItem",t)));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return y.get("".concat(f.c,"/portfolios"),{params:{filter:{name:e}}})}var N=function(e){return Promise.all(e.map((function(e){var t=e.portfolioItemId,r=e.restoreKey;return g.unDeletePortfolioItem(t,{restore_key:r})})))},x=function(e){return h.postCopyPortfolio(e)},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g.postCopyPortfolioItem(e,t)},L=function(e,t,r){var n=new FormData;return n.append("content",t,t.name),r?y.patch("".concat(f.c,"/icons/").concat(r),n):(n.append("portfolio_item_id",e),y.post("".concat(f.c,"/icons"),n,{headers:{accept:"application/json","Content-Type":"multipart/form-data; boundary=".concat(n._boundary)}}))},M=function(e){return Promise.all([y.get("".concat(f.c,"/portfolio_items/").concat(e.portfolioItem)),y.get("".concat(f.c,"/portfolios/").concat(e.portfolio)),y.get("".concat(f.h,"/sources/").concat(e.source))])},q=function(e,t){return e.selectedPortfolio&&e.selectedPortfolio.id===t?e.selectedPortfolio:e.portfolios.data.find((function(e){return e.id===t}))}},354:function(e,t,r){"use strict";var n=r(1),o=r.n(n),a=r(27),i=r.n(a),c=r(47),u=r.n(c),l=r(0),s=r.n(l),p=r(3),f=r.n(p),d=r(86),m=r(353),b=r.n(m),O=r(346),y=r(28),h=r.n(y),g=r(38),v=r(39),j=r(21),P=function(e,t,r){if(t&&r)return e;var n=h()(e);return n.find((function(e){return void 0===e.value}))?h()(n):[{label:r?"Please choose":"None"}].concat(h()(n))},w=function(e){var t=e.input,r=e.options,n=e.isReadOnly,o=e.isDisabled,a=(e.FieldProvider,e.isRequired),c=e.formOptions.change,l=e.multi,p=u()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired","formOptions","multi"]);return s.a.createElement(O.rawComponents.Select,i()({hideSelectedOptions:!1,menuIsPortal:!0},t,p,{onChange:function(e){if(p.onChange)p.onChange(e),c(t.name,e);else{for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];t.onChange.apply(t,[e].concat(n))}},isMulti:l,options:P(r,t.value,a),isDisabled:o||n,closeMenuOnSelect:!l}))};w.propTypes={input:f.a.object.isRequired,options:f.a.arrayOf(f.a.shape({value:f.a.any,label:f.a.string.isRequired})),isReadOnly:f.a.bool,isDisabled:f.a.bool,isRequired:f.a.bool,isSearchable:f.a.bool,FieldProvider:f.a.any,formOptions:f.a.shape({change:f.a.func}),multi:f.a.bool},w.defaultProps={formOptions:{},isSearchable:!1,multi:!1,options:[]};var E=function(e){e.componentType;var t=e.label,r=e.isRequired,n=e.helperText,o=e.meta,a=e.description,c=e.hideLabel,l=e.formOptions,p=(e.dataType,e.initialKey,e.id),f=(e.initialValue,u()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel","formOptions","dataType","initialKey","id","initialValue"])),d=o.error,m=o.touched&&d,b=f.input.name;return s.a.createElement(g.FormGroup,{isRequired:r,label:!c&&t,fieldId:p||b,isValid:!m,helperText:n,helperTextInvalid:o.error},a&&s.a.createElement(v.TextContent,null,s.a.createElement(j.Text,{component:j.TextVariants.small},a)),s.a.createElement(w,i()({formOptions:l,id:p||b,label:t,isValid:!m,isRequired:r},f)))};E.propTypes={componentType:f.a.string,id:f.a.string,label:f.a.string,isRequired:f.a.bool,helperText:f.a.string,meta:f.a.object,description:f.a.string,hideLabel:f.a.bool,formOptions:f.a.object,dataType:f.a.string,initialKey:f.a.any,initialValue:f.a.any};var D=E,T=r(41),_=r(35),S=r(339),I=function(e){var t=e.FieldProvider,r=e.inputName,n=e.selectName,o=e.loadOptions,a=e.permissions;return s.a.createElement(T.Grid,{gutter:"md",className:"share-column"},s.a.createElement(_.GridItem,{span:7},s.a.createElement(t,{name:r,loadOptions:Object(S.a)(o),render:function(e){var t=e.input,r=u()(e,["input"]);return s.a.createElement(O.rawComponents.Select,i()({isSearchable:!0,isClearable:!0,menuIsPortal:!0,loadOptions:Object(S.a)(o),placeholder:"Select group"},t,r))}})),s.a.createElement(_.GridItem,{span:5},s.a.createElement(t,{name:n,options:a,menuIsPortal:!0,render:function(e){var t=e.input,r=u()(e,["input"]);return s.a.createElement(O.rawComponents.Select,i()({placeholder:"Select permission"},t,r))}})))};I.propTypes={FieldProvider:f.a.oneOfType([f.a.node,f.a.func]).isRequired,inputName:f.a.string.isRequired,selectName:f.a.string.isRequired,loadOptions:f.a.func.isRequired,permissions:f.a.any};var k=I,C=function(e){var t=e.FieldProvider,r=e.label,n=u()(e,["FieldProvider","label"]);return s.a.createElement(T.Grid,{gutter:"md",className:"share-column"},s.a.createElement(_.GridItem,{span:7},s.a.createElement(v.TextContent,null,s.a.createElement(j.Text,{component:j.TextVariants.h4},r))),s.a.createElement(_.GridItem,{span:5},s.a.createElement(t,i()({},n,{menuIsPortal:!0,render:function(e){var t=e.input,r=u()(e,["input"]);return s.a.createElement(O.rawComponents.Select,i()({},t,r))}}))))};C.propTypes={FieldProvider:f.a.oneOfType([f.a.node,f.a.func]).isRequired,label:f.a.string.isRequired};var R=C;function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var F=Object(l.createContext)({}),L=function(e){var t=e.label,r=e.variant,n=u()(e,["label","variant"]),o=Object(l.useContext)(F).formContainer;return s.a.createElement(d.Button,i()({},n,{variant:"modal"===o&&void 0===r?"link":r}),t)};L.propTypes={label:f.a.string.isRequired,variant:f.a.string};var M=function(e){var t,r=e.componentMapper,n=e.formContainer,a=u()(e,["componentMapper","formContainer"]);return s.a.createElement("div",null,s.a.createElement(F.Provider,{value:{formContainer:n}},s.a.createElement(b.a,i()({formFieldsMapper:x({},O.formFieldsMapper,{},r,(t={},o()(t,m.componentTypes.SELECT,D),o()(t,"share-group-select",k),o()(t,"share-group-edit",R),t)),layoutMapper:x({},O.layoutMapper,o()({},m.layoutComponents.BUTTON,L))},a))))};M.propTypes={componentMapper:f.a.object,formContainer:f.a.oneOf(["default","modal"])},M.defaultProps={componentMapper:{},formContainer:"default"};t.a=M},365:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Split=void 0;var n=l(r(3)),o=function(e){if(e&&e.__esModule)return e;var t=u();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}}r.default=e,t&&t.set(e,r);return r}(r(0)),a=l(r(377)),i=r(156),c=r(4);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var f=function(e){var t=e.gutter,r=void 0===t?null:t,n=e.className,u=void 0===n?"":n,l=e.children,f=void 0===l?null:l,d=e.component,m=void 0===d?"div":d,b=p(e,["gutter","className","children","component"]),O=m;return o.createElement(O,s({},b,{className:(0,c.css)(a.default.split,r&&(0,i.getGutterModifier)(a.default,r,a.default.modifiers.gutter),u)}),f)};t.Split=f,f.propTypes={gutter:n.default.oneOf(["sm","md","lg"]),children:n.default.node,className:n.default.string,component:n.default.node}},366:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitItem=void 0;var n=u(r(3)),o=function(e){if(e&&e.__esModule)return e;var t=c();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}}r.default=e,t&&t.set(e,r);return r}(r(0)),a=u(r(377)),i=r(4);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var p=function(e){var t=e.isFilled,r=void 0!==t&&t,n=e.className,c=void 0===n?"":n,u=e.children,p=void 0===u?null:u,f=s(e,["isFilled","className","children"]);return o.createElement("div",l({},f,{className:(0,i.css)(a.default.splitItem,r&&a.default.modifiers.fill,c)}),p)};t.SplitItem=p,p.propTypes={isFilled:n.default.bool,children:n.default.node,className:n.default.string}},377:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(409),t.default={split:"pf-l-split",splitItem:"pf-l-split__item",modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"}}},387:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return p}));var n=r(1),o=r.n(n),a=r(47),i=r.n(a),c=r(341);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=function(e){var t=e.groupName,r=e.hidden,n=void 0!==r&&r,o=i()(e,["groupName","hidden"]);return{component:c.b.TOOLBAR_GROUP,key:"".concat(t,"/single-toolbar-item-group"),fields:n?[]:[{component:c.b.TOOLBAR_ITEM,key:"".concat(t,"/single-toolbar-item"),fields:[o]}]}},p=function(e){var t=e.pathname,r=e.preserveSearch,n=i()(e,["pathname","preserveSearch"]);return{component:c.b.LINK,pathname:t,preserveSearch:r,key:"".concat(n.key,"/button-link"),isDisabled:n.isDisabled,fields:[l({component:c.b.BUTTON},n)]}}},389:function(e,t,r){"use strict";var n=r(0),o=r.n(n),a=r(3),i=r.n(a),c=function(e){var t=e.children;return o.a.createElement("div",{className:"pf-u-p-lg pf-u-pt-md pf-u-pb-md global-primary-background pf-u-mt-auto"},t)};c.propTypes={children:i.a.oneOfType([i.a.node,i.a.arrayOf(i.a.node)])},t.a=c},392:function(e,t,r){"use strict";var n=r(83),o=r.n(n),a=r(1),i=r.n(a),c=r(0),u=r.n(c),l=r(3),s=r.n(l),p=r(34),f=r(352),d=r(354),m=r(353),b=r(339),O=function(e){return{fields:[{component:m.componentTypes.SELECT,name:"selectedWorkflows",label:"Select approval process",loadOptions:Object(b.a)(e),multi:!0,isSearchable:!0,isClearable:!0}]}},y=r(28),h=r.n(y),g=r(498),v=r(45),j=r(57),P=r(12),w=r(49),E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(j.a)().get("".concat(P.a,"/workflows").concat(e.length>0?"/?filter[name][contains]=".concat(e):"")).then((function(e){return e.data.map((function(e){var t=e.id;return{label:e.name,value:t}}))}))},D=function(e,t,r){var n=e?e.map((function(e){return Object(j.j)().unlinkWorkflow(e,r)})):[],o=t?t.map((function(e){return Object(j.j)().linkWorkflow(e,r)})):[];return Promise.all([].concat(h()(n),h()(o)))},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:w.a.limit,offset:w.a.offset},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="app_name=".concat(e.appName,"&object_type=").concat(e.objectType,"&object_id=").concat(e.objectId),o="&limit=".concat(t.limit,"&offset=").concat(t.offset),a="&filter[name][contains]=".concat(r);return Object(j.a)().get("".concat(P.a,"/workflows/?").concat(n).concat(a).concat(o))},_=r(40),S=r(50),I=r(338),k=r(344);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var R={isFetching:!0},N=function(e,t){switch(t.type){case"setFetching":return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{isFetching:t.payload});default:return e}},x=function(e){var t=e.objectType,r=e.removeQuery,n=e.querySelector,a=e.pushParam,i=e.objectName,l=void 0===i?function(){return t}:i,s=Object(c.useReducer)(N,R),m=o()(s,2),b=m[0].isFetching,y=m[1],h=Object(p.useSelector)((function(e){return e.approvalReducer.resolvedWorkflows})),j=h.data,C=h.meta,x=Object(p.useDispatch)(),F=Object(k.a)(r),L=Object(I.a)([n]),M=o()(L,1)[0];Object(c.useEffect)((function(){x(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:w.a.limit,offset:w.a.offset},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:v.a.RESOLVE_WORKFLOWS,payload:T(e,t,r)}}({objectType:t,appName:P.b[t],objectId:M[n]},C)).then((function(){return y({type:"setFetching",payload:!1})}))}),[]);return u.a.createElement(f.Modal,{title:"Set approval process for ".concat(l(M[n])),isOpen:!0,onClose:function(){return F.push(a)},isSmall:!0},b?u.a.createElement(S.i,null):u.a.createElement(d.a,{initialValues:{selectedWorkflows:j?j.map((function(e){return e.id})):void 0},onSubmit:function(e,r){var o=r.getState().initialValues.selectedWorkflows||[],i=e.selectedWorkflows||[];F.push(a);var l,s,p,f=o.filter((function(e){return i.findIndex((function(t){return t===e}))<0})),d=i.filter((function(e){return o.findIndex((function(t){return t===e}))<0}));(f.length>0||d.length>0)&&x((l=f,s=d,p={object_type:t,app_name:P.b[t],object_id:M[n]},function(e){return e({type:v.a.UPDATE_WORKFLOWS,payload:D(l,s,p).then((function(){return e(Object(_.addNotification)({variant:"success",title:"Success updating workflows",dismissable:!0,description:u.a.createElement(c.Fragment,null,l.length>0?u.a.createElement(g.a,{id:"workflows.update_workflows",defaultMessage:"{count, number} {count, plural, one {workflow was}\n                    other {workflows were}} unlinked succesfully. ",values:{count:l.length}}):"",s.length>0?u.a.createElement(g.a,{id:"workflows.update_workflows",defaultMessage:"{count, number} {count, plural, one {workflow was}\n                    other {workflows were}} linked succesfully.",values:{count:s.length}}):"")}))}))})}))},onCancel:function(){return F.push(a)},schema:O(E),formContainer:"modal",buttonsLabels:{submitLabel:"Save"}}))};x.propTypes={pushParam:s.a.oneOfType([s.a.string,s.a.shape({pathname:s.a.string.isRequired,search:s.a.string})]).isRequired,objectType:s.a.string.isRequired,objectName:s.a.func,removeQuery:s.a.bool,querySelector:s.a.oneOf(["portfolio","platform","inventory"]).isRequired};t.a=x},403:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WrenchIconConfig=void 0;var n,o=(n=r(9))&&n.__esModule?n:{default:n};var a={name:"WrenchIcon",height:512,width:512,svgPath:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z",yOffset:"",xOffset:"",transform:""};t.WrenchIconConfig=a;var i=(0,o.default)(a);t.default=i},409:function(e,t,r){var n=r(6),o=r(410);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},i=(n(o,a),o.locals?o.locals:{});e.exports=i},410:function(e,t,r){(e.exports=r(7)(!1)).push([e.i,".pf-l-split{--pf-l-split--m-gutter--MarginRight: var(--pf-global--gutter);--pf-l-split--m-gutter--md--MarginRight: var(--pf-global--gutter--md);display:flex;flex-wrap:nowrap;padding:0;margin:0}@media screen and (max-width: 768px){.pf-l-split{--pf-l-split--m-gutter--MarginRight: var(--pf-l-split--m-gutter--md--MarginRight)}}.pf-l-split__item.pf-m-fill{flex-grow:1}.pf-l-split.pf-m-gutter>*:not(:last-child){margin-right:var(--pf-l-split--m-gutter--MarginRight)}\n",""])},457:function(e,t,r){"use strict";var n=r(83),o=r.n(n),a=r(0),i=r.n(a),c=r(25),u=r(34),l=r(458),s=r.n(l),p=r(352),f=r(86),d=r(21),m=r(39),b=r(365),O=r(366),y=r(342),h=r(338),g=r(348),v=r(51);t.a=function(){var e=Object(h.a)(["portfolio"]),t=o()(e,1)[0].portfolio,r=Object(u.useDispatch)(),n=Object(u.useSelector)((function(e){var r=e.portfolioReducer;return Object(g.g)(r,t)})),a=Object(c.g)(),l=a.push,j=a.goBack;return n?i.a.createElement(p.Modal,{title:"Delete Portfolio?",isOpen:!0,isSmall:!0,onClose:j,isFooterLeftAligned:!0,actions:[i.a.createElement(f.Button,{key:"submit",variant:"danger",type:"button",onClick:function(){return l(v.s),r(Object(y.j)(t))}},"Confirm"),i.a.createElement(f.Button,{key:"cancel",variant:"link",type:"button",onClick:j},"Cancel")]},i.a.createElement(b.Split,{gutter:"md"},i.a.createElement(O.SplitItem,null,i.a.createElement(s.a,{size:"xl",fill:"#f0ab00"})),i.a.createElement(O.SplitItem,null,i.a.createElement(m.TextContent,null,i.a.createElement(d.Text,{component:d.TextVariants.p},"This action will permanently delete portfolio ",n.name," and its data."))))):null}},458:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WarningTriangleIconConfig=void 0;var n,o=(n=r(9))&&n.__esModule?n:{default:n};var a={name:"WarningTriangleIcon",height:1024,width:1024,svgPath:"M511.488 949.321c6.656 0 13.093-0.878 19.456-2.487s12.142-4.169 17.481-7.461c5.998-3.365 11.118-7.314 15.506-11.995s8.119-10.021 11.483-15.945l437.979-842.24c6.656-11.995 9.801-23.918 9.509-35.913s-3.877-23.918-10.459-35.913c-3.365-5.998-7.168-11.118-11.483-15.506s-9.509-8.192-15.506-11.483c-5.339-2.706-10.971-4.827-16.969-6.51s-12.288-2.487-18.944-2.487h-876.032c-6.656 0-12.946 0.805-18.944 2.487s-11.63 3.803-16.969 6.51c-5.998 3.291-11.118 7.095-15.506 11.483s-8.192 9.509-11.483 15.506c-6.656 11.995-10.094 23.918-10.459 35.913s2.779 23.918 9.509 35.913l437.979 842.24c3.291 5.998 7.095 11.264 11.483 15.945s9.509 8.631 15.506 11.995c5.339 3.291 11.118 5.778 17.481 7.461s12.8 2.487 19.456 2.487zM132.974 73.289h759.296l-380.782 741.595-378.514-741.595zM583.387 156.526c-2.121-5.632-7.534-9.509-13.97-9.509-14.263 0-28.526 0-42.715 0-21.138 0-42.277 0-63.415 0-11.045 0-24.576 0.585-24.576 14.994 0 0 0 44.325 0 44.544 0 8.558 6.437 14.994 14.994 14.994 0 0 115.712 0 115.785 0 8.485 0 14.994-6.437 14.994-14.994 0 0 0-44.544 0-44.544 0-1.975-0.366-3.803-1.024-5.486zM583.826 301.934c-2.121-5.632-7.534-9.509-13.97-9.509-14.263 0-28.526 0-42.715 0-21.138 0-42.277 0-63.415 0-11.045 0-24.576 0.585-24.576 14.994 0 0 0 224.914 0 225.134 0 8.558 6.437 14.994 14.994 14.994 0 0 115.712 0 115.785 0 8.485 0 14.994-6.437 14.994-14.994 0 0 0-225.134 0-225.134 0-1.975-0.366-3.803-1.024-5.486z",yOffset:"64",xOffset:"",transform:"rotate(180 0 512) scale(-1 1)"};t.WarningTriangleIconConfig=a;var i=(0,o.default)(a);t.default=i},467:function(e,t,r){"use strict";var n=r(1),o=r.n(n),a=r(83),i=r.n(a),c=r(0),u=r.n(c),l=r(3),s=r.n(l),p=r(354),f=r(34),d=r(352),m=r(28),b=r.n(m);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var y=function(e,t,r){var n,a=function(e,t){return{fields:[{component:"sub-form",description:"Invite group",name:"new_share",key:"1",fields:[{name:"group-selection",component:"share-group-select",inputName:"group_uuid",selectName:"permissions",loadOptions:e,isSearchable:!0,permissions:t}]}]}}(t,r),i=e.map((function(e){return function(e,t){return{component:"sub-form",name:"".concat(e.group_name),key:"".concat(e.group_name),fields:[{name:"".concat(e.group_name),label:"".concat(e.group_name),component:"share-group-edit",options:t,isClearable:!0}]}}(e,r)})),c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},(n=b()(i),{fields:[{component:"sub-form",description:"Groups with access",name:"share_list",key:"share_list",fields:b()(n)}]}));return{fields:[].concat(b()(a.fields),b()(c.fields))}},h=r(342),g=r(42),v=r.n(g),j=r(57),P=r(12),w=Object(j.a)(),E=Object(j.e)();function D(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.awrap(w.get("".concat(P.c,"/portfolios/").concat(e,"/share_info")));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}var T=r(2);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=function(e){return{type:T.R,payload:(t=S({},e),v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return r={permissions:t.permissions.split(","),group_uuids:[t.group_uuid]},e.next=3,v.a.awrap(E.sharePortfolio(t.id,r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}))),meta:{notifications:{fulfilled:{variant:"success",title:"Success sharing portfolio",description:"The portfolio was shared successfully."}}}};var t,r},k=function(e){return{type:T.T,payload:(t=S({},e),v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return r={permissions:t.permissions,group_uuids:[t.group_uuid]},e.next=3,v.a.awrap(E.unsharePortfolio(t.id,r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}))),meta:{notifications:{fulfilled:{variant:"success",title:"Success unsharing portfolio",description:"The portfolio was unshared successfully."}}}};var t,r},C=r(50);Object(j.g)();var R=r(338),N=r(344);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=function(e){var t=e.closeUrl,r=e.removeQuery,n=Object(f.useDispatch)(),a=Object(N.a)(r).push,l=Object(R.a)(["portfolio"]),s=i()(l,2),m=s[0].portfolio,b=s[1],O=Object(c.useState)(!0),g=i()(O,2),v=g[0],w=g[1],E=Object(f.useSelector)((function(e){return e.portfolioReducer.portfolios.data.find((function(e){return e.id===m}))})),_=Object(f.useSelector)((function(e){return{shareInfo:e.shareReducer.shareInfo}})).shareInfo;Object(c.useEffect)((function(){var e;w(!0),n((e=m,{type:T.B,payload:D(e)})).then((function(){return w(!1)})).catch((function(){return w(!1)}))}),[]);var S=function(){return a({pathname:t,search:b})};return u.a.createElement(d.Modal,{title:"Share portfolio",isOpen:!0,isSmall:!0,onClose:S},v&&u.a.createElement(C.g,null),!v&&u.a.createElement(p.a,{schema:y(_,(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(j.a)().get("".concat(P.g,"/groups/").concat(e.length>0?"?name=".concat(e):"")).then((function(e){return e.data.map((function(e){var t=e.uuid;return{label:e.name,value:t}}))}))}(e)}),P.j),schemaType:"default",onSubmit:function(e){var r=[];return e.group_uuid&&e.permissions&&r.push(n(I(e))),_.forEach((function(t){var o=t.permissions.sort().join(",");if(e[t.group_name]!==o)if(e[t.group_name])t.permissions.length>e[t.group_name].split(",").length?r.push(n(k({id:m,permissions:["update"],group_uuid:t.group_uuid}))):r.push(n(I({id:m,permissions:e[t.group_name],group_uuid:t.group_uuid})));else{var a=t.permissions.filter((function(e){return P.k.indexOf(e)>-1}));r.push(n(k({id:m,permissions:a,group_uuid:t.group_uuid})))}})),a({pathname:t,search:b}),Promise.all(r).then((function(){return n(Object(h.g)())}))},onCancel:S,initialValues:F({},E,{},_.map((function(e){var t=e.permissions.filter((function(e){return P.k.indexOf(e)>-1})),r=e.group_name,n=P.j.find((function(e){return e.value===t.sort().join(",")}));return o()({},r,n?n.value:"Unknown")})).reduce((function(e,t){return F({},e,{},t)}),{})),formContainer:"modal",buttonsLabels:{submitLabel:"Send"}}))};L.propTypes={closeUrl:s.a.string.isRequired,removeQuery:s.a.bool};t.a=L},468:function(e,t,r){"use strict";var n=r(1),o=r.n(n),a=r(83),i=r.n(a),c=r(0),u=r.n(c),l=r(3),s=r.n(l),p=r(34),f=r(89),d=r(352),m=r(90),b=r(354),O=r(353),y=r(339),h=r(348),g=Object(y.a)((function(e,t){return Object(h.e)(e).then((function(r){var n=r.data;return e&&0!==e.trim().length?n.find((function(r){return r.name===e&&r.id!==t}))?"Name has already been taken":void 0:"Required"})).catch((function(e){return e.data}))})),v=function(e,t){return{fields:[{label:"Name",name:"name",component:O.componentTypes.TEXT_FIELD,isRequired:!0,validate:[function(e){return g(e,t)}]},{label:"Description",component:O.componentTypes.TEXTAREA,name:"description"}]}},j=r(342),P=r(338),w=r(344);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=function(e){var t=e.removeQuery,r=e.closeTarget,n=Object(p.useDispatch)(),o=Object(P.a)(["portfolio"]),a=i()(o,1)[0].portfolio,c=Object(w.a)(t).push,l=Object(p.useSelector)((function(e){var t=e.portfolioReducer;return Object(h.g)(t,a)})),s=a&&l&&Object.keys(l).length>0;return u.a.createElement(d.Modal,{title:a?"Edit portfolio":"Create portfolio",isOpen:!0,onClose:function(){return c(r)},isSmall:!0},!a||s?u.a.createElement(b.a,{schema:v(0,a),schemaType:"default",onSubmit:function(e){return c(r),n(l?Object(j.m)(e):Object(j.a)(e))},onCancel:function(){return c(r)},initialValues:D({},l),formContainer:"modal",buttonsLabels:{submitLabel:a?"Save":"Create"}}):u.a.createElement(f.Bullseye,null,u.a.createElement("div",{className:"pf-u-m-md"},u.a.createElement(m.Spinner,null))))};T.propTypes={removeQuery:s.a.bool,closeTarget:s.a.oneOfType([s.a.string,s.a.shape({pathname:s.a.string.isRequired,search:s.a.string})]).isRequired};t.a=T},625:function(e,t,r){"use strict";r.r(t);var n=r(27),o=r.n(n),a=r(83),i=r.n(a),c=r(1),u=r.n(c),l=r(0),s=r.n(l),p=r(34),f=r(25),d=r(349),m=r.n(d),b=r(403),O=r.n(b),y=r(86),h=r(468),g=r(467),v=r(457),j=r(392),P=r(347),w=r(356),E=r(374),D=r(49),T=r(342),_=r(47),S=r.n(_),I=r(3),k=r.n(I),C=r(380),R=r(370),N=r(60),x=r(372),F=r(158),L=r(159),M=r(19),q=r(160),A=r(21),V=r(39),W=r(355),U=r(84),B=r.n(U),G=r(48),K=r(152),Y=r(153),J=r(360),Q=r(85);function z(){var e=B()(["\n  max-width: calc(100% - 44px);\n"]);return z=function(){return e},e}var H=Object(Q.b)(Y.LevelItem)(z()),X=function(e){var t=e.to,r=e.portfolioName,n=e.headerActions;return s.a.createElement(K.Level,null,s.a.createElement(H,{className:"pf-m-grow"},s.a.createElement(G.b,{to:t},s.a.createElement(V.TextContent,null,s.a.createElement(A.Text,{title:r,className:"pf-u-mb-0",component:A.TextVariants.h3},s.a.createElement(J.a,null,r))))),s.a.createElement(Y.LevelItem,{onClick:function(e){return e.preventDefault()}},n))};X.propTypes={portfolioName:k.a.string.isRequired,headerActions:k.a.arrayOf(k.a.node),to:k.a.shape({pathname:k.a.string.isRequired,search:k.a.string.isRequired}).isRequired},X.defaultProps={headerActions:[]};var Z=X,$=r(337),ee=r(51),te=r(369);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var ne=["description"],oe=function(e,t,r){return[s.a.createElement(F.Dropdown,{key:"portfolio-dropdown",isOpen:t,isPlain:!0,onSelect:function(){return r(!1)},position:M.DropdownPosition.right,toggle:s.a.createElement(q.KebabToggle,{onToggle:function(e){return r(e)}}),dropdownItems:[s.a.createElement(L.DropdownItem,{key:"share-portfolio-action",component:s.a.createElement($.a,{searchParams:{portfolio:e},pathname:ee.w},"Share")}),s.a.createElement(L.DropdownItem,{key:"workflow-portfolio-action",component:s.a.createElement($.a,{searchParams:{portfolio:e},pathname:ee.d},"Set approval")}),s.a.createElement(L.DropdownItem,{key:"edit-portfolio-action",component:s.a.createElement($.a,{searchParams:{portfolio:e},pathname:ee.c},"Edit")}),s.a.createElement(L.DropdownItem,{key:"remove-portfolio-action",component:s.a.createElement($.a,{searchParams:{portfolio:e},pathname:ee.v},"Delete")})]})]},ae=function(e){var t=e.imageUrl,r=e.isDisabled,n=e.name,a=e.id,c=S()(e,["imageUrl","isDisabled","name","id"]),p=Object(l.useState)(!1),f=i()(p,2),d=f[0],m=f[1],b={pathname:ee.u,search:"?portfolio=".concat(a)};return s.a.createElement(te.b,{isDisabled:r},s.a.createElement(te.a,null,s.a.createElement(R.CardHeader,null,s.a.createElement(Z,{to:b,portfolioName:n,headerActions:oe(a,d,m)})),s.a.createElement(N.CardBody,null,s.a.createElement(V.TextContent,{className:"pf-u-mb-md"},s.a.createElement(A.Text,{component:A.TextVariants.small,className:"pf-i-mb-sm"},"Last updatedÂ ",s.a.createElement(W.DateFormat,{date:c.updated_at||c.created_at,type:"relative"})),s.a.createElement(A.Text,{component:A.TextVariants.small},c.owner)),s.a.createElement(C.a,o()({},function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({name:n,imageUrl:t},c),{toDisplay:ne}))),s.a.createElement(x.CardFooter,null)))};ae.propTypes={history:k.a.object,imageUrl:k.a.string,name:k.a.string,id:k.a.string.isRequired,updated_at:k.a.string,created_at:k.a.string.isRequired,owner:k.a.string,isDisabled:k.a.bool};var ie=ae,ce=r(341),ue=r(387),le=r(343);function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fe=function(e){var t=e.meta,r=e.fetchPortfolios,n=e.filterProps,o=n.searchValue,a=n.onFilterChange,i=n.placeholder;return{fields:[{component:ce.b.TOP_TOOLBAR,key:"portfolios-top-toolbar",fields:[{component:ce.b.TOP_TOOLBAR_TITLE,key:"portfolios-toolbar-title",title:"Portfolios",noData:t.noData},{component:ce.b.LEVEL,key:"portfolios-actions",fields:t.noData?[]:[{component:ce.b.TOOLBAR,key:"main-portfolio-toolbar",fields:[Object(ue.b)({groupName:"filter-group",component:ce.b.FILTER_TOOLBAR_ITEM,key:"filter-input",searchValue:o,onFilterChange:a,placeholder:i,isClearable:!0}),Object(ue.b)(pe({hidden:0===t.count,groupName:"portfolio-button-group",key:"create-portfolio"},Object(ue.a)({pathname:"/portfolios/add-portfolio",variant:"primary",key:"create-portfolio-button","aria-label":"Create portfolio",title:"Create"})))]},{component:ce.b.LEVEL_ITEM,key:"pagination-item",fields:t.count>0?[{component:le.a,isCompact:!0,key:"portfolios-pagination",meta:t,apiRequest:r}]:[]}]}]}]}},de=r(363),me=r(339),be=r(12),Oe=r(389);function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ge=Object(me.a)((function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:D.a;r(!0),t(Object(T.g)(he({},n,{filter:e}))).then((function(){return r(!1)}))}),1e3),ve={filterValue:"",isOpen:!1,isFetching:!0,isFiltering:!1},je=function(e,t){switch(t.type){case"setFetching":return he({},e,{isFetching:t.payload});case"setFilterValue":return he({},e,{filterValue:t.payload});case"setFilteringFlag":return he({},e,{isFiltering:t.payload})}return e};t.default=function(){var e=Object(l.useReducer)(je,ve),t=i()(e,2),r=t[0],n=r.filterValue,a=r.isFetching,c=r.isFiltering,u=t[1],d=Object(p.useSelector)((function(e){return e.portfolioReducer.portfolios})),b=d.data,_=d.meta,S=Object(f.i)(ee.s),I=Object(p.useDispatch)();Object(l.useEffect)((function(){I(Object(T.g)(he({},D.a,{filter:n}))).then((function(){return u({type:"setFetching",payload:!1})})),Object(P.c)(),insights.chrome.appNavClick({id:"portfolios",secondaryNav:!0})}),[]);var k=function(e){return b?b.find((function(t){return t.id===e})).name:"portfolio"},C=function(e){u({type:"setFilterValue",payload:e}),ge(e,I,(function(e){return u({type:"setFilteringFlag",payload:e})}),he({},_,{offset:0}))},R={PrimaryAction:_.noData?function(){return s.a.createElement(de.a,{url:ee.a,label:"Create portfolio"})}:function(){return s.a.createElement(y.Button,{variant:"link",onClick:function(){return C("")}},"Clear all filters")},title:_.noData?"No portfolios":"No results found",description:_.noData?"No portfolios match your filter criteria.":"No results match the filter criteria. Remove all filters or clear all filters to show results.",Icon:_.noData?O.a:m.a},N=b.map((function(e){return s.a.createElement(ie,o()({key:e.id},e))}));return s.a.createElement(l.Fragment,null,s.a.createElement(w.a,{schema:fe({meta:_,fetchPortfolios:function(e,t){return I(Object(T.g)(he({filter:n},t)))},filterProps:{searchValue:n,onFilterChange:C,placeholder:"Filter by portfolio..."}})}),s.a.createElement(f.b,{exact:!0,path:[ee.a,ee.c]},s.a.createElement(h.a,{removeQuery:!0,closeTarget:ee.s})),s.a.createElement(f.b,{exact:!0,path:ee.v,component:v.a}),s.a.createElement(f.b,{exact:!0,path:ee.w},s.a.createElement(g.a,{closeUrl:S.url,removeQuery:!0})),s.a.createElement(f.b,{exact:!0,path:ee.x,render:function(){return s.a.createElement(j.a,{pushParam:{pathname:S.url},objectType:be.f,objectName:k,querySelector:"portfolio"})}}),s.a.createElement(E.a,{items:N,isLoading:a||c,renderEmptyState:function(){return s.a.createElement(de.b,R)}}),_.count>0&&s.a.createElement(Oe.a,null,s.a.createElement(le.a,{meta:_,apiRequest:function(e,t){return I(Object(T.g)(he({filter:n},t)))},dropDirection:"up"})))}}}]);
//# sourceMappingURL=../sourcemaps/portfolios.js.map