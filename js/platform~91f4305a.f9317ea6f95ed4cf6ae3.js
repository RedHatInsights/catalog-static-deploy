(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{503:function(e,t,n){"use strict";var r=n(499),o=n.n(r),a=n(69),c=n.n(a),i=n(0),l=n.n(i),u=n(12),f=n.n(u),s=n(500),p=n(222),m=n(71),b=function(e){var t=e.meta,n=t.limit,r=t.count,a=t.offset,i=e.apiProps,u=e.apiRequest,f=e.className,b=e.isCompact,d=c()(e,["meta","apiProps","apiRequest","className","isCompact"]);return l.a.createElement("div",{className:f},l.a.createElement(p.Pagination,o()({perPage:n||50,itemCount:r||0,onPerPageSelect:function(e,t){return u(i,{offset:a,limit:t})},page:Object(m.b)(n,a),onSetPage:function(e,t,r){var o={offset:Object(m.c)(t,n),limit:n},a=function(){return u(i,o)};return r?Object(s.a)(a,250)():a()},direction:"down",isCompact:b},d)))};b.propTypes={meta:f.a.shape({count:f.a.number,limit:f.a.number.isRequired,offset:f.a.number.isRequired}),apiRequest:f.a.func.isRequired,apiProps:f.a.any,className:f.a.string,isCompact:f.a.bool},b.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1},t.a=b},504:function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return _})),n.d(t,"d",(function(){return L})),n.d(t,"a",(function(){return w})),n.d(t,"e",(function(){return T}));var r={};n.r(r),n.d(r,"getPlatforms",(function(){return O})),n.d(r,"getPlatform",(function(){return y})),n.d(r,"getPlatformItems",(function(){return g})),n.d(r,"getPlatformInventories",(function(){return v})),n.d(r,"getServiceOffering",(function(){return h}));var o=n(2),a=n.n(o),c=n(4),i=n(36),l=n.n(i),u=n(102),f=n(14),s=n(71);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=Object(u.a)(),d=Object(u.b)(),O=function(){return d.post("".concat(f.i,"/graphql"),{query:'\nquery {\n  application_types (filter: { name: "/insights/platform/catalog" }) {\n    id\n    name\n    sources {\n      id\n      name\n      source_type_id\n    }\n  }\n}'}).then((function(e){return e.data.application_types})).then((function(e){return l()(e,1)[0].sources}))},y=function(e){return b.get("".concat(f.i,"/sources/").concat(e))},g=function(e,t,n){var r=t?"&filter[name][contains_i]=".concat(t):"";return e?b.get("".concat(f.j,"/sources/").concat(e,"/service_offerings?filter[archived_at][nil]").concat(r).concat(n?"&limit=".concat(n.limit,"&offset=").concat(n.offset):"")):b.get("".concat(f.j,"/service_offerings"))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a;return e?b.get("".concat(f.j,"/sources/").concat(e,"/service_inventories?filter[name][contains_i]=").concat(t).concat(n?"&limit=".concat(n.limit,"&offset=").concat(n.offset):"")):b.get("".concat(f.j,"/service_inventories?limit=").concat(n.limit,"&offset=").concat(n.offset))},h=function(e,t){return Promise.all([b.get("".concat(f.j,"/service_offerings/").concat(e)),b.get("".concat(f.i,"/sources/").concat(t)).then((function(e){return b.get("".concat(f.i,"/source_types/").concat(e.source_type_id)).then((function(t){var n=t.icon_url;return m(m({},e),{},{icon_url:n})}))}))]).then((function(e){var t=l()(e,2);return{service:t[0],source:t[1]}}))};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(){return function(e){return e({type:"".concat(c.k,"_PENDING")}),O().then((function(t){return e({type:"".concat(c.k,"_FULFILLED"),payload:t})})).catch((function(t){return e({type:"".concat(c.k,"_REJECTED"),payload:t})}))}},_=function(e,t,n){return{type:c.n,payload:g(e,t,n),meta:j({platformId:e,filter:t},n)}},L=function(e){return{type:c.j,payload:y(e)}},w=function(e,t,n){return{type:c.l,payload:v(e,t,n)}},T=function(){return{type:c.v,payload:h.apply(r,arguments)}}},534:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l}));var r=n(550),o=n(506),a=n(503),c=function(e){var t=e.searchValue,n=e.onFilterChange,r=e.title;return{fields:[{component:o.b.TOP_TOOLBAR,key:"platforms-toolbar",fields:[{component:o.b.TOP_TOOLBAR_TITLE,key:"platforms-toolbar-title",title:r},{component:o.b.LEVEL,key:"platforms-toolbar-actions",fields:[{component:o.b.LEVEL_ITEM,key:"input-level-item",fields:[{component:o.b.FILTER_TOOLBAR_ITEM,key:"platforms-toolbar-filter-input",searchValue:t,onFilterChange:n,placeholder:"Filter by platform"}]},{component:o.b.LEVEL_ITEM,key:"pagination-level-item",fields:[]}]}]}]}},i=function(e){var t=e.title,n=e.paddingBottom,a=e.tabItems;return{fields:[{component:o.b.TOP_TOOLBAR,key:"platforms-toolbar",paddingBottom:n,fields:[{component:o.b.TOP_TOOLBAR_TITLE,key:"platforms-toolbar-title",title:t},{component:o.b.LEVEL_ITEM,key:"tabs-level-item",fields:a?[{component:r.a,key:"platform-tabs",tabItems:a}]:[]}]}]}},l=function(e){var t=e.searchValue,n=e.onFilterChange,r=e.meta,c=e.apiRequest,i=e.filterPlaceholder;return{fields:[{component:o.b.TOOLBAR,key:"platforms-filter-toolbar",className:"pf-u-pt-md pf-u-pb-md pf-u-pr-lg pf-u-pl-lg",fields:[{component:o.b.LEVEL,key:"platforms-toolbar-actions",className:"pf-m-grow",fields:[{component:o.b.LEVEL_ITEM,key:"input-level-item",fields:[{component:o.b.FILTER_TOOLBAR_ITEM,key:"platforms-toolbar-filter-input",searchValue:t,onFilterChange:n,placeholder:i}]},{component:o.b.LEVEL_ITEM,key:"pagination-level-item",fields:r.count>0?[{component:a.a,key:"platform-pagination",apiRequest:c,meta:r,isCompact:!0}]:[]}]}]}]}}},537:function(e,t,n){"use strict";var r,o,a=n(19),c=n.n(a),i=n(0),l=n(56),u=n(30),f=n(2),s=n.n(f),p=n(4),m=n(11),b=(m.s,{"portfolio-item":["source"]}),d=(r={},s()(r,m.u,(function(e){return e().portfolioReducer.selectedPortfolio.name})),s()(r,m.t,(function(e){return e().portfolioReducer.portfolioItem.portfolioItem.name})),s()(r,m.e,(function(){return"Edit survey"})),s()(r,m.b,(function(){return"Add products"})),s()(r,m.p,(function(e){return e().platformReducer.selectedPlatform.name})),s()(r,m.q,(function(e){return e().platformReducer.serviceOffering.service.name})),s()(r,m.m,(function(e){var t=e().orderReducer.orderDetail,n=t.portfolioItem,r=t.order;return"".concat(n.name," # ").concat(r.id)})),r),O=(o={},s()(o,m.u,{pathname:m.s,title:"Portfolios",searchParams:{}}),s()(o,m.p,{pathname:m.n,title:"Platforms",searchParams:{}}),s()(o,m.m,{pathname:m.j,title:"Orders",searchParams:{}}),o);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){if(0===e.length)return n({type:p.A,payload:[]});var o=e.replace(/^\//,"").split("/").reduce((function(e,n,o){var a="".concat(o>0&&e[o-1]?e[o-1].pathname:"","/").concat(n),i=d[a];if(!i)return e;var l=g(g({},o>0&&e[o-1].searchParams),t[n]?s()({},n,t[n]):{});return b[n]&&b[n].forEach((function(e){l[e]=t[e]})),[].concat(c()(e),[{pathname:a,searchParams:l,title:i(r)}])}),[]);return o.length>0&&O[o[0].pathname]&&(o=[O[o[0].pathname]].concat(c()(o))),n({type:p.A,payload:o})}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(u.useDispatch)(),n=Object(l.h)(),r=n.pathname,o=n.search;if(0===e.length)return t(v("",{}));var a=new URLSearchParams(o),f={};return a.forEach((function(e,t){f[t]=e})),Object(i.useEffect)((function(){t(v(r,f))}),[r].concat(c()(e))),function(){return t(v("",{}))}}},605:function(e,t,n){"use strict";n.r(t);var r=n(36),o=n.n(r),a=n(0),c=n.n(a),i=n(56),l=n(134),u=n(504),f=n(73),s=n(30),p=n(537),m=n(11),b=n(518),d=n(534),O=n(72),y=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(5),n.e(0),n.e(4),n.e(1),n.e(2),n.e(8),n.e(7),n.e(6),n.e(9),n.e(40)]).then(n.bind(null,598))})),g=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(5),n.e(0),n.e(4),n.e(1),n.e(2),n.e(8),n.e(7),n.e(6),n.e(15),n.e(39)]).then(n.bind(null,603))})),v=Object(a.lazy)((function(){return Promise.all([n.e(9),n.e(14),n.e(48)]).then(n.bind(null,599))})),h=[{eventKey:0,title:"Templates",name:"/platform/platform-templates"},{eventKey:1,title:"Inventories",name:"/platform/platform-inventories"}];t.default=function(){var e=Object(s.useDispatch)(),t=Object(f.a)(["platform"]),n=o()(t,1)[0].platform,r=Object(s.useSelector)((function(e){var t=e.platformReducer;return{selectedPlatform:t.selectedPlatform,serviceOffering:t.serviceOffering}})),P=r.selectedPlatform,j=r.serviceOffering,E=Object(p.a)([P,j]);return Object(a.useEffect)((function(){return insights.chrome.appNavClick({id:"platforms",secondaryNav:!0}),Promise.all([e(Object(u.d)(n)),e(Object(u.c)())]),Object(l.c)(),function(){E()}}),[n]),c.a.createElement(a.Fragment,null,c.a.createElement(i.b,{exact:!0,path:[m.o,m.p,m.r,"".concat(m.o,"/*")]},c.a.createElement(b.a,{schema:Object(d.c)({title:P.name,paddingBottom:!1,tabItems:h})})),c.a.createElement(a.Suspense,{fallback:c.a.createElement(O.f,null)},c.a.createElement(i.d,null,c.a.createElement(i.b,{path:m.q},c.a.createElement(v,null)),c.a.createElement(i.b,{path:m.o},c.a.createElement(g,null)),c.a.createElement(i.b,{path:[m.r,m.p]},c.a.createElement(y,null)))))}}}]);
//# sourceMappingURL=../sourcemaps/platform~91f4305a.js.map