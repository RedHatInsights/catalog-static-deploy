"use strict";(self.webpackChunkcatalog=self.webpackChunkcatalog||[]).push([[2893],{24774:(e,t,a)=>{t.a=void 0;const r=a(21988),o=r.__importStar(a(30624)),s=a(38296),n=r.__importDefault(a(86192));t.a=e=>{var{hasGutter:t,className:a="",children:i=null}=e,l=r.__rest(e,["hasGutter","className","children"]);return o.createElement("div",Object.assign({},l,{className:s.css(n.default.level,t&&n.default.modifiers.gutter,a)}),i)},t.a.displayName="Level"},2112:(e,t,a)=>{t.MS={name:"WrenchIcon",height:512,width:512,svgPath:"M507.73 109.1c-2.24-9.03-13.54-12.09-20.12-5.51l-74.36 74.36-67.88-11.31-11.31-67.88 74.36-74.36c6.62-6.62 3.43-17.9-5.66-20.16-47.38-11.74-99.55.91-136.58 37.93-39.64 39.64-50.55 97.1-34.05 147.2L18.74 402.76c-24.99 24.99-24.99 65.51 0 90.5 24.99 24.99 65.51 24.99 90.5 0l213.21-213.21c50.12 16.71 107.47 5.68 147.37-34.22 37.07-37.07 49.7-89.32 37.91-136.73zM64 472c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z",yOffset:0,xOffset:0},t.R0=a(35183).createIcon(t.MS),t.ZP=t.R0},39173:(e,t,a)=>{a.d(t,{Z:()=>d});var r=a(30624),o=a.n(r),s=a(45697),n=a.n(s),i=a(94184),l=a.n(i),c=a(60485),u=function(e){var t=e.className,a=e.title,r=l()(t);return o().createElement(c.D,{headingLevel:"h1",size:"2xl",className:r,"widget-type":"InsightsPageHeaderTitle"}," ",a," ")};const d=u;u.propTypes={title:n().node.isRequired,className:n().string}},1797:(e,t,a)=>{a.r(t),a.d(t,{default:()=>B});var r=a(87462),o=a(29439),s=a(4942),n=a(30624),i=a.n(n),l=a(14494),c=a(2112),u=a(48794),d=a(89231),f=a(77503),p=a(63035),m=a(59797),g=a(91703),v=a(77172);const h=function(e){var t=e.meta,a=e.fetchProducts,r=e.isLoading,o=e.filterProps,s=o.searchValue,n=o.onFilterChange,i=o.placeholder;return{fields:[{component:g.H.TOP_TOOLBAR,key:"products-top-toolbar",fields:[{component:g.H.TOP_TOOLBAR_TITLE,key:"products-toolbar-title",title:"Products",description:"All products collected from your portfolios",noData:t.noData},{component:g.H.LEVEL,key:"Products-actions",fields:t.noData?[]:[{component:g.H.TOOLBAR,key:"main-portfolio-toolbar",fields:[{groupName:"filter-group",component:g.H.FILTER_TOOLBAR_ITEM,key:"filter-input",searchValue:s,onFilterChange:n,placeholder:i,isClearable:!0}]},{component:g.H.LEVEL_ITEM,key:"pagination-item",fields:t.count>0?[{component:v.Z,key:"products-pagination",meta:t,apiProps:s,apiRequest:a,isDisabled:r,isCompact:!0}]:[]}]}]}]}};var y=a(66678),b=a(7247),M=a(59837),E=a(11608),_=a(49827),P=a(81624),w=a(33188),O=a(6202),T=a(20018),D=a(63540),F=a(63853),Z=a(36722),R=a(92183),S=a(44058),C=a(72510),A=a(97881);const L=(0,a(50049).vU)({addSource:{id:"products.empty.add-source",defaultMessage:"Add source"},configureSource:{id:"products.empty.configure-source",defaultMessage:"Configure a source and add products into portfolios."},title:{id:"products.toolbar.title",defaultMessage:"Products"}});var V=a(53352),k=a(23349);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){(0,s.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=(0,P.Z)((function(e,t,a){var r;a(!0),t(null!==(r=window.catalog)&&void 0!==r&&r.standalone?(0,f._r)(e,b.he):(0,d._r)(e,b.he)).then((function(){return a(!1)}))}),1e3),j={filterValue:"",isOpen:!1,isFetching:!0,isFiltering:!1},H=function(e,t){switch(t.type){case"setFetching":return N(N({},e),{},{isFetching:t.payload});case"setFilterValue":return N(N({},e),{},{filterValue:t.payload});case"setFilteringFlag":return N(N({},e),{},{isFiltering:t.payload})}return e};const B=function(){var e,t,a=(0,k.Z)(),s=(0,S.Z)(),g=(0,n.useContext)(F.Z).release,b=(0,n.useReducer)(H,N(N({},j),{},{filterValue:(null==s||null===(e=s.products)||void 0===e?void 0:e.filter)||""})),P=(0,o.Z)(b,2),I=P[0],B=I.isFetching,z=I.filterValue,J=I.isFiltering,U=P[1],G=(0,n.useContext)(C.Z).userIdentity.identity.user.is_org_admin,q=(0,l.I0)(),Y=(0,l.v9)((function(e){return e.portfolioReducer.portfolioItems})),W=Y.meta||{count:Y.count},$=Y.data||Y.results;(0,n.useEffect)((function(){var e,t,a,r;Promise.all([q(null!==(e=window.catalog)&&void 0!==e&&e.standalone?(0,f._r)(null==s||null===(t=s.products)||void 0===t?void 0:t.filter,null==s?void 0:s.products):(0,d._r)(null==s||null===(a=s.products)||void 0===a?void 0:a.filter,null==s?void 0:s.products)),q(null!==(r=window.catalog)&&void 0!==r&&r.standalone?(0,_.dw)():E.dw)]).then((function(){return U({type:"setFetching",payload:!1})})),(0,p.k3)()}),[]);var K=function(e){U({type:"setFilterValue",payload:e}),x(e,q,(function(e){return U({type:"setFilteringFlag",payload:e})}))},Q=$.map((function(e){return i().createElement(m.Z,(0,r.Z)({key:e.id,pathname:e.portfolio_id&&Z.YJ},(a=(t=e).portfolio_id,o=t.id,s=t.service_offering_source_ref,a&&o&&s?{pathname:a&&Z.YJ,searchParams:{portfolio:a,"portfolio-item":o,source:s,"from-products":"true"}}:{}),e,{toDisplay:[]}));var t,a,o,s})),X={PrimaryAction:W.noData?function(){return G&&i().createElement("a",{href:"".concat(g,"settings/sources/new")},i().createElement(O.Button,{ouiaId:"add-source",variant:"primary"},a(L.addSource)))}:function(){return i().createElement(O.Button,{ouiaId:"clear-filter",variant:"link",onClick:function(){return K("")}},a(A.Z.clearFilters))},title:W.noData?a(A.Z.noProducts):a(A.Z.noResults),renderDescription:function(){return i().createElement(n.Fragment,null,i().createElement(T.TextContent,null,i().createElement(D.Text,{component:D.TextVariants.p},W.noData?a(L.configureSource):a(A.Z.noResultsDescription)),G?i().createElement(D.Text,{component:D.TextVariants.p},a(V.Z.connectSource,{a:function(e){return i().createElement(n.Fragment,null,i().createElement("a",{href:"".concat(document.baseURI,"settings/sources")},e))}})):i().createElement(D.Text,null,a(V.Z.contactAdmin))))},Icon:W.noData?c.ZP:u.ZP};return i().createElement(n.Fragment,null,i().createElement(y.Z,{schema:h({filterProps:{searchValue:z,onFilterChange:K,placeholder:a(A.Z.filterByProduct)},title:a(L.title),isLoading:J||B,meta:W,fetchProducts:null!==(t=window.catalog)&&void 0!==t&&t.standalone?function(){return q(f._r.apply(void 0,arguments))}:function(){return q(d._r.apply(void 0,arguments))}})}),i().createElement(M.Z,{isLoading:J||B,items:Q,renderEmptyState:function(){return i().createElement(w.Z,X)}}),W.count>0&&i().createElement(R.Z,null,i().createElement(v.Z,{dropDirection:"up",meta:W,apiRequest:function(e,t){var a,r,o;return q(null!==(a=window.catalog)&&void 0!==a&&a.standalone?(0,f._r)(null==s||null===(r=s.products)||void 0===r?void 0:r.filter,t):(0,d._r)(null==s||null===(o=s.products)||void 0===o?void 0:o.filter,t))}})))}},53352:(e,t,a)=>{a.d(t,{Z:()=>r});const r=(0,a(50049).vU)({workflowColumn:{id:"platform.inventories.columns.workflow",defaultMessage:"Workflow"},noInventoriesDescription:{id:"platform.inventories.empty.no-inventories",defaultMessage:"No inventories found."},noInventoriesFilterDescription:{id:"platform.inventories.empty.no-results",defaultMessage:"No inventories match your filter criteria."},inventoriesFilter:{id:"platform.inventories.filter.placeholder",defaultMessage:"Filter by inventory"},templatesFilter:{id:"platform.templates.filter.placeholder",defaultMessage:"Filter by template"},noTemplatesTitle:{id:"platform.templates.no-templates",defaultMessage:"No templates"},noTemplatesDescription:{id:"platform.templates.empty.no-templates",defaultMessage:"This platform has no templates."},platformsNoDataDescription:{id:"platforms.list.configure-source",defaultMessage:"Ansible Automation Services Catalog can be added by following the"},platformsDocTitle:{id:"platforms.doc.title",defaultMessage:"Ansible Automation Platform 2.0 BETA documentation"},connectSource:{id:"platforms.list.connect-source",defaultMessage:"Go to Sources"},contactAdmin:{id:"platforms.list.contact-admin",defaultMessage:"Contact your organization administrator to setup sources for Catalog."},title:{id:"platforms.title",defaultMessage:"Platforms"},noPlatforms:{id:"platforms.list.empty.title",defaultMessage:"No platforms yet"},offeringTitle:{id:"platforms.offerings.detail.title",defaultMessage:"Service offering"},offeringParameters:{id:"platforms.offerings.detail.extra-params",defaultMessage:"Extra parameters"},platformVersion:{id:"platforms.version",defaultMessage:"Platform version"},ansibleVersion:{id:"platforms.ansible.version",defaultMessage:"Ansible version"},platformSummary:{id:"platforms.summary",defaultMessage:"Summary"},platformDetails:{id:"platforms.details",defaultMessage:"Details"},platformActivity:{id:"platforms.activity",defaultMessage:"Activity"},cloudConnectorId:{id:"platform.cloudConnectorId",defaultMessage:"RedHat Connect Client Id"},refreshState:{id:"platforms.refreshState",defaultMessage:"Refresh state"},refreshStarted:{id:"platforms.refreshStarted",defaultMessage:"Refresh started"},refreshFinished:{id:"platforms.refreshFinished",defaultMessage:"Refresh finished"},lastSuccessfulRefresh:{id:"platforms.lastSuccessfulRefresh",defaultMessage:"Last successful refresh"},lastChecked:{id:"platforms.lastChecked",defaultMessage:"Last checked"},lastAvailable:{id:"platforms.lastAvailable",defaultMessage:"Last available"},enabled:{id:"platforms.enabled",defaultMessage:"Enabled"},availabilityStatus:{id:"platforms.availabilityStatus",defaultMessage:"Availability status"},dateAdded:{id:"platforms.dateAdded",defaultMessage:"Date added"},refreshTooltip:{id:"platforms.refreshTooltip",defaultMessage:"Refresh platform"},lastRefreshMessage:{id:"platforms.lastRefreshMessage",defaultMessage:"Last refresh message"},availabilityMessage:{id:"platforms.availabilityMessage",defaultMessage:"Availability message"}})},49827:(e,t,a)=>{a.d(t,{bJ:()=>v,Vx:()=>m,dw:()=>p,x6:()=>g,TP:()=>h});var r=a(90060),o=a(15654),s=a(35388),n=a(7247),i=(0,o.Hx)(),l=((0,o.mY)().post,function(e){return i.patch(s.Vs+"/sources/"+e+"/refresh/")}),c=function(e,t,a){if(e){var r=t?"?name="+t:"",o=a?"page_size="+a.limit+"&page="+(a.offset||1):"";return i.get(s.Vs+"/sources/"+e+"/service_offerings/"+r+(t?"&":"?")+o)}return i.get(s.Vs+"/service_offerings/")},u=function(e,t,a){if(void 0===t&&(t=""),void 0===a&&(a=n.he),e){var r=t?"name="+t:"";return i.get(s.Vs+"/sources/"+e+"/service_inventories/?"+r+(a?"&page_size="+a.limit+"&page="+(a.offset||1):""))}return i.get(s.Vs+"/service_inventories/?page_size="+a.limit+"&page="+(a.offset||1))},d=a(83215),f=function(){return(f=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var o in t=arguments[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},p=function(){return function(e){return e({type:r.mH+"_PENDING"}),i.get(s.Vs+"/sources/").then((function(t){return e({type:r.mH+"_FULFILLED",payload:t})})).catch((function(t){return e({type:r.mH+"_REJECTED",payload:t})}))}},m=function(e,t,a){return{type:r.d6,payload:c(e,t,a),meta:f({platformId:e,filter:t},a)}},g=function(e){return{type:r.UZ,payload:(t=e,i.get(s.Vs+"/sources/"+t+"/"))};var t},v=function(e,t,a){return{type:r.c_,payload:u(e,t,a)}},h=function(e){return function(t){return t({type:r.$f,payload:l(e).then((function(){return t((0,d.wN)({variant:"success",title:"Success starting the platform refresh",dismissable:!0,description:"The platform refresh started successfully"}))})).catch((function(e){429===e.status?t((0,d.wN)({variant:"info",title:"Platform refresh in progress",dismissable:!0,description:"Platform refresh already running."})):t({type:r.$f+"_REJECTED",payload:e})}))})}}}}]);
//# sourceMappingURL=../sourcemaps/products.bd32c25570bcf030440906cfb7eb88ae.js.map