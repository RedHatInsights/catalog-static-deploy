(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{425:function(t,e){function o(){return t.exports=o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},o.apply(this,arguments)}t.exports=o},431:function(t,e,o){"use strict";var r=(0,o(52).defineMessages)({removeItemsNotification:{id:"portfolio.notifications.remove.portfolio-items",defaultMessage:"You have removed {count, number} {count, plural, one {product} other {products} } from the {portfolioName} portfolio. <a>Undo</a> if this was a mistake."},removePortfolioNotification:{id:"portfolio.notifications.remove.portfolio",defaultMessage:"The portfolio was removed successfully. You can <a>Undo</a> this action if this was a mistake."},modalCreateTitle:{id:"portfolio.modal.add.title",defaultMessage:"Create portfolio"},modalCreateSubmit:{id:"portfolio.modal.add.create",defaultMessage:"Create"},modalEditTitle:{id:"portfolio.modal.edit.title",defaultMessage:"Edit portfolio"},addProducts:{id:"portfolio.empty.add.products",defaultMessage:"Add products"},emptyNoProducts:{id:"portfolio.empty.no-products",defaultMessage:"No products in your portfolio"},portfoliosPlaceholder:{id:"portfolios.filters.placeholder",defaultMessage:"Filter by portfolio"},portfoliosNoData:{id:"portfolios.empty.noData.title",defaultMessage:"No portfolios"},portfoliosNoDataDescription:{id:"portfolios.empty.noData.description",defaultMessage:"No portfolios match your filter criteria."},portfolioRemoveDescription:{id:"portfolio.remove.modal.description",defaultMessage:"This action will permanently delete portfolio {name} and its data."},portfolioRemoveTitle:{id:"portfolio.remove.modal.title",defaultMessage:"Delete Portfolio?"},portfolioRemoveCancel:{id:"portfolio.remove.modal.cancel",defaultMessage:"Cancel"},portfolioShareUnknown:{id:"portfolio.share.modal.option.unknown",defaultMessage:"Unknown"},portfolioSharePermissions:{id:"portfolio.share.modal.permissions",defaultMessage:"Select the share permissions"},portfolioShareGroups:{id:"portfolio.share.modal.groups",defaultMessage:"Select a group"},portfolioShareTitle:{id:"portfolio.share.modal.title",defaultMessage:"Share portfolio"},portfolioShareApply:{id:"portfolio.share.modal.apply",defaultMessage:"Apply"},portfolioShareDescription:{id:"portfolio.share.modal.description",defaultMessage:"Share <strong>{name}</strong> portfolio"},addProducstPlatformTitle:{id:"portfolio.add.platform.title.empty",defaultMessage:"Please choose platform"},addProducstPlatformDescription:{id:"portfolio.add.platform.description.empty",defaultMessage:"In order to select products for your portfolio you must choose platform first"},addProducstFilterTitle:{id:"portfolio.add.platform.filter.empty",defaultMessage:"No products match filter parameters"},copyItemTitle:{id:"portfolio.item.copy",defaultMessage:"Copy product"},portfolioItemSurvey:{id:"portfolio.item.detail.actions.survey",defaultMessage:"Edit survey"},portfolioItemOrder:{id:"portfolio.item.detail.actions.order",defaultMessage:"Order"},portfolioItemIconTitle:{id:"portfolio.item.icon.upload.notification",defaultMessage:"Icon upload error"},portfolioItemOverview:{id:"portfolio.item.detail.overview",defaultMessage:"Overview"},portfolioItemSupport:{id:"portfolio.item.detail.support",defaultMessage:"Learn more"},portfolioItemDocumentation:{id:"portfolio.item.detail.documentation",defaultMessage:"Documentation"},portfolioItemDocLink:{id:"portfolio.item.detail.doclink",defaultMessage:"Doc link"},restoreSurvey:{id:"portfolio.item.survey.restore",defaultMessage:"Restore to Ansible Tower version"},surveyTitle:{id:"portfolio.item.survey.edit",defaultMessage:"Editing survey: {name}"},sourceUnavaiable:{id:"portfolio.detail.alert.source.unavailable",defaultMessage:"The platform for this product is unavailable"},objectUnavaiable:{id:"portfolio.detail.alert.unavailable",defaultMessage:"The {object} for this product is no longer available"},backToProducts:{id:"portfolio.detail.back-to-products",defaultMessage:"Back to products"},editProduct:{id:"portfolio.item.edit.title",defaultMessage:"Edit product"},shareTooltip:{id:"portfolio.share.add.tooltip",defaultMessage:"Share portfolio with selected group and permissions."},shareErrorMissingGroup:{id:"portfolio.share.add.missing-group",defaultMessage:"Select group to share portfolio."},shareErrorMissingPermission:{id:"portfolio.share.add.missing-permission",defaultMessage:"Assign permissions to selected group."},shareErrorMissingData:{id:"portfolio.share.add.missing-data",defaultMessage:"Choose group and permissions."},shareDuplicate:{id:"portfolio.share.add.duplicate",defaultMessage:"Portfolio is already shared with this group."},noShares:{id:"portfolio.share.add.no-shares",defaultMessage:"To share portfolio select a group and permissions"},shareGroupsAccess:{id:"share.groups.access",defaultMessage:"Groups with access"},shareSuccessTitle:{id:"share.notification.success.title",defaultMessage:"Portfolio sharing settings were updated"}});e.a=r},445:function(t,e,o){"use strict";o.d(e,"g",(function(){return P})),o.d(e,"h",(function(){return w})),o.d(e,"e",(function(){return D})),o.d(e,"f",(function(){return T})),o.d(e,"i",(function(){return M})),o.d(e,"a",(function(){return _})),o.d(e,"b",(function(){return E})),o.d(e,"n",(function(){return N})),o.d(e,"k",(function(){return C})),o.d(e,"l",(function(){return k})),o.d(e,"c",(function(){return S})),o.d(e,"d",(function(){return F})),o.d(e,"m",(function(){return A})),o.d(e,"o",(function(){return L})),o.d(e,"j",(function(){return R}));var r=o(33),n=o.n(r),i=o(425),a=o.n(i),c=o(1),s=o.n(c),u=o(49),f=o.n(u),l=o(0),p=o.n(l),d=o(72),m=o(3),h=o(489),y=o(66),v=o(431),g=o(164);function b(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function O(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?b(Object(o),!0).forEach((function(e){s()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):b(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.a,e=t.filter,o=f()(t,["filter"]);return{type:m.p,meta:O(O({},y.a),{},{filter:e},o),payload:h.k(e,o)}},P=function(t){return function(e){return e(I(t))}},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.a;return function(e){return e(I(O(O({},t),{},{storeState:!0,stateKey:"portfolio"})))}},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.a;return{type:m.r,meta:{filter:t,storeState:!0,stateKey:"products"},payload:h.j(e.limit,e.offset,t)}},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.a;return{type:m.s,payload:h.i(t,e),meta:O(O({},e),{},{storeState:!0,stateKey:"portfolioItems"})}},M=function(t){return{type:m.o,payload:h.f(t)}},_=function(t){return{type:m.a,payload:h.a(t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding portfolio",description:"Portfolio ".concat(t.name," was added successfully.")}}}}},E=function(t,e){return{type:m.c,payload:h.b(t,e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding products",description:"Products were successfully added to portfolio."}}}}},N=function(t,e){return function(o,r){return o({type:m.Z,payload:t}),h.p(t,{getState:r}).then((function(){return o(I(e))})).then((function(){return o({type:d.ADD_NOTIFICATION,payload:{dismissable:!0,variant:"success",title:"Success updating portfolio",description:"The portfolio was updated successfully."}})})).catch((function(t){throw o({type:m.J}),t})).catch((function(t){return o({type:"".concat(m.Z,"_REJECTED"),payload:t})}))}},j=function(t,e,o){return function(r){return r({type:d.CLEAR_NOTIFICATIONS}),h.o(t,e).then((function(t){return r({type:d.ADD_NOTIFICATION,payload:{variant:"success",dismissable:!0,title:"Portfolio ".concat(t.name," has been restored")}}),r(P(o))}))}},C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(o,r){return o({type:m.e,payload:t}),o({type:m.E,payload:h.l(t).then((function(n){var i=n.restore_key;o({type:d.ADD_NOTIFICATION,payload:{variant:"success",title:"Success removing portfolio",dismissable:!0,description:p.a.createElement(g.a,a()({},v.a.removePortfolioNotification,{values:{a:function(r){return p.a.createElement("a",{href:"#",id:"undo-delete-portfolio-".concat(t),onClick:function(r){r.preventDefault(),o(j(t,i,e))}},r)}}}))}});var c=r().portfolioReducer.portfolios,s=c.meta,u=c.data;return o(P(O(O(O({},e),s),{},{offset:0===u.length?0:s.offset})))})).catch((function(t){throw o({type:m.J}),t}))})}},k=function(t,e){return function(o,r){o({type:"".concat(m.F,"_PENDING")});var n=r().portfolioReducer,i=n.portfolioItems.meta,c=n.selectedPortfolio.id;return h.m(t).then((function(t){return o(T(c,{offset:0,limit:i.limit,filter:""})).then((function(){return t}))})).then((function(r){return o({type:d.ADD_NOTIFICATION,payload:{variant:"success",title:"Products removed",dismissable:!0,description:p.a.createElement(g.a,a()({},v.a.removeItemsNotification,{values:{count:t.length,portfolioName:e,a:function(t){return p.a.createElement("a",{href:"#",id:"restore-portfolio-item-".concat(c),onClick:function(t){t.preventDefault(),o(function(t,e){return function(o){return o({type:"".concat(m.H,"_PENDING")}),h.n(t).then((function(){return o({type:"".concat(m.H,"_FULFILLED")})})).then((function(){return o({type:d.CLEAR_NOTIFICATIONS})})).then((function(){return o(T(e))})).then((function(){return o({type:d.ADD_NOTIFICATION,payload:{variant:"success",dismissable:!0,title:"Products have been restored"}})})).catch((function(t){return o({type:"".concat(m.H,"_REJECTED"),payload:t})}))}}(r,c))}},t)}}}))}})})).then((function(){return o({type:"".concat(m.F,"_FULFILLED")})})).catch((function(t){return o({type:"".concat(m.F,"_REJECTED"),payload:t})}))}},S=function(t){return function(e){return e({type:"COPY_PORTFOLIO_PENDING"}),h.c(t).then((function(t){return e({type:"COPY_PORTFOLIO_FULFILLED"}),e({type:d.ADD_NOTIFICATION,payload:{variant:"success",title:"You have successfully copied a portfolio",description:"".concat(t.name," has been copied."),dismissable:!0}}),t})).catch((function(t){return e({type:"COPY_PORTFOLIO_REJECTED",payload:t})}))}},F=function(t,e,o){return function(r){return h.d(t,e).then((function(t){return r({type:d.ADD_NOTIFICATION,payload:{variant:"success",title:"You have successfully copied a product",description:"".concat(t.name," has been copied into ").concat(o.name),dismissable:!0}}),t})).catch((function(t){return r({type:"COPY_PORTFOLIO_ITEM_REJECTED",payload:t})}))}},A=function(){return{type:m.G}},L=function(t){return function(e,o){return e({type:m.ab,payload:t}),h.q(t,{getState:o}).then((function(t){return e({type:m.X,payload:t}),t})).then((function(t){return e({type:d.ADD_NOTIFICATION,payload:{variant:"success",title:'Product "'.concat(t.name,'" was successfully updated'),dismissable:!0}})})).catch((function(t){throw e({type:m.I}),t})).catch((function(t){return e({type:"".concat(m.ab,"_REJECTED"),payload:t})}))}},R=function(t){return function(e){return e({type:"".concat(m.K,"_PENDING")}),h.h(t).then((function(t){var o=n()(t,2),r=o[0],i=o[1];return e({type:"".concat(m.K,"_FULFILLED"),payload:{portfolioItem:r,source:i}})}))}}},489:function(t,e,o){"use strict";o.d(e,"k",(function(){return P})),o.d(e,"j",(function(){return w})),o.d(e,"f",(function(){return D})),o.d(e,"i",(function(){return T})),o.d(e,"a",(function(){return M})),o.d(e,"b",(function(){return E})),o.d(e,"p",(function(){return j})),o.d(e,"l",(function(){return k})),o.d(e,"m",(function(){return L})),o.d(e,"q",(function(){return x})),o.d(e,"e",(function(){return U})),o.d(e,"n",(function(){return G})),o.d(e,"c",(function(){return Y})),o.d(e,"d",(function(){return K})),o.d(e,"r",(function(){return H})),o.d(e,"h",(function(){return q})),o.d(e,"g",(function(){return Z})),o.d(e,"o",(function(){return B}));var r=o(56),n=o.n(r),i=o(49),a=o.n(i),c=o(87),s=o.n(c),u=o(17),f=o.n(u),l=o(1),p=o.n(l),d=o(84),m=o(13),h=o(119),y=o(66);function v(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function g(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?v(Object(o),!0).forEach((function(e){p()(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var b=Object(d.a)(),O=Object(d.e)(),I=Object(d.f)();function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.a,o=e.limit,r=e.offset;return b.get("".concat(m.c,"/portfolios?filter[name][contains_i]=").concat(t,"&limit=").concat(o,"&offset=").concat(r))}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return b.get("".concat(m.c,"/portfolio_items?filter[name][contains_i]=").concat(o,"&limit=").concat(t,"&offset=").concat(e)).then((function(t){var e=t.data.reduce((function(t,e,o){return e.portfolio_id?g(g({},t),{},p()({},e.portfolio_id,t[e.portfolio_id]?[].concat(f()(t[e.portfolio_id]),[o]):[o])):t}),{});return b.get("".concat(m.c,"/portfolios?").concat(Object.keys(e).map((function(t){return"filter[id][]=".concat(t)})).join("&"))).then((function(o){var r=o.data;return{portfolioItems:t,portfolioReference:e,portfolios:r}}))})).then((function(t){var e=t.portfolioItems,o=t.portfolioReference;return t.portfolios.forEach((function(t){var r=t.id,n=t.name;return o[r]&&o[r].forEach((function(t){e.data[t].portfolioName=n}))})),e}))}function D(t){return O.showPortfolio(t)}function T(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.a,o=e.limit,r=e.offset,n=e.filter,i=void 0===n?"":n;return b.get("".concat(m.c,"/portfolios/").concat(t,"/portfolio_items?filter[name][contains_i]=").concat(i,"&limit=").concat(o,"&offset=").concat(r))}function M(t,e){return _.apply(this,arguments)}function _(){return(_=s()(n.a.mark((function t(e,o){var r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.createPortfolio(e);case 2:if(!((r=t.sent)&&o&&o.length>0)){t.next=5;break}return t.abrupt("return",E(r,o));case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(t,e){return N.apply(this,arguments)}function N(){return(N=s()(n.a.mark((function t(e,o){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(o.map((function(t){return I.createPortfolioItem({portfolio_id:e,service_offering_ref:t})}))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t,e){return C.apply(this,arguments)}function C(){return(C=s()(n.a.mark((function t(e,o){var r,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,i=a()(e,["id"]),t.next=3,O.updatePortfolio(r,Object(h.b)(i,"Portfolio",o));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t){return S.apply(this,arguments)}function S(){return(S=s()(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",O.destroyPortfolio(e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(t){return A.apply(this,arguments)}function A(){return(A=s()(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",I.destroyPortfolioItem(e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){return R.apply(this,arguments)}function R(){return(R=s()(n.a.mark((function t(e){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(e.map(function(){var t=s()(n.a.mark((function t(e){var o,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:return o=t.sent,r=o.restore_key,t.abrupt("return",{portfolioItemId:e,restoreKey:r});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,e){return J.apply(this,arguments)}function J(){return(J=s()(n.a.mark((function t(e,o){var r,i;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,i=a()(e,["id"]),t.next=3,I.updatePortfolioItem(r,Object(h.b)(i,"PortfolioItem",o));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return b.get("".concat(m.c,"/portfolios"),{params:{filter:{name:t}}})}var G=function(t){return Promise.all(t.map((function(t){var e=t.portfolioItemId,o=t.restoreKey;return I.unDeletePortfolioItem(e,{restore_key:o})})))},Y=function(t){return O.postCopyPortfolio(t)},K=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return I.postCopyPortfolioItem(t,e)},H=function(t,e,o){var r=new FormData;return r.append("content",e,e.name),o?b.patch("".concat(m.c,"/icons/").concat(o),r):(r.append("portfolio_item_id",t),b.post("".concat(m.c,"/icons"),r,{headers:{accept:"application/json","Content-Type":"multipart/form-data; boundary=".concat(r._boundary)}}))},q=function(t){return Promise.all([b.get("".concat(m.c,"/portfolio_items/").concat(t.portfolioItem)),b.get("".concat(m.i,"/sources/").concat(t.source)).catch((function(t){if(404===t.status)return{object:"platform",notFound:!0};throw t}))])},Z=function(t,e){return t.selectedPortfolio&&t.selectedPortfolio.id===e?t.selectedPortfolio:t.portfolios.data.find((function(t){return t.id===e}))},B=function(t,e){return b.post("".concat(m.c,"/portfolios/").concat(t,"/undelete"),{restore_key:e})}}}]);
//# sourceMappingURL=../sourcemaps/lib~add-portfolio~copy-portfolio-item-modal~portfolio~portfolios~products~remove-portfolio~share-por~a2fe5007.js.map