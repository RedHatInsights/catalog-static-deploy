(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{569:function(e,t,a){"use strict";var n=a(521),r=a.n(n),o=a(68),i=a.n(o),c=a(31),l=a.n(c),s=a(0),u=a.n(s),p=a(32),d=a(13),m=a.n(d),f=a(50),b=a(139);function g(){var e=l()(["\n  margin-right: ",";\n"]);return g=function(){return e},e}function h(){var e=l()(["\n  display: flex !important;\n  align-items: center;\n"]);return h=function(){return e},e}var v=Object(p.b)(f.Button)(h()),E=p.b.span(g(),(function(e){return e.showSpinner?"8px":"0"})),y=function(e){var t=e.children,a=e.showSpinner,n=e.isDisabled,o=i()(e,["children","showSpinner","isDisabled"]);return u.a.createElement(v,r()({},o,{isDisabled:n}),u.a.createElement(E,{showSpinner:a},t),a&&u.a.createElement(b.Spinner,{size:"md"}))};y.propTypes={showSpinner:m.a.bool,children:m.a.oneOfType([m.a.node,m.a.arrayOf(m.a.node)]),isDisabled:m.a.bool},y.defaultProps={showSpinner:!1,isDisabled:!1},t.a=y},577:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(68),r=a.n(n),o=a(31),i=a.n(o),c=a(0),l=a.n(c),s=a(32),u=a(231);function p(){var e=i()(["\n  align-items: ",";\n"]);return p=function(){return e},e}var d=Object(s.b)((function(e){e.alignStart;var t=r()(e,["alignStart"]);return l.a.createElement(u.LevelItem,t)}))(p(),(function(e){return e.alignStart?"flex-start !important":"inherit"}))},591:function(e,t,a){"use strict";a.r(t);var n=a(39),r=a.n(n),o=a(1),i=a.n(o),c=a(0),l=a.n(c),s=a(13),u=a.n(s),p=a(33),d=a(472),m=a(69),f=a(46),b=a(477),g=a(478),h=a(545),v=a(538),E=a.n(v),y=a(523),O=function(e){return{fields:[{component:E.a.SELECT,name:"selectedWorkflows",label:"",loadOptions:Object(y.a)(e),multi:!0,isSearchable:!0,isClearable:!0}]}},w=a(21),j=a.n(w),S=a(578),T=a(66),R=a(103),_=a(15),k=a(70),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=t.map((function(e){return"filter[id][]=".concat(e)})).join("&");return Object(R.a)().get("".concat(_.a,"/workflows?filter[name][contains]=").concat(e,"&").concat(a||"")).then((function(e){return e.data.map((function(e){var t=e.id;return{label:e.name,value:t}}))}))},x=function(e,t,a){var n=e?e.map((function(e){return Object(R.i)().unlinkWorkflow(e,a)})):[],r=t?t.map((function(e){return Object(R.i)().linkWorkflow(e,a)})):[];return Promise.all([].concat(j()(n),j()(r)))},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:k.a.limit,offset:k.a.offset},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n="app_name=".concat(e.appName,"&object_type=").concat(e.objectType,"&object_id=").concat(e.objectId),r="&limit=".concat(t.limit,"&offset=").concat(t.offset),o="&filter[name][contains]=".concat(a);return Object(R.a)().get("".concat(_.a,"/workflows?").concat(n).concat(o).concat(r))},D=a(135),P=a(71),C=a(72),F=a(542);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U={isFetching:!0},V=function(e,t){switch(t.type){case"setFetching":return L(L({},e),{},{isFetching:t.payload});default:return e}},W=function(e){var t=e.objectType,a=e.removeQuery,n=e.keepHash,o=e.querySelector,i=e.pushParam,s=e.objectName,u=void 0===s?function(){return t}:s,v=Object(c.useReducer)(V,U),E=r()(v,2),y=E[0].isFetching,w=E[1],j=Object(p.useSelector)((function(e){return e.approvalReducer.resolvedWorkflows})),R=j.data,N=j.meta,L=Object(p.useDispatch)(),W=Object(F.a)({removeQuery:a,keepHash:n}),X=Object(C.a)([o]),z=r()(X,1)[0];Object(c.useEffect)((function(){L(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:k.a.limit,offset:k.a.offset},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:T.a.RESOLVE_WORKFLOWS,payload:q(e,t,a)}}({objectType:t,appName:_.b[t],objectId:z[o]},N)).then((function(){return w({type:"setFetching",payload:!1})}))}),[]);return l.a.createElement(d.Modal,{title:"Set approval process",isOpen:!0,onClose:function(){return W.push(i)},variant:"small"},y&&l.a.createElement(P.j,null),!y&&l.a.createElement(b.Stack,{hasGutter:!0},l.a.createElement(g.StackItem,null,l.a.createElement(m.TextContent,null,l.a.createElement(f.Text,null,"Select approval processes for"," ",l.a.createElement("strong",null,u(z[o]))))),l.a.createElement(g.StackItem,null,l.a.createElement(h.c,{initialValues:{selectedWorkflows:R?R.map((function(e){return e.id})):void 0},onSubmit:function(e,a){var n=a.getState().initialValues.selectedWorkflows||[],r=e.selectedWorkflows||[];W.push(i);var s,u,p,d=n.filter((function(e){return r.findIndex((function(t){return t===e}))<0})),m=r.filter((function(e){return n.findIndex((function(t){return t===e}))<0}));(d.length>0||m.length>0)&&L((s=d,u=m,p={object_type:t,app_name:_.b[t],object_id:z[o]},function(e){return e({type:T.a.UPDATE_WORKFLOWS,payload:x(s,u,p).then((function(){return e(Object(D.addNotification)({variant:"success",title:"Success updating approval process",dismissable:!0,description:l.a.createElement(c.Fragment,null,s.length>0?l.a.createElement(S.a,{id:"workflows.update_workflows",defaultMessage:"{count, number} {count, plural, one {approval process was}\n                    other {approval processes were}} unlinked successfully. ",values:{count:s.length}}):"",u.length>0?l.a.createElement(S.a,{id:"workflows.update_workflows",defaultMessage:"{count, number} {count, plural, one {approval process was}\n                    other {approval processes were}} linked successfully.",values:{count:u.length}}):"")}))}))})}))},onCancel:function(){return W.push(i)},schema:O(I),formContainer:"modal",buttonsLabels:{submitLabel:"Save"}}))))};W.propTypes={pushParam:u.a.oneOfType([u.a.string,u.a.shape({pathname:u.a.string.isRequired,search:u.a.string})]).isRequired,objectType:u.a.string.isRequired,objectName:u.a.func,removeQuery:u.a.bool,querySelector:u.a.oneOf(["portfolio","platform","inventory","portfolio-item"]).isRequired,keepHash:u.a.bool},W.defaultProps={keepHash:!1};t.default=W},592:function(e,t,a){"use strict";a.d(t,"a",(function(){return M})),a.d(t,"b",(function(){return J}));var n=a(39),r=a.n(n),o=a(521),i=a.n(o),c=a(0),l=a.n(c),s=a(13),u=a.n(s),p=a(57),d=a(47),m=a(104),f=a(231),b=a(46),g=a(69),h=a(50),v=a(486),E=a(233),y=a(110),O=a(105),w=a(17),j=a(569),S=a(524),T=function(e){var t=e.copyUrl,a=e.orderUrl,n=e.editUrl,r=e.workflowUrl,o=e.editSurveyUrl,i=e.isOpen,s=e.setOpen,u=e.isFetching,p=e.availability,d=e.userCapabilities,m=d.update,b=d.copy,g=d.set_approval,h=[];return m&&h.push(l.a.createElement(O.DropdownItem,{"aria-label":"Edit Portfolio",key:"edit-portfolio-item",id:"edit-portfolio-item",component:l.a.createElement(S.a,{pathname:n,preserveSearch:!0},"Edit"),role:"link"})),b&&h.push(l.a.createElement(O.DropdownItem,{"aria-label":"Copy Portfolio",key:"copy-portfolio-item",id:"copy-portfolio-item",component:l.a.createElement(S.a,{pathname:t,preserveSearch:!0},"Copy"),role:"link"})),g&&h.push(l.a.createElement(O.DropdownItem,{"aria-label":"Set approval",key:"set-approval_workflow",id:"set-approval_workflow",component:l.a.createElement(S.a,{pathname:r,preserveSearch:!0},"Set approval"),role:"link"})),m&&h.push(l.a.createElement(O.DropdownItem,{"aria-label":"Edit survey",key:"edit-survey",id:"edit-survey",component:l.a.createElement(S.a,{pathname:o,preserveSearch:!0},"Edit survey"),role:"link"})),l.a.createElement(c.Fragment,null,l.a.createElement(f.LevelItem,null,l.a.createElement(S.a,{isDisabled:u||"unavailable"===p,pathname:a,preserveSearch:!0},l.a.createElement(j.a,{isDisabled:u||"unavailable"===p,showSpinner:u,variant:"primary",id:"order-portfolio-item"},"Order"))),l.a.createElement(f.LevelItem,{style:{marginLeft:16}},h.length>0&&l.a.createElement(E.Dropdown,{isPlain:!0,onToggle:s,onSelect:function(){return s(!1)},position:w.DropdownPosition.right,toggle:l.a.createElement(y.KebabToggle,{id:"portfolio-item-actions-toggle",onToggle:function(e){return s(e)}}),isOpen:i,dropdownItems:h})))};T.propTypes={orderUrl:u.a.string.isRequired,editUrl:u.a.string.isRequired,copyUrl:u.a.string.isRequired,editSurveyUrl:u.a.string.isRequired,workflowUrl:u.a.string.isRequired,isOpen:u.a.bool,setOpen:u.a.func.isRequired,isFetching:u.a.bool,availability:u.a.oneOf(["available","unavailable"]).isRequired,userCapabilities:u.a.shape({update:u.a.bool,copy:u.a.bool,set_approval:u.a.bool}).isRequired},T.defaultProps={isFetching:!1};var R=T,_=a(15),k=a(544),I=a(571),x=a(31),q=a.n(x),D=a(509),P=a.n(D),C=a(139),F=a(33),N=a(135),L=a(32);function U(){var e=q()(["\n  height: 64px;\n  max-width: 300px;\n  object-fit: cover;\n"]);return U=function(){return e},e}function V(){var e=q()(["\n  position: relative;\n  display: inline-block;\n"]);return V=function(){return e},e}function W(){var e=q()(["\n  border: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding-left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  svg {\n    background-color: rgba(255, 255, 255, 0.8);\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n"]);return W=function(){return e},e}var X=L.b.button(W()),z=L.b.div(V()),A=L.b.img(U()),G=function(e){var t=e.uploadIcon,a=e.children,n=Object(c.useRef)(),o=Object(c.useState)(),i=r()(o,2),s=i[0],u=i[1],p=Object(c.useState)(!1),d=r()(p,2),m=d[0],f=d[1],b=Object(F.useDispatch)();return l.a.createElement(z,null,l.a.createElement("input",{accept:".png,.svg,.jpeg",onChange:function(e){u(e.target.files[0]),f(!0),t(e.target.files[0]).then((function(){return f(!1)})).catch((function(e){b(Object(N.addNotification)({variant:"danger",title:"Icon upload error",description:e.data.errors[0].detail,dismissable:!0})),u(void 0),f(!1)}))},ref:n,type:"file",id:"icon-upload",hidden:!0}),l.a.createElement(X,{disabled:m,onClick:function(){return n.current.click()}},m?l.a.createElement(C.Spinner,{size:"md"}):l.a.createElement(P.a,{size:"sm"})),!s&&a,s&&l.a.createElement(A,{style:{height:64},src:URL.createObjectURL(s),id:s.name}))};G.propTypes={uploadIcon:u.a.func.isRequired,children:u.a.oneOfType([u.a.node,u.a.arrayOf(u.a.node)])};var H=G,K=a(577),Q=function(e){var t=e.uploadIcon,a=e.id,n=e.sourceId;return l.a.createElement(H,{uploadIcon:t},l.a.createElement(k.a,{src:"".concat(_.c,"/portfolio_items/").concat(a,"/icon"),sourceId:n,height:64}))};Q.propTypes={uploadIcon:u.a.func.isRequired,id:u.a.string.isRequired,sourceId:u.a.string.isRequired};var M=function(e){var t=e.url,a=e.isOpen,n=e.product,r=e.setOpen,o=e.isFetching,c=e.uploadIcon,s=e.availability,u=e.userCapabilities;return l.a.createElement(I.b,{breadcrumbsSpacing:!1},l.a.createElement(m.Level,{className:"flex-no-wrap"},l.a.createElement(K.a,{alignStart:!0,className:"pf-l-flex"},u.update?l.a.createElement(Q,{uploadIcon:c,id:n.id,sourceId:n.service_offering_source_ref}):l.a.createElement(k.a,{src:"".concat(_.c,"/portfolio_items/").concat(n.id,"/icon"),sourceId:n.service_offering_source_ref,height:64}),l.a.createElement(g.TextContent,{className:"pf-u-ml-md"},l.a.createElement(b.Text,{component:b.TextVariants.h1},n.name))),l.a.createElement(f.LevelItem,{style:{minHeight:36},className:"flex-item-no-wrap"},l.a.createElement(m.Level,{className:"flex-no-wrap"},l.a.createElement(p.b,{exact:!0,path:t,render:function(){for(var e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return l.a.createElement(R,i()({isOpen:a,setOpen:function(e){return r(e)},orderUrl:"".concat(t,"/order"),editUrl:"".concat(t,"/edit"),copyUrl:"".concat(t,"/copy"),editSurveyUrl:"".concat(t,"/edit-survey"),workflowUrl:"".concat(t,"/edit-workflow"),isFetching:o,availability:s,userCapabilities:u},n))}})))))};M.propTypes={url:u.a.string.isRequired,isOpen:u.a.bool,product:u.a.shape({distributor:u.a.string,name:u.a.string.isRequired,id:u.a.string.isRequired,service_offering_source_ref:u.a.string.isRequired}).isRequired,setOpen:u.a.func.isRequired,isFetching:u.a.bool,uploadIcon:u.a.func.isRequired,availability:u.a.oneOf(["available","unavailable"]).isRequired,userCapabilities:u.a.object},M.defaultProps={isFetching:!1};var B=function(e){var t=e.handleResetSurvey,a=Object(c.useState)(!1),n=r()(a,2),o=n[0],i=n[1];return l.a.createElement(E.Dropdown,{isOpen:o,isPlain:!0,onSelect:function(){return i(!1)},position:"right",toggle:l.a.createElement(y.KebabToggle,{onToggle:function(e){return i(e)}}),dropdownItems:[l.a.createElement(O.DropdownItem,{onClick:t,component:"button",key:"synchronize"},"Restore to Ansible Tower version")]})};B.propTypes={handleResetSurvey:u.a.func.isRequired};var J=function(e){var t=e.uploadIcon,a=e.product,n=e.handleSaveSurvey,r=e.closeUrl,o=e.search,i=e.isFetching,c=e.isValid,s=e.modified,u=e.handleResetSurvey;return l.a.createElement(I.b,{breadcrumbsSpacing:!1,breadcrumbs:!0},l.a.createElement(m.Level,null,l.a.createElement(K.a,{alignStart:!0,className:"pf-l-flex"},l.a.createElement(Q,{uploadIcon:t,id:a.id,sourceId:a.service_offering_source_ref}),l.a.createElement(g.TextContent,{className:"pf-u-ml-md"},l.a.createElement(b.Text,{component:b.TextVariants.h1},"Editing survey: ",a.name))),l.a.createElement(f.LevelItem,null,l.a.createElement(v.Flex,{className:"align-items-center"},l.a.createElement(j.a,{variant:"primary",showSpinner:i,isDisabled:i||!c,onClick:n},"Save"),l.a.createElement(d.a,{to:{pathname:r,search:o}},l.a.createElement(h.Button,{variant:"link"},"Cancel")),s&&l.a.createElement(B,{handleResetSurvey:u})))))};J.propTypes={uploadIcon:u.a.func.isRequired,product:u.a.object,handleSaveSurvey:u.a.func.isRequired,closeUrl:u.a.string.isRequired,search:u.a.string.isRequired,isFetching:u.a.bool,isValid:u.a.bool,modified:u.a.bool,handleResetSurvey:u.a.func}},637:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(68),i=a.n(o),c=a(39),l=a.n(c),s=a(0),u=a.n(s),p=a(33),d=a(57),m=a(73),f=a(74),b=a(237),g=a(137),h=a(13),v=a.n(h),E=a(46),y=a(69),O=a(143),w=function(e){var t=e.product,a=e.source,n=e.portfolio;return u.a.createElement(y.TextContent,{className:"pf-u-mb-md"},u.a.createElement(E.Text,{className:"font-14"},"Platform"),u.a.createElement(E.Text,{id:"source-name",className:"overflow-wrap",component:E.TextVariants.p},a.name),u.a.createElement(E.Text,{className:"font-14"},"Portfolio"),u.a.createElement(E.Text,{id:"portfolio-name",className:"overflow-wrap",component:E.TextVariants.p},n.name),t.distributor&&u.a.createElement("span",{id:"distributor"},u.a.createElement(E.Text,{className:"font-14"},"Vendor"),u.a.createElement(E.Text,{className:"overflow-wrap",component:E.TextVariants.p},t.distributor)),u.a.createElement(E.Text,{className:"font-14"},"Created"),u.a.createElement(E.Text,{id:"created_at",component:E.TextVariants.p},u.a.createElement(O.DateFormat,{variant:"relative",date:t.created_at})))};w.propTypes={product:v.a.shape({distributor:v.a.string,updated_at:v.a.string,created_at:v.a.string.isRequired}).isRequired,source:v.a.shape({name:v.a.string}).isRequired,portfolio:v.a.shape({name:v.a.string}).isRequired};var j=w,S=a(545),T=a(538),R=a.n(T),_=a(555),k=a.n(_),I={fields:[{component:R.a.TEXT_FIELD,name:"name",label:"Name",isRequired:!0,validate:[{type:k.a.REQUIRED}]},{component:R.a.TEXT_FIELD,name:"description",label:"Description"},{component:R.a.TEXT_FIELD,name:"long_description",label:"Long description"},{component:R.a.TEXT_FIELD,name:"distributor",label:"Vendor"},{component:R.a.TEXT_FIELD,name:"documentation_url",label:"Documentation URL",validate:[{type:k.a.URL}]},{component:R.a.TEXT_FIELD,name:"support_url",label:"Support URL",validate:[{type:k.a.URL}]}]},x=a(530);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=function(e){var t=e.cancelUrl,a=e.product,n=(a.owner,a.created_at,a.updated_at,i()(a,["owner","created_at","updated_at"])),r=e.userCapabilities,o=Object(p.useDispatch)(),c=Object(d.g)().push,l=Object(d.h)().search;return u.a.createElement(S.c,{initialValues:D({},n),onSubmit:function(e){return c({pathname:t,search:l}),o(Object(x.o)(D(D({},e),{},{metadata:{user_capabilities:r}})))},schema:I,onCancel:function(){return c({pathname:t,search:l})}})};P.propTypes={cancelUrl:v.a.string.isRequired,product:v.a.object.isRequired,userCapabilities:v.a.object.isRequired};var C=P,F=a(591),N=a(15),L=a(25),U=function(e){var t=e.userCapabilities,a=e.product,n=e.url,r=e.search;return u.a.createElement(d.d,null,u.a.createElement(d.b,{exact:!0,path:n,render:function(){return u.a.createElement(y.TextContent,null,(a.description||a.long_description)&&u.a.createElement(E.Text,{component:E.TextVariants.h6},"Overview"),a.description&&u.a.createElement(E.Text,{id:"description",component:E.TextVariants.p},a.description),a.long_description&&u.a.createElement(E.Text,{id:"long_description",component:E.TextVariants.p},a.long_description),a.support_url&&u.a.createElement(E.Text,{id:"support_url",component:E.TextVariants.p},u.a.createElement("a",{href:a.support_url,target:"_blank",rel:"noopener noreferrer"},"Learn more")),a.documentation_url&&u.a.createElement(s.Fragment,null,u.a.createElement(E.Text,{component:E.TextVariants.h6},"Documentation"),u.a.createElement(E.Text,{id:"documentation_url",component:E.TextVariants.p},u.a.createElement("a",{href:a.documentation_url,target:"_blank",rel:"noopener noreferrer"},"Doc link"))))}}),u.a.createElement(L.a,{exact:!0,path:"".concat(n,"/edit"),requiredCapabilities:"update",userCapabilities:t},u.a.createElement(C,{cancelUrl:n,product:a,userCapabilities:t})),u.a.createElement(d.b,{exact:!0,path:"".concat(n,"/edit-workflow")},u.a.createElement(F.default,{pushParam:{pathname:n,search:r},objectType:N.f,objectId:a.id,objectName:function(){return a.name},querySelector:"portfolio-item"})))};U.propTypes={product:v.a.shape({name:v.a.string,long_description:v.a.string,support_url:v.a.string,documentation_url:v.a.string,description:v.a.string,id:v.a.string.isRequired}).isRequired,url:v.a.string.isRequired,search:v.a.string.isRequired,userCapabilities:v.a.object.isRequired};var V=U,W=a(592),X=a(571),z=a(71),A=a(552),G=a(72),H=a(12);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Q=Object(s.lazy)((function(){return Promise.all([a.e(3),a.e(2),a.e(5),a.e(1),a.e(0),a.e(4),a.e(47)]).then(a.bind(null,634))})),M=["portfolio","source","portfolio-item"];t.default=function(){var e=Object(s.useState)(!1),t=l()(e,2),a=t[0],n=t[1],o=Object(s.useState)(!0),c=l()(o,2),h=c[0],v=c[1],E=Object(p.useDispatch)(),y=Object(G.a)(M),O=l()(y,2),w=O[0],S=O[1],T=Object(d.i)(H.t).url,R=Object(p.useSelector)((function(e){return e.portfolioReducer.portfolioItem})),_=R.portfolioItem,k=_.metadata.user_capabilities,I=i()(_,["metadata"]),q=R.source,D=Object(p.useSelector)((function(e){return e.portfolioReducer.selectedPortfolio}));if(Object(s.useEffect)((function(){v(!0),E(Object(x.j)(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({portfolioItem:w["portfolio-item"]},w))).then((function(){return v(!1)})).catch((function(){return v(!1)}))}),[w["portfolio-item"]]),h||0===Object.keys(I).length)return u.a.createElement(g.Section,{className:"global-primary-background full-height"},u.a.createElement(X.b,null,u.a.createElement(z.g,null)));var P=q.availability_status||"unavailable",C=[q].filter((function(e){return e.notFound})).map((function(e){var t=e.object;return u.a.createElement(b.Alert,{className:"pf-u-mb-sm",key:t,variant:"warning",isInline:!0,title:"The ".concat(t," for this product is no longer available")})})),F=function(e){return Object(A.r)(I.id,e)};return u.a.createElement(s.Fragment,null,u.a.createElement(d.d,null,u.a.createElement(L.a,{requiredCapabilities:"update",userCapabilities:k,path:"".concat(T,"/edit-survey")},u.a.createElement(s.Suspense,{fallback:u.a.createElement(z.a,null)},u.a.createElement(Q,{closeUrl:T,search:S,uploadIcon:F,portfolioItem:I,portfolio:D}))),u.a.createElement(d.b,null,u.a.createElement(g.Section,{className:"full-height global-primary-background"},u.a.createElement(W.a,{uploadIcon:F,url:T,isOpen:a,product:I,setOpen:n,isFetching:h,availability:P,userCapabilities:k}),C.length>0&&u.a.createElement("div",{className:"pf-u-mr-lg pf-u-ml-lg"},C),"unavailable"===q.availability_status&&u.a.createElement(b.Alert,{className:"pf-u-ml-lg pf-u-mr-lg",id:"unavailable-alert-info",variant:"info",isInline:!0,title:"The platform for this product is unavailable"}),u.a.createElement(m.Grid,{hasGutter:!0,className:"pf-u-p-lg"},u.a.createElement(f.GridItem,{md:3,lg:2},u.a.createElement(j,{product:I,portfolio:D,source:q})),u.a.createElement(f.GridItem,{md:9,lg:10},u.a.createElement(V,{product:I,userCapabilities:k,url:T,search:S})))))))}}}]);
//# sourceMappingURL=../sourcemaps/portfolio-item-detail~5a4d8549.js.map