(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{606:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(1),l=o.__importStar(t(0)),r=o.__importStar(t(14)),s=t(51),i=t(2),n=o.__importDefault(t(69)),d=t(616);!function(e){e.small="small",e.medium="medium",e.large="large",e.default="default"}(a.ModalVariant||(a.ModalVariant={}));class c extends l.Component{constructor(e){super(e),this.boxId="",this.labelId="",this.descriptorId="",this.handleEscKeyClick=e=>{const{onEscapePress:a}=this.props;e.keyCode===s.KEY_CODES.ESCAPE_KEY&&this.props.isOpen&&(a?a(e):this.props.onClose())},this.getElement=e=>"function"==typeof e?e():e||document.body,this.toggleSiblingsFromScreenReaders=e=>{const{appendTo:a}=this.props,t=this.getElement(a).children;for(const a of Array.from(t))a!==this.state.container&&(e?a.setAttribute("aria-hidden",""+e):a.removeAttribute("aria-hidden"))},this.isEmpty=e=>null==e||""===e;const a=c.currentId++,t=a+1,o=a+2;this.boxId=e.id||"pf-modal-part-"+a,this.labelId="pf-modal-part-"+t,this.descriptorId="pf-modal-part-"+o,this.state={container:void 0}}componentDidMount(){const{appendTo:e,title:a,"aria-label":t,"aria-labelledby":o,hasNoBodyWrapper:l,header:r}=this.props,s=this.getElement(e),d=document.createElement("div");this.setState({container:d}),s.appendChild(d),s.addEventListener("keydown",this.handleEscKeyClick,!1),this.props.isOpen?s.classList.add(i.css(n.default.backdropOpen)):s.classList.remove(i.css(n.default.backdropOpen)),this.isEmpty(a)&&this.isEmpty(t)&&this.isEmpty(o)&&console.error("Modal: Specify at least one of: title, aria-label, aria-labelledby."),this.isEmpty(t)&&this.isEmpty(o)&&(l||r)&&console.error("Modal: When using hasNoBodyWrapper or setting a custom header, ensure you assign an accessible name to the the modal container with aria-label or aria-labelledby.")}componentDidUpdate(){const{appendTo:e}=this.props,a=this.getElement(e);this.props.isOpen?(a.classList.add(i.css(n.default.backdropOpen)),this.toggleSiblingsFromScreenReaders(!0)):(a.classList.remove(i.css(n.default.backdropOpen)),this.toggleSiblingsFromScreenReaders(!1))}componentWillUnmount(){const{appendTo:e}=this.props,a=this.getElement(e);this.state.container&&a.removeChild(this.state.container),a.removeEventListener("keydown",this.handleEscKeyClick,!1),a.classList.remove(i.css(n.default.backdropOpen))}render(){const e=this.props,{appendTo:a,onEscapePress:t,"aria-labelledby":i,"aria-label":n,"aria-describedby":c,title:u,ouiaId:p,ouiaSafe:m}=e,b=o.__rest(e,["appendTo","onEscapePress","aria-labelledby","aria-label","aria-describedby","title","ouiaId","ouiaSafe"]),{container:f}=this.state;return s.canUseDOM&&f?r.createPortal(l.createElement(d.ModalContent,Object.assign({},b,{boxId:this.boxId,labelId:this.labelId,descriptorId:this.descriptorId,title:u,"aria-label":n,"aria-describedby":c,"aria-labelledby":i,ouiaId:p,ouiaSafe:m})),f):null}}a.Modal=c,c.displayName="Modal",c.currentId=0,c.defaultProps={className:"",isOpen:!1,title:"","aria-label":"",showClose:!0,"aria-describedby":"","aria-labelledby":"",id:void 0,actions:[],onClose:()=>{},variant:"default",hasNoBodyWrapper:!1,appendTo:()=>document.body,ouiaSafe:!0}},616:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(1),l=o.__importStar(t(0)),r=t(51),s=o.__importDefault(t(24)),i=o.__importDefault(t(99)),n=t(2),d=t(51),c=t(617),u=t(618),p=t(619),m=t(620),b=t(621),f=t(622),h=t(623),_=t(624);a.ModalContent=e=>{var{children:t,className:y="",isOpen:v=!1,header:B=null,description:M=null,title:N="","aria-label":E="","aria-describedby":x,"aria-labelledby":O,showClose:g=!0,footer:I=null,actions:j=[],onClose:C=(()=>{}),variant:S="default",width:k=-1,boxId:D,labelId:T,descriptorId:P,disableFocusTrap:w=!1,hasNoBodyWrapper:F=!1,ouiaId:L,ouiaSafe:R=!0}=e,W=o.__rest(e,["children","className","isOpen","header","description","title","aria-label","aria-describedby","aria-labelledby","showClose","footer","actions","onClose","variant","width","boxId","labelId","descriptorId","disableFocusTrap","hasNoBodyWrapper","ouiaId","ouiaSafe"]);if(!v)return null;const U=B?l.createElement(h.ModalBoxHeader,null,B):N&&l.createElement(h.ModalBoxHeader,null,l.createElement(_.ModalBoxTitle,{title:N,id:T,className:n.css(s.default.modalBoxTitle)}),M&&l.createElement(f.ModalBoxDescription,{id:P},M)),q=I?l.createElement(b.ModalBoxFooter,null,I):j.length>0&&l.createElement(b.ModalBoxFooter,null,j),A=F?t:l.createElement(u.ModalBoxBody,Object.assign({},W,!M&&!x&&{id:P}),t),H=-1===k?{}:{width:k},K=l.createElement(m.ModalBox,Object.assign({id:D,style:H,className:y,variant:S,"aria-label":E,"aria-labelledby":(()=>{if(null===O)return null;const e=[];return""!==(E&&D)&&e.push(E&&D),O&&e.push(O),N&&e.push(T),e.join(" ")})(),"aria-describedby":x||(F?null:P)},d.getOUIAProps(a.ModalContent.displayName,L,R)),g&&l.createElement(p.ModalBoxCloseButton,{onClose:C}),U,A,q);return l.createElement(c.Backdrop,null,l.createElement(r.FocusTrap,{active:!w,focusTrapOptions:{clickOutsideDeactivates:!0},className:n.css(i.default.bullseye)},K))},a.ModalContent.displayName="ModalContent"},617:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(1),l=o.__importStar(t(0)),r=t(2),s=o.__importDefault(t(69));a.Backdrop=e=>{var{children:a=null,className:t=""}=e,i=o.__rest(e,["children","className"]);return l.createElement("div",Object.assign({},i,{className:r.css(s.default.backdrop,t)}),a)},a.Backdrop.displayName="Backdrop"},618:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(1),l=o.__importStar(t(0)),r=t(2),s=o.__importDefault(t(24));a.ModalBoxBody=e=>{var{children:a=null,className:t=""}=e,i=o.__rest(e,["children","className"]);return l.createElement("div",Object.assign({},i,{className:r.css(s.default.modalBoxBody,t)}),a)},a.ModalBoxBody.displayName="ModalBoxBody"},619:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(1),l=o.__importStar(t(0)),r=t(173),s=o.__importDefault(t(96));a.ModalBoxCloseButton=e=>{var{className:a="",onClose:t=(()=>{})}=e,i=o.__rest(e,["className","onClose"]);return l.createElement(r.Button,Object.assign({className:a,variant:"plain",onClick:t,"aria-label":"Close"},i),l.createElement(s.default,null))},a.ModalBoxCloseButton.displayName="ModalBoxCloseButton"},620:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(1),l=o.__importStar(t(0)),r=t(2),s=o.__importDefault(t(24));a.ModalBox=e=>{var{children:a,className:t="",variant:i="default","aria-labelledby":n,"aria-label":d="","aria-describedby":c}=e,u=o.__rest(e,["children","className","variant","aria-labelledby","aria-label","aria-describedby"]);return l.createElement("div",Object.assign({},u,{role:"dialog","aria-label":d||null,"aria-labelledby":n||null,"aria-describedby":c,"aria-modal":"true",className:r.css(s.default.modalBox,t,"large"===i&&s.default.modifiers.lg,"small"===i&&s.default.modifiers.sm,"medium"===i&&s.default.modifiers.md)}),a)},a.ModalBox.displayName="ModalBox"},621:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(1),l=o.__importStar(t(0)),r=t(2),s=o.__importDefault(t(24));a.ModalBoxFooter=e=>{var{children:a=null,className:t=""}=e,i=o.__rest(e,["children","className"]);return l.createElement("footer",Object.assign({},i,{className:r.css(s.default.modalBoxFooter,t)}),a)},a.ModalBoxFooter.displayName="ModalBoxFooter"},622:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(1),l=o.__importStar(t(0)),r=t(2),s=o.__importDefault(t(24));a.ModalBoxDescription=e=>{var{children:a=null,className:t="",id:i=""}=e,n=o.__rest(e,["children","className","id"]);return l.createElement("div",Object.assign({},n,{id:i,className:r.css(s.default.modalBoxDescription,t)}),a)},a.ModalBoxDescription.displayName="ModalBoxDescription"},623:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(1),l=o.__importStar(t(0)),r=t(2);a.ModalBoxHeader=e=>{var{children:a=null,className:t=""}=e,s=o.__rest(e,["children","className"]);return l.createElement("header",Object.assign({className:r.css("pf-c-modal-box__header",t)},s),a)},a.ModalBoxHeader.displayName="ModalBoxHeader"},624:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(1),l=o.__importStar(t(0)),r=o.__importDefault(t(24)),s=t(2),i=t(286);a.ModalBoxTitle=e=>{var{className:a="",id:t,title:n}=e,d=o.__rest(e,["className","id","title"]);const[c,u]=l.useState(!1),p=l.useRef();return l.useLayoutEffect(()=>{u(p.current&&p.current.offsetWidth<p.current.scrollWidth)},[]),c?l.createElement(i.Tooltip,{content:n},l.createElement("h1",Object.assign({id:t,ref:p,className:s.css(r.default.modalBoxTitle,a)},d),n)):l.createElement("h1",Object.assign({id:t,ref:p,className:s.css(r.default.modalBoxTitle,a)},d),n)},a.ModalBoxTitle.displayName="ModalBoxTitle"},953:function(e,a,t){"use strict";t.r(a);var o=t(771),l=t.n(o),r=t(772),s=t.n(r),i=t(0),n=t.n(i),d=t(10),c=t.n(d),u=t(18),p=t(83),m=t(606),b=t(178),f=t(21),h=t(134),_=t(107),y=t(25),v=t(8),B=t(109),M=t(95),N=t(43),E=t(17),x=function(e){return Object(y.k)({name:e},{limit:100,offset:0}).then((function(e){return e.data.filter((function(e){return e.metadata.user_capabilities.update})).map((function(e){var a=e.name;return{value:e.id,label:a}}))}))},O=function(e,a,t){return{fields:[{component:"copy-name-display",name:"portfolio_item_name",label:a(M.a.name),getName:e,fieldSpy:"portfolio_id"},{component:"initial-select",name:"portfolio_id",label:a(M.a.portfolio),isRequired:!0,loadOptions:Object(_.a)(x),isSearchable:!0,options:t,menuIsPortal:!0}]}},g=function(e){var a=e.portfolioId,t=e.portfolioItemId,o=e.closeUrl,r=e.search,i=e.portfolioName,d=Object(E.a)(),c=Object(u.useDispatch)(),_=Object(p.g)().push,y=function(){var e=s()(l.a.mark((function e(o){var r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(Object(h.i)(o.portfolio_id));case 2:return r=e.sent,s=r.value,e.abrupt("return",c(Object(h.d)(t,o,s)).then((function(e){var a=e.id,t=e.service_offering_source_ref;return _({pathname:v.w,search:"?portfolio=".concat(o.portfolio_id,"&portfolio-item=").concat(a,"&source=").concat(t)})})).then((function(){return o.portfolio_id===a&&c(Object(h.f)(a))})));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return n.a.createElement(m.Modal,{isOpen:!0,title:d(N.a.copyItemTitle),onClose:function(){return _({pathname:o,search:r})},variant:"small"},n.a.createElement(b.c,{initialValues:{portfolio_id:a},schema:O((function(e){return Object(f.g)().getPortfolioItemNextName(t,e).then((function(e){return e.next_name}))}),d,[{value:a,label:i}]),onSubmit:y,onCancel:function(){return _({pathname:o,search:r})},templateProps:{submitLabel:d(B.a.save),disableSubmit:["validating","submitting"]}}))};g.propTypes={closeUrl:c.a.string.isRequired,portfolioId:c.a.string,portfolioItemId:c.a.string.isRequired,search:c.a.string.isRequired,portfolioName:c.a.string.isRequired},a.default=g}}]);
//# sourceMappingURL=../sourcemaps/copy-portfolio-item-modal~31ecd969.js.map