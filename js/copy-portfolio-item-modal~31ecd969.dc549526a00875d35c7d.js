(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{531:function(t,n){function e(){return t.exports=e=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},e.apply(this,arguments)}t.exports=e},532:function(t,n,e){"use strict";var o=e(545),r=e.n(o);function i(t){var n=null,e=null,o=new Promise((function(t,o){n=t,e=o}));return t&&t.then((function(t){n&&n(t)}),(function(t){e&&e(t)})),{promise:o,resolve:function(t){n&&n(t)},reject:function(t){e&&e(t)},cancel:function(){n=null,e=null}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var c=function(){return(c=Object.assign||function(t){for(var n,e=1,o=arguments.length;e<o;e++)for(var r in n=arguments[e])Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r]);return t}).apply(this,arguments)},u={key:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return null},onlyResolvesLast:!0},a=function(){function t(t){this.config=t,this.debounceSingleton=null,this.debounceCache={}}return t.prototype._createDebouncedFunction=function(){var t,n,e=r()(this.config.func,this.config.wait,this.config.options);return this.config.options.onlyResolvesLast&&(t=e,n=null,e=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];n&&n();var r=t.apply(void 0,e),c=i(r),u=c.promise,a=c.cancel;return n=a,u}),{func:e}},t.prototype.getDebouncedFunction=function(t){var n,e=(n=this.config.options).key.apply(n,t);return null==e?(this.debounceSingleton||(this.debounceSingleton=this._createDebouncedFunction()),this.debounceSingleton):(this.debounceCache[e]||(this.debounceCache[e]=this._createDebouncedFunction()),this.debounceCache[e])},t}();n.a=function(t,n,e){var o=c({},u,e),r=new a({func:t,wait:n,options:o});return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=r.getDebouncedFunction(t).func;return e.apply(void 0,t)}}},533:function(t,n,e){"use strict";var o=e(532);n.a=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(o.a)(t,n,e)}},545:function(t,n,e){"use strict";function o(t){return"function"==typeof t?t():t}function r(){var t={};return t.promise=new Promise((function(n,e){t.resolve=n,t.reject=e})),t}t.exports=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=void 0,c=void 0,u=void 0,a=[];return function(){var s=o(n),f=(new Date).getTime(),p=!i||f-i>s;i=f;for(var h=arguments.length,m=Array(h),v=0;v<h;v++)m[v]=arguments[v];if(p&&e.leading)return e.accumulate?Promise.resolve(t.call(this,[m])).then((function(t){return t[0]})):Promise.resolve(t.call.apply(t,[this].concat(m)));if(c?clearTimeout(u):c=r(),a.push(m),u=setTimeout(l.bind(this),s),e.accumulate){var b=a.length-1;return c.promise.then((function(t){return t[b]}))}return c.promise};function l(){var n=c;clearTimeout(u),Promise.resolve(e.accumulate?t.call(this,a):t.apply(this,a[a.length-1])).then(n.resolve,n.reject),a=[],c=null}}},549:function(t,n){function e(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(n)}t.exports=e},638:function(t,n,e){"use strict";e.r(n);var o=e(70),r=e.n(o),i=e(120),c=e.n(i),u=e(43),a=e.n(u),l=e(0),s=e.n(l),f=e(14),p=e.n(f),h=e(36),m=e(68),v=e(479),b=e(548),d=e.n(b),y=e(555),g=e(116),O=e(540),j=e(533),_=e(562),S=e(13),w=function(t){return Object(_.k)(t,{limit:100,offset:0}).then((function(t){return t.data.filter((function(t){return t.metadata.user_capabilities.update})).map((function(t){var n=t.name;return{value:t.id,label:n}}))}))},x=function(t,n,e){return{fields:[{component:"value-only",name:"portfolio_item_name",label:"Name",value:t},{component:d.a.SELECT,name:"portfolio_id",label:"Portfolio",isRequired:!0,loadOptions:Object(j.a)(w),onChange:n,isDisabled:e,isSearchable:!0}]}},C=function(t){var n=t.portfolioId,e=t.portfolioItemId,o=t.closeUrl,i=t.search,u=Object(h.useDispatch)(),f=Object(m.g)().push,p=Object(l.useState)(!1),b=a()(p,2),d=b[0],j=b[1],_=Object(l.useState)(),w=a()(_,2),C=w[0],P=w[1],D=Object(l.useState)(!1),I=a()(D,2),R=I[0],k=I[1];Object(l.useEffect)((function(){Object(g.f)().getPortfolioItemNextName(e,n).then((function(t){var n=t.next_name;return P(n)}))}),[]);var L=function(){var t=c()(r.a.mark((function t(o){var i,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.next=3,u(Object(O.i)(o.portfolio_id));case 3:return i=t.sent,c=i.value,t.abrupt("return",u(Object(O.d)(e,o,c)).then((function(t){var n=t.id,e=t.service_offering_source_ref;return f({pathname:S.t,search:"?portfolio=".concat(o.portfolio_id,"&portfolio-item=").concat(n,"&source=").concat(e)})})).then((function(){return o.portfolio_id===n&&u(Object(O.f)(n))})).catch((function(){return j(!1)})));case 6:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return s.a.createElement(v.Modal,{isOpen:!0,title:"Copy product",onClose:function(){return f({pathname:o,search:i})},variant:"small"},s.a.createElement(y.c,{initialValues:{portfolio_id:n,portfolio_item_name:C},schema:x(C,(function(t){return k(!0),Object(g.f)().getPortfolioItemNextName(e,t).then((function(t){var n=t.next_name;P(n)})).then((function(){return k(!1)}))}),R),onSubmit:L,onCancel:function(){return f({pathname:o,search:i})},formContainer:"modal",buttonsLabels:{submitLabel:"Save"},disableSubmit:d?["pristine","dirty"]:[]}))};C.propTypes={closeUrl:p.a.string.isRequired,portfolioId:p.a.string,portfolioItemId:p.a.string.isRequired,search:p.a.string.isRequired},n.default=C}}]);
//# sourceMappingURL=../sourcemaps/copy-portfolio-item-modal~31ecd969.js.map