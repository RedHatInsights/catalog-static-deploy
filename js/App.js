!function(e){function t(t){for(var n,i,c=t[0],l=t[1],s=t[2],d=0,p=[];d<c.length;d++)i=c[d],a[i]&&p.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);p.length;)p.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var l=r[c];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={0:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/beta/apps/catalog/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;o.push([672,1]),r()}({100:function(e,t,r){"use strict";var n=r(10),a=r.n(n),o=r(4),i=r.n(o),c=r(16),l=r.n(c),s=r(2),u=r.n(s),d=r(44),p=r(5),f=r(63),m=r(1),h=r.n(m),y=r(12),E=function(e){var t=e.id,r=e.dispatch;return u.a.createElement("p",null,"You can track the progress of Order # ",t," in your ",u.a.createElement(y.Link,{onClick:function(){return r(Object(d.clearNotifications)())},to:"/orders"},"Orders")," page.")};E.propTypes={id:h.a.string.isRequired,dispatch:h.a.func.isRequired};var g=E;r.d(t,"d",function(){return v}),r.d(t,"e",function(){return b}),r.d(t,"a",function(){return O}),r.d(t,"c",function(){return P}),r.d(t,"b",function(){return I});var v=function(e){return{type:p.u,payload:f.getServicePlans(e)}},b=function(e){return function(t){return t({type:p.M,payload:f.sendSubmitOrder(e).then(function(e){var r=e.id;return t(Object(d.addNotification)({variant:"success",title:"Your order has been accepted successfully",description:u.a.createElement(g,{id:r,dispatch:t}),dismissable:!0}))})})}},O=function(e){return function(t,r){return t({type:"".concat(p.d,"_PENDING")}),f.cancelOrder(e).then(function(){var n,a,o=r().orderReducer,c=o.openOrders,s=o.closedOrders,u=c.data.find(function(t,r){return t.id===e&&(n=r,!0)}),d=[].concat(l()(c.data.slice(0,n)),l()(c.data.slice(n+1))),f=[i()({},u,{state:"Canceled"})].concat(l()(s.data));return t((a={openOrders:i()({},c,{data:d}),closedOrders:i()({},s,{data:f})},{type:p.I,payload:a})),u}).then(function(r){return t(Object(d.addNotification)({variant:"success",title:"Your order has been canceled successfully",description:"Order ".concat(r&&r.name||"Order #".concat(e)," was canceled and has been moved to closed orders."),dismissable:!0}))}).then(function(){return t({type:"".concat(p.d,"_FULFILLED")})}).catch(function(e){return t({type:"".concat(p.d,"_REJECTED"),payload:e})})}},P=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return e({type:"".concat(p.h,"_PENDING")}),f.getOpenOrders.apply(f,t).then(function(t){var r=t.portfolioItems,n=a()(t,["portfolioItems"]);return e({type:p.J,payload:r}),e({type:"".concat(p.h,"_FULFILLED"),payload:n})}).catch(function(t){return e({type:"".concat(p.h,"_FULFILLED"),payload:t})})}},I=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return e({type:"".concat(p.f,"_PENDING")}),f.getClosedOrders.apply(f,t).then(function(t){var r=t.portfolioItems,n=a()(t,["portfolioItems"]);return e({type:p.J,payload:r}),e({type:"".concat(p.f,"_FULFILLED"),payload:n})}).catch(function(t){return e({type:"".concat(p.f,"_FULFILLED"),payload:t})})}}},106:function(e,t,r){"use strict";var n=r(9),a=r.n(n),o=r(10),i=r.n(o),c=r(2),l=r.n(c),s=r(1),u=r.n(s),d=r(192),p=r(193),f=r(190),m=r(130),h=r(49),y=r(16),E=r.n(y),g=r(4),v=r.n(g),b=r(424),O=r.n(b),P=r(14),I=r(12),R=r(105),_=r(219),T=r(218),L={portfolios:"portfolioReducer.selectedPortfolio.name",platforms:"platformReducer.selectedPlatform.name",orders:"ordersReducer"},j={portfolios:{title:"Portfolios"},detail:{},"add-products":{title:"Add products"},"remove-products":{title:"Remove products"},platforms:{title:"Platforms"},orders:{title:"Orders"},product:{reducer:"portfolioReducer.portfolioItem.display_name"}},k=function(e){var t=e.split("/").filter(function(e){return""!==e}).map(function(e,t){return{reducer:L[e],urlFragment:e,index:t,isId:!!e.match(/^[0-9]+$/)}});return 0===t.length?[]:function(e){var t=e.find(function(e){return void 0!==e.reducer}),r=[];if(!t)return r;t=t.reducer;var n=0;return e.forEach(function(e){var a=e.isId,o=e.urlFragment;a?(r[n-1]=v()({},r[n-1],{path:"".concat(r[n-1].path,"/").concat(o)}),r=[].concat(E()(r.slice(0,n)),E()(r.slice(n+1)))):(r[n]={reducer:j[o].reducer||t,path:0===n?"/".concat(o):"".concat(r[n-1].path,"/").concat(o),urlFragment:o},n++)}),r}(t).map(function(e){return v()({},e,{meta:j[Object.keys(j).find(function(t){return e.urlFragment.includes(t)})]})})},F=function(e){var t=e.match.url,r=e.reducers,n=k(t),a=n.map(function(e,a){return l.a.createElement(_.a,{key:e.path,isActive:e.path===t||a===n.length-1},l.a.createElement(I.NavLink,{exact:!0,to:e.path,isActive:function(){return e.path===t||a===n.length-1}},e.meta.title||O()(r,e.reducer)))});return l.a.createElement(T.a,{style:{minHeight:18}},a.length>1&&a)};F.propTypes={match:u.a.shape({url:u.a.string.isRequired}).isRequired,reducers:u.a.object};var C=Object(R.k)(Object(P.connect)(function(e){return{reducers:v()({},e)}})(F));r(535);r.d(t,"a",function(){return S});var w=function(e){var t=e.children,r=e.paddingBottom,n=e.breadcrumbs,o=i()(e,["children","paddingBottom","breadcrumbs"]);return l.a.createElement("div",a()({className:"pf-u-pt-xl pf-u-pr-xl pf-u-pl-xl ".concat(r?"pf-u-pb-xl":""," top-toolbar")},o),n&&l.a.createElement(d.a,{className:"pf-u-mb-md"},l.a.createElement(C,null)),t)};w.propTypes={children:u.a.oneOfType([u.a.arrayOf(u.a.node),u.a.node]).isRequired,paddingBottom:u.a.bool,breadcrumbs:u.a.bool},w.defaultProps={paddingBottom:!0,breadcrumbs:!0};t.b=w;var S=function(e){var t=e.title,r=e.children,n=i()(e,["title","children"]);return l.a.createElement(c.Fragment,null,l.a.createElement(d.a,a()({className:"pf-u-mb-xl"},n),l.a.createElement(p.a,null,l.a.createElement(f.a,{className:"top-toolbar-title"},l.a.createElement(m.a,{component:m.b.h2},t||l.a.createElement(h.g,null)))),r))};S.propTypes={title:u.a.string.isRequired,children:u.a.oneOfType([u.a.node,u.a.arrayOf(u.a.node)])}},125:function(e,t,r){"use strict";var n=r(10),a=r.n(n),o=r(2),i=r.n(o),c=r(1),l=r.n(c),s=r(423),u=r.n(s),d=function(e){var t=e.value;return i.a.createElement("div",null,t)};d.propTypes={value:l.a.any};var p=function(e){var t=e.toDisplay,r=void 0===t?[]:t,n=a()(e,["toDisplay"]);return i.a.createElement(u.a,{clamp:6},r.map(function(e){return i.a.createElement(d,{key:"card-prop-".concat(e),value:n[e]})}))};p.propTypes={toDisplay:l.a.arrayOf(l.a.oneOfType([l.a.string,l.a.node,l.a.arrayOf(l.a.node)]))},p.defaultProps={toDisplay:[]},t.a=p},137:function(e,t,r){"use strict";var n=r(4),a=r.n(n),o=r(7),i=r.n(o),c=r(16),l=r.n(c);r.d(t,"a",function(){return u});var s,u=a()({},(s="@@catalog/approval/",["FETCH_WORKFLOWS"].reduce(function(e,t){return[].concat(l()(e),[t,"".concat(t,"_PENDING"),"".concat(t,"_FULFILLED"),"".concat(t,"_REJECTED")])},[]).reduce(function(e,t){return a()({},e,i()({},t,"".concat(s).concat(t)))},{})))},161:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(1),i=r.n(o),c=r(196),l=r(159),s=r(180),u=function(e){var t=e.searchValue,r=e.onFilterChange,n=e.placeholder;return a.a.createElement(l.a,null,a.a.createElement("div",{className:"toolbar-filter-input-group"},a.a.createElement(s.a,{placeholder:n,value:t,type:"text",onChange:r,"aria-label":"Find product button"}),a.a.createElement(c.a,null)))};u.propTypes={onFilterChange:i.a.func.isRequired,placeholder:i.a.string,searchValue:i.a.string},u.defaultProps={searchValue:""},t.a=u},162:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(1),i=r.n(o),c=r(154),l=r(178),s=r(177),u=r(82),d=r(163),p=r(165),f=r(17),m=(r(239),function(e){return a.a.createElement(c.a,{key:e.id,className:"content-gallery-card"},a.a.createElement(l.a,null,a.a.createElement(u.a,{src:"".concat(f.e,"/service_offering_icons/").concat(e.service_offering_icon_id,"/icon_data"),style:{height:40},platformId:e.source_id}),e.editMode&&a.a.createElement(d.a,{id:e.id,isChecked:e.checked,handleCheck:e.onToggleItemSelect})),a.a.createElement(p.a,e),a.a.createElement(s.a,null))});m.propTypes={id:i.a.string.isRequired,service_offering_icon_id:i.a.string,source_id:i.a.string,platformId:i.a.string,name:i.a.string,editMode:i.a.bool,checked:i.a.bool,onToggleItemSelect:i.a.func},t.a=m},163:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(1),i=r.n(o),c=r(179),l=function(e){var t=e.handleCheck,r=e.isChecked,n=e.id;return a.a.createElement("div",{style:{float:"right"}},a.a.createElement(c.a,{onClick:function(e){return e.stopPropagation()},isChecked:r,onChange:t,"aria-label":"card checkbox",id:n}))};l.propTypes={handleCheck:i.a.func,isChecked:i.a.bool,id:i.a.string},t.a=l},165:function(e,t,r){"use strict";var n=r(9),a=r.n(n),o=r(10),i=r.n(o),c=r(2),l=r.n(c),s=r(1),u=r.n(s),d=r(176),p=r(190),f=r(130),m=r(125),h=r(12),y=function(e){var t=e.children,r=e.to,n=i()(e,["children","to"]);return r?l.a.createElement(h.Link,a()({to:r},n),t):t};y.propTypes={to:u.a.string,children:u.a.oneOfType([u.a.node,u.a.arrayOf(u.a.node)]).isRequired};var E=y,g=function(e){var t=e.name,r=e.display_name,n=e.distributor,o=e.url,c=i()(e,["name","display_name","distributor","url"]);return l.a.createElement(d.a,{style:{height:240}},l.a.createElement(p.a,null,l.a.createElement(E,{to:o},l.a.createElement(f.a,{className:"elipsis-text-overflow",component:f.b.h3,title:r||t},r||t)),l.a.createElement(f.a,{component:f.b.small},n," ")),l.a.createElement(m.a,a()({},c,{toDisplay:[c.description?"description":"long_description"]})))};g.propTypes={name:u.a.string,display_name:u.a.string,distributor:u.a.string,long_description:u.a.string,description:u.a.string,url:u.a.string};t.a=g},17:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"d",function(){return a}),r.d(t,"a",function(){return o}),r.d(t,"e",function(){return i}),r.d(t,"c",function(){return c});var n="".concat("/api","/catalog/v1.0"),a="".concat("/api","/sources/v1.0"),o="".concat("/api","/approval/v1.0"),i="".concat("/api","/topological-inventory/v1.0"),c="".concat("/api","/rbac/v1")},18:function(e,t,r){"use strict";r.d(t,"b",function(){return b});var n=r(10),a=r.n(n),o=r(2),i=r.n(o),c=r(1),l=r.n(c),s=r(12),u=r(107),d=r(194),p=r(195),f=r(159),m=r(192),h=r(193),y=r(161),E=r(106),g=function(e){var t=e.title,r=a()(e,["title"]);return i.a.createElement(u.a,r,t)};g.propTypes={title:l.a.string.isRequired};var v={TopToolbar:E.b,TopToolbarTitle:E.a,Toolbar:d.a,ToolbarGroup:p.a,ToolbarItem:f.a,FilterToolbarItem:y.a,Link:s.Link,Level:m.a,LevelItem:h.a,Button:g},b={TOP_TOOLBAR:"TopToolbar",TOP_TOOLBAR_TITLE:"TopToolbarTitle",TOOLBAR:"Toolbar",TOOLBAR_ITEM:"ToolbarItem",TOOLBAR_GROUP:"ToolbarGroup",FILTER_TOOLBAR_ITEM:"FilterToolbarItem",LINK:"Link",BUTTON:"Button",LEVEL:"Level",LEVEL_ITEM:"LevelItem"};t.a=v},206:function(e,t,r){e.exports=r.p+"fonts/card-icon-default.svg"},239:function(e,t,r){},28:function(e,t,r){"use strict";r.d(t,"g",function(){return d}),r.d(t,"f",function(){return p}),r.d(t,"a",function(){return f}),r.d(t,"c",function(){return h}),r.d(t,"d",function(){return y}),r.d(t,"e",function(){return E}),r.d(t,"b",function(){return g}),r.d(t,"h",function(){return v});var n=r(7),a=r.n(n),o=r(4),i=r.n(o),c=r(16),l=r.n(c),s=r(6),u=r.n(s),d=function(){return document.getElementById("root").scrollTo({behavior:"smooth",top:0,left:0})},p=function(e,t){var r=e.display_name,n=e.name;return(r||n).trim().toLowerCase().includes(t.toLowerCase())},f=function(e){return function(t,r){if(null===t[r])return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return e.apply(void 0,[t,r].concat(a))}},m=function(e,t){return Math.round(Math.abs((e.getTime()-t.getTime())/864e5))},h=function(e,t){return"Last modified ".concat(m(new Date,e)," days ago").concat(t?" by ".concat(t,"."):".")},y=function(e){var t=m(e,new Date);return"Ordered ".concat(t," ").concat(t>1?"days":"day"," ago")},E=function(e){if(!e[0])return null;var t=m(new Date(e[0].updated_at),new Date);return"Updated ".concat(t," ").concat(t>1?"days":"day"," ago")},g=function(e){return u()(new Date(e).toUTCString(),"DD-MMM-YYYY, HH:mm").format("DD MMM YYYY, HH:mm UTC")},v=function(e,t){return[].concat(l()(Object.keys(e)),l()(t)).reduce(function(t,r){return i()({},t,a()({},r,void 0===e[r]?null:e[r]))},{})}},31:function(e,t,r){"use strict";r.d(t,"i",function(){return T}),r.d(t,"j",function(){return L}),r.d(t,"e",function(){return j}),r.d(t,"f",function(){return k}),r.d(t,"c",function(){return F}),r.d(t,"d",function(){return C}),r.d(t,"h",function(){return w}),r.d(t,"g",function(){return q}),r.d(t,"k",function(){return D}),r.d(t,"a",function(){return N}),r.d(t,"b",function(){return A});var n=r(22),a=r.n(n),o=r(42),i=r.n(o),c=r(4),l=r.n(c),s=r(207),u=r.n(s),d=r(208),p=r(430),f=r(431),m=r(133),h=r(17),y=r(169),E=u.a.create();E.interceptors.request.use(function(){var e=i()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),E.interceptors.request.use(function(e){return e.url=e.url.replace(/(?==)*%+/g,function(e){return e.replace(/%/g,"%25%0A")}),e}),E.interceptors.response.use(function(e){return e.data||e}),E.interceptors.response.use(null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};throw l()({},e.response)});var g=new m.OrderApi(void 0,h.b,E),v=new m.OrderItemApi(void 0,h.b,E),b=new m.PortfolioApi(void 0,h.b,E),O=new m.PortfolioItemApi(void 0,h.b,E),P=new d.RequestApi(void 0,h.a,E),I=new d.WorkflowApi(void 0,h.a,E),R=new p.DefaultApi(void 0,h.d,E),_=new f.DefaultApi(void 0,h.e,E);new m.IconApi(void 0,h.b,E);function T(){return R}function L(){return _}function j(){return b}function k(){return O}function F(){return g}function C(){return v}function w(){return P}new y.AccessApi(void 0,h.c,E),new y.PrincipalApi(void 0,h.c,E);var S=new y.GroupApi(void 0,h.c,E);function q(){return S}function D(){return I}function N(){return E}var x=u.a.create();function A(){return x}x.interceptors.request.use(function(){var e=i()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),x.interceptors.response.use(function(e){var t=e.data;if(t.errors)throw{message:t.errors[0].errorType,data:t.errors[0].message};return t})},402:function(e,t,r){},416:function(e,t){},419:function(e,t,r){e.exports=r.p+"fonts/platform-openshift.svg"},420:function(e,t,r){e.exports=r.p+"fonts/platform-amazon.png"},421:function(e,t,r){e.exports=r.p+"fonts/platform-tower.png"},422:function(e,t,r){e.exports=r.p+"fonts/platform-default.svg"},427:function(e,t,r){e.exports=r.p+"fonts/openshift-icon.svg"},428:function(e,t,r){e.exports=r.p+"fonts/amazon-icon.png"},429:function(e,t,r){e.exports=r.p+"fonts/tower-icon.svg"},45:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"c",function(){return o});var n={limit:50,offset:0},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(t/e)+1},o=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)-1)*(arguments.length>1?arguments[1]:void 0)}},49:function(e,t,r){"use strict";r.d(t,"b",function(){return k}),r.d(t,"a",function(){return C}),r.d(t,"g",function(){return w}),r.d(t,"e",function(){return S}),r.d(t,"c",function(){return q}),r.d(t,"f",function(){return N}),r.d(t,"d",function(){return x});var n=r(9),a=r.n(n),o=r(16),i=r.n(o),c=r(10),l=r.n(c),s=r(2),u=r.n(s),d=r(75),p=r(1),f=r.n(p),m=r(36),h=r(158),y=r(136),E=r(157),g=r(191),v=r(154),b=r(176),O=r(156),P=r(189),I=r(127),R=r(129),_=r(182),T=r(184),L=r(183),j=r(181),k=function(e){var t=e.items,r=l()(e,["items"]);return u.a.createElement(h.a,{gutter:"md"},u.a.createElement(y.a,{sm:12,style:{padding:24}},u.a.createElement(E.a,{gutter:"md"},i()(Array(t)).map(function(e,t){return u.a.createElement(g.a,{key:t},u.a.createElement(v.a,{style:{height:350}},u.a.createElement(b.a,null,u.a.createElement(d.b,a()({height:160,width:300,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r),u.a.createElement("rect",{x:"2",y:"99",rx:"3",ry:"3",width:"300",height:"6.4"}),u.a.createElement("rect",{x:"2",y:"119.72",rx:"3",ry:"3",width:"290",height:"5.76"}),u.a.createElement("rect",{x:"2",y:"139",rx:"3",ry:"3",width:"201",height:"6.4"}),u.a.createElement("rect",{x:"-2.16",y:"0.67",rx:"0",ry:"0",width:"271.6",height:"82.74"}),u.a.createElement("rect",{x:"136.84",y:"37.67",rx:"0",ry:"0",width:"6",height:"3"})))))}))))};k.propTypes={items:f.a.number},k.defaultProps={items:13};var F=function(e){var t=e.items,r=l()(e,["items"]);return u.a.createElement(h.a,{gutter:"md"},u.a.createElement(y.a,{sm:12},u.a.createElement(d.b,a()({height:16,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#FFFFFF"},r),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"420",height:"16"}))),u.a.createElement(y.a,{sm:12,style:{paddingLeft:16,paddingRight:16}},u.a.createElement(k,{items:t})))};F.propTypes={items:f.a.number},F.defaultProps={items:5};var C=function(e){return u.a.createElement(m.Main,{style:{marginLeft:0,padding:0}},u.a.createElement(d.b,a()({height:16,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#FFFFFF"},e),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"420",height:"10"})),u.a.createElement("div",null,u.a.createElement(O.a,null,u.a.createElement(m.Spinner,null))))},w=function(e){return u.a.createElement(d.b,a()({height:21,width:200,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},e),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"200",height:"21"}))},S=function(e){return u.a.createElement(s.Fragment,null,u.a.createElement(d.b,a()({height:15,width:200,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},e),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"200",height:"10"})),u.a.createElement("div",{style:{width:300}},u.a.createElement(d.a,null),u.a.createElement(d.a,{speed:3}),u.a.createElement(d.a,null)))},q=function(e){return u.a.createElement("div",e,u.a.createElement("svg",{height:"40",width:"40"},u.a.createElement("circle",{cx:"20",cy:"20",r:"20",fill:"#ecebeb"})))},D=function(){return u.a.createElement(d.b,{height:36,width:400,speed:2,primaryColor:"#ffffff",secondaryColor:"#ecebeb"},u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"400",height:"36"}))},N=function(){return u.a.createElement(P.a,null,u.a.createElement(I.a,{size:"xl"},"Invite group"),u.a.createElement(R.a,{fieldId:"1"},u.a.createElement(D,null)),u.a.createElement(R.a,{fieldId:"2"},u.a.createElement(D,null)),u.a.createElement(I.a,{size:"xl"},"Groups with access"),u.a.createElement(R.a,{fieldId:"3"},u.a.createElement(D,null)),u.a.createElement(R.a,{fieldId:"4"},u.a.createElement(D,null)))},x=function(e){var t=e.items,r=l()(e,["items"]);return i()(Array(t)).map(function(e,t){return u.a.createElement(_.a,{key:t,"aria-label":"order-item-placeholder","aria-labelledby":"".concat(t,"-orders-placeholder")},u.a.createElement(T.a,null,u.a.createElement(L.a,{dataListCells:[u.a.createElement(j.a,{key:"1"},u.a.createElement(d.b,a()({height:9,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#ecebeb"},r),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"300",height:"9"})))]})))})};x.propTypes={items:f.a.number},x.defaultProps={items:5}},5:function(e,t,r){"use strict";r.d(t,"u",function(){return n}),r.d(t,"v",function(){return a}),r.d(t,"Q",function(){return o}),r.d(t,"M",function(){return i}),r.d(t,"K",function(){return c}),r.d(t,"y",function(){return l}),r.d(t,"d",function(){return s}),r.d(t,"I",function(){return u}),r.d(t,"h",function(){return d}),r.d(t,"f",function(){return p}),r.d(t,"j",function(){return f}),r.d(t,"k",function(){return m}),r.d(t,"m",function(){return h}),r.d(t,"l",function(){return y}),r.d(t,"g",function(){return E}),r.d(t,"w",function(){return g}),r.d(t,"o",function(){return v}),r.d(t,"p",function(){return b}),r.d(t,"q",function(){return O}),r.d(t,"r",function(){return P}),r.d(t,"n",function(){return I}),r.d(t,"x",function(){return R}),r.d(t,"a",function(){return _}),r.d(t,"c",function(){return T}),r.d(t,"O",function(){return L}),r.d(t,"A",function(){return j}),r.d(t,"G",function(){return k}),r.d(t,"B",function(){return F}),r.d(t,"D",function(){return C}),r.d(t,"C",function(){return w}),r.d(t,"b",function(){return S}),r.d(t,"R",function(){return q}),r.d(t,"e",function(){return D}),r.d(t,"F",function(){return N}),r.d(t,"J",function(){return x}),r.d(t,"S",function(){return A}),r.d(t,"E",function(){return U}),r.d(t,"P",function(){return M}),r.d(t,"s",function(){return V}),r.d(t,"L",function(){return G}),r.d(t,"N",function(){return B}),r.d(t,"z",function(){return H}),r.d(t,"t",function(){return z}),r.d(t,"i",function(){return W}),r.d(t,"H",function(){return Y});var n="FETCH_SERVICE_PLANS",a="FETCH_SERVICE_PLAN_PARAMETERS",o="UPDATE_SERVICE_DATA",i="SUBMIT_SERVICE_ORDER",c="SET_SELECTED_PLAN",l="LIST_ORDERS",s="CANCEL_ORDER",u="SET_ORDERS",d="FETCH_OPEN_ORDERS",p="FETCH_CLOSED_ORDERS",f="FETCH_PLATFORM",m="FETCH_PLATFORMS",h="FETCH_PLATFORM_ITEMS",y="FETCH_PLATFORM_ITEM;",E="FETCH_MULTIPLE_PLATFORM_ITEMS",g="FILTER_PLATFORM_ITEMS",v="FETCH_PORTFOLIOS",b="FETCH_PORTFOLIO_ITEM",O="FETCH_PORTFOLIO_ITEMS",P="FETCH_PORTFOLIO_ITEMS_WITH_PORTFOLIO",I="FETCH_PORTFOLIO",R="FILTER_PORTFOLIO_ITEMS",_="ADD_PORTFOLIO",T="ADD_TO_PORTFOLIO",L="UPDATE_PORTFOLIO",j="REMOVE_PORTFOLIO",k="SELECT_PORTFOLIO_ITEM",F="REMOVE_PORTFOLIO_ITEMS",C="RESTORE_PORTFOLIO_ITEMS",w="RESET_SELECTED_PORTFOLIO",S="ADD_TEMPORARY_PORTFOLIO",q="UPDATE_TEMPORARY_PORTFOLIO",D="DELETE_TEMPORARY_PORTFOLIO",N="RESTORE_PORTFOLIO_PREV_STATE",x="SET_PORTFOLIO_ITEMS",A="UPDATE_TEMPORARY_PORTFOLIO_ITEM",U="RESTORE_PORTFOLIO_ITEM_PREV_STATE",M="UPDATE_PORTFOLIO_ITEM",V="FETCH_RBAC_GROUPS",G="SHARE_PORTFOLIO",B="UNSHARE_PORTFOLIO",H="QUERY_PORTFOLIO",z="FETCH_REQUESTS",W="FETCH_ORDER_ITEMS",Y="SET_LOADING_STATE"},520:function(e,t){},526:function(e,t){},530:function(e,t,r){},535:function(e,t,r){},54:function(e,t,r){"use strict";r(4),r(7);var n=r(5),a=r(21),o=r.n(a),i=r(31),c=r(17),l=Object(i.i)(),s=Object(i.j)(),u=Object(i.a)(),d=Object(i.b)(),p='\nquery {\n  application_types (filter: { name: "/insights/platform/catalog" }) {\n    id\n    name\n    sources {\n      id\n      name\n      source_type_id\n    }\n  }\n}';function f(e,t){return e?u.get("".concat(c.e,"/sources/").concat(e,"/service_offerings?filter[archived_at][nil]").concat(t?"&limit=".concat(t.limit,"&offset=").concat(t.offset):"")):s.listServiceOfferings()}r.d(t,"b",function(){return h}),r.d(t,"a",function(){return y}),r.d(t,"c",function(){return E});var m=function(){return function(e){return e({type:"".concat(n.k,"_PENDING")}),d.post("".concat(c.d,"/graphql"),{query:p}).then(function(e){return e.data.application_types}).then(function(e){return o()(e,1)[0].sources}).then(function(t){return e({type:"".concat(n.k,"_FULFILLED"),payload:t})}).catch(function(t){return e({type:"".concat(n.k,"_REJECTED"),payload:t})})}},h=function(){return function(e){return e(m())}},y=function(e,t){return{type:n.m,payload:f(e,t),meta:{platformId:e}}},E=function(e){return{type:n.j,payload:(t=e,l.showSource(t))};var t}},544:function(e,t,r){var n={"./af":242,"./af.js":242,"./ar":243,"./ar-dz":244,"./ar-dz.js":244,"./ar-kw":245,"./ar-kw.js":245,"./ar-ly":246,"./ar-ly.js":246,"./ar-ma":247,"./ar-ma.js":247,"./ar-sa":248,"./ar-sa.js":248,"./ar-tn":249,"./ar-tn.js":249,"./ar.js":243,"./az":250,"./az.js":250,"./be":251,"./be.js":251,"./bg":252,"./bg.js":252,"./bm":253,"./bm.js":253,"./bn":254,"./bn.js":254,"./bo":255,"./bo.js":255,"./br":256,"./br.js":256,"./bs":257,"./bs.js":257,"./ca":258,"./ca.js":258,"./cs":259,"./cs.js":259,"./cv":260,"./cv.js":260,"./cy":261,"./cy.js":261,"./da":262,"./da.js":262,"./de":263,"./de-at":264,"./de-at.js":264,"./de-ch":265,"./de-ch.js":265,"./de.js":263,"./dv":266,"./dv.js":266,"./el":267,"./el.js":267,"./en-SG":268,"./en-SG.js":268,"./en-au":269,"./en-au.js":269,"./en-ca":270,"./en-ca.js":270,"./en-gb":271,"./en-gb.js":271,"./en-ie":272,"./en-ie.js":272,"./en-il":273,"./en-il.js":273,"./en-nz":274,"./en-nz.js":274,"./eo":275,"./eo.js":275,"./es":276,"./es-do":277,"./es-do.js":277,"./es-us":278,"./es-us.js":278,"./es.js":276,"./et":279,"./et.js":279,"./eu":280,"./eu.js":280,"./fa":281,"./fa.js":281,"./fi":282,"./fi.js":282,"./fo":283,"./fo.js":283,"./fr":284,"./fr-ca":285,"./fr-ca.js":285,"./fr-ch":286,"./fr-ch.js":286,"./fr.js":284,"./fy":287,"./fy.js":287,"./ga":288,"./ga.js":288,"./gd":289,"./gd.js":289,"./gl":290,"./gl.js":290,"./gom-latn":291,"./gom-latn.js":291,"./gu":292,"./gu.js":292,"./he":293,"./he.js":293,"./hi":294,"./hi.js":294,"./hr":295,"./hr.js":295,"./hu":296,"./hu.js":296,"./hy-am":297,"./hy-am.js":297,"./id":298,"./id.js":298,"./is":299,"./is.js":299,"./it":300,"./it-ch":301,"./it-ch.js":301,"./it.js":300,"./ja":302,"./ja.js":302,"./jv":303,"./jv.js":303,"./ka":304,"./ka.js":304,"./kk":305,"./kk.js":305,"./km":306,"./km.js":306,"./kn":307,"./kn.js":307,"./ko":308,"./ko.js":308,"./ku":309,"./ku.js":309,"./ky":310,"./ky.js":310,"./lb":311,"./lb.js":311,"./lo":312,"./lo.js":312,"./lt":313,"./lt.js":313,"./lv":314,"./lv.js":314,"./me":315,"./me.js":315,"./mi":316,"./mi.js":316,"./mk":317,"./mk.js":317,"./ml":318,"./ml.js":318,"./mn":319,"./mn.js":319,"./mr":320,"./mr.js":320,"./ms":321,"./ms-my":322,"./ms-my.js":322,"./ms.js":321,"./mt":323,"./mt.js":323,"./my":324,"./my.js":324,"./nb":325,"./nb.js":325,"./ne":326,"./ne.js":326,"./nl":327,"./nl-be":328,"./nl-be.js":328,"./nl.js":327,"./nn":329,"./nn.js":329,"./pa-in":330,"./pa-in.js":330,"./pl":331,"./pl.js":331,"./pt":332,"./pt-br":333,"./pt-br.js":333,"./pt.js":332,"./ro":334,"./ro.js":334,"./ru":335,"./ru.js":335,"./sd":336,"./sd.js":336,"./se":337,"./se.js":337,"./si":338,"./si.js":338,"./sk":339,"./sk.js":339,"./sl":340,"./sl.js":340,"./sq":341,"./sq.js":341,"./sr":342,"./sr-cyrl":343,"./sr-cyrl.js":343,"./sr.js":342,"./ss":344,"./ss.js":344,"./sv":345,"./sv.js":345,"./sw":346,"./sw.js":346,"./ta":347,"./ta.js":347,"./te":348,"./te.js":348,"./tet":349,"./tet.js":349,"./tg":350,"./tg.js":350,"./th":351,"./th.js":351,"./tl-ph":352,"./tl-ph.js":352,"./tlh":353,"./tlh.js":353,"./tr":354,"./tr.js":354,"./tzl":355,"./tzl.js":355,"./tzm":356,"./tzm-latn":357,"./tzm-latn.js":357,"./tzm.js":356,"./ug-cn":358,"./ug-cn.js":358,"./uk":359,"./uk.js":359,"./ur":360,"./ur.js":360,"./uz":361,"./uz-latn":362,"./uz-latn.js":362,"./uz.js":361,"./vi":363,"./vi.js":363,"./x-pseudo":364,"./x-pseudo.js":364,"./yo":365,"./yo.js":365,"./zh-cn":366,"./zh-cn.js":366,"./zh-hk":367,"./zh-hk.js":367,"./zh-tw":368,"./zh-tw.js":368};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=544},63:function(e,t,r){"use strict";r.r(t),r.d(t,"getServicePlans",function(){return v}),r.d(t,"listOrders",function(){return b}),r.d(t,"sendSubmitOrder",function(){return O}),r.d(t,"listRequests",function(){return I}),r.d(t,"listOrderItems",function(){return R}),r.d(t,"cancelOrder",function(){return _}),r.d(t,"getOpenOrders",function(){return k}),r.d(t,"getClosedOrders",function(){return F}),r.d(t,"getOrderApprovalRequests",function(){return C});var n=r(22),a=r.n(n),o=r(4),i=r.n(o),c=r(10),l=r.n(c),s=r(42),u=r.n(s),d=r(31),p=r(17),f=r(45),m=Object(d.c)(),h=Object(d.d)(),y=Object(d.f)(),E=Object(d.h)(),g=Object(d.a)();function v(e){return y.listServicePlans(e)}function b(){return m.listOrders()}function O(e){return P.apply(this,arguments)}function P(){return(P=u()(a.a.mark(function e(t){var r,n,o,c,s,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.service_parameters,n=r.providerControlParameters,o=l()(r,["providerControlParameters"]),c=l()(t,["service_parameters"]),e.next=3,m.createOrder();case 3:return s=e.sent,(u={}).count=1,u=i()({},u,c,{service_parameters:o,provider_control_parameters:n||{}}),e.next=9,m.addToOrder(s.id,u);case 9:return e.abrupt("return",m.submitOrder(s.id));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(){return E.listRequests().then(function(e){return i()({},e,{data:e.data.map(function(e){var t=e.decision,r=l()(e,["decision"]);return i()({},r,{state:t})})})})}function R(){return g.get("".concat(p.b,"/order_items"))}function _(e){return m.cancelOrder(e)}var T=["Ordered","Approval Pending"],L=["Completed","Failed","Denied","Canceled"],j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a;return g.get("".concat(p.b,"/orders?limit=").concat(t.limit,"&offset=").concat(t.offset,"&").concat(e.map(function(e){return"filter[state][]=".concat(e)}).join("&"))).then(function(e){return(t=e.data.map(function(e){return e.id}),g.get("".concat(p.b,"/order_items?").concat(t.map(function(e){return"filter[order_id][]=".concat(e)}).join("&")))).then(function(t){return(r=t.data.map(function(e){return e.portfolio_item_id}),g.get("".concat(p.b,"/portfolio_items?").concat(r.map(function(e){return"filter[id][]=".concat(e)}).join("&")))).then(function(r){return i()({portfolioItems:r},e,{data:e.data.map(function(e){return i()({},e,{orderItems:t.data.filter(function(t){return t.order_id===e.id})})})})});var r});var t})};function k(e,t){return j(T,t)}function F(e,t){return j(L,t)}function C(e){return h.listApprovalRequests(e)}},670:function(e,t,r){},671:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"listPortfolios",function(){return we}),r.d(n,"getPortfolioItems",function(){return Se}),r.d(n,"listPortfolioItems",function(){return qe}),r.d(n,"getPortfolioItem",function(){return De}),r.d(n,"getPortfolio",function(){return Ne}),r.d(n,"getPortfolioItemsWithPortfolio",function(){return xe}),r.d(n,"addPortfolio",function(){return Ae}),r.d(n,"addToPortfolio",function(){return Me}),r.d(n,"updatePortfolio",function(){return Ge}),r.d(n,"removePortfolio",function(){return He}),r.d(n,"removePortfolioItem",function(){return We}),r.d(n,"removePortfolioItems",function(){return Ke}),r.d(n,"fetchProviderControlParameters",function(){return Qe}),r.d(n,"updatePortfolioItem",function(){return Xe}),r.d(n,"fetchPortfolioByName",function(){return Ze}),r.d(n,"restorePortfolioItems",function(){return et}),r.d(n,"copyPortfolio",function(){return tt}),r.d(n,"copyPortfolioItem",function(){return rt}),r.d(n,"uploadPortfolioItemIcon",function(){return nt});var a=r(9),o=r.n(a),i=r(76),c=r.n(i),l=r(77),s=r.n(l),u=r(78),d=r.n(u),p=r(79),f=r.n(p),m=r(35),h=r.n(m),y=r(80),E=r.n(y),g=r(7),v=r.n(g),b=r(2),O=r.n(b),P=r(1),I=r.n(P),R=r(14),_=r(43),T=r(105),L=r(196),j=r(21),k=r.n(j),F=r(4),C=r.n(F),w=r(191),S=r(154),q=r(178),D=r(177),N=r(17),x=r(82),A=r(163),U=r(165),M=function(e){return O.a.createElement(w.a,null,O.a.createElement("div",{className:"".concat(e.removeInProgress&&e.isSelected?"portfolio-item-progress":""," ")},e.removeInProgress&&e.isSelected&&O.a.createElement(S.a,{className:"content-gallery-card progress-overlay"}),O.a.createElement(S.a,{className:"content-gallery-card"},O.a.createElement(q.a,{className:"card_header"},e.isSelectable&&O.a.createElement(A.a,{handleCheck:function(){return e.onSelect(e.id)},isChecked:e.isSelected,id:e.id}),O.a.createElement(x.a,{src:"".concat(N.b,"/portfolio_items/").concat(e.id,"/icon"),platformId:e.service_offering_source_ref})),O.a.createElement(U.a,o()({},e,{url:e.orderUrl})),O.a.createElement(D.a,null))))};M.propTypes={history:I.a.object,showModal:I.a.func,hideModal:I.a.func,imageUrl:I.a.string,name:I.a.string,id:I.a.string,platformId:I.a.string,service_offering_source_ref:I.a.string,isSelectable:I.a.bool,isSelected:I.a.bool,onSelect:I.a.func,orderUrl:I.a.string.isRequired,removeInProgress:I.a.bool};var V=M,G=r(69),B=r(12),H=r(150),z=r(30),W=r(405),Y=r(213),K=r(18),J=r(10),Q=r.n(J),X=function(e){var t=e.groupName,r=Q()(e,["groupName"]);return{component:K.b.TOOLBAR_GROUP,key:"".concat(t,"/single-toolbar-item-group"),fields:[{component:K.b.TOOLBAR_ITEM,key:"".concat(t,"/single-toolbar-item"),fields:[r]}]}},$=function(e){var t=e.to,r=Q()(e,["to"]);return{component:K.b.LINK,to:t,key:"".concat(r.key,"/button-link"),className:r.isDisabled?"disabled-link":"",fields:[C()({component:K.b.BUTTON},r)]}},Z=r(96),ee=function(e){var t=e.removePortfolioRoute,r=e.copyInProgress,n=e.copyPortfolio,a=Object(b.useState)(!1),o=k()(a,2),i=o[0],c=o[1];return O.a.createElement(H.a,{onSelect:function(){return c(!1)},position:z.d.right,toggle:O.a.createElement(W.a,{onToggle:c,isDisabled:r}),isOpen:i,isPlain:!0,dropdownItems:[O.a.createElement(Y.a,{component:"button","aria-label":"Copy Portfolio",key:"copy-portfolio",onClick:n},"Copy"),O.a.createElement(Y.a,{"aria-label":"Remove Portfolio",key:"delete-portfolio"},O.a.createElement(B.Link,{to:t,role:"link",className:"pf-c-dropdown__menu-item destructive-color"},"Delete"))]})};ee.propTypes={removePortfolioRoute:I.a.string.isRequired,copyPortfolio:I.a.func.isRequired,copyInProgress:I.a.bool};var te=function(e){var t=e.removeProducts,r=e.isDisabled,n=e.itemsSelected,a=Object(b.useState)(!1),o=k()(a,2),i=o[0],c=o[1];return O.a.createElement(H.a,{onSelect:function(){return c(!1)},position:z.d.right,toggle:O.a.createElement(W.a,{id:"remove-products-dropdown-toggle",onToggle:function(e){return c(e)},isDisabled:r}),isOpen:i,isPlain:!0,dropdownItems:[O.a.createElement(Y.a,{id:"remove-products",isDisabled:!n,onClick:t,"aria-label":"Remove products from portfolio",key:"remove-products"},O.a.createElement("span",{style:{cursor:"pointer"},className:"pf-c-dropdown__menu-item ".concat(n?"destructive-color":"disabled-color")},"Remove products"))]})};te.propTypes={removeProducts:I.a.func.isRequired,isDisabled:I.a.bool,itemsSelected:I.a.bool};var re=function(e){var t=e.title,r=e.addProductsRoute,n=e.copyPortfolio,a=e.sharePortfolioRoute,o=e.editPortfolioRoute,i=e.removePortfolioRoute,c=e.copyInProgress,l=e.isLoading,s=e.removeProducts,u=e.itemsSelected,d=e.meta,p=e.fetchPortfolioItemsWithPortfolio,f=e.portfolioId,m=e.filterProps,h=m.searchValue,y=m.onFilterChange,E=m.placeholder;return{fields:[{component:K.b.TOP_TOOLBAR,key:"portfolio-top-toolbar",fields:[{component:K.b.TOP_TOOLBAR_TITLE,key:"portfolio-toolbar-title",title:t,fields:[{component:K.b.LEVEL_ITEM,key:"portfolio-actions",className:"toolbar-override",fields:[$({to:a,variant:"secondary",title:"Share",isDisabled:c,key:"portfolio-share-button"}),$({to:o,variant:"link",isDisabled:c,title:"Edit",key:"portfolio-edit-button"}),{component:ee,removePortfolioRoute:i,copyPortfolio:n,copyInProgress:c,key:"portfolio-actions-dropdown"}]}]},{component:K.b.LEVEL,key:"porftolio-items-actions",fields:[{component:K.b.TOOLBAR,key:"portfolio-items-actions",fields:[X({groupName:"filter-portfolio-items",component:K.b.FILTER_TOOLBAR_ITEM,key:"portfolio-items-filter",searchValue:h,onFilterChange:y,placeholder:E}),X(C()({groupName:"add-portfolio-items",key:"portfolio-items-add-group"},$({to:r,isDisabled:l||c,variant:"primary",title:"Add products",key:"add-products-button"}))),{component:te,isDisabled:c,key:"remove-products-actions-dropdown",removeProducts:s,itemsSelected:u}]},{component:K.b.LEVEL_ITEM,key:"pagination-item",fields:[{component:Z.a,key:"porftolio-items-pagination",meta:d,apiRequest:p,apiProps:f}]}]}]}]}},ne=r(223),ae=r(27),oe=r.n(ae),ie=r(99),ce=r(16),le=r.n(ce),se=r(129),ue=r(190),de=r(130),pe=function(e,t,r){if(t&&r)return e;var n=le()(e);return n.find(function(e){return void 0===e.value})?le()(n):[{label:r?"Please choose":"None"}].concat(le()(n))},fe=function(e){var t=e.input,r=e.options,n=e.isReadOnly,a=e.isDisabled,i=(e.FieldProvider,e.isRequired),c=e.formOptions.change,l=e.multi,s=Q()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired","formOptions","multi"]);return O.a.createElement(ie.rawComponents.Select,o()({hideSelectedOptions:!1},t,s,{onChange:function(e){if(s.onChange)s.onChange(e),c(t.name,e);else{for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];t.onChange.apply(t,[e].concat(n))}},isMulti:l,options:pe(r,t.value,i),isDisabled:a||n,closeMenuOnSelect:!l}))};fe.propTypes={input:I.a.object.isRequired,options:I.a.arrayOf(I.a.shape({value:I.a.any,label:I.a.string.isRequired})),isReadOnly:I.a.bool,isDisabled:I.a.bool,isRequired:I.a.bool,isSearchable:I.a.bool,FieldProvider:I.a.any,formOptions:I.a.shape({change:I.a.func}),multi:I.a.bool},fe.defaultProps={formOptions:{},isSearchable:!1,multi:!1,options:[]};var me=function(e){e.componentType;var t=e.label,r=e.isRequired,n=e.helperText,a=e.meta,i=e.description,c=e.hideLabel,l=e.formOptions,s=(e.dataType,e.initialKey,e.id),u=(e.initialValue,Q()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel","formOptions","dataType","initialKey","id","initialValue"])),d=a.error,p=a.touched&&d,f=u.input.name;return O.a.createElement(se.a,{isRequired:r,label:!c&&t,fieldId:s||f,isValid:!p,helperText:n,helperTextInvalid:a.error},i&&O.a.createElement(ue.a,null,O.a.createElement(de.a,{component:de.b.small},i)),O.a.createElement(fe,o()({formOptions:l,id:s||f,label:t,isValid:!p,isRequired:r},u)))};me.propTypes={componentType:I.a.string,id:I.a.string,label:I.a.string,isRequired:I.a.bool,helperText:I.a.string,meta:I.a.object,description:I.a.string,hideLabel:I.a.bool,formOptions:I.a.object,dataType:I.a.string,initialKey:I.a.any,initialValue:I.a.any};var he=me,ye={default:{},modal:{buttonOrder:["save","cancel","reset"],buttonClassName:"modal-form-right-align"}},Ee=function(e){var t=e.componentMapper,r=e.formContainer,n=Q()(e,["componentMapper","formContainer"]);return O.a.createElement("div",{className:ye[r].buttonClassName},O.a.createElement(oe.a,o()({formFieldsMapper:C()({},ie.formFieldsMapper,t,v()({},ae.componentTypes.SELECT,he)),layoutMapper:ie.layoutMapper},ye[r],n)))};Ee.propTypes={componentMapper:I.a.object,formContainer:I.a.oneOf(["default","modal"])},Ee.defaultProps={componentMapper:{},formContainer:"default"};var ge=Ee,ve=r(126),be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(ve.a)(e,t,r)},Oe=r(22),Pe=r.n(Oe),Ie=r(42),Re=r.n(Ie),_e=r(31),Te=["display_name","description","long_description","distributor","documentation_url","support_url","workflow_ref"],Le=["description","workflow_ref"],je=r(28),ke=Object(_e.a)(),Fe=Object(_e.e)(),Ce=Object(_e.f)();function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.limit,n=t.offset,a=t.filter,o=Q()(t,["limit","offset","filter"]);return Fe.listPortfolios(r,n,a,o)}function Se(){return qe()}function qe(){return Ce.listPortfolioItems()}function De(e){return ke.get("".concat(N.b,"/portfolio_items/").concat(e))}function Ne(e){return Fe.showPortfolio(e)}function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.limit,n=t.offset;return Fe.fetchPortfolioItemsWithPortfolio(e,r,n)}function Ae(e,t){return Ue.apply(this,arguments)}function Ue(){return(Ue=Re()(Pe.a.mark(function e(t,r){var n;return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.createPortfolio(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",n);case 5:if(!(r&&r.length>0)){e.next=7;break}return e.abrupt("return",Me(n,r));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Me(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=Re()(Pe.a.mark(function e(t,r){var n;return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Re()(Pe.a.mark(function e(r){var n;return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce.createPortfolioItem({service_offering_ref:r});case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Fe.addPortfolioItemToPortfolio(t,{portfolio_item_id:n.id});case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",Promise.all(r.map(function(e){return n(e)})));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ge(e){return Be.apply(this,arguments)}function Be(){return(Be=Re()(Pe.a.mark(function e(t){return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.updatePortfolio(t.id,Object(je.h)(t,Le));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function He(e){return ze.apply(this,arguments)}function ze(){return(ze=Re()(Pe.a.mark(function e(t){return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe.destroyPortfolio(t);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function We(e){return Ye.apply(this,arguments)}function Ye(){return(Ye=Re()(Pe.a.mark(function e(t){return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ce.destroyPortfolioItem(t));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ke(e){return Je.apply(this,arguments)}function Je(){return(Je=Re()(Pe.a.mark(function e(t){return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=Re()(Pe.a.mark(function e(t){var r,n;return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We(t);case 2:return r=e.sent,n=r.restore_key,e.abrupt("return",{portfolioItemId:t,restoreKey:n});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Qe(e){return ke.get("".concat(N.b,"/portfolio_items/").concat(e,"/provider_control_parameters")).then(function(e){return C()({required:[]},e,{properties:C()({},e.properties,{namespace:C()({},e.properties.namespace,{enum:Array.from(new Set(le()(e.properties.namespace.enum)))})})})})}function Xe(e){return $e.apply(this,arguments)}function $e(){return($e=Re()(Pe.a.mark(function e(t){return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.patch("".concat(N.b,"/portfolio_items/").concat(t.id),Object(je.h)(t,Te));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ke.get("".concat(N.b,"/portfolios?filter[name]=").concat(e))}var et=function(e){return Promise.all(e.map(function(e){var t=e.portfolioItemId,r=e.restoreKey;return Ce.portfolioItemsPortfolioItemIdUndeletePost(t,{restore_key:r})}))},tt=function(e){return Fe.postCopyPortfolio(e)},rt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ce.postCopyPortfolioItem(e,t)},nt=function(e,t){var r=new FormData;return r.append("content",t,t.name),r.append("portfolio_item_id",e),ke.post("".concat(N.b,"/icons"),r,{headers:{accept:"application/json","Content-Type":"multipart/form-data; boundary=".concat(r._boundary)}})},at=be(function(e,t){return Ze(e).then(function(r){var n=r.data;return e&&0!==e.trim().length?n.find(function(r){return r.name===e&&r.id!==t})?"Name has already been taken":void 0:"Required"}).catch(function(e){return e.data})}),ot=r(160),it=r(44),ct=r(5),lt=function(){return{type:ct.o,payload:we.apply(n,arguments)}},st=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return e(lt.apply(void 0,t))}},ut=function(e){return{type:ct.p,payload:De(e)}},dt=function(){return{type:ct.r,payload:xe.apply(n,arguments)}},pt=function(e){return{type:ct.n,payload:Ne(e)}},ft=function(e,t){return function(r){return r({type:ct.b,payload:C()({},e,{isDisabled:!0,isTemporary:!0})}),r({type:ct.a,payload:Ae(C()({},e,{workflow_ref:e.workflow_ref||null}),t).then(function(){return r(lt())}).catch(function(e){throw r({type:ct.F}),e}),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding portfolio",description:"The portfolio was added successfully."}}}})}},mt=function(e,t){return{type:ct.c,payload:Me(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding products",description:"Products were successfully added to portfolio."}}}}},ht=function(e){return function(t){return t({type:ct.R,payload:e}),Ge(C()({},e,{workflow_ref:e.workflow_ref||null})).then(function(){return t(lt())}).then(function(){return t({type:it.ADD_NOTIFICATION,payload:{dismissable:!0,variant:"success",title:"Success updating portfolio",description:"The portfolio was updated successfully."}})}).catch(function(e){throw t({type:ct.F}),e}).catch(function(e){return t({type:"".concat(ct.R,"_REJECTED"),payload:e})})}},yt=function(e){return function(t){return t({type:ct.e,payload:e}),t({type:ct.A,payload:He(e).then(function(){return t(lt())}).catch(function(e){throw t({type:ct.F}),e}),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing portfolio",description:"The portfolio was removed successfully."}}}})}},Et=function(e){return{type:ct.G,payload:e}},gt=function(e,t){return function(r,n){r({type:"".concat(ct.B,"_PENDING")});var a=n().portfolioReducer,o=a.portfolioItems.meta,i=a.selectedPortfolio.id;return Ke(e).then(function(e){return r(dt(i,{offset:0,limit:o.limit})).then(function(){return e})}).then(function(n){return r({type:it.ADD_NOTIFICATION,payload:{variant:"success",title:"Products removed",dismissable:!0,description:O.a.createElement(ot.a,{id:"portfolio.remove-portfolio-items",defaultMessage:"You have removed {count, number} {count, plural,\n            one {product}\n            other {products}\n          } from the {portfolioName} portfolio. {undo} if this was a mistake.",values:{count:e.length,portfolioName:t,undo:O.a.createElement("a",{href:"#",onClick:function(e){return e.preventDefault()}},O.a.createElement("span",{onClick:function(){return r(function(e,t){return function(r){return r({type:"".concat(ct.D,"_PENDING")}),et(e).then(function(){return r({type:"".concat(ct.D,"_FULFILLED")})}).then(function(){return r({type:it.CLEAR_NOTIFICATIONS})}).then(function(){return r(dt(t))}).then(function(){return r({type:it.ADD_NOTIFICATION,payload:{variant:"success",dismissable:!0,title:"Products have been restored"}})}).catch(function(e){return r({type:"".concat(ct.D,"_REJECTED"),payload:e})})}}(n,i))}},"Undo"))}})}})}).then(function(){return r({type:"".concat(ct.B,"_FULFILLED")})}).catch(function(e){return r({type:"".concat(ct.B,"_REJECTED"),payload:e})})}},vt=function(e){return function(t){return t({type:"COPY_PORTFOLIO_PENDING"}),tt(e).then(function(e){return t({type:"COPY_PORTFOLIO_FULFILLED"}),t({type:it.ADD_NOTIFICATION,payload:{variant:"success",title:"You have successfully copied a portfolio"}}),e}).catch(function(e){return t({type:"COPY_PORTFOLIO_REJECTED",payload:e})})}},bt=function(e,t,r){return function(n){return rt(e,t).then(function(e){return n({type:it.ADD_NOTIFICATION,payload:{variant:"success",title:"You have successfully copied a product",description:"".concat(e.display_name," has been copied into ").concat(r.name),dismissable:!0}}),e}).catch(function(e){return n({type:"COPY_PORTFOLIO_ITEM_REJECTED",payload:e})})}},Ot=function(){return{type:ct.C}},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(_e.a)().get("".concat(N.a,"/workflows").concat(e.length>0?"/?filter[name][contains]=".concat(e):"")).then(function(e){return e.data.map(function(e){var t=e.id;return{label:e.name,value:t}})})},It=function(e){var t,r,n,a=e.history.goBack,o=e.match.params.id,i=e.addPortfolio,c=e.initialValues,l=e.updatePortfolio,s=function(){return a()};return O.a.createElement(ne.a,{title:c?"Edit portfolio":"Create portfolio",isOpen:!0,onClose:s,isSmall:!0},O.a.createElement("div",{style:{padding:8}},O.a.createElement(ge,{schema:(t=!c,r=Pt,n=o,{fields:[{label:t?"New Portfolio Name":"Portfolio Name",name:"name",component:ae.componentTypes.TEXT_FIELD,isRequired:!0,validate:[function(e){return at(e,n)}]},{label:"Description",component:ae.componentTypes.TEXTAREA,name:"description"},{label:"Approval workflow",name:"workflow_ref",component:ae.componentTypes.SELECT,loadOptions:be(r),isSearchable:!0,isClearable:!0}]}),schemaType:"default",onSubmit:function(e){return a(),c?l(e):i(e)},onCancel:s,initialValues:C()({},c),formContainer:"modal",buttonsLabels:{submitLabel:"Save"}})))};It.propTypes={history:I.a.shape({goBack:I.a.func.isRequired}).isRequired,match:I.a.shape({params:I.a.shape({id:I.a.string}).isRequired}).isRequired,addPortfolio:I.a.func.isRequired,fetchPortfolios:I.a.func.isRequired,initialValues:I.a.object,updatePortfolio:I.a.func.isRequired,fetchWorkflows:I.a.func.isRequired,workflows:I.a.arrayOf(I.a.shape({value:I.a.oneOfType([I.a.number,I.a.string]).isRequired,label:I.a.string.isRequired})).isRequired};var Rt=function(e){e.owner,e.created_at,e.updated_at;return Q()(e,["owner","created_at","updated_at"])},_t=Object(T.k)(Object(R.connect)(function(e,t){var r=e.portfolioReducer.portfolios,n=t.match.params.id;return{initialValues:n&&Rt(r.data.find(function(e){return e.id===n})),portfolioId:n}},function(e){return Object(_.a)({addPortfolio:ft,updatePortfolio:ht},e)})(It)),Tt=r(107),Lt=function(e){var t=e.history,r=t.goBack,n=t.push,a=e.removePortfolio,o=e.portfolio,i=function(){return r()};return o?O.a.createElement(ne.a,{title:"Removing Portfolio:  ".concat(o.name),isOpen:!0,isSmall:!0,onClose:i,actions:[O.a.createElement(Tt.a,{key:"cancel",variant:"secondary",type:"button",onClick:i},"Cancel"),O.a.createElement(Tt.a,{key:"submit",variant:"primary",type:"button",onClick:function(){return n("/portfolios"),a(o.id)}},"Confirm")]},O.a.createElement(O.a.Fragment,null)):null};Lt.propTypes={history:I.a.shape({goBack:I.a.func.isRequired,push:I.a.func.isRequired}).isRequired,removePortfolio:I.a.func.isRequired,addNotification:I.a.func.isRequired,portfolio:I.a.shape({id:I.a.string.isRequired,name:I.a.string.isRequired})};var jt=function(e,t){return e.portfolioReducer.portfolios.data.find(function(e){return e.id===t})},kt=Object(T.k)(Object(R.connect)(function(e,t){var r=t.match.params.id;return{portfolio:jt(e,r)}},function(e){return Object(_.a)({addNotification:it.addNotification,removePortfolio:yt},e)})(Lt)),Ft=r(127),Ct=function(e,t){var r,n=e.items,a=function(e,t){return{fields:[{component:"sub-form",title:"Invite group",name:"new_share",key:"1",fields:[{name:"group_uuid",component:ae.componentTypes.SELECT,options:e},{name:"permissions",component:ae.componentTypes.SELECT,options:t}]}]}}(e.groups,t),o=n.map(function(e){return function(e,t){return{component:"sub-form",name:"".concat(e.group_name),key:"".concat(e.group_name),fields:[{name:"".concat(e.group_name),label:"".concat(e.group_name),component:ae.componentTypes.SELECT,options:t}]}}(e,t)}),i=C()({},(r=le()(o),{fields:[{component:"sub-form",title:"Groups with access",name:"share_list",key:"share_list",fields:le()(r)}]}));return{fields:[].concat(le()(a.fields),le()(i.fields))}},wt=Object(_e.a)(),St=Object(_e.e)();function qt(e){return Dt.apply(this,arguments)}function Dt(){return(Dt=Re()(Pe.a.mark(function e(t){return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt.get("".concat(N.b,"/portfolios/").concat(t,"/share_info"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Nt(e){return xt.apply(this,arguments)}function xt(){return(xt=Re()(Pe.a.mark(function e(t){var r;return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={permissions:t.permissions.split(","),group_uuids:[t.group_uuid]},e.next=3,St.sharePortfolio(t.id,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function At(e){return Ut.apply(this,arguments)}function Ut(){return(Ut=Re()(Pe.a.mark(function e(t){var r;return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={permissions:t.permissions,group_uuids:[t.group_uuid]},e.next=3,St.unsharePortfolio(t.id,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Mt=function(e){return{type:ct.z,payload:qt(e)}},Vt=function(e){return{type:ct.L,payload:Nt(C()({},e)),meta:{notifications:{fulfilled:{variant:"success",title:"Success sharing portfolio",description:"The portfolio was shared successfully."}}}}},Gt=function(e){return{type:ct.N,payload:At(C()({},e)),meta:{notifications:{fulfilled:{variant:"success",title:"Success unsharing portfolio",description:"The portfolio was unshared successfully."}}}}},Bt=Object(_e.g)();function Ht(){return zt.apply(this,arguments)}function zt(){return(zt=Re()(Pe.a.mark(function e(){return Pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt.listGroups();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Wt=function(){return{type:ct.s,payload:Ht().then(function(e){return e.data.map(function(e){return{value:e.uuid,label:e.name}})})}},Yt=r(49),Kt=function(e){var t=e.history.push,r=e.fetchPortfolios,n=e.initialValues,a=e.fetchShareInfo,o=e.sharePortfolio,i=e.fetchRbacGroups,c=e.shareInfo,l=e.portfolioId,s=e.rbacGroups,u=e.closeUrl,d=Object(b.useState)(!0),p=k()(d,2),f=p[0],m=p[1];Object(b.useEffect)(function(){m(!0),Promise.all([a(l),i()]).then(function(){return m(!1)}).catch(function(){return m(!1)})},[]);var h=function(){return t(u)},y=[{value:"catalog:portfolios:order,catalog:portfolios:read,catalog:portfolios:write",label:"Can order/edit"},{value:"catalog:portfolios:order,catalog:portfolios:read",label:"Can order/view"}];return O.a.createElement(ne.a,{title:"Share portfolio",isOpen:!0,isSmall:!0,onClose:h},f&&O.a.createElement(Yt.f,null),!f&&0===s.length&&O.a.createElement(Ft.a,{headingLevel:"h2",size:"1xl"},"No groups available for sharing."),!f&&s.length>0&&O.a.createElement(ge,{schema:Ct({groups:s.filter(function(e){return!c.find(function(t){return t.group_uuid===e.value})}),items:c},y),schemaType:"default",onSubmit:function(e){var n=[];return e.group_uuid&&e.permissions&&n.push(o(e)),c.forEach(function(t){var r=t.permissions.sort().join(",");e[t.group_name]!==r&&(e[t.group_name]?t.permissions.length>e[t.group_name].split(",").length?n.push(Gt({id:l,permissions:["catalog:portfolios:write"],group_uuid:t.group_uuid})):n.push(o({id:l,permissions:e[t.group_name],group_uuid:t.group_uuid})):n.push(Gt({id:l,permissions:t.permissions,group_uuid:t.group_uuid})))}),t(u),Promise.all(n).then(function(){return r()})},onCancel:h,initialValues:C()({},n,c.map(function(e){var t=e.group_name,r=y.find(function(t){return t.value===e.permissions.sort().join(",")});return v()({},t,r?r.value:"Unknown")}).reduce(function(e,t){return C()({},e,t)},{})),formContainer:"modal",buttonsLabels:{submitLabel:"Send"}}))};Kt.propTypes={history:I.a.shape({goBack:I.a.func.isRequired}).isRequired,isLoading:I.a.bool,addNotification:I.a.func.isRequired,fetchPortfolios:I.a.func.isRequired,fetchRbacGroups:I.a.func.isRequired,sharePortfolio:I.a.func.isRequired,unsharePortfolio:I.a.func.isRequired,fetchShareInfo:I.a.func.isRequired,portfolioId:I.a.string.isRequired,shareInfo:I.a.array.isRequired,rbacGroups:I.a.arrayOf(I.a.shape({value:I.a.oneOfType([I.a.number,I.a.string]).isRequired,label:I.a.string.isRequired})).isRequired,initialValues:I.a.object,closeUrl:I.a.string.isRequired};var Jt=Object(T.k)(Object(R.connect)(function(e,t){var r=e.rbacReducer.rbacGroups,n=e.portfolioReducer.portfolios,a=e.shareReducer.shareInfo,o=t.match.params.id;return{initialValues:o&&n.data.find(function(e){return e.id===o}),portfolioId:o,shareInfo:a,rbacGroups:r}},function(e){return Object(_.a)({fetchRbacGroups:Wt,fetchPortfolios:st,sharePortfolio:Vt,unsharePortfolio:Gt,fetchShareInfo:Mt},e)})(Kt)),Qt=r(192),Xt=r(193),$t=r(224),Zt=r(228),er=r(229),tr=r(189),rr=r(156),nr=r(100),ar=function(e){function t(){var e,r;c()(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=d()(this,(e=f()(t)).call.apply(e,[this].concat(a))),v()(h()(r),"state",{selectedPlanIdx:0}),v()(h()(r),"optionRow",function(e,t,r,n){return O.a.createElement($t.a,{id:e.id,key:e.id,value:e.id,checked:r===e.id,name:e.name,"aria-label":e.description,onChange:n,label:e.description})}),v()(h()(r),"handlePlanChange",function(e,t){var n=t.currentTarget.value;r.setState({selectedPlanIdx:r.props.servicePlans.findIndex(function(e){return e.id===n})})}),v()(h()(r),"planOptions",function(){var e=r.props.servicePlans[r.state.selectedPlanIdx].id,t=r.handlePlanChange;return r.props.servicePlans.map(function(n,a){return r.optionRow(n,a,e,t)})}),v()(h()(r),"onSubmit",function(e){var t=r.props.id,n=r.props.servicePlans[r.state.selectedPlanIdx].id;r.props.sendSubmitOrder({portfolio_item_id:t,service_plan_ref:n,service_parameters:e}),r.props.history.push(r.props.closeUrl)}),r}return E()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this.props.id;this.props.fetchPlans(e)}},{key:"render",value:function(){if(!this.props.isLoading&&this.props.servicePlans.length>0){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"object",properties:{}},r=ae.schemaParsers.mozillaParser(t).schema.fields.map(function(e){var t=e.name,r=Q()(e,["name"]);return C()({name:"providerControlParameters.".concat(t)},r)}),n=e.schema,a={};if(!e.schemaType){var o=ae.schemaParsers.mozillaParser(e);n=o.schema,a=o.defaultValues}return{schema:C()({},n,{fields:[].concat(le()(r),le()(n.fields))}),initialValues:a}}(this.props.servicePlans[this.state.selectedPlanIdx].create_json_schema);return O.a.createElement(Zt.a,{gutter:"md"},O.a.createElement(er.a,null,O.a.createElement(Ft.a,{size:"lg"}," Configuration ")),O.a.createElement(er.a,null,O.a.createElement(tr.a,null,this.props.servicePlans.length>1&&O.a.createElement("div",null,O.a.createElement(Ft.a,{size:"md"},"Select Plan:"),O.a.createElement("div",null,this.planOptions()))),!this.props.isLoading&&this.props.servicePlans.length>0&&O.a.createElement(ge,o()({},e,{onSubmit:this.onSubmit,formContainer:"modal"}))))}return O.a.createElement(rr.a,null,this.props.isLoading&&O.a.createElement("span",{color:"#00b9e4"}," Loading..."))}}]),t}(O.a.Component);ar.propTypes={orderData:I.a.func,fetchPlans:I.a.func,isLoading:I.a.bool,serviceData:I.a.object,servicePlans:I.a.array,id:I.a.string,name:I.a.string,sendSubmitOrder:I.a.func.isRequired,history:I.a.shape({push:I.a.func.isRequired}).isRequired,closeUrl:I.a.string.isRequired},ar.defaultProps={servicePlans:[]};var or=Object(T.k)(Object(R.connect)(function(e){var t=e.orderReducer;return{isLoading:t.isLoading,servicePlans:t.servicePlans}},function(e){return{fetchPlans:function(t){return e(Object(nr.d)(t))},sendSubmitOrder:function(t){return e(Object(nr.e)(t))}}})(ar)),ir=function(e){var t=e.serviceData,r=e.closeUrl,n=e.history.push;return t?O.a.createElement(ne.a,{isOpen:!0,title:"",hideTitle:!0,onClose:function(){return n(r)},isLarge:!0},O.a.createElement("div",{className:"pf-u-mb-md"},O.a.createElement("div",{style:{float:"left"},className:"pf-u-mr-sm"},O.a.createElement(x.a,{height:64,src:"".concat(N.b,"/portfolio_items/").concat(t.id,"/icon"),platformId:t.service_offering_source_ref})),O.a.createElement(Qt.a,null,O.a.createElement(Xt.a,{className:"elipsis-text-overflow"},O.a.createElement(Ft.a,{headingLevel:"h2",size:"3xl"},t.display_name))),O.a.createElement(Qt.a,null,O.a.createElement(Xt.a,null,O.a.createElement(ue.a,null,O.a.createElement(de.a,{component:de.b.small},t.name))))),O.a.createElement(or,o()({closeUrl:r},t))):null};ir.propTypes={orderData:I.a.func,serviceData:I.a.object,closeUrl:I.a.string.isRequired,history:I.a.shape({push:I.a.func.isRequired}).isRequired};var cr=Object(T.k)(Object(R.connect)(function(e){var t=e.orderReducer;return{selectedItem:t.selectedItem,servicePlans:t.servicePlans}})(ir)),lr=r(84),sr=function(e){var t=e.name,r=e.url;return O.a.createElement(lr.b,{Icon:L.a,title:"No products in ".concat(t," portfolio"),description:"You haven’t added any products to the portfolio",PrimaryAction:function(){return O.a.createElement(lr.a,{url:"".concat(r,"/add-products"),label:"Add products"})}})};sr.propTypes={name:I.a.string,url:I.a.string.isRequired};var ur=sr,dr=r(81),pr=function(e){var t=e.title,r=e.filteredItems,n=e.addProductsRoute,a=e.editPortfolioRoute,i=e.sharePortfolioRoute,c=e.removePortfolioRoute,l=e.selectedItems,s=e.filterValue,u=e.handleFilterChange,d=e.isLoading,p=e.copyInProgress,f=e.removeProducts,m=e.copyPortfolio,h=e.portfolioRoute,y=e.pagination,E=e.fetchPortfolioItemsWithPortfolio,g=e.portfolio.id;return O.a.createElement(b.Fragment,null,O.a.createElement(G.a,{schema:re({filterProps:{searchValue:s,onFilterChange:u,placeholder:"Filter by name..."},title:t,addProductsRoute:n,editPortfolioRoute:a,sharePortfolioRoute:i,removePortfolioRoute:c,copyPortfolio:m,isLoading:d,copyInProgress:p,removeProducts:function(){return f(l)},itemsSelected:l.length>0,meta:y,fetchPortfolioItemsWithPortfolio:E,portfolioId:g})}),O.a.createElement(T.d,{exact:!0,path:"/portfolios/detail/:id/edit-portfolio",component:_t}),O.a.createElement(T.d,{exact:!0,path:"/portfolios/detail/:id/remove-portfolio",component:kt}),O.a.createElement(T.d,{exact:!0,path:"/portfolios/detail/:id/share-portfolio",render:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return O.a.createElement(Jt,o()({closeUrl:h},t))}}),O.a.createElement(T.d,{exact:!0,path:"/portfolios/detail/:id/order/:itemId",render:function(e){return O.a.createElement(cr,o()({},e,{closeUrl:h}))}}),O.a.createElement(dr.a,o()({},r,{renderEmptyState:function(){return O.a.createElement(ur,{name:t,url:n})}})))};pr.propTypes={title:I.a.string.isRequired,filteredItems:I.a.shape({items:I.a.arrayOf(I.a.node),isLoading:I.a.bool}),portfolioRoute:I.a.string.isRequired,addProductsRoute:I.a.string.isRequired,editPortfolioRoute:I.a.string.isRequired,sharePortfolioRoute:I.a.string.isRequired,removePortfolioRoute:I.a.string.isRequired,selectedItems:I.a.arrayOf(I.a.string),filterValue:I.a.string.isRequired,handleFilterChange:I.a.func.isRequired,isLoading:I.a.bool,copyInProgress:I.a.bool,removeProducts:I.a.func.isRequired,copyPortfolio:I.a.func.isRequired,pagination:I.a.object.isRequired,fetchPortfolioItemsWithPortfolio:I.a.func.isRequired,portfolio:I.a.shape({id:I.a.string})},pr.defaultProps={portfolio:{}};var fr=pr,mr=r(36),hr=function(e){var t=e.platform;return O.a.createElement(lr.b,{Icon:L.a,title:t?"No products match filter parameters":"Please choose platform",description:t?"Please try to extend your search parameters ":"In order to select products for your portfolio you must choose platform first"})};hr.propTypes={platform:I.a.any};var yr=function(e){var t=e.platform,r=Q()(e,["platform"]);return O.a.createElement(dr.a,o()({editMode:!0},r,{renderEmptyState:function(){return O.a.createElement(hr,{platform:t})}}))};yr.propTypes={checkedItems:I.a.arrayOf(I.a.string),platform:I.a.any},yr.defaultProps={checkedItems:[]};var Er=yr,gr=r(45),vr=r(162),br=r(234),Or=function(e){var t=e.children;return O.a.createElement("div",{className:"filter-value-container",style:{position:"absolute"}},O.a.createElement(br.a,{style:{marginLeft:6},fill:"#393F44"}),t)};Or.propTypes={children:I.a.oneOfType([I.a.node,I.a.arrayOf(I.a.node)]).isRequired};var Pr=function(e){return e.options&&0!==e.options.length?O.a.createElement("div",{key:"filter-select",id:"filter-select",className:"filter-select"},O.a.createElement(ie.rawComponents.Select,o()({components:{ValueContainer:Or},simpleValue:!1},e))):O.a.createElement("div",{key:"filter-select-placeholder",id:"filter-select-placeholder",className:"filter-select"},O.a.createElement(ie.rawComponents.Select,{components:{ValueContainer:Or},simpleValue:!1,options:[],isDisabled:!0}))};Pr.propTypes={options:I.a.array};var Ir=Pr,Rr=function(e){var t=e.children,r=e.showSpinner,n=e.isDisabled,a=Q()(e,["children","showSpinner","isDisabled"]);return O.a.createElement(Tt.a,o()({className:n&&r?"button-with-spinner":""},a,{isDisabled:n}),O.a.createElement("span",null,t),r&&O.a.createElement(mr.Spinner,null))};Rr.propTypes={showSpinner:I.a.bool,children:I.a.oneOfType([I.a.node,I.a.arrayOf(I.a.node)]),isDisabled:I.a.bool},Rr.defaultProps={showSpinner:!1,isDisabled:!1};var _r=Rr,Tr=function(e){var t=e.options,r=e.isFetching,n=e.searchValue,a=e.portfolioName,o=e.itemsSelected,i=e.onOptionSelect,c=e.onFilterChange,l=e.portfolioRoute,s=e.onClickAddToPortfolio,u=e.meta,d=e.platformId,p=e.fetchPlatformItems;return{fields:[{component:K.b.TOP_TOOLBAR,key:"add-products-toolbar",fields:[{component:K.b.TOP_TOOLBAR_TITLE,title:"Add products: ".concat(a),key:"add-products-title"},{component:K.b.LEVEL,key:"add-products-actions",fields:[{component:K.b.TOOLBAR,key:"add-products-actions-toolbar",fields:[{component:K.b.TOOLBAR_GROUP,key:"products-filter-group",fields:[{component:Ir,key:"select-platforms",id:"products-platform-select",isMulti:!1,placeholder:"Filter by Platform",options:t,onChange:i},{component:K.b.FILTER_TOOLBAR_ITEM,key:"filter-products-input",onFilterChange:c,searchValue:n,placeholder:"Filter products"}]},X(C()({groupName:"cancel-group-item"},$({key:"add-products-cancel-button",to:l,variant:"link","aria-label":"Cancel Add products to Portfolio",title:"Cancel"}))),X({groupName:"add-group-item",key:"portfolio-items-add-group",component:_r,variant:"primary","aria-label":"Add products to Portfolio",title:"Add",type:"button",onClick:s,isDisabled:!o||r,showSpinner:r,children:"Add"})]},{component:K.b.LEVEL_ITEM,key:"pagination-item",fields:u?[{component:Z.a,key:"add-products-pagination",meta:u,apiProps:d,apiRequest:p}]:[]}]}]}]}},Lr=r(54),jr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return e.filter(function(e){return Object(je.f)(e,n)}).map(function(e){return O.a.createElement(vr.a,o()({key:e.id},e,{editMode:!0,onToggleItemSelect:function(){return t(e.id)},checked:r.includes(e.id)}))})},kr=function(e){var t=e.portfolio,r=e.portfolioRoute,n=e.platforms,a=e.isLoading,o=e.platformItems,i=e.fetchPlatformItems,c=e.addToPortfolio,l=e.fetchPlatforms,s=e.fetchPortfolioItemsWithPortfolio,u=e.history.push,d=Object(b.useState)(""),p=k()(d,2),f=p[0],m=p[1],h=Object(b.useState)(void 0),y=k()(h,2),E=y[0],g=y[1],v=Object(b.useState)([]),P=k()(v,2),I=P[0],R=P[1],_=Object(b.useState)(!1),T=k()(_,2),L=T[0],j=T[1];Object(b.useEffect)(function(){l()},[]);var F=E&&o[E.id]?o[E.id].data:[],C=E&&o[E.id]&&o[E.id].meta;return O.a.createElement(mr.Section,null,O.a.createElement(G.a,{schema:Tr({options:n.map(function(e){return{value:e.id,label:e.name,id:e.id}}),isFetching:L,portfolioName:t&&t.name||"",itemsSelected:I.length>0,onOptionSelect:function(e){g(e),i(e.id,gr.a)},onFilterChange:function(e){return m(e)},portfolioRoute:r,onClickAddToPortfolio:function(){return j(!0),c(t.id,I).then(function(){return j(!1)}).then(function(){return u(r)}).then(function(){return s(t.id)}).catch(function(){return j(!1)})},meta:C,platformId:E&&E.id,searchValue:f,fetchPlatformItems:i})}),O.a.createElement(Er,{platform:!!E,checkedItems:I,isLoading:a,items:jr(F,function(e){return R(function(e){var t=I.indexOf(e);return t>-1?[].concat(le()(I.slice(0,t)),le()(I.slice(t+1))):[].concat(le()(I),[e])}(e))},I,f)}))};kr.propTypes={portfolio:I.a.shape({name:I.a.string.isRequired}),portfolioRoute:I.a.string.isRequired,platforms:I.a.arrayOf(I.a.shape({id:I.a.string.isRequired,name:I.a.string.isRequired})).isRequired,isLoading:I.a.bool,platformItems:I.a.object.isRequired,fetchPlatformItems:I.a.func.isRequired,addToPortfolio:I.a.func.isRequired,history:I.a.shape({push:I.a.func.isRequired}).isRequired,fetchPortfolioItemsWithPortfolio:I.a.func.isRequired,fetchPlatforms:I.a.func.isRequired};var Fr=Object(T.k)(Object(R.connect)(function(e){var t=e.platformReducer,r=t.platforms,n=t.platformItems;return{platforms:r,isLoading:t.isPlatformDataLoading,platformItems:n}},function(e){return Object(_.a)({addToPortfolio:mt,fetchPlatforms:Lr.b,fetchPlatformItems:Lr.a,fetchPortfolioItemsWithPortfolio:dt},e)})(kr)),Cr=r(158),wr=r(136),Sr=function(e){var t=e.product,r=e.source,n=e.portfolio;return O.a.createElement(ue.a,null,O.a.createElement(de.a,{component:de.b.h6},O.a.createElement("span",null,"Platform"),O.a.createElement("br",null),O.a.createElement("div",{className:"elipsis-text-overflow"},O.a.createElement("span",null,r.name))),O.a.createElement(de.a,{component:de.b.h6},O.a.createElement("span",null,"Portfolio"),O.a.createElement("br",null),O.a.createElement("div",{className:"elipsis-text-overflow"},O.a.createElement("span",null,n.display_name||n.name))),t.distributor&&O.a.createElement(de.a,{component:de.b.h6},O.a.createElement("span",null,"Vendor"),O.a.createElement("br",null),O.a.createElement("div",{className:"elipsis-text-overflow"},O.a.createElement("span",null,t.distributor))),O.a.createElement(de.a,{component:de.b.h6},O.a.createElement("span",null,"Created at"),O.a.createElement("br",null),O.a.createElement("div",{className:"elipsis-text-overflow"},O.a.createElement("span",null,new Date(t.updated_at||t.created_at).toLocaleDateString()))))};Sr.propTypes={product:I.a.shape({distributor:I.a.string,updated_at:I.a.string,created_at:I.a.string.isRequired}).isRequired,source:I.a.shape({name:I.a.string.isRequired}).isRequired,portfolio:I.a.shape({display_name:I.a.string,name:I.a.string.isRequired}).isRequired};var qr=Sr,Dr=function(e){return{fields:[{component:ae.componentTypes.TEXT_FIELD,name:"display_name",label:"Display name",isRequired:!0,validate:[{type:ae.validatorTypes.REQUIRED}]},{component:ae.componentTypes.TEXT_FIELD,name:"description",label:"Description",isRequired:!0,validate:[{type:ae.validatorTypes.REQUIRED}]},{component:ae.componentTypes.TEXT_FIELD,name:"long_description",label:"Long description",isRequired:!0,validate:[{type:ae.validatorTypes.REQUIRED}]},{component:ae.componentTypes.TEXT_FIELD,name:"distributor",label:"Vendor",isRequired:!0,validate:[{type:ae.validatorTypes.REQUIRED}]},{component:ae.componentTypes.TEXT_FIELD,name:"documentation_url",label:"Documentation URL",isRequired:!0,validate:[{type:ae.validatorTypes.REQUIRED},{type:ae.validatorTypes.URL}]},{component:ae.componentTypes.TEXT_FIELD,name:"support_url",label:"Support URL",isRequired:!0,validate:[{type:ae.validatorTypes.REQUIRED},{type:ae.validatorTypes.URL}]},{component:ae.componentTypes.SELECT,name:"workflow_ref",label:"Approval workflow",loadOptions:be(e),isSearchable:!0,isClearable:!0}]}},Nr=function(e){var t=e.history.push,r=e.cancelUrl,n=e.product,a=(n.owner,n.created_at,n.updated_at,Q()(n,["owner","created_at","updated_at"])),o=Object(R.useDispatch)();return O.a.createElement(ge,{initialValues:C()({},a),onSubmit:function(e){return t(r),o(function(e){return function(t){return t({type:ct.S,payload:e}),Xe(e).then(function(){return t({type:ct.P,payload:e}),e}).then(function(e){return t({type:it.ADD_NOTIFICATION,payload:{variant:"success",title:'Portfolio item "'.concat(e.display_name,'" was successfully updated'),dismissable:!0}})}).catch(function(e){throw t({type:ct.E}),e}).catch(function(e){return t({type:"".concat(ct.S,"_REJECTED"),payload:e})})}}(e))},canReset:!0,onCancel:function(){return t(r)},schema:Dr(Pt),buttonsLabels:{submitLabel:"Save"}})};Nr.propTypes={workflows:I.a.arrayOf(I.a.shape({value:I.a.string,label:I.a.node.isRequired})).isRequired,history:I.a.shape({push:I.a.func.isRequired}).isRequired,cancelUrl:I.a.string.isRequired,product:I.a.object.isRequired};var xr=Object(T.k)(Nr),Ar=function(e){var t=e.product,r=e.url,n=e.workflows;return O.a.createElement(T.g,null,O.a.createElement(T.d,{exact:!0,path:"".concat(r),render:function(){return O.a.createElement(ue.a,null,(t.description||t.long_description)&&O.a.createElement(de.a,{component:de.b.h6},"Overview"),t.description&&O.a.createElement(de.a,{component:de.b.p},t.description),t.long_description&&O.a.createElement(de.a,{component:de.b.p},t.long_description),t.support_url&&O.a.createElement(de.a,{component:de.b.p},O.a.createElement("a",{href:t.support_url,target:"_blank",rel:"noopener noreferrer"},"Learn more")),t.documentation_url&&O.a.createElement(b.Fragment,null,O.a.createElement(de.a,{component:de.b.h6},"Documentation"),O.a.createElement(de.a,{component:de.b.p},O.a.createElement("a",{href:t.documentation_url,target:"_blank",rel:"noopener noreferrer"},"Doc link"))),O.a.createElement(T.d,{exact:!0,path:"".concat(r),render:function(){return O.a.createElement(b.Fragment,null,O.a.createElement(de.a,{component:de.b.h6},"Approval workflow"),O.a.createElement(de.a,{component:de.b.p},function(e,t){var r=e.find(function(e){return e.value===t});return r?r.label:"None"}(n,t.workflow_ref)))}}))}}),O.a.createElement(T.d,{exact:!0,path:"".concat(r,"/edit"),render:function(){return O.a.createElement(xr,{cancelUrl:r,product:t})}}))};Ar.propTypes={product:I.a.shape({dscription:I.a.string,long_description:I.a.string,support_url:I.a.string,documentation_url:I.a.string}).isRequired,url:I.a.string.isRequired,workflows:I.a.arrayOf(I.a.shape({label:I.a.string.isRequired,value:I.a.string.isRequired})).isRequired};var Ur=Ar,Mr=function(e,t,r,n){return{fields:[{component:"value-only",name:"portfolio_item_name",label:"Name",value:t},{component:ae.componentTypes.SELECT,name:"portfolio_id",label:"Portfolio",isRequired:!0,options:e.map(function(e){var t=e.id,r=e.display_name,n=e.name;return{label:r||n,value:t}}),onChange:r,isDisabled:n}]}},Vr=function(e){var t=e.name,r=e.label,n=e.value;return O.a.createElement(se.a,{label:r,fieldId:t},O.a.createElement(ue.a,null,O.a.createElement(de.a,{component:de.b.h6},n)))};Vr.propTypes={name:I.a.string.isRequired,label:I.a.string.isRequired,value:I.a.string.isRequired};var Gr=function(e){var t=e.copyPortfolioItem,r=e.portfolios,n=e.portfolioId,a=e.portfolioItemId,o=e.closeUrl,i=e.history.push,c=e.fetchPortfolioItemsWithPortfolio,l=Object(b.useState)(!1),s=k()(l,2),u=s[0],d=s[1],p=Object(b.useState)(),f=k()(p,2),m=f[0],h=f[1],y=Object(b.useState)(!1),E=k()(y,2),g=E[0],v=E[1];Object(b.useEffect)(function(){Object(_e.f)().getPortfolioItemNextName(a,n).then(function(e){var t=e.next_name;return h(t)})},[]);return O.a.createElement(ne.a,{isOpen:!0,title:"Copy product",onClose:function(){return i(o)},isSmall:!0},O.a.createElement(ge,{initialValues:{portfolio_id:n,portfolio_item_name:m},schema:Mr(r,m,function(e){return v(!0),Object(_e.f)().getPortfolioItemNextName(a,e).then(function(e){var t=e.next_name;h(t)}).then(function(){return v(!1)})},g),onSubmit:function(e){d(!0),t(a,e,r.find(function(t){return t.id===e.portfolio_id})).then(function(t){var r=t.id;return i("/portfolios/detail/".concat(e.portfolio_id,"/product/").concat(r))}).then(function(){return e.portfolio_id===n&&c(n)}).catch(function(){return d(!1)})},onCancel:function(){return i(o)},componentMapper:{"value-only":Vr},buttonsLabels:{submitLabel:"Save"},disableSubmit:u?["pristine","diry"]:[]}))};Gr.propTypes={closeUrl:I.a.string.isRequired,history:I.a.shape({push:I.a.func.isRequired}).isRequired,portfolioId:I.a.string.isRequired,portfolios:I.a.arrayOf(I.a.shape({})).isRequired,copyPortfolioItem:I.a.func.isRequired,portfolioItemId:I.a.string.isRequired,fetchPortfolioItemsWithPortfolio:I.a.func.isRequired};var Br=Object(T.k)(Object(R.connect)(function(e){return{portfolios:e.portfolioReducer.portfolios.data}},function(e){return Object(_.a)({copyPortfolioItem:bt,fetchPortfolioItemsWithPortfolio:dt},e)})(Gr)),Hr=r(137),zr=function(){return{type:Hr.a.FETCH_WORKFLOWS,payload:Object(_e.k)().listWorkflows().then(function(e){var t=e.data;return le()(t.map(function(e){return{value:e.id,label:e.name}}))})}},Wr=function(e){var t=e.copyUrl,r=e.orderUrl,n=e.editUrl,a=e.isOpen,o=e.setOpen,i=e.isFetching;return O.a.createElement(b.Fragment,null,O.a.createElement(Xt.a,null,O.a.createElement(B.Link,{disabled:i,to:r},O.a.createElement(_r,{isDisabled:i,showSpinner:i,variant:"primary"},"Order"))),O.a.createElement(Xt.a,{style:{marginLeft:16}},O.a.createElement(H.a,{isPlain:!0,onToggle:o,onSelect:function(){return o(!1)},position:z.d.right,toggle:O.a.createElement(W.a,{onToggle:o}),isOpen:a,dropdownItems:[O.a.createElement(Y.a,{"aria-label":"Edit Portfolio",key:"edit-portfolio"},O.a.createElement(B.Link,{to:n,role:"link",className:"pf-c-dropdown__menu-item"},"Edit")),O.a.createElement(Y.a,{"aria-label":"Copy Portfolio",key:"copy-portfolio"},O.a.createElement(B.Link,{to:t,role:"link",className:"pf-c-dropdown__menu-item"},"Copy"))]})))};Wr.propTypes={orderUrl:I.a.string.isRequired,editUrl:I.a.string.isRequired,copyUrl:I.a.string.isRequired,isOpen:I.a.bool,setOpen:I.a.func.isRequired,isFetching:I.a.bool},Wr.defaultProps={isFetching:!1};var Yr=Wr,Kr=r(106),Jr=r(232),Qr=function(e){var t=e.uploadIcon,r=e.children,n=Object(b.useRef)(),a=Object(b.useState)(),o=k()(a,2),i=o[0],c=o[1],l=Object(b.useState)(!1),s=k()(l,2),u=s[0],d=s[1];return O.a.createElement("div",{style:{position:"relative"}},O.a.createElement("input",{accept:"image/*",onChange:function(e){c(e.target.files[0]),d(!0),t(e.target.files[0]).then(function(){return d(!1)})},ref:n,type:"file",id:"icon-upload",hidden:!0}),O.a.createElement("button",{disabled:u,onClick:function(){return n.current.click()},className:"image-upload-button"},u?O.a.createElement(mr.Spinner,{className:"image-upload-spinner"}):O.a.createElement(Jr.a,{size:"sm"})),!i&&r,i&&O.a.createElement("img",{className:"image-preview",style:{height:64},src:URL.createObjectURL(i),id:i.name}))};Qr.propTypes={uploadIcon:I.a.func.isRequired,children:I.a.oneOfType([I.a.node,I.a.arrayOf(I.a.node)])};var Xr=Qr,$r=function(e){var t=e.url,r=e.isOpen,n=e.product,a=e.setOpen,i=e.isFetching,c=e.uploadIcon;return O.a.createElement(b.Fragment,null,O.a.createElement(Kr.b,null,O.a.createElement("div",{style:{float:"left"},className:"pf-u-mr-sm"},O.a.createElement(Xr,{uploadIcon:c},O.a.createElement(x.a,{src:"".concat(N.b,"/portfolio_items/").concat(n.id,"/icon"),platformId:n.service_offering_source_ref,height:64}))),O.a.createElement(Qt.a,null,O.a.createElement(Xt.a,null,O.a.createElement(ue.a,null,O.a.createElement(de.a,{component:de.b.h1},n.display_name||n.name))),O.a.createElement(Xt.a,{style:{minHeight:36}},O.a.createElement(Qt.a,null,O.a.createElement(T.d,{exact:!0,path:t,render:function(){for(var e=arguments.length,n=new Array(e),c=0;c<e;c++)n[c]=arguments[c];return O.a.createElement(Yr,o()({isOpen:r,setOpen:function(e){return a(e)},orderUrl:"".concat(t,"/order"),editUrl:"".concat(t,"/edit"),copyUrl:"".concat(t,"/copy"),isFetching:i},n))}})))),O.a.createElement(Qt.a,null,O.a.createElement(Xt.a,null,O.a.createElement(ue.a,null,O.a.createElement(de.a,{component:de.b.small},n.distributor," "))))))};$r.propTypes={url:I.a.string.isRequired,isOpen:I.a.bool,product:I.a.shape({display_name:I.a.string,distributor:I.a.string,name:I.a.string.isRequired,workflow_ref:I.a.string}).isRequired,setOpen:I.a.func.isRequired,isFetching:I.a.bool,uploadIcon:I.a.func.isRequired},$r.defaultProps={isFetching:!1};var Zr=$r,en=function(e){var t=e.match,r=t.path,n=t.url,a=t.params.portfolioItemId,i=e.source,c=e.product,l=e.portfolio,s=e.isLoading,u=e.workflows,d=e.orderFetching,p=e.fetchWorkflows,f=e.fetchPlatforms,m=e.fetchPortfolioItem,h=Object(b.useState)(!1),y=k()(h,2),E=y[0],g=y[1];Object(b.useEffect)(function(){p()},[]),Object(b.useEffect)(function(){f(),m(a)},[r]);return s?O.a.createElement(mr.Section,{style:{backgroundColor:"white",minHeight:"100%"}},O.a.createElement(Kr.b,null,O.a.createElement(Yt.e,null))):O.a.createElement(mr.Section,{style:{backgroundColor:"white",minHeight:"100%"}},O.a.createElement(T.d,{path:"".concat(n,"/order"),render:function(e){return O.a.createElement(cr,o()({},e,{closeUrl:n,serviceData:c}))}}),O.a.createElement(T.d,{path:"".concat(n,"/copy"),render:function(e){return O.a.createElement(Br,o()({},e,{portfolioItemId:c.id,portfolioId:l.id,closeUrl:n}))}}),O.a.createElement(Zr,{uploadIcon:function(e){return nt(c.id,e)},url:n,isOpen:E,product:c,setOpen:g,isFetching:d}),O.a.createElement("div",{style:{padding:32}},O.a.createElement(Cr.a,null,O.a.createElement(wr.a,{md:2},O.a.createElement(qr,{product:c,portfolio:l,source:i})),O.a.createElement(wr.a,{md:10},O.a.createElement(Ur,{product:c,url:n,workflows:u})))))};en.propTypes={match:I.a.shape({path:I.a.string.isRequired}).isRequired,portfolio:I.a.shape({id:I.a.string.isRequired}),product:I.a.shape({id:I.a.string}).isRequired,source:I.a.object,history:I.a.shape({push:I.a.func.isRequired}).isRequired,workflows:I.a.arrayOf(I.a.shape({value:Object(je.a)(I.a.string),label:I.a.string.isRequired})).isRequired,isLoading:I.a.bool,fetchPlatforms:I.a.func.isRequired,fetchPortfolioItem:I.a.func.isRequired,fetchWorkflows:I.a.func.isRequired,selectPortfolioItem:I.a.func.isRequired,orderFetching:I.a.bool};var tn=Object(T.k)(Object(R.connect)(function(e){var t,r=e.portfolioReducer,n=r.portfolioItem,a=r.isLoading,o=r.selectedPortfolio,i=e.platformReducer.platforms,c=e.approvalReducer,l=c.workflows,s=c.isFetching,u=e.orderReducer.isLoading,d=o,p=n;return p&&i&&(t=i.find(function(e){return e.id==p.service_offering_source_ref})),{isLoading:a||!p||!d||!t||s,workflows:l,portfolio:d,product:p,source:t,orderFetching:u}},function(e){return Object(_.a)({fetchPlatforms:Lr.b,fetchPortfolioItem:ut,fetchWorkflows:zr,selectPortfolioItem:Et},e)})(en)),rn={selectedItems:[],removeInProgress:!1,filterValue:"",copyInProgress:!1,isFetching:!0},nn=function(e,t){var r,n,a=t.type,o=t.payload;return{selectItem:C()({},e,{selectedItems:(r=e.selectedItems,n=o,r.includes(n)?[].concat(le()(r.slice(0,r.indexOf(n))),le()(r.slice(r.indexOf(n)+1))):[].concat(le()(r),[n]))}),setRemoveInProgress:C()({},e,{removeInProgress:o}),removeSucessfull:C()({},e,{selectedItems:[],removeInProgress:!1}),setFilterValue:C()({},e,{filterValue:o}),setCopyInProgress:C()({},e,{copyInProgress:o}),setIsFetching:C()({},e,{isFetching:o})}[a]},an=function(e){var t=Object(b.useReducer)(nn,rn),r=k()(t,2),n=r[0],a=n.copyInProgress,i=n.isFetching,c=n.filterValue,l=n.removeInProgress,s=n.selectedItems,u=r[1];Object(b.useEffect)(function(){var t;return t=e.match.params.id,u({type:"setIsFetching",payload:!0}),Promise.all([e.fetchPlatforms(),e.fetchSelectedPortfolio(t),e.fetchPortfolioItemsWithPortfolio(t,gr.a)]).then(function(){return u({type:"setIsFetching",payload:!1})}).catch(function(){return u({type:"setIsFetching",payload:!1})}),Object(je.g)(),function(){return e.resetSelectedPortfolio()}},[e.match.params.id]);var d=function(){return u({type:"setCopyInProgress",payload:!0}),e.copyPortfolio(e.match.params.id).then(function(t){var r=t.id;return e.history.push("/portfolios/detail/".concat(r))}).then(function(){return u({type:"setCopyInProgress",payload:!1})}).then(function(){return e.fetchPortfolios()}).catch(function(){return u({type:"setCopyInProgress",payload:!1})})},p=function(t){u({type:"setRemoveInProgress",payload:!0}),e.removeProductsFromPortfolio(t,e.portfolio.name).then(function(){return u({type:"removeSucessfull"})}).catch(function(){return u({type:"setRemoveInProgress",payload:!1})})},f=function(e){return u({type:"selectItem",payload:e})},m=function(e){return u({type:"setFilterValue",payload:e})},h={portfolioRoute:e.match.url,addProductsRoute:"".concat(e.match.url,"/add-products"),editPortfolioRoute:"".concat(e.match.url,"/edit-portfolio"),removePortfolioRoute:"".concat(e.match.url,"/remove-portfolio"),sharePortfolioRoute:"".concat(e.match.url,"/share-portfolio"),orderUrl:"".concat(e.match.url,"/product")},y=e.portfolio?e.portfolio.name:"",E={items:e.portfolioItems.filter(function(e){return Object(je.f)(e,c)}).map(function(e){return O.a.createElement(V,o()({key:e.id},e,{isSelectable:!0,onSelect:f,isSelected:s.includes(e.id),orderUrl:"".concat(h.orderUrl,"/").concat(e.id),removeInProgress:l}))}),isLoading:i};return O.a.createElement(T.g,null,O.a.createElement(T.d,{path:h.addProductsRoute,render:function(){return O.a.createElement(Fr,{portfolio:e.portfolio,portfolioRoute:h.portfolioRoute})}}),O.a.createElement(T.d,{path:"".concat(h.orderUrl,"/:portfolioItemId"),component:tn}),O.a.createElement(T.d,{path:h.portfolioRoute,render:function(t){return O.a.createElement(fr,o()({},h,t,{selectedItems:s,filteredItems:E,title:y,filterValue:c,handleFilterChange:m,isLoading:i,copyInProgress:a,removeProducts:p,copyPortfolio:d,fetchPortfolioItemsWithPortfolio:e.fetchPortfolioItemsWithPortfolio,portfolio:e.portfolio,pagination:e.pagination}))}}))};an.propTypes={fetchPortfolioItemsWithPortfolio:I.a.func,fetchSelectedPortfolio:I.a.func,match:I.a.object,fetchPortfolios:I.a.func.isRequired,fetchPlatforms:I.a.func,portfolio:I.a.shape({name:I.a.string,id:I.a.string}),location:I.a.object,history:I.a.object,portfolioItems:I.a.array,removeProductsFromPortfolio:I.a.func.isRequired,copyPortfolio:I.a.func.isRequired,pagination:I.a.object,isLoading:I.a.bool,resetSelectedPortfolio:I.a.func.isRequired},an.defaultProps={portfolioItems:[],portfolio:{}};var on=Object(T.k)(Object(R.connect)(function(e){var t=e.portfolioReducer,r=t.selectedPortfolio,n=t.portfolioItems,a=t.isLoading;return{portfolio:r,portfolioItems:n.data,pagination:n.meta,isLoading:a}},function(e){return Object(_.a)({fetchPortfolioItemsWithPortfolio:dt,fetchSelectedPortfolio:pt,removeProductsFromPortfolio:gt,fetchPortfolios:st,fetchPlatforms:Lr.b,copyPortfolio:vt,resetSelectedPortfolio:Ot},e)})(an)),cn=r(125),ln=r(217),sn=r(176),un=(r(402),function(e){var t=e.route,r=e.portfolioName,n=e.headerActions;return O.a.createElement(Qt.a,null,O.a.createElement(Xt.a,{className:"portfolio-card-header-title",style:{flexGrow:1}},O.a.createElement(B.Link,{to:t},O.a.createElement(ue.a,null,O.a.createElement(de.a,{title:r,className:"elipsis-text-overflow pf-u-mb-0",component:de.b.h3},r)))),O.a.createElement(Xt.a,{onClick:function(e){return e.preventDefault()}},n))});un.propTypes={portfolioName:I.a.string.isRequired,headerActions:I.a.arrayOf(I.a.node),route:I.a.string.isRequired},un.defaultProps={headerActions:[]};var dn=un,pn=["description"],fn=function(e,t,r){return[O.a.createElement(H.a,{key:"portfolio-dropdown",isOpen:t,isPlain:!0,onSelect:function(){return r(!1)},position:z.d.right,toggle:O.a.createElement(W.a,{onToggle:r}),dropdownItems:[O.a.createElement(Y.a,{key:"share-portfolio-action"},O.a.createElement(B.Link,{to:"/portfolios/share/".concat(e),className:"pf-c-dropdown__menu-item"},"Share")),O.a.createElement(ln.a,{key:"share-portfolio-separator"}),O.a.createElement(Y.a,{key:"edit-portfolio-action"},O.a.createElement(B.Link,{to:"/portfolios/edit/".concat(e),className:"pf-c-dropdown__menu-item"},"Edit")),O.a.createElement(Y.a,{key:"remove-portfolio-action"},O.a.createElement(B.Link,{to:"/portfolios/remove/".concat(e),className:"pf-c-dropdown__menu-item destructive-color"},"Delete"))]})]},mn=function(e){var t=e.imageUrl,r=e.isDisabled,n=e.name,a=e.id,i=Q()(e,["imageUrl","isDisabled","name","id"]),c=Object(b.useState)(!1),l=k()(c,2),s=l[0],u=l[1],d="/portfolios/detail/".concat(a);return O.a.createElement(w.a,null,O.a.createElement("div",{className:r?"portfolio-item-progress":""},r&&O.a.createElement(S.a,{className:"content-gallery-card progress-overlay"}),O.a.createElement(S.a,{className:"content-gallery-card"},O.a.createElement(q.a,null,O.a.createElement(dn,{route:d,portfolioName:n,headerActions:fn(a,s,u)})),O.a.createElement(sn.a,{className:"pf-u-pl-0 pf-u-pr-0 pf-u-pb-0"},O.a.createElement(B.Link,{className:"card-link pf-u-display-block pf-u-pl-lg pf-u-pr-lg",to:d},O.a.createElement(ue.a,null,O.a.createElement(de.a,{component:de.b.small},Object(je.c)(new Date(i.updated_at||i.created_at),i.owner))),O.a.createElement(cn.a,o()({},C()({name:n,imageUrl:t},i),{toDisplay:pn})))),O.a.createElement(D.a,null))))};mn.propTypes={history:I.a.object,imageUrl:I.a.string,name:I.a.string,id:I.a.string.isRequired,updated_at:I.a.string,created_at:I.a.string.isRequired,owner:I.a.string,isDisabled:I.a.bool};var hn=mn,yn=function(e){var t=e.meta,r=e.fetchPortfolios,n=e.filterProps,a=n.searchValue,o=n.onFilterChange,i=n.placeholder;return{fields:[{component:K.b.TOP_TOOLBAR,key:"portfolios-top-toolbar",fields:[{component:K.b.TOP_TOOLBAR_TITLE,key:"portfolios-toolbar-title",title:"Portfolios"},{component:K.b.LEVEL,key:"porftolios-actions",fields:[{component:K.b.TOOLBAR,key:"main-portfolio-toolbar",className:"pf-u-mt-md",fields:[X({groupName:"filter-group",component:K.b.FILTER_TOOLBAR_ITEM,key:"filter-input",searchValue:a,onFilterChange:o,placeholder:i}),X(C()({groupName:"portfolio-button-group",key:"create-portfolio"},$({to:"/portfolios/add-portfolio",variant:"primary",key:"create-portfolio-button","aria-label":"Create portfolio",title:"Create portfolio"})))]},{component:K.b.LEVEL_ITEM,key:"pagination-item",fields:[{component:Z.a,key:"porftolios-pagination",meta:t,apiRequest:r}]}]}]}]}},En="",gn="detail/:id",vn=function(e){function t(){var e,r;c()(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=d()(this,(e=f()(t)).call.apply(e,[this].concat(a))),v()(h()(r),"state",{filteredItems:[],isOpen:!1,filterValue:""}),v()(h()(r),"fetchData",function(){r.props.fetchPortfolios(void 0,gr.a)}),v()(h()(r),"onFilterChange",function(e){return r.setState({filterValue:e})}),v()(h()(r),"renderItems",function(e){var t={items:r.props.portfolios.filter(function(e){return e.name.toLowerCase().includes(r.state.filterValue.trim().toLowerCase())}).map(function(e){return O.a.createElement(hn,o()({key:e.id},e))}),isLoading:r.props.isLoading&&0===r.props.portfolios.length};return O.a.createElement(b.Fragment,null,O.a.createElement(G.a,{schema:yn({meta:r.props.pagination||{},fetchPortfolios:r.props.fetchPortfolios,filterProps:{searchValue:r.state.filterValue,onFilterChange:r.onFilterChange,placeholder:"Filter by name..."}})}),O.a.createElement(T.d,o()({},e,{exact:!0,path:"/portfolios/add-portfolio",component:_t})),O.a.createElement(T.d,{exact:!0,path:"/portfolios/edit/:id",component:_t}),O.a.createElement(T.d,{exact:!0,path:"/portfolios/remove/:id",component:kt}),O.a.createElement(T.d,{exact:!0,path:"/portfolios/share/:id",render:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return O.a.createElement(Jt,o()({closeUrl:r.props.match.url},t))}}),O.a.createElement(dr.a,o()({},t,{renderEmptyState:function(){return O.a.createElement(lr.b,{title:"No portfolios",Icon:L.a,description:"You haven’t created a portfolio yet.",PrimaryAction:function(){return O.a.createElement(lr.a,{url:"/portfolios/add-portfolio",label:"Create portfolio"})}})}})))}),r}return E()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.fetchData(),Object(je.g)()}},{key:"render",value:function(){return O.a.createElement(T.g,null,O.a.createElement(T.d,{path:"/portfolios/".concat(gn),component:on}),O.a.createElement(T.d,{path:"/portfolios/".concat(En),render:this.renderItems}))}}]),t}(b.Component);vn.propTypes={filteredItems:I.a.array,portfolios:I.a.array,platforms:I.a.array,isLoading:I.a.bool,searchFilter:I.a.string,showModal:I.a.func,fetchPortfolios:I.a.func.isRequired,pagination:I.a.object,match:I.a.shape({url:I.a.string.isRequired}).isRequired},vn.defaultProps={portfolios:[],pagination:{}};t.default=Object(R.connect)(function(e){var t=e.portfolioReducer,r=t.portfolios,n=t.isLoading,a=t.filterValue;return{portfolios:r.data,pagination:r.meta,isLoading:n,searchFilter:a}},function(e){return Object(_.a)({fetchPortfolios:st},e)})(vn)},672:function(e,t,r){"use strict";r.r(t);var n,a,o,i,c,l,s=r(2),u=r.n(s),d=r(40),p=r.n(d),f=r(12),m=r(14),h=r(433),y=r(103),E=r.n(y),g=r(44),v=r(411),b=r.n(v),O=r(412),P=r(7),I=r.n(P),R=r(4),_=r.n(R),T=r(5),L=r(45),j={servicePlans:[],selectedPlan:{},serviceData:{},isLoading:!1,requests:[],openOrders:{data:[],meta:_()({},L.a)},closedOrders:{data:[],meta:_()({},L.a)}},k=function(e,t){var r=t.payload,n=void 0===r||r;return _()({},e,{isLoading:n})},F=(n={},I()(n,"".concat(T.u,"_PENDING"),k),I()(n,"".concat(T.u,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{servicePlans:r,isLoading:!1})}),I()(n,"".concat(T.y,"_PENDING"),k),I()(n,"".concat(T.y,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{orders:r,isLoading:!1})}),I()(n,"".concat(T.v,"_PENDING"),k),I()(n,"".concat(T.v,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{planParameters:r,isLoading:!1})}),I()(n,"".concat(T.M,"_PENDING"),k),I()(n,"".concat(T.M,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,r,{isLoading:!1})}),I()(n,T.Q,function(e,t){var r=t.payload;return _()({},e,{serviceData:r,isLoading:!1})}),I()(n,T.K,function(e,t){var r=t.payload;return _()({},e,{selectedPlan:r,isLoading:!1})}),I()(n,"".concat(T.t,"_PENDING"),k),I()(n,"".concat(T.t,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{requests:r,isLoading:!1})}),I()(n,"".concat(T.i,"_PENDING"),k),I()(n,"".concat(T.i,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{orderItems:r,isLoading:!1})}),I()(n,T.H,k),I()(n,"".concat(T.h,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{openOrders:r,isLoading:!1})}),I()(n,"".concat(T.f,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{closedOrders:r,isLoading:!1})}),I()(n,"".concat(T.h,"_PENDING"),k),I()(n,"".concat(T.f,"_PENDING"),k),I()(n,T.I,function(e,t){var r=t.payload,n=r.openOrders,a=r.closedOrders;return _()({},e,{openOrders:n,closedOrders:a})}),n),C=function(e,t){var r=t.payload,n=void 0===r||r;return _()({},e,{isPlatformDataLoading:n})},w=(a={},I()(a,"".concat(T.k,"_PENDING"),C),I()(a,"".concat(T.k,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{platforms:r,isPlatformDataLoading:!1})}),I()(a,"".concat(T.m,"_PENDING"),C),I()(a,"".concat(T.m,"_FULFILLED"),function(e,t){var r=t.payload,n=t.meta.platformId;return _()({},e,{platformItems:_()({},e.platformItems,I()({},n,r)),isPlatformDataLoading:!1})}),I()(a,"".concat(T.l,"_PENDING"),C),I()(a,"".concat(T.l,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{portfolioItem:r,isPlatformDataLoading:!1})}),I()(a,"".concat(T.j,"_PENDING"),C),I()(a,"".concat(T.j,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{selectedPlatform:r,isLoading:!1})}),I()(a,"".concat(T.w,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{filterValue:r})}),I()(a,"".concat(T.g,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{platformItems:_()({},e.platformItems,r),isPlatformDataLoading:!1})}),I()(a,T.H,C),a),S=r(16),q=r.n(S),D={portfolioItems:{data:[],meta:{limit:50,offset:0}},portfolioItem:{},portfolios:{data:[],meta:{limit:50,offset:0}},portfolio:{},filterValue:"",isLoading:!1},N=function(e,t){var r=t.payload,n=void 0===r||r;return _()({},e,{isLoading:n})},x=function(e,t){var r=t.payload;return _()({},e,{portfolioItems:r,isLoading:!1})},A=function(e,t){var r=t.payload;return _()({},e,{portfolioItem:r,isLoading:!1})},U=function(e,t){var r=t.payload;return _()({},e,{selectedPortfolio:r,isLoading:!1})},M=(o={},I()(o,"".concat(T.o,"_PENDING"),N),I()(o,"".concat(T.o,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{portfolios:r,isLoading:!1})}),I()(o,"".concat(T.q,"_PENDING"),N),I()(o,"".concat(T.q,"_FULFILLED"),x),I()(o,"".concat(T.r,"_PENDING"),N),I()(o,"".concat(T.r,"_FULFILLED"),x),I()(o,"".concat(T.p,"_PENDING"),N),I()(o,"".concat(T.p,"_FULFILLED"),A),I()(o,"".concat(T.n,"_PENDING"),N),I()(o,"".concat(T.n,"_FULFILLED"),U),I()(o,T.x,function(e,t){var r=t.payload;return _()({},e,{filterValue:r})}),I()(o,"".concat(T.G,"_FULFILLED"),A),I()(o,T.G,A),I()(o,"".concat(T.O,"_FULFILLED"),U),I()(o,T.H,N),I()(o,"".concat(T.B,"_PENDING"),N),I()(o,T.C,function(e){return _()({},e,{selectedPortfolio:void 0,portfolioItems:D.portfolioItems})}),I()(o,T.b,function(e,t){var r=t.payload;return _()({prevState:_()({},e)},e,{portfolios:_()({},e.portfolios,{data:[].concat(q()(e.portfolios.data),[r])})})}),I()(o,T.R,function(e,t){var r=t.payload;return _()({prevState:_()({},e)},e,{selectedPortfolio:r,portfolios:_()({},e.portfolios,{data:e.portfolios.data.map(function(e){return e.id===r.id?_()({},e,r):e})})})}),I()(o,T.e,function(e,t){var r=t.payload;return _()({prevState:_()({},e)},e,{selectedPortfolio:void 0,portfolios:_()({},e.portfolios,{data:e.portfolios.data.filter(function(e){return e.id!==r})})})}),I()(o,T.F,function(e){return e.prevState?_()({},e.prevState):_()({},e)}),I()(o,T.J,x),I()(o,T.S,function(e,t){var r=t.payload;return _()({},e,{prevState:_()({},e),portfolioItem:r,portfolioItems:_()({},e.portfolioItems,{data:e.portfolioItems.data.map(function(e){return e.id===r.id?_()({},r):e})})})}),I()(o,T.P,function(e,t){var r=t.payload;return _()({},e,{portfolioItem:r,portfolioItems:_()({},e.portfolioItems,{data:e.portfolioItems.data.map(function(e){return e.id===r.id?_()({},r):e})})})}),o),V=r(137),G=function(e,t){var r=t.payload,n=void 0===r||r;return _()({},e,{isFetching:n})},B=(i={},I()(i,V.a.FETCH_WORKFLOWS_PENDING,G),I()(i,V.a.FETCH_WORKFLOWS_FULFILLED,function(e,t){var r=t.payload;return _()({},e,{isFetching:!1,workflows:r})}),I()(i,T.H,G),i),H=function(e,t){var r=t.payload,n=void 0===r||r;return _()({},e,{isLoading:n})},z=(c={},I()(c,"".concat(T.s,"_PENDING"),H),I()(c,"".concat(T.s,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{rbacGroups:r,isLoading:!1})}),I()(c,T.H,H),c),W=function(e,t){var r=t.payload,n=void 0===r||r;return _()({},e,{isLoading:n})},Y=(l={},I()(l,"".concat(T.z,"_PENDING"),W),I()(l,"".concat(T.z,"_FULFILLED"),function(e,t){var r=t.payload;return _()({},e,{shareInfo:r,isLoading:!1})}),I()(l,T.H,W),l),K=function(){return function(e){return function(t){return t.type.match(/_REJECTED$/)&&e({type:T.H,payload:!1}),e(t)}}},J=new E.a({},[O.a,Object(h.a)(),Object(g.notificationsMiddleware)({errorTitleKey:["errors","message","statusText"],errorDescriptionKey:["data.errors[0].detail","data.errors","data.error","data.message","response.body.errors","data","errorMessage","stack"]}),K,b.a]);J.register({orderReducer:Object(y.applyReducerHash)(F,j),platformReducer:Object(y.applyReducerHash)(w,{isPlatformDataLoading:!1,platforms:[],platformItems:{},platformItem:{},platform:{},filterValue:""}),portfolioReducer:Object(y.applyReducerHash)(M,D),approvalReducer:Object(y.applyReducerHash)(B,{isFetching:!1,workflows:[]}),rbacReducer:Object(y.applyReducerHash)(z,{rbacGroups:[],isLoading:!1}),shareReducer:Object(y.applyReducerHash)(Y,{shareInfo:[],isLoading:!1}),notifications:g.notifications});var Q=J.getStore(),X=r(76),$=r.n(X),Z=r(77),ee=r.n(Z),te=r(78),re=r.n(te),ne=r(79),ae=r.n(ne),oe=r(35),ie=r.n(oe),ce=r(80),le=r.n(ce),se=r(1),ue=r.n(se),de=r(105),pe=r(158),fe=r(136),me=r(36),he=r(10),ye=r.n(he),Ee=r(168),ge=r.n(Ee),ve=r(418),be=r.n(ve),Oe=r(49),Pe=Object(s.lazy)(function(){return Promise.resolve().then(function(){return ge()(r(674))})}),Ie=Object(s.lazy)(function(){return Promise.resolve().then(function(){return ge()(r(671))})}),Re=Object(s.lazy)(function(){return Promise.resolve().then(function(){return ge()(r(673))})}),_e={platforms:"/platforms",portfolios:"/portfolios",portfolioItem:"/portfolios/:id",orders:"/orders"},Te=function(e){var t=e.rootClass,r=ye()(e,["rootClass"]),n=document.getElementById("root");return n.removeAttribute("class"),n.classList.add("page__".concat(t),"pf-l-page__main","pf-c-page__main"),n.setAttribute("role","main"),u.a.createElement(de.d,r)};Te.propTypes={rootClass:ue.a.string};var Le=function(e){var t=e.childProps.location.pathname;return u.a.createElement(s.Suspense,{fallback:u.a.createElement(Oe.a,null)},u.a.createElement(de.g,null,u.a.createElement(Te,{path:_e.portfolios,component:Ie,rootClass:"portfolios"}),u.a.createElement(Te,{path:_e.platforms,component:Pe,rootClass:"platforms"}),u.a.createElement(Te,{path:_e.orders,component:Re,rootClass:"catalog"}),u.a.createElement(de.d,{render:function(){return be()(_e,function(e){return e===t})?null:u.a.createElement(de.c,{to:_e.portfolios})}})))};Le.propTypes={childProps:ue.a.object};r(512);var je=r(415),ke=r.n(je),Fe=r(160);r(529),r(530);ke.a.polyfill();var Ce=function(e){function t(){var e,r;$()(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=re()(this,(e=ae()(t)).call.apply(e,[this].concat(a))),I()(ie()(r),"state",{chromeNavAvailable:!0,auth:!1,ignoreRedirect:!0}),r}return le()(t,e),ee()(t,[{key:"componentDidMount",value:function(){var e=this;insights.chrome.init(),insights.chrome.auth.getUser().then(function(){return e.setState({auth:!0})});try{insights.chrome.identifyApp("catalog"),insights.chrome.navigation([{id:"portfolios",title:"Portfolios"},{id:"platforms",title:"Platforms"},{id:"orders",title:"Orders"}]),this.unregister=insights.chrome.on("APP_NAVIGATION",function(t){e.state.ignoreRedirect||e.props.history.push("/".concat(t.navId)),e.setState({ignoreRedirect:!1})})}catch(e){this.setState({chromeNavAvailable:!1})}}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"render",value:function(){return this.state.auth?u.a.createElement(Fe.b,{locale:"en"},u.a.createElement(s.Fragment,null,u.a.createElement(g.NotificationsPortal,null),u.a.createElement(me.Main,{style:{marginLeft:0,padding:0}},u.a.createElement(pe.a,{style:{minHeight:"calc(100vh - 76px)"}},u.a.createElement(fe.a,{sm:12},u.a.createElement(Le,{childProps:this.props})))))):u.a.createElement(Oe.a,null)}}]),t}(s.Component);Ce.propTypes={history:ue.a.object};var we=Object(de.k)(Object(m.connect)()(Ce)),Se=window.location.pathname.split("/");Se.shift();var qe="/";"beta"===Se[0]&&(qe="/".concat(Se.shift(),"/")),p.a.render(u.a.createElement(m.Provider,{store:Q},u.a.createElement(f.BrowserRouter,{basename:"".concat(qe).concat(Se[0],"/").concat(Se[1])},u.a.createElement(we,null))),document.getElementById("root"))},673:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),o=r(105),i=r(1),c=r.n(i),l=r(225),s=r(147),u=r(158),d=r(136),p=r(36),f=r(69),m=r(18),h=function(e){var t=e.Tabs;return{fields:[{component:m.b.TOP_TOOLBAR,paddingBottom:!1,key:"orders-toolbar",breadcrumbs:!1,fields:[{component:m.b.TOP_TOOLBAR_TITLE,key:"orders-toolbar-title",title:"Orders",className:"pf-u-mb-0"},{component:m.b.LEVEL,key:"add-products-actions",fields:[{component:t,key:"order-tab-nav"}]}]}]}},y=(r(670),r(9)),E=r.n(y),g=r(21),v=r.n(g),b=r(14),O=r(192),P=r(193),I=r(220),R=r(100),_=r(54),T=r(49),L=r(4),j=r.n(L),k=r(182),F=r(184),C=r(221),w=r(183),S=r(181),q=r(226),D=r(227),N=r(190),x=r(130),A=r(149),U=r(222),M=r(156),V=r(12),G=r(107),B=r(236),H=function(e){var t=e.index,r=e.text;return a.a.createElement("div",{className:"requests-step-label"},a.a.createElement("span",null,t+1),a.a.createElement("span",null,r))};H.propTypes={index:c.a.number.isRequired,text:c.a.string.isRequired};var z=H,W=function(e){return["Failed","Denied"].includes(e)},Y=function(e){var t=e.orderId,r=e.onCancel,n=e.canCancel,o=e.requests,i=e.orderState,c=e.match.url;return a.a.createElement("table",{className:"requests-table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Steps"),a.a.createElement("th",null,"Performed by"),a.a.createElement("th",null,"Date & time"),a.a.createElement("th",null,"Status"),n&&a.a.createElement("th",{className:"action-row"}))),a.a.createElement("tbody",null,o.map(function(e,o){var c=e.reason,l=e.requester,s=e.updated_at,u=e.state,d=e.isFinished;return a.a.createElement("tr",{key:o,className:"".concat(d?"finished":""," ").concat(W(i)?"failed":"")},a.a.createElement("td",null,a.a.createElement(z,{index:o,text:c})),a.a.createElement("td",null,l),a.a.createElement("td",null,s),a.a.createElement("td",null,u),n&&a.a.createElement("td",null,0===o&&a.a.createElement(G.a,{id:"cancel-order-".concat(t),onClick:r,variant:"secondary"},"Cancel")))}),a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement(V.Link,{to:"".concat(c,"/").concat(o[0].orderItemId,"/messages")},a.a.createElement(B.a,null)," Show progress messages")))))};Y.propTypes={requests:c.a.arrayOf(c.a.shape({reason:c.a.string,requester:c.a.string,updated_at:c.a.string,state:c.a.oneOfType([c.a.string,c.a.node])})).isRequired,orderId:c.a.string.isRequired,orderState:c.a.string,onCancel:c.a.func,canCancel:c.a.bool,match:c.a.shape({url:c.a.string.isRequired}).isRequired};var K=Object(o.k)(Y),J=r(82),Q=r(17),X=function(e){var t=e.orderItems;return t[0]&&"".concat(Q.b,"/portfolio_items/").concat(t[0].portfolio_item_id,"/icon")},$=function(e,t){var r=e.orderItems,n=e.id,a=r[0]&&t.find(function(e){var t=e.id;return r[0].portfolio_item_id===t});return a?a.display_name||a.name:"Order ".concat(n)},Z=function(e,t){var r=e.orderItems,n=r[0]&&t.find(function(e){var t=e.id;return r[0].portfolio_item_id===t});return n&&n.service_offering_source_ref},ee=r(28),te=r(231),re=r(235),ne=r(237),ae=function(e){return["Failed","denied","Denied"].includes(e)},oe=function(e){var t=function(e){return[{reason:"Order initiated",requester:"System",updated_at:e.orderItems[0]&&Object(ee.b)(e.orderItems[0].updated_at||e.orderItems[0].created_at),state:"finished",orderItemId:e.orderItems[0]&&e.orderItems[0].id},{reason:"Approval",requester:"System",updated_at:e.requests[0]&&Object(ee.b)(e.requests[0].updated_at||e.requests[0].created_at),state:e.requests[0]&&e.requests[0].state,initialUpdate:e.requests[0]&&(e.requests[0].updated_at||e.requests[0].created_at)},{reason:"Provision",requester:"System",updated_at:Object(ee.b)(e.ordered_at||e.created_at),state:e.state,initialUpdate:e.ordered_at||e.created_at},{reason:"Order completed",requester:"System",updated_at:Object(ee.b)(e.ordered_at||e.created_at),state:e.state,initialUpdate:e.ordered_at||e.created_at}]}(e),r=t.filter(function(e){var t=e.state;return!ae(t)&&function(e){return["Order Completed","finished","Completed","approved"].includes(e)}(t)}),n=t.findIndex(function(e){var t=e.state;return ae(t)});return n>=0&&(r=r.slice(0,n)),{steps:t.map(function(e,t){return j()({},e,{requester:t<=r.length?e.requester:null,state:t<=r.length?(n=e.state,{finished:a.a.createElement("span",null,a.a.createElement(te.a,{fill:"#92D400"}),"  Success"),"Order Completed":a.a.createElement(te.a,{fill:"#92D400"}),Completed:a.a.createElement("span",null,a.a.createElement(te.a,{fill:"#92D400"}),"  Success"),approved:a.a.createElement("span",null,a.a.createElement(te.a,{fill:"#92D400"}),"  Approved"),Failed:a.a.createElement("span",null,a.a.createElement(re.a,null),"  Failed"),denied:a.a.createElement("span",null,a.a.createElement(re.a,null),"  Denied"),Canceled:a.a.createElement("span",null,a.a.createElement(re.a,null),"  Canceled"),canceled:a.a.createElement("span",null,a.a.createElement(re.a,null),"  Canceled")}[n]||a.a.createElement("span",null,a.a.createElement(ne.a,null),"  Pending")):null,updated_at:t<=r.length?e.updated_at:null,isFinished:r.length===t});var n}),finishedSteps:r}},ie=r(223),ce=r(127),le=r(233),se=function(e){var t=e.name,r=e.cancelOrder,n=e.onClose,o=e.isOpen;return a.a.createElement(ie.a,{isOpen:o,onClose:n,title:" ",header:a.a.createElement(ce.a,{size:"2xl",headingLevel:"h2"},a.a.createElement(le.a,{fill:"#F0AB00"})," Cancel order"),isSmall:!0,actions:[a.a.createElement(G.a,{onClick:r,key:"cancel-order",id:"cancel-order",variant:"danger"},"Cancel order"),a.a.createElement(G.a,{onClick:n,key:"keep-order",id:"keep-order",variant:"link"},"Keep order")]},"Are you sure you want to cancel ",t,"?")};se.propTypes={name:c.a.string.isRequired,cancelOrder:c.a.func.isRequired,onClose:c.a.func.isRequired,isOpen:c.a.bool};var ue=se,de=r(63),pe=["Approval Pending"],fe=function(e){return pe.includes(e)},me=function(e){var t=e.item,r=Object(n.useState)(!1),o=v()(r,2),i=o[0],c=o[1],l=Object(n.useState)(!1),s=v()(l,2),f=s[0],m=s[1],h=Object(n.useState)(),y=v()(h,2),E=y[0],g=y[1],I=Object(n.useState)(!1),_=v()(I,2),T=_[0],L=_[1],V=Object(b.useSelector)(function(e){return e.portfolioReducer.portfolioItems.data}),G=Object(b.useDispatch)();Object(n.useEffect)(function(){!f||T||E||(L(!0),Object(de.getOrderApprovalRequests)(t.orderItems[0].id).then(function(e){var r=e.data;g(oe(j()({},t,{requests:r})).steps),L(!1)}))},[f]);var B=Object(ee.d)(new Date(t.created_at)),H=Object(ee.e)(t.orderItems);return a.a.createElement(a.a.Fragment,null,a.a.createElement(k.a,{"aria-labelledby":"".concat(t.id,"-expand"),isExpanded:f,className:"data-list-expand-fix"},a.a.createElement(F.a,null,a.a.createElement(C.a,{id:t.id,"aria-label":"".concat(t.id,"-expand"),"aria-labelledby":"".concat(t.id,"-expand"),onClick:function(){return m(function(e){return!e})},isExpanded:f}),a.a.createElement(w.a,{dataListCells:[a.a.createElement(S.a,{key:"1",className:"cell-grow"},a.a.createElement(q.a,{gutter:"sm"},a.a.createElement(D.a,null,a.a.createElement(J.a,{src:X(t),platformId:Z(t,V)})),a.a.createElement(D.a,null,a.a.createElement(N.a,null,a.a.createElement(u.a,{gutter:"sm",style:{gridGap:8}},a.a.createElement(d.a,null,a.a.createElement(x.a,{style:{marginBottom:0},component:x.b.h5},"".concat($(t,V)," # ").concat(t.id))),a.a.createElement(d.a,null,a.a.createElement(O.a,null,a.a.createElement(P.a,null,a.a.createElement(A.a,{enableFlip:!0,position:A.b.top,content:a.a.createElement("span",null,Object(ee.b)(t.created_at))},a.a.createElement(x.a,{style:{marginBottom:0},component:x.b.small},B))),a.a.createElement(P.a,null,a.a.createElement(x.a,{style:{marginBottom:0},component:x.b.small},"Ordered by ",t.owner)),a.a.createElement(P.a,null,a.a.createElement(A.a,{enableFlip:!0,position:A.b.top,content:a.a.createElement("span",null,Object(ee.b)(t.updated_at||t.ordered_at))},a.a.createElement(x.a,{style:{marginBottom:0},component:x.b.small},H)))))))))),a.a.createElement(S.a,{key:"2",style:{alignSelf:"Completed"===t.state?"flex-end":"center"}},a.a.createElement("div",{style:{minWidth:200,textAlign:"end"}},"Completed"===t.state&&a.a.createElement("a",{href:t.orderItems&&t.orderItems[0].external_url,target:"_blank",rel:"noopener noreferrer"},"Manage product")))]})),a.a.createElement(U.a,{"aria-label":"".concat(t.id,"-content"),isHidden:!f},T&&a.a.createElement(M.a,null,a.a.createElement(p.Spinner,null)),f&&!T&&E&&a.a.createElement("div",null,a.a.createElement(K,{canCancel:fe(t.state),requests:E||[],orderId:t.id,orderState:t.state,orderItem:t.orderItems&&t.orderItems[0],onCancel:function(){return c(!0)}})))),fe(t.state)&&a.a.createElement(ue,{onClose:function(){return c(!1)},cancelOrder:function(){c(!1),G(Object(R.a)(t.id))},isOpen:i,name:"".concat($(t,V)," # ").concat(t.id)}))};me.displayName="OrderItem",me.propTypes={item:c.a.object.isRequired};var he=me,ye=r(161),Ee=r(96),ge=r(31),ve=function(e){var t=e.closeUrl,r=e.history.push,o=e.match.params.orderItemId,i=Object(n.useState)([{message:"Loading messages"}]),c=v()(i,2),l=c[0],s=c[1];return Object(n.useEffect)(function(){Object(ge.d)().listProgressMessages(o).then(function(e){var t=e.data;return s(t.map(function(e){return j()({},e,{message:e.message})}))})},[]),a.a.createElement(ie.a,{isOpen:!0,title:"Progress messages of order item with id: ".concat(o),isLarge:!0,onClose:function(){return r(t)},style:{overflowX:"scroll"}},a.a.createElement("pre",null,JSON.stringify(l,null,2)))};ve.propTypes={match:c.a.shape({params:c.a.shape({orderItemId:c.a.string.isRequired}).isRequired}).isRequired,history:c.a.shape({push:c.a.func.isRequired}).isRequired,closeUrl:c.a.string.isRequired};var be=Object(o.k)(ve),Oe={openOrders:R.c,closedOrders:R.b},Pe=function(e){var t=e.type,r=e.match.url,i=Object(n.useState)(!0),c=v()(i,2),l=c[0],s=c[1],u=Object(n.useState)(""),d=v()(u,2),p=d[0],f=d[1],m=Object(b.useSelector)(function(e){return e.orderReducer[t]}),h=m.data,y=m.meta,g=Object(b.useSelector)(function(e){return e.portfolioReducer.portfolioItems.data}),R=Object(b.useDispatch)();Object(n.useEffect)(function(){s(!0),Promise.all([R(Oe[t]()),R(Object(_.b)())]).then(function(){return s(!1)})},[t]);return a.a.createElement(n.Fragment,null,a.a.createElement(o.d,{path:"".concat(r,"/:orderItemId/messages"),render:function(e){return a.a.createElement(be,E()({closeUrl:r},e))}}),a.a.createElement("div",{className:"pf-u-pb-md pf-u-pl-xl pf-u-pr-xl orders-list"},a.a.createElement(O.a,null,a.a.createElement(P.a,{className:"pf-u-mt-md"},a.a.createElement(ye.a,{searchValue:p,onFilterChange:function(e){return f(e)},placeholder:"Filter by name..."})),a.a.createElement(P.a,null,a.a.createElement(Ee.a,{isDisabled:l,apiRequest:function(){s(!0),R(Oe[t].apply(Oe,arguments)).then(function(){return s(!1)}).catch(function(){return s(!1)})},meta:y})))),a.a.createElement(I.a,{"aria-label":t},l?a.a.createElement(T.d,null):h.filter(function(e){return $(e,g).toLowerCase().includes(p.toLowerCase())}).map(function(e,r){return a.a.createElement(he,{key:e.id,index:r,type:t,item:e})})))};Pe.propTypes={type:c.a.oneOf(["openOrders","closedOrders"]).isRequired,match:c.a.shape({url:c.a.string.isRequired}).isRequired};var Ie=Object(o.k)(Pe),Re=[{eventKey:0,title:"Open",name:"/open"},{eventKey:1,title:"Closed",name:"/closed"}],_e=function(e){var t=e.history.push,r=e.location.pathname,i=Re.find(function(e){var t=e.name;return r.includes(t)}),c=function(e,r){return t("/orders".concat(Re[r].name))};return a.a.createElement(n.Fragment,null,a.a.createElement(f.a,{schema:h({Tabs:function(){return a.a.createElement(l.a,{className:"pf-u-mt-md",activeKey:i?i.eventKey:0,onSelect:c},Re.map(function(e){return a.a.createElement(s.a,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})}))}})}),a.a.createElement(p.Section,{type:"content"},a.a.createElement(u.a,{gutter:"md"},a.a.createElement(d.a,null,a.a.createElement(o.g,null,a.a.createElement(o.d,{path:"/orders/closed",render:function(){return a.a.createElement(Ie,{type:"closedOrders"})}}),a.a.createElement(o.d,{path:["/orders","/orders/open"],render:function(){return a.a.createElement(Ie,{type:"openOrders"})}}))))))};_e.propTypes={history:c.a.shape({push:c.a.func.isRequired}).isRequired,location:c.a.shape({pathname:c.a.string.isRequired}).isRequired};t.default=Object(o.k)(_e)},674:function(e,t,r){"use strict";r.r(t);var n=r(9),a=r.n(n),o=r(76),i=r.n(o),c=r(77),l=r.n(c),s=r(78),u=r.n(s),d=r(79),p=r.n(d),f=r(35),m=r.n(f),h=r(80),y=r.n(h),E=r(7),g=r.n(E),v=r(2),b=r.n(v),O=r(14),P=r(1),I=r.n(P),R=r(105),_=r(36),T=r(190),L=r(130),j=r(196),k=r(43),F=r(126),C=r(69),w=r(81),S=r(28),q=r(162),D=r(4),N=r.n(D),x=r(18),A=function(e){var t=e.searchValue,r=e.onFilterChange,n=e.title,a=e.pagination;return{fields:[{component:x.b.TOP_TOOLBAR,key:"platforms-toolbar",fields:[{component:x.b.TOP_TOOLBAR_TITLE,key:"platforms-toolbar-title",title:n},{component:x.b.LEVEL,key:"platforms-toolbar-actions",fields:[{component:x.b.LEVEL_ITEM,key:"input-level-item",fields:[{component:x.b.FILTER_TOOLBAR_ITEM,key:"platforms-toolbar-filter-input",searchValue:t,onFilterChange:r,placeholder:"Filter by name..."}]},{component:x.b.LEVEL_ITEM,key:"pagination-level-item",fields:a?[N()({component:_.Pagination,key:"platform-pagination"},a)]:[]}]}]}]}},U=r(45),M=r(54),V=function(e){function t(){var e,r;i()(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=u()(this,(e=p()(t)).call.apply(e,[this].concat(a))),g()(m()(r),"state",{filterValue:""}),g()(m()(r),"handleOnPerPageSelect",function(e){return r.props.fetchPlatformItems(r.props.match.params.id,{offset:r.props.paginationCurrent.offset,limit:e})}),g()(m()(r),"handleSetPage",function(e,t){var n={offset:Object(U.c)(e,r.props.paginationCurrent.limit),limit:r.props.paginationCurrent.limit},a=function(){return r.props.fetchPlatformItems(r.props.match.params.id,n)};return t?Object(F.a)(a,250)():a()}),g()(m()(r),"handleFilterChange",function(e){return r.setState({filterValue:e})}),r}return y()(t,e),l()(t,[{key:"fetchData",value:function(e,t){this.props.fetchSelectedPlatform(e),this.props.fetchPlatformItems(e,t)}},{key:"componentDidMount",value:function(){this.fetchData(this.props.match.params.id,U.a),Object(S.g)()}},{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&(this.fetchData(this.props.match.params.id,U.a),Object(S.g)())}},{key:"render",value:function(){var e=this,t={items:this.props.platformItems.filter(function(t){return Object(S.f)(t,e.state.filterValue)}).map(function(e){return b.a.createElement(q.a,a()({key:e.id},e))}),isLoading:this.props.isPlatformDataLoading},r=this.props.platform?this.props.platform.name:"";return b.a.createElement(v.Fragment,null,b.a.createElement(C.a,{schema:A({onFilterChange:this.handleFilterChange,searchValue:this.state.filterValue,title:r,pagination:{itemsPerPage:this.props.paginationCurrent.limit,numberOfItems:this.props.paginationCurrent.count||50,onPerPageSelect:this.handleOnPerPageSelect,page:Object(U.b)(this.props.paginationCurrent.limit,this.props.paginationCurrent.offset),onSetPage:this.handleSetPage,direction:"down"}})}),b.a.createElement(w.a,t))}}]),t}(v.Component);V.propTypes={filteredItems:I.a.object,isPlatformDataLoading:I.a.bool,match:I.a.object,fetchPlatformItems:I.a.func.isRequired,fetchSelectedPlatform:I.a.func,platform:I.a.shape({name:I.a.string}),platformItems:I.a.array,paginationCurrent:I.a.shape({limit:I.a.number.isRequired,offset:I.a.number.isRequired,count:I.a.number.isRequired})},V.defaultProps={platformItems:[],paginationCurrent:{limit:50}};var G=Object(O.connect)(function(e){var t=e.platformReducer,r=t.selectedPlatform,n=t.platformItems,a=t.isPlatformDataLoading,o=r&&n[r.id];return{paginationLinks:o&&o.links,paginationCurrent:o&&o.meta,platform:r,platformItems:o&&o.data,isPlatformDataLoading:!r||a}},function(e){return Object(k.a)({fetchSelectedPlatform:M.c,fetchPlatformItems:M.a},e)})(V),B=r(10),H=r.n(B),z=r(12),W=r(191),Y=r(154),K=r(178),J=r(176),Q=r(177),X=r(422),$=r.n(X),Z=r(419),ee=r.n(Z),te=r(420),re=r.n(te),ne=r(421),ae=r.n(ne),oe=function(e){var t=e.src,r=H()(e,["src"]);return b.a.createElement("img",a()({src:t},r))};oe.propTypes={src:I.a.string.isRequired};var ie=oe,ce=r(125),le=(r(239),["description","modified"]),se={1:ee.a,2:re.a,3:ae.a},ue=function(e){var t=e.name,r=e.id,n=H()(e,["name","id"]);return b.a.createElement(W.a,null,b.a.createElement(z.Link,{to:"/platforms/detail/".concat(r),className:"card-link"},b.a.createElement(Y.a,{key:r,className:"content-gallery-card"},b.a.createElement(K.a,null,b.a.createElement(ie,{src:se[n.source_type_id]||$.a,width:"80",height:"40"})),b.a.createElement(J.a,null,b.a.createElement("h4",null,t),b.a.createElement(ce.a,a()({},N()({name:t},n),{toDisplay:le}))),b.a.createElement(Q.a,null))))};ue.propTypes={history:I.a.object,imageUrl:I.a.string,name:I.a.string,source_type_id:I.a.string,id:I.a.string};var de=ue,pe=r(84),fe="",me="/detail/:id",he=function(e){function t(){var e,r;i()(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return r=u()(this,(e=p()(t)).call.apply(e,[this].concat(o))),g()(m()(r),"state",{filterValue:"",isOpen:!1}),g()(m()(r),"fetchData",function(){return r.props.fetchPlatforms()}),g()(m()(r),"handleFilterChange",function(e){return r.setState({filterValue:e})}),g()(m()(r),"renderEmptyStateDescription",function(){return b.a.createElement(v.Fragment,null,b.a.createElement(T.a,null,b.a.createElement(L.a,{component:L.b.p},"Configure a source in order to add products to portfolios."),b.a.createElement(L.a,{component:L.b.p},"To connect to a source, go to ",b.a.createElement("a",{href:"".concat(document.baseURI,"hybrid/settings/sources")},"Catalog sources"),"  under Settings"),b.a.createElement(L.a,{component:L.b.p},b.a.createElement("a",{href:"javascript:void(0)"},"Learn more in the documentation"))))}),g()(m()(r),"renderPlatforms",function(){var e={items:r.props.platforms.filter(function(e){return e.name.toLowerCase().includes(r.state.filterValue.toLowerCase())}).map(function(e){return b.a.createElement(de,a()({key:e.id},e))}),isLoading:r.props.isLoading&&0===r.props.platforms.length};return b.a.createElement(v.Fragment,null,b.a.createElement(C.a,{schema:A({onFilterChange:r.handleFilterChange,searchValue:r.state.filterValue,title:"Platforms"})}),b.a.createElement(w.a,a()({},e,{renderEmptyState:function(){return b.a.createElement(pe.b,{title:"No platforms yet",renderDescription:r.renderEmptyStateDescription,Icon:j.a})}})))}),r}return y()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.fetchData(),Object(S.g)()}},{key:"render",value:function(){var e=this;return b.a.createElement(_.Section,null,b.a.createElement(R.g,null,b.a.createElement(R.d,{path:"/platforms".concat(me),component:G}),b.a.createElement(R.d,{exact:!0,path:"/platforms".concat(fe),render:function(){return e.renderPlatforms()}})))}}]),t}(v.Component);he.propTypes={filteredItems:I.a.array,platforms:I.a.array,isLoading:I.a.bool,searchFilter:I.a.string,showModal:I.a.func,hideModal:I.a.func,history:I.a.object,fetchPlatforms:I.a.func};t.default=Object(O.connect)(function(e){var t=e.platformReducer;return{platforms:t.platforms,isLoading:t.isPlatformDataLoading,searchFilter:t.filterValue}},function(e){return{fetchPlatforms:function(t){return e(Object(M.b)(t))}}})(he)},69:function(e,t,r){"use strict";var n=r(9),a=r.n(n),o=r(10),i=r.n(o),c=r(2),l=r.n(c),s=r(1),u=r.n(s),d=r(18),p=Object(c.createContext)(),f=function(e){var t=e.component,r=i()(e,["component"]);return l.a.createElement(p.Consumer,null,function(e){var n=e.componentMapper,a="string"==typeof t?n[t]:t;return l.a.createElement(a,r)})};f.propTypes={component:u.a.oneOfType([u.a.string,u.a.node,u.a.func,u.a.element]).isRequired};var m=function e(t){return t.map(function(t){var r=t.fields,n=t.key,o=i()(t,["fields","key"]);return r?l.a.createElement(f,a()({key:n},o),e(r)):l.a.createElement(f,a()({key:n},o))})},h=function(e){var t=e.schema,r=e.componentMapper;return l.a.createElement(p.Provider,{value:{render:m,componentMapper:r}},m(t.fields))};h.propTypes={schema:u.a.shape({fields:u.a.array.isRequired}).isRequired,componentMapper:u.a.object},h.defaultProps={componentMapper:d.a},t.a=h},81:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(1),i=r.n(o),c=r(36),l=r(130),s=r(157),u=r(49),d=function(){return a.a.createElement("div",null,a.a.createElement(l.a,{component:l.b.h1},"No items found"))},p=function(e){var t=e.isLoading,r=e.items,n=e.renderEmptyState;return t?a.a.createElement(u.b,null):0===r.length?n?n():a.a.createElement(d,null):a.a.createElement(c.Section,{type:"content"},a.a.createElement(s.a,{gutter:"md",className:"content-gallery"},r))};p.propTypes={isLoading:i.a.bool,items:i.a.array,renderEmptyState:i.a.func},t.a=p},82:function(e,t,r){"use strict";var n=r(21),a=r.n(n),o=r(2),i=r.n(o),c=r(1),l=r.n(c),s=r(14),u=r(426),d=r(49),p=r(206),f=r.n(p),m=r(427),h=r.n(m),y=r(428),E=r.n(y),g=r(429),v=r.n(g),b={1:h.a,2:E.a,3:v.a},O=function(e,t){if(!e)return f.a;if(!t||t.empty||!e)return f.a;var r=t.find(function(t){return t.id===e});return r?b[r.source_type_id]:void 0},P=function(e){var t=e.src,r=e.height,n=e.platformId,c=Object(o.useState)(!1),l=a()(c,2),p=l[0],f=l[1],m=Object(o.useState)(!1),h=a()(m,2),y=h[0],E=h[1],g=Object(s.useSelector)(function(e){return e.platformReducer?e.platformReducer.platforms:{}});return i.a.createElement("div",{style:{display:"inline-block"}},!p&&i.a.createElement(d.c,{style:{height:r}}),i.a.createElement(u.LazyLoadImage,{height:p?r:0,style:{height:p?r:0},className:"card-image ".concat(p?"":"hide"),onError:function(){return E(!0)},onLoad:function(){return f(!0)},src:y&&n?O(n,g):t}))};P.propTypes={src:l.a.string.isRequired,platformId:l.a.string,style:l.a.object,height:l.a.number},P.defaultProps={style:{},height:40},t.a=P},84:function(e,t,r){"use strict";r.d(t,"a",function(){return E});var n=r(2),a=r.n(n),o=r(1),i=r.n(o),c=r(12),l=r(156),s=r(185),u=r(187),d=r(190),p=r(130),f=r(186),m=r(188),h=r(107),y=function(e){var t=e.title,r=e.Icon,n=e.description,o=e.PrimaryAction,i=e.renderDescription;return a.a.createElement(l.a,{style:{height:"calc(100% - 197px)"}},a.a.createElement(s.a,null,a.a.createElement(u.a,{icon:r}),a.a.createElement(d.a,null,a.a.createElement(p.a,{component:p.b.h1},t)),a.a.createElement(f.a,null,n,i()),a.a.createElement(m.a,null,o&&a.a.createElement(o,null))))};y.defaultProps={renderDescription:function(){return null}},y.propTypes={title:i.a.string.isRequired,Icon:i.a.any.isRequired,description:i.a.string.isRequired,PrimaryAction:i.a.any,renderDescription:i.a.func},t.b=y;var E=function(e){var t=e.url,r=e.label;return a.a.createElement(c.Link,{to:t},a.a.createElement(h.a,{variant:"secondary"},r))};E.propTypes={url:i.a.string.isRequired,label:i.a.string.isRequired}},96:function(e,t,r){"use strict";var n=r(9),a=r.n(n),o=r(10),i=r.n(o),c=r(2),l=r.n(c),s=r(1),u=r.n(s),d=r(126),p=r(197),f=r(45),m=function(e){var t=e.meta,r=t.limit,n=t.count,o=t.offset,c=e.apiProps,s=e.apiRequest,u=i()(e,["meta","apiProps","apiRequest"]);return l.a.createElement("div",{className:"pf-u-mt-md"},l.a.createElement(p.a,a()({perPage:r||50,itemCount:n||50,onPerPageSelect:function(e,t){return s(c,{offset:o,limit:t})},page:Object(f.b)(r,o),onSetPage:function(e,t,n){var a={offset:Object(f.c)(t,r),limit:r},o=function(){return s(c,a)};return n?Object(d.a)(o,250)():o()},direction:"down"},u)))};m.propTypes={meta:u.a.shape({count:u.a.number,limit:u.a.number.isRequired,offset:u.a.number.isRequired}),apiRequest:u.a.func.isRequired,apiProps:u.a.any},m.defaultProps={meta:{count:0,limit:50,offset:0}},t.a=m}});
//# sourceMappingURL=../sourcemaps/App.js.map