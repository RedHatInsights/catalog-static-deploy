!function(e){function t(t){for(var n,i,c=t[0],l=t[1],s=t[2],d=0,f=[];d<c.length;d++)i=c[d],a[i]&&f.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,c=1;c<r.length;c++){var l=r[c];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={0:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/beta/apps/catalog/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;o.push([452,1]),r()}({119:function(e,t,r){"use strict";var n=r(10),a=r.n(n),o=r(24),i=r.n(o),c=r(2),l=r.n(c),s=r(1),u=function(e){var t=e.src,r=i()(e,["src"]);return l.a.createElement("img",a()({src:t},r))};u.propTypes={src:r.n(s).a.string.isRequired},t.a=u},120:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(1),i=r.n(o),c=r(112),l=r(134),s=r(133),u=r(76),d=r(122),f=r(123),p=r(25),m=(r(190),function(e){return a.a.createElement(c.a,{key:e.id,className:"content-gallery-card"},a.a.createElement(l.a,null,a.a.createElement(u.a,{src:"".concat(p.d,"/service_offering_icons/").concat(e.service_offering_icon_id,"/icon_data"),style:{height:40}}),e.editMode&&a.a.createElement(d.a,{id:e.id,isChecked:e.checked,handleCheck:e.onToggleItemSelect})),a.a.createElement(f.a,e),a.a.createElement(s.a,null))});m.propTypes={id:i.a.string.isRequired,service_offering_icon_id:i.a.string,name:i.a.string,editMode:i.a.bool,checked:i.a.bool,onToggleItemSelect:i.a.func},t.a=m},121:function(e,t,r){e.exports=r.p+"fonts/vendor-openshift.svg"},122:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(1),i=r.n(o),c=r(144),l=function(e){var t=e.handleCheck,r=e.isChecked,n=e.id;return a.a.createElement("div",{style:{float:"right"}},a.a.createElement(c.a,{onClick:function(e){return e.stopPropagation()},checked:r,onChange:t,"aria-label":"card checkbox",id:n}))};l.propTypes={handleCheck:i.a.func,isChecked:i.a.bool,id:i.a.string},t.a=l},123:function(e,t,r){"use strict";var n=r(10),a=r.n(n),o=r(24),i=r.n(o),c=r(2),l=r.n(c),s=r(1),u=r.n(s),d=r(113),f=r(116),p=r(62),m=r(92),h=function(e){var t=e.name,r=e.display_name,n=e.distributor,o=i()(e,["name","display_name","distributor"]);return l.a.createElement(d.a,{style:{height:240}},l.a.createElement(f.a,null,l.a.createElement(p.b,{className:"elipsis-text-overflow",component:p.a.h3,title:r||t},r||t),l.a.createElement(p.b,{component:p.a.small},n," ")),l.a.createElement(m.a,a()({},o,{toDisplay:[o.long_description?"long_description":"description"]})))};h.propTypes={name:u.a.string,display_name:u.a.string,distributor:u.a.string,long_description:u.a.string},t.a=h},190:function(e,t,r){},22:function(e,t,r){"use strict";r.d(t,"g",function(){return o}),r.d(t,"f",function(){return i}),r.d(t,"a",function(){return c}),r.d(t,"c",function(){return s}),r.d(t,"d",function(){return u}),r.d(t,"e",function(){return d}),r.d(t,"b",function(){return f});var n=r(4),a=r.n(n),o=function(){return document.getElementById("root").scrollTo({behavior:"smooth",top:0,left:0})},i=function(e,t){var r=e.display_name,n=e.name;return(r||n).trim().toLowerCase().includes(t.toLowerCase())},c=function(e){return function(t,r){if(null===t[r])return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];return e.apply(void 0,[t,r].concat(a))}},l=function(e,t){return Math.round(Math.abs((e.getTime()-t.getTime())/864e5))},s=function(e,t){return"Last modified ".concat(l(new Date,e)," days ago").concat(t?" by ".concat(t,"."):".")},u=function(e){var t=l(e,new Date);return"Ordered ".concat(t," ").concat(t>1?"days":"day"," ago")},d=function(e){if(!e[0])return null;var t=l(new Date(e[0].updated_at),new Date);return"Updated ".concat(t," ").concat(t>1?"days":"day"," ago")},f=function(e){return a()(new Date(e),"DD-MMM-YYYY").format("DD MMM YYYY")}},25:function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"d",function(){return a}),r.d(t,"a",function(){return o}),r.d(t,"c",function(){return i});var n="".concat("/api","/catalog/v1.0"),a="".concat("/api","/topological-inventory/v0.1"),o="".concat("/api","/approval/v1.0"),i="".concat("/api","/rbac/v1")},31:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(1),i=r.n(o),c=r(336),l=r(179),s=r(116),u=r(62),d=r(41),f=r(19),p=r.n(f),m=r(5),h=r.n(m),g=r(354),E=r.n(g),b=r(16),v=r(11),y=r(83),P=r(158),R=r(157),j={portfolios:"portfolioReducer.selectedPortfolio.name",platforms:"platformReducer.selectedPlatform.name",orders:"ordersReducer"},O={portfolios:{title:"Portfolios"},detail:{},"add-products":{title:"Add products"},"remove-products":{title:"Remove products"},platforms:{title:"Platforms"},orders:{title:"Orders"},product:{reducer:"portfolioReducer.portfolioItem.display_name"}},_=function(e){var t=e.split("/").filter(function(e){return""!==e}).map(function(e,t){return{reducer:j[e],urlFragment:e,index:t,isId:!!e.match(/^[0-9]+$/)}});return 0===t.length?[]:function(e){var t=e.find(function(e){return void 0!==e.reducer}),r=[];if(!t)return r;t=t.reducer;var n=0;return e.forEach(function(e){var a=e.isId,o=e.urlFragment;a?(r[n-1]=h()({},r[n-1],{path:"".concat(r[n-1].path,"/").concat(o)}),r=[].concat(p()(r.slice(0,n)),p()(r.slice(n+1)))):(r[n]={reducer:O[o].reducer||t,path:0===n?"/".concat(o):"".concat(r[n-1].path,"/").concat(o),urlFragment:o},n++)}),r}(t).map(function(e){return h()({},e,{meta:O[Object.keys(O).find(function(t){return e.urlFragment.includes(t)})]})})},I=function(e){var t=e.match.url,r=e.reducers,n=_(t),o=n.map(function(e,o){return a.a.createElement(P.a,{key:e.path,isActive:e.path===t||o===n.length-1},a.a.createElement(v.c,{exact:!0,to:e.path,isActive:function(){return e.path===t||o===n.length-1}},e.meta.title||E()(r,e.reducer)))});return a.a.createElement(R.a,{style:{minHeight:18}},o.length>1&&o)};I.propTypes={match:i.a.shape({url:i.a.string.isRequired}).isRequired,reducers:i.a.object};var L=Object(y.f)(Object(b.connect)(function(e){return{reducers:h()({},e)}})(I));r(399);r.d(t,"a",function(){return k});var w=function(e){var t=e.children,r=e.paddingBottom;return a.a.createElement("div",{className:"pf-u-pt-xl pf-u-pr-xl pf-u-pl-xl ".concat(r?"pf-u-pb-xl":""," top-toolbar")},a.a.createElement(c.a,{className:"pf-u-mb-md"},a.a.createElement(L,null)),t)};w.propTypes={children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]).isRequired,paddingBottom:i.a.bool},w.defaultProps={paddingBottom:!0};t.b=w;var k=function(e){var t=e.title,r=e.children;return a.a.createElement(n.Fragment,null,a.a.createElement(c.a,{className:"pf-u-mb-xl"},a.a.createElement(l.a,null,a.a.createElement(s.a,{className:"top-toolbar-title"},a.a.createElement(u.b,{component:u.a.h2},t||a.a.createElement(d.g,null)))),r))};k.propTypes={title:i.a.string.isRequired,children:i.a.oneOfType([i.a.node,i.a.arrayOf(i.a.node)])}},32:function(e,t,r){"use strict";r.d(t,"f",function(){return c}),r.d(t,"d",function(){return l}),r.d(t,"c",function(){return s}),r.d(t,"e",function(){return u}),r.d(t,"g",function(){return d}),r.d(t,"a",function(){return f}),r.d(t,"b",function(){return p}),r.d(t,"j",function(){return m}),r.d(t,"h",function(){return h}),r.d(t,"i",function(){return g});var n=r(5),a=r.n(n),o=r(8),i=r(43),c=function(e){return function(t){return t(function(e){return{type:o.k,payload:i.h(e).then(function(e){return e.data})}}(e))}},l=function(e){return{type:o.m,payload:i.f(e).then(function(e){return e.data})}},s=function(e){return{type:o.l,payload:i.e(e)}},u=function(e){return{type:o.n,payload:i.g(e).then(function(e){return e.data})}},d=function(e){return{type:o.j,payload:i.d(e)}},f=function(e,t){return{type:o.a,payload:i.a(a()({},e,{workflow_ref:e.workflow_ref||null}),t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding portfolio",description:"The portfolio was added successfully."}}}}},p=function(e,t){return{type:o.b,payload:i.b(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding products",description:"Products were successfully added to portfolio."}}}}},m=function(e){return{type:o.C,payload:i.k(a()({},e,{workflow_ref:e.workflow_ref||null})),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating portfolio",description:"The portfolio was updated successfully."},rejected:{variant:"danger",title:"Failed updating portfolio",description:"The portfolio was not updated successfuly."}}}}},h=function(e){return{type:o.w,payload:i.i(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing portfolio",description:"The portfolio was removed successfully."}}}}},g=function(e){return{type:o.x,payload:e}}},327:function(e,t,r){},332:function(e,t,r){},350:function(e,t,r){e.exports=r.p+"fonts/platform-openshift.svg"},351:function(e,t,r){e.exports=r.p+"fonts/platform-amazon.png"},352:function(e,t,r){e.exports=r.p+"fonts/platform-default.svg"},394:function(e,t,r){},399:function(e,t,r){},408:function(e,t,r){var n={"./af":193,"./af.js":193,"./ar":194,"./ar-dz":195,"./ar-dz.js":195,"./ar-kw":196,"./ar-kw.js":196,"./ar-ly":197,"./ar-ly.js":197,"./ar-ma":198,"./ar-ma.js":198,"./ar-sa":199,"./ar-sa.js":199,"./ar-tn":200,"./ar-tn.js":200,"./ar.js":194,"./az":201,"./az.js":201,"./be":202,"./be.js":202,"./bg":203,"./bg.js":203,"./bm":204,"./bm.js":204,"./bn":205,"./bn.js":205,"./bo":206,"./bo.js":206,"./br":207,"./br.js":207,"./bs":208,"./bs.js":208,"./ca":209,"./ca.js":209,"./cs":210,"./cs.js":210,"./cv":211,"./cv.js":211,"./cy":212,"./cy.js":212,"./da":213,"./da.js":213,"./de":214,"./de-at":215,"./de-at.js":215,"./de-ch":216,"./de-ch.js":216,"./de.js":214,"./dv":217,"./dv.js":217,"./el":218,"./el.js":218,"./en-SG":219,"./en-SG.js":219,"./en-au":220,"./en-au.js":220,"./en-ca":221,"./en-ca.js":221,"./en-gb":222,"./en-gb.js":222,"./en-ie":223,"./en-ie.js":223,"./en-il":224,"./en-il.js":224,"./en-nz":225,"./en-nz.js":225,"./eo":226,"./eo.js":226,"./es":227,"./es-do":228,"./es-do.js":228,"./es-us":229,"./es-us.js":229,"./es.js":227,"./et":230,"./et.js":230,"./eu":231,"./eu.js":231,"./fa":232,"./fa.js":232,"./fi":233,"./fi.js":233,"./fo":234,"./fo.js":234,"./fr":235,"./fr-ca":236,"./fr-ca.js":236,"./fr-ch":237,"./fr-ch.js":237,"./fr.js":235,"./fy":238,"./fy.js":238,"./ga":239,"./ga.js":239,"./gd":240,"./gd.js":240,"./gl":241,"./gl.js":241,"./gom-latn":242,"./gom-latn.js":242,"./gu":243,"./gu.js":243,"./he":244,"./he.js":244,"./hi":245,"./hi.js":245,"./hr":246,"./hr.js":246,"./hu":247,"./hu.js":247,"./hy-am":248,"./hy-am.js":248,"./id":249,"./id.js":249,"./is":250,"./is.js":250,"./it":251,"./it-ch":252,"./it-ch.js":252,"./it.js":251,"./ja":253,"./ja.js":253,"./jv":254,"./jv.js":254,"./ka":255,"./ka.js":255,"./kk":256,"./kk.js":256,"./km":257,"./km.js":257,"./kn":258,"./kn.js":258,"./ko":259,"./ko.js":259,"./ku":260,"./ku.js":260,"./ky":261,"./ky.js":261,"./lb":262,"./lb.js":262,"./lo":263,"./lo.js":263,"./lt":264,"./lt.js":264,"./lv":265,"./lv.js":265,"./me":266,"./me.js":266,"./mi":267,"./mi.js":267,"./mk":268,"./mk.js":268,"./ml":269,"./ml.js":269,"./mn":270,"./mn.js":270,"./mr":271,"./mr.js":271,"./ms":272,"./ms-my":273,"./ms-my.js":273,"./ms.js":272,"./mt":274,"./mt.js":274,"./my":275,"./my.js":275,"./nb":276,"./nb.js":276,"./ne":277,"./ne.js":277,"./nl":278,"./nl-be":279,"./nl-be.js":279,"./nl.js":278,"./nn":280,"./nn.js":280,"./pa-in":281,"./pa-in.js":281,"./pl":282,"./pl.js":282,"./pt":283,"./pt-br":284,"./pt-br.js":284,"./pt.js":283,"./ro":285,"./ro.js":285,"./ru":286,"./ru.js":286,"./sd":287,"./sd.js":287,"./se":288,"./se.js":288,"./si":289,"./si.js":289,"./sk":290,"./sk.js":290,"./sl":291,"./sl.js":291,"./sq":292,"./sq.js":292,"./sr":293,"./sr-cyrl":294,"./sr-cyrl.js":294,"./sr.js":293,"./ss":295,"./ss.js":295,"./sv":296,"./sv.js":296,"./sw":297,"./sw.js":297,"./ta":298,"./ta.js":298,"./te":299,"./te.js":299,"./tet":300,"./tet.js":300,"./tg":301,"./tg.js":301,"./th":302,"./th.js":302,"./tl-ph":303,"./tl-ph.js":303,"./tlh":304,"./tlh.js":304,"./tr":305,"./tr.js":305,"./tzl":306,"./tzl.js":306,"./tzm":307,"./tzm-latn":308,"./tzm-latn.js":308,"./tzm.js":307,"./ug-cn":309,"./ug-cn.js":309,"./uk":310,"./uk.js":310,"./ur":311,"./ur.js":311,"./uz":312,"./uz-latn":313,"./uz-latn.js":313,"./uz.js":312,"./vi":314,"./vi.js":314,"./x-pseudo":315,"./x-pseudo.js":315,"./yo":316,"./yo.js":316,"./zh-cn":317,"./zh-cn.js":317,"./zh-hk":318,"./zh-hk.js":318,"./zh-tw":319,"./zh-tw.js":319};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=408},41:function(e,t,r){"use strict";r.d(t,"b",function(){return P}),r.d(t,"d",function(){return R}),r.d(t,"a",function(){return j}),r.d(t,"g",function(){return O}),r.d(t,"e",function(){return _}),r.d(t,"c",function(){return I}),r.d(t,"f",function(){return L});var n=r(10),a=r.n(n),o=r(19),i=r.n(o),c=r(24),l=r.n(c),s=r(2),u=r.n(s),d=r(68),f=r(1),p=r.n(f),m=r(29),h=r(117),g=r(95),E=r(125),b=r(142),v=r(112),y=r(113),P=function(e){var t=e.items,r=l()(e,["items"]);return u.a.createElement(h.a,{gutter:"md"},u.a.createElement(g.a,{sm:12,style:{padding:24}},u.a.createElement(E.a,{gutter:"md"},i()(Array(t)).map(function(e,t){return u.a.createElement(b.a,{key:t},u.a.createElement(v.a,{style:{height:350}},u.a.createElement(y.a,null,u.a.createElement(d.b,a()({height:160,width:300,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},r),u.a.createElement("rect",{x:"2",y:"99",rx:"3",ry:"3",width:"300",height:"6.4"}),u.a.createElement("rect",{x:"2",y:"119.72",rx:"3",ry:"3",width:"290",height:"5.76"}),u.a.createElement("rect",{x:"2",y:"139",rx:"3",ry:"3",width:"201",height:"6.4"}),u.a.createElement("rect",{x:"-2.16",y:"0.67",rx:"0",ry:"0",width:"271.6",height:"82.74"}),u.a.createElement("rect",{x:"136.84",y:"37.67",rx:"0",ry:"0",width:"6",height:"3"})))))}))))};P.propTypes={items:p.a.number},P.defaultProps={items:13};var R=function(e){var t=e.items,r=l()(e,["items"]);return u.a.createElement(h.a,{gutter:"md"},u.a.createElement(g.a,{sm:12},u.a.createElement(d.b,a()({height:16,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#FFFFFF"},r),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"420",height:"16"}))),u.a.createElement(g.a,{sm:12,style:{paddingLeft:16,paddingRight:16}},u.a.createElement(P,{items:t})))};R.propTypes={items:p.a.number},R.defaultProps={items:5};var j=function(e){return u.a.createElement(m.Main,{style:{marginLeft:0,padding:0}},u.a.createElement(d.b,a()({height:16,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#FFFFFF"},e),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"420",height:"10"})),u.a.createElement(P,null))},O=function(e){return u.a.createElement(d.b,a()({height:21,width:200,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},e),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"200",height:"21"}))},_=function(e){return u.a.createElement(s.Fragment,null,u.a.createElement(d.b,a()({height:15,width:200,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},e),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"200",height:"10"})),u.a.createElement("div",{style:{width:300}},u.a.createElement(d.a,null),u.a.createElement(d.a,{speed:3}),u.a.createElement(d.a,null)))},I=function(e){return u.a.createElement("div",e,u.a.createElement("svg",{height:"40",width:"40"},u.a.createElement("circle",{cx:"20",cy:"20",r:"20",fill:"#ecebeb"})))},L=function(){return u.a.createElement(d.b,{height:800,width:600,speed:2,primaryColor:"#ffffff",secondaryColor:"#ecebeb"},u.a.createElement("rect",{x:"290",y:"225",rx:"0",ry:"0",width:"0",height:"0"}),u.a.createElement("rect",{x:"168",y:"187",rx:"0",ry:"0",width:"0",height:"0"}),u.a.createElement("rect",{x:"368",y:"280",rx:"0",ry:"0",width:"0",height:"0"}),u.a.createElement("rect",{x:"28",y:"19",rx:"0",ry:"0",width:"518",height:"413"}),u.a.createElement("rect",{x:"392",y:"380",rx:"0",ry:"0",width:"1",height:"60"}))}},43:function(e,t,r){"use strict";r.d(t,"h",function(){return h}),r.d(t,"f",function(){return g}),r.d(t,"e",function(){return E}),r.d(t,"d",function(){return b}),r.d(t,"g",function(){return v}),r.d(t,"a",function(){return y}),r.d(t,"b",function(){return R}),r.d(t,"k",function(){return O}),r.d(t,"i",function(){return I}),r.d(t,"j",function(){return F}),r.d(t,"c",function(){return q}),r.d(t,"l",function(){return C});var n=r(18),a=r.n(n),o=r(19),i=r.n(o),c=r(5),l=r.n(c),s=r(38),u=r.n(s),d=r(44),f=r(25),p=Object(d.b)(),m=Object(d.c)();function h(){return p.listPortfolios()}function g(){return m.listPortfolioItems()}function E(e){return fetch("".concat(f.b,"/portfolio_items/").concat(e)).then(function(e){return e.json()})}function b(e){return p.showPortfolio(e)}function v(e){return fetch("".concat(f.b,"/portfolios/").concat(e,"/portfolio_items")).then(function(e){return e.json()})}function y(e,t){return P.apply(this,arguments)}function P(){return(P=u()(a.a.mark(function e(t,r){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.createPortfolio(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",n);case 5:if(!(r&&r.length>0)){e.next=7;break}return e.abrupt("return",R(n,r));case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e,t){return j.apply(this,arguments)}function j(){return(j=u()(a.a.mark(function e(t,r){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=u()(a.a.mark(function e(r){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.createPortfolioItem({service_offering_ref:r});case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,p.addPortfolioItemToPortfolio(t,{portfolio_item_id:n.id});case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",Promise.all(r.map(function(e){return n(e)})));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e){return _.apply(this,arguments)}function _(){return(_=u()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.updatePortfolio(t.id,t);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e){return L.apply(this,arguments)}function L(){return(L=u()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.destroyPortfolio(t);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(e){return k.apply(this,arguments)}function k(){return(k=u()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.destroyPortfolioItem(t));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e){return T.apply(this,arguments)}function T(){return(T=u()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(){var e=u()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function q(e){return fetch("".concat(f.b,"/portfolio_items/").concat(e,"/provider_control_parameters")).then(function(e){return e.json()}).then(function(e){return l()({required:[]},e,{properties:l()({},e.properties,{namespace:l()({},e.properties.namespace,{enum:Array.from(new Set(i()(e.properties.namespace.enum)))})})})})}function C(e){return S.apply(this,arguments)}function S(){return(S=u()(a.a.mark(function e(t){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(f.b,"/portfolio_items/").concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(l()({},t,{workflow_ref:t.workflow_ref||null}))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}},44:function(e,t,r){"use strict";r.d(t,"f",function(){return b}),r.d(t,"b",function(){return v}),r.d(t,"c",function(){return y}),r.d(t,"a",function(){return P}),r.d(t,"e",function(){return R}),r.d(t,"d",function(){return O}),r.d(t,"g",function(){return _});var n=r(108),a=r.n(n),o=r(147),i=r(98),c=r(148),l=r(25),s=r(99),u=a.a.create();u.interceptors.response.use(function(e){return e.data||e});var d=new i.OrderApi(void 0,l.b,u),f=new i.OrderItemApi(void 0,l.b,u),p=new i.PortfolioApi(void 0,l.b,u),m=new i.PortfolioItemApi(void 0,l.b,u),h=new o.RequestApi(void 0,l.a,u),g=new o.WorkflowApi(void 0,l.a,u);window.magix={orderApi:d,orderItemApi:f,portfolioApi:p,portfolioItemApi:m,requestsApi:h,workflowApi:g},c.ApiClient.instance.basePath=l.d;var E=new c.DefaultApi;function b(){return E}function v(){return p}function y(){return m}function P(){return d}function R(){return h}s.ApiClient.instance.basePath=l.c;new s.AccessApi,new s.PrincipalApi;var j=new s.GroupApi;function O(){return j}function _(){return g}},448:function(e,t,r){},450:function(e,t,r){"use strict";r.r(t);var n=r(10),a=r.n(n),o=r(52),i=r.n(o),c=r(53),l=r.n(c),s=r(54),u=r.n(s),d=r(55),f=r.n(d),p=r(14),m=r.n(p),h=r(56),g=r.n(h),E=r(6),b=r.n(E),v=r(2),y=r.n(v),P=r(1),R=r.n(P),j=r(16),O=r(83),_=r(136),I=r(5),L=r.n(I),w=r(19),k=r.n(w),F=r(61),T=r(32),q=r(37),C=r.n(q),S=r(34),D=r(29),x=r(24),N=r.n(x),A=r(65),U=function(e){var t=e.platform;return y.a.createElement(A.b,{Icon:_.a,title:t?"No products match filter parameters":"Please choose platform",description:t?"Please try to extend your search parameters ":"In order to select products for your portfolio you must choose platform first"})};U.propTypes={platform:R.a.any};var M=function(e){var t=e.platform,r=N()(e,["platform"]);return y.a.createElement(F.a,a()({editMode:!0},r,{renderEmptyState:function(){return y.a.createElement(U,{platform:t})}}))};M.propTypes={checkedItems:R.a.arrayOf(R.a.string),platform:R.a.any},M.defaultProps={checkedItems:[]};var V=M,G=r(124),H=r(67),W=r(58),z=function(e){var t=e.meta,r=t.limit,n=t.count,a=t.offset,o=e.platformId,i=e.fetchPlatformItems;return y.a.createElement(D.Pagination,{itemsPerPage:r||50,numberOfItems:n||50,onPerPageSelect:function(e){return i(o,{offset:a,limit:e})},page:Object(H.b)(r,a),onSetPage:function(e,t){var n={offset:Object(H.c)(e,r),limit:r},a=function(){return i(o,n)};return t?Object(G.a)(a,250)():a()},direction:"down"})};z.propTypes={meta:R.a.shape({count:R.a.number.isRequired,limit:R.a.number.isRequired,offset:R.a.number.isRequired}),fetchPlatformItems:R.a.func.isRequired,platformId:R.a.string.isRequired},z.defaultProps={meta:{count:0,limit:50,offset:0}};var B=Object(j.connect)(function(){return{}},function(e){return Object(S.bindActionCreators)({fetchPlatformItems:W.a},e)})(z),Y=r(22),K=r(120),J=r(362),Q=r(11),X=r(188),$=r(336),Z=r(184),ee=r(185),te=r(143),re=r(73),ne=r(31),ae=r(64),oe={container:function(e){return L()({},e,{"&:focus":{outline:"none"}})},control:function(e,t){var r=t.isFocused;return L()({},e,{borderRadius:0,borderColor:"#EDEDED",backgroundColor:"#FFFFFF",borderBottomColor:r?"#007bba":"#282d33",cursor:"pointer",boxShadow:"none",minHeight:36,width:256,"&:hover":{borderBottomColor:"#007bba"}})},indicatorSeparator:function(){return{}},dropdownIndicator:function(e){return L()({},e,{color:"#282d33",paddingBottom:6,paddingTop:6})},menu:function(e){return L()({},e,{borderRadius:"none",boxShadow:"0 0.0625rem 0.0625rem 0rem rgba(3,3,3,.05),0 0.25rem 0.5rem 0.25rem rgba(3,3,3,.06)",paddingBottom:"0.5rem",paddingTop:"0.5rem",marginTop:4,width:"calc(100% - 4px)",marginRight:2,marginLeft:2})},option:function(e,t){var r=t.isFocused;return L()({},e,{cursor:"pointer",textAlign:"left",color:"#282d33",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",paddingBottom:"0.5rem",paddingTop:"0.5rem",paddingLeft:"1rem",paddingRight:"1rem",backgroundColor:r?"#ededed":"transparent","&:hover":{backgroundColor:"#ededed"}})},placeholder:function(e){return L()({},e,{left:20})},singleValue:function(e){return L()({},e,{left:20,maxWidth:"calc(100% - 28px)"})}},ie=function(e){var t=e.children;return y.a.createElement(v.Fragment,null,y.a.createElement(X.a,{style:{marginLeft:4},fill:"#393F44"}),t)};ie.propTypes={children:R.a.oneOfType([R.a.node,R.a.arrayOf(R.a.node)]).isRequired};var ce=function(e){var t=e.portfolioName,r=e.portfolioRoute,n=e.onClickAddToPortfolio,a=e.itemsSelected,o=e.onOptionSelect,i=e.options,c=e.onFilterChange,l=e.searchValue,s=e.children;return y.a.createElement(ne.b,null,y.a.createElement(ne.a,{title:"Add products: ".concat(t)}),y.a.createElement($.a,{className:"pf-u-mt-lg"},y.a.createElement(Z.a,null,y.a.createElement(ee.a,null,y.a.createElement(te.a,null,y.a.createElement(J.a,{id:"products-platform-select",styles:oe,isMulti:!1,placeholder:"Filter by Platform",options:i,onChange:o,components:{ValueContainer:ie}})),y.a.createElement(te.a,null,y.a.createElement(ae.a,{onFilterChange:c,searchValue:l,placeholder:"Filter products"}))),y.a.createElement(ee.a,null,y.a.createElement(te.a,null,y.a.createElement(Q.b,{to:r},y.a.createElement(re.c,{variant:"link","aria-label":"Cancel Add products to Portfolio"},"Cancel")))),y.a.createElement(ee.a,null,y.a.createElement(te.a,null,y.a.createElement(re.c,{variant:"primary","aria-label":"Add products to Portfolio",type:"button",onClick:n,isDisabled:!a},"Add")))),s))};ce.propTypes={portfolioName:R.a.string.isRequired,portfolioRoute:R.a.string.isRequired,onClickAddToPortfolio:R.a.func.isRequired,itemsSelected:R.a.bool,onOptionSelect:R.a.func.isRequired,options:R.a.arrayOf(R.a.shape({label:R.a.string.isRequired,value:R.a.oneOfType([R.a.string,R.a.number]).isRequired})).isRequired,onFilterChange:R.a.func.isRequired,searchValue:R.a.string,children:R.a.oneOfType([R.a.node,R.a.arrayOf(R.a.node)])};var le=ce,se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return e.filter(function(e){return Object(Y.f)(e,n)}).map(function(e){return y.a.createElement(K.a,a()({key:e.id},e,{editMode:!0,onToggleItemSelect:function(){return t(e.id)},checked:r.includes(e.id)}))})},ue=function(e){var t=e.portfolio,r=e.portfolioRoute,n=e.platforms,a=e.isLoading,o=e.platformItems,i=e.fetchPlatformItems,c=e.addToPortfolio,l=e.fetchPlatforms,s=e.fetchPortfolioItemsWithPortfolio,u=e.history.push,d=Object(v.useState)(""),f=C()(d,2),p=f[0],m=f[1],h=Object(v.useState)(void 0),g=C()(h,2),E=g[0],b=g[1],P=Object(v.useState)([]),R=C()(P,2),j=R[0],O=R[1];Object(v.useEffect)(function(){l()},[]);var _=E&&o[E.id]?o[E.id].data:[],I=E&&o[E.id]&&o[E.id].meta;return y.a.createElement(D.Section,null,y.a.createElement(le,{portfolioName:"".concat(t&&t.name||""," new One"),onClickAddToPortfolio:function(){return c(t.id,j).then(function(){return u(r)}).then(function(){return s(t.id)})},itemsSelected:j.length>0,portfolioRoute:r,searchValue:p,onFilterChange:function(e){return m(e)},onOptionSelect:function(e){b(e),i(e.id,H.a)},options:n.map(function(e){return{value:e.id,label:e.name,id:e.id}})},I&&y.a.createElement(B,{meta:I,platformId:E.id})),y.a.createElement(V,{platform:!!E,checkedItems:j,isLoading:a,items:se(_,function(e){return O(function(e){var t=j.indexOf(e);return t>-1?[].concat(k()(j.slice(0,t)),k()(j.slice(t+1))):[].concat(k()(j),[e])}(e))},j,p)}))};ue.propTypes={portfolio:R.a.shape({name:R.a.string.isRequired}),portfolioRoute:R.a.string.isRequired,platforms:R.a.arrayOf(R.a.shape({id:R.a.string.isRequired,name:R.a.string.isRequired})).isRequired,isLoading:R.a.bool,platformItems:R.a.object.isRequired,fetchPlatformItems:R.a.func.isRequired,addToPortfolio:R.a.func.isRequired,history:R.a.shape({push:R.a.func.isRequired}).isRequired,fetchPortfolioItemsWithPortfolio:R.a.func.isRequired,fetchPlatforms:R.a.func.isRequired};var de=Object(O.f)(Object(j.connect)(function(e){var t=e.platformReducer,r=t.platforms,n=t.platformItems;return{platforms:r,isLoading:t.isPlatformDataLoading,platformItems:n}},function(e){return Object(S.bindActionCreators)({addToPortfolio:T.b,fetchPlatforms:W.b,fetchPlatformItems:W.a,fetchPortfolioItemsWithPortfolio:T.e},e)})(ue)),fe=r(179),pe=r(338),me=r(28),he=r(165),ge=r(168),Ee=function(e){var t=e.addProductsRoute,r=e.isLoading,n=e.removeProductsRoute,o=e.editPortfolioRoute,i=e.removePortfolioRoute,c=e.sharePortfolioRoute,l=e.title,s=N()(e,["addProductsRoute","isLoading","removeProductsRoute","editPortfolioRoute","removePortfolioRoute","sharePortfolioRoute","title"]),u=Object(v.useState)(!1),d=C()(u,2),f=d[0],p=d[1];return y.a.createElement(v.Fragment,null,y.a.createElement(ne.a,{title:l},y.a.createElement(fe.a,null,y.a.createElement("div",{className:"toolbar-override"},y.a.createElement("span",{className:"toolbar-override-item"},y.a.createElement(Q.b,{to:c},y.a.createElement(re.c,{variant:"secondary"},"Share"))),y.a.createElement("span",null,y.a.createElement(Q.b,{to:o},y.a.createElement(re.c,{variant:"link"},"Edit"))),y.a.createElement("span",null,y.a.createElement(pe.a,{onToggle:p,position:me.d.right,toggle:y.a.createElement(he.a,{onToggle:p}),isOpen:f,isPlain:!0,dropdownItems:[y.a.createElement(ge.a,{"aria-label":"Remove Portfolio",key:"delete-portfolio"},y.a.createElement(Q.b,{to:i,role:"link",className:"pf-c-dropdown__menu-item destructive-color"},"Delete"))]}))))),y.a.createElement(Z.a,null,y.a.createElement(ee.a,null,y.a.createElement(te.a,null,y.a.createElement(ae.a,a()({},s,{placeholder:"Filter by name..."})))),y.a.createElement(ee.a,null,y.a.createElement(te.a,null,y.a.createElement(Q.b,{to:t},y.a.createElement(re.c,{isDisabled:r,variant:"primary","aria-label":"Add Products to Portfolio"},"Add products")))),y.a.createElement(ee.a,null,y.a.createElement(te.a,null,y.a.createElement(Q.b,{to:n},y.a.createElement(re.c,{isDisabled:r,variant:"link",className:"destructive-color","aria-label":"Remove Products from Portfolio"},"Remove products"))))))};Ee.propTypes={addProductsRoute:R.a.string.isRequired,isLoading:R.a.bool,editPortfolioRoute:R.a.string.isRequired,sharePortfolioRoute:R.a.string.isRequired,removePortfolioRoute:R.a.string.isRequired,removeProductsRoute:R.a.string.isRequired,title:R.a.string};var be=Ee,ve=r(134),ye=r(133),Pe=r(142),Re=r(112),je=r(25),Oe=r(76),_e=r(122),Ie=r(123),Le=(r(448),function(e){var t=function(){return y.a.createElement(v.Fragment,null,y.a.createElement(ve.a,{className:"card_header"},e.isSelectable&&y.a.createElement(_e.a,{handleCheck:function(){return e.onSelect(e.id)},isChecked:e.isSelected,id:e.id}),y.a.createElement(Oe.a,{src:"".concat(je.b,"/portfolio_items/").concat(e.id,"/icon")})),y.a.createElement(Ie.a,e),y.a.createElement(ye.a,null))};return y.a.createElement(Pe.a,null,y.a.createElement(Re.a,{className:"content-gallery-card"},e.isSelectable?t():y.a.createElement(Q.b,{to:e.orderUrl,className:"card-link"},t())))});Le.propTypes={history:R.a.object,showModal:R.a.func,hideModal:R.a.func,imageUrl:R.a.string,name:R.a.string,id:R.a.string,isSelectable:R.a.bool,isSelected:R.a.bool,onSelect:R.a.func,orderUrl:R.a.string.isRequired};var we=Le,ke=r(173),Fe=r(60),Te=r.n(Fe),qe=r(149),Ce=r(161),Se=r(172),De=r(171),xe=r(116),Ne=r(62),Ae=function(e){var t=e.input,r=e.options,n=e.isReadOnly,o=e.isDisabled,i=(e.FieldProvider,e.isRequired),c=N()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired"]);return y.a.createElement(Ce.a,a()({},t,c,{isDisabled:o||n}),function(e,t,r){if(t&&r)return e;var n=k()(e);return n.find(function(e){return void 0===e.value})?k()(n):[{label:r?"Please choose":"None"}].concat(k()(n))}(r,t.value,i).map(function(e){return y.a.createElement(Se.a,a()({key:e.value||e.label},e,{label:e.label.toString()}))}))};Ae.propTypes={input:R.a.object.isRequired,options:R.a.arrayOf(R.a.shape({value:R.a.any,label:R.a.string.isRequired})).isRequired,isReadOnly:R.a.bool,isDisabled:R.a.bool,isRequired:R.a.bool,FieldProvider:R.a.any};var Ue=function(e){e.componentType;var t=e.label,r=e.isRequired,n=e.helperText,o=e.meta,i=e.description,c=e.hideLabel,l=N()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel"]),s=o.error,u=o.touched&&s;return y.a.createElement(De.a,{isRequired:r,label:!c&&t,fieldId:l.id,isValid:!u,helperText:n,helperTextInvalid:o.error},i&&y.a.createElement(xe.a,null,y.a.createElement(Ne.b,{component:Ne.a.small},i)),y.a.createElement(Ae,a()({label:t,isValid:!u,isRequired:r},l)))};Ue.propTypes={componentType:R.a.string,label:R.a.string,isRequired:R.a.bool,helperText:R.a.string,meta:R.a.object,description:R.a.string,hideLabel:R.a.bool};var Me=Ue,Ve={default:{},modal:{buttonOrder:["cancel","reset","save"],buttonClassName:"modal-form-right-align"}},Ge=function(e){var t=e.componentMapper,r=e.formContainer,n=N()(e,["componentMapper","formContainer"]);return y.a.createElement("div",{className:Ve[r].buttonClassName},y.a.createElement(Te.a,a()({formFieldsMapper:L()({},qe.formFieldsMapper,b()({componentMapper:t},Fe.componentTypes.SELECT,Me)),layoutMapper:qe.layoutMapper},Ve[r],n)))};Ge.propTypes={componentMapper:R.a.object,formContainer:R.a.oneOf(["default","modal"])},Ge.defaultProps={componentMapper:{},formContainer:"default"};var He=Ge,We=r(96),ze=r(44),Be=function(){return{type:We.a.FETCH_WORKFLOWS,payload:Object(ze.g)().listWorkflows().then(function(e){var t=e.data;return k()(t.map(function(e){return{value:e.id,label:e.name}}))})}},Ye=function(e,t){return{fields:[{label:e?"New Portfolio Name":"Portfolio Name",name:"name",component:Fe.componentTypes.TEXT_FIELD,isRequired:!0,validate:[{type:Fe.validatorTypes.REQUIRED}]},{label:"Description",component:Fe.componentTypes.TEXTAREA,name:"description"},{label:"Approval workflow",name:"workflow_ref",component:Fe.componentTypes.SELECT,options:t}]}},Ke=function(e){var t=e.history.goBack,r=e.addPortfolio,n=e.fetchPortfolios,a=e.initialValues,o=e.updatePortfolio,i=e.fetchWorkflows,c=e.workflows;Object(v.useEffect)(function(){i()},[]);var l=function(){return t()};return y.a.createElement(ke.a,{title:a?"Edit portfolio":"Create portfolio",isOpen:!0,onClose:l,isSmall:!0},y.a.createElement("div",{style:{padding:8}},y.a.createElement(He,{schema:Ye(!a,c),schemaType:"default",onSubmit:function(e){return a?o(e).then(t).then(function(){return n()}):r(e).then(t).then(function(){return n()})},onCancel:l,initialValues:L()({},a),formContainer:"modal",buttonsLabels:{submitLabel:"Save"}})))};Ke.propTypes={history:R.a.shape({goBack:R.a.func.isRequired}).isRequired,addPortfolio:R.a.func.isRequired,addNotification:R.a.func.isRequired,fetchPortfolios:R.a.func.isRequired,initialValues:R.a.object,updatePortfolio:R.a.func.isRequired,fetchWorkflows:R.a.func.isRequired,workflows:R.a.arrayOf(R.a.shape({value:R.a.oneOfType([R.a.number,R.a.string]).isRequired,label:R.a.string.isRequired})).isRequired};var Je=Object(O.f)(Object(j.connect)(function(e,t){var r=e.approvalReducer.workflows,n=e.portfolioReducer.portfolios,a=t.match.params.id;return{initialValues:a&&n.find(function(e){return e.id===a}),portfolioId:a,workflows:r}},function(e){return Object(S.bindActionCreators)({addPortfolio:T.a,updatePortfolio:T.j,fetchPortfolios:T.f,fetchWorkflows:Be},e)})(Ke)),Qe=r(79),Xe=r(82),$e=function(e){var t=e.history,r=t.goBack,n=t.push,a=e.removePortfolio,o=e.fetchPortfolios,i=e.portfolio,c=function(){return r()};return i?y.a.createElement(ke.a,{title:" ",isOpen:!0,isSmall:!0,hideTitle:!0,onClose:c,actions:[y.a.createElement(re.c,{key:"cancel",variant:"secondary",type:"button",onClick:c},"Cancel"),y.a.createElement(re.c,{key:"submit",variant:"primary",type:"button",onClick:function(){return a(i.id).then(function(){o(),n("/portfolios")})}},"Confirm")]},y.a.createElement(Qe.a,null,y.a.createElement(xe.a,null,y.a.createElement(Ne.b,{component:Ne.a.h1},"Removing Portfolio:  ",i.name)))):null};$e.propTypes={history:R.a.shape({goBack:R.a.func.isRequired,push:R.a.func.isRequired}).isRequired,removePortfolio:R.a.func.isRequired,addNotification:R.a.func.isRequired,fetchPortfolios:R.a.func.isRequired,portfolio:R.a.shape({id:R.a.string.isRequired,name:R.a.string.isRequired})};var Ze=function(e,t){return e.portfolioReducer.portfolios.find(function(e){return e.id===t})},et=Object(O.f)(Object(j.connect)(function(e,t){var r=t.match.params.id;return{portfolio:Ze(e,r)}},function(e){return Object(S.bindActionCreators)({addNotification:Xe.addNotification,fetchPortfolios:T.f,removePortfolio:T.h},e)})($e)),tt=function(e){var t=e.portfolioRoute,r=e.onRemove,n=e.portfolioName,a=e.filterValue,o=e.onFilterChange,i=e.disableButton;return y.a.createElement(ne.b,null,y.a.createElement(ne.a,{title:"Remove products: ".concat(n)}),y.a.createElement($.a,null,y.a.createElement(Z.a,null,y.a.createElement(ee.a,null,y.a.createElement(te.a,null,y.a.createElement(ae.a,{placeholder:"Filter by name...",searchValue:a,onFilterChange:o}))),y.a.createElement(ee.a,null,y.a.createElement(te.a,null,y.a.createElement(Q.b,{to:t},y.a.createElement(re.c,{variant:"link","aria-label":"Cancel removing portfolio items"},"Cancel")))),y.a.createElement(ee.a,null,y.a.createElement(te.a,null,y.a.createElement(re.c,{isDisabled:i,variant:"danger","aria-label":"Remove selected portfolio items",onClick:r},"Remove"))))))};tt.propTypes={onCancel:R.a.func,onRemove:R.a.func,portfolioRoute:R.a.string,portfolioName:R.a.string,filterValue:R.a.string.isRequired,onFilterChange:R.a.func.isRequired,disableButton:R.a.bool},tt.defaultProps={disableButton:!1};var rt=tt,nt=r(43),at=r(121),ot=r.n(at),it=r(119),ct=r(337),lt=r(182),st=r(183),ut=r(132),dt=r(170),ft=r(97),pt=function(e){function t(){var e,r;i()(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=u()(this,(e=f()(t)).call.apply(e,[this].concat(a))),b()(m()(r),"state",{selectedPlanIdx:0,controlParametersLoaded:!1}),b()(m()(r),"optionRow",function(e,t,r,n){return y.a.createElement(ct.a,{id:e.id,key:e.id,value:e.id,checked:r===e.id,name:e.name,"aria-label":e.description,onChange:n,label:e.description})}),b()(m()(r),"handlePlanChange",function(e,t){var n=t.currentTarget.value;r.setState({selectedPlanIdx:r.props.servicePlans.findIndex(function(e){return e.id===n})})}),b()(m()(r),"planOptions",function(){var e=r.props.servicePlans[r.state.selectedPlanIdx].id,t=r.handlePlanChange;return r.props.servicePlans.map(function(n,a){return r.optionRow(n,a,e,t)})}),b()(m()(r),"onSubmit",function(e){var t=r.props.id,n=r.props.servicePlans[r.state.selectedPlanIdx].id;r.props.sendSubmitOrder({portfolio_item_id:t,service_plan_ref:n,service_parameters:e}),r.props.history.push(r.props.closeUrl)}),r}return g()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;this.props.fetchPlans(t),Object(nt.c)(t).then(function(t){return e.setState({providerControlParameters:t,controlParametersLoaded:!0})})}},{key:"render",value:function(){var e=this.state,t=e.controlParametersLoaded,r=e.providerControlParameters;if(!this.props.isLoading&&t){var n=L()({},this.props.servicePlans[this.state.selectedPlanIdx].create_json_schema),a=L()({},n,{properties:L()({providerControlParameters:r},n.properties)});return y.a.createElement(lt.a,{gutter:"md"},y.a.createElement(st.a,null,y.a.createElement(ut.a,{size:"lg"}," Configuration ")),y.a.createElement(st.a,null,y.a.createElement(dt.a,null,this.props.servicePlans.length>1&&y.a.createElement("div",null,y.a.createElement(ut.a,{size:"md"},"Select Plan:"),y.a.createElement("div",null,this.planOptions()))),!this.props.isLoading&&this.props.servicePlans.length>0&&y.a.createElement(He,{schema:a,onSubmit:this.onSubmit,schemaType:"mozilla",formContainer:"modal"})))}return y.a.createElement(Qe.a,null,this.props.isLoading&&y.a.createElement("span",{color:"#00b9e4"}," Loading..."))}}]),t}(y.a.Component);pt.propTypes={orderData:R.a.func,fetchPlans:R.a.func,isLoading:R.a.bool,serviceData:R.a.object,servicePlans:R.a.array,id:R.a.string,name:R.a.string,sendSubmitOrder:R.a.func.isRequired,history:R.a.shape({push:R.a.func.isRequired}).isRequired,closeUrl:R.a.string.isRequired},pt.defaultProps={servicePlans:[]};var mt=Object(O.f)(Object(j.connect)(function(e){var t=e.orderReducer;return{isLoading:t.isLoading,servicePlans:t.servicePlans}},function(e){return{fetchPlans:function(t){return e(Object(ft.a)(t))},sendSubmitOrder:function(t){return e(Object(ft.c)(t))}}})(pt)),ht=function(e){var t=e.serviceData,r=e.closeUrl,n=e.history.push;return t?y.a.createElement(ke.a,{isOpen:!0,hideTitle:!0,onClose:function(){return n(r)},style:{maxWidth:800,minHeight:300}},y.a.createElement(it.a,{src:t.imageUrl||ot.a,width:"40"}),t.name,y.a.createElement(mt,a()({closeUrl:r},t))):null};ht.propTypes={orderData:R.a.func,serviceData:R.a.object,closeUrl:R.a.string.isRequired,history:R.a.shape({push:R.a.func.isRequired}).isRequired};var gt=Object(O.f)(Object(j.connect)(function(e){var t=e.orderReducer;return{selectedItem:t.selectedItem,servicePlans:t.servicePlans}})(ht)),Et=r(117),bt=r(95),vt=function(e){var t=e.product,r=e.source,n=e.portfolio;return y.a.createElement(xe.a,null,y.a.createElement(Ne.b,{component:Ne.a.h6},"Platform ",y.a.createElement("br",null),r.name),y.a.createElement(Ne.b,{component:Ne.a.h6},"Portfolio ",y.a.createElement("br",null),n.display_name||n.name),y.a.createElement(Ne.b,{component:Ne.a.h6},"Vendor ",y.a.createElement("br",null),t.distributor||"Missing API data"),y.a.createElement(Ne.b,{component:Ne.a.h6},"Created at ",y.a.createElement("br",null),new Date(t.updated_at||t.created_at).toLocaleDateString()))};vt.propTypes={product:R.a.shape({distributor:R.a.string,updated_at:R.a.string,created_at:R.a.string.isRequired}).isRequired,source:R.a.shape({name:R.a.string.isRequired}).isRequired,portfolio:R.a.shape({display_name:R.a.string,name:R.a.string.isRequired}).isRequired};var yt=vt,Pt=function(e){var t=e.product;return y.a.createElement(v.Fragment,null,y.a.createElement(xe.a,null,y.a.createElement(Ne.b,{component:Ne.a.p},t.description),y.a.createElement(Ne.b,{component:Ne.a.p},y.a.createElement("a",{href:"javascript:void(0)"},"Sample repository")),y.a.createElement(Ne.b,{component:Ne.a.h6},"Overview"),y.a.createElement(Ne.b,{component:Ne.a.p},t.description),y.a.createElement(Ne.b,{component:Ne.a.p},t.long_description),y.a.createElement(Ne.b,{component:Ne.a.p},y.a.createElement("a",{href:t.support_url,target:"_blank",rel:"noopener noreferrer"},"Learn more")),y.a.createElement(Ne.b,{component:Ne.a.h6},"Documentation"),y.a.createElement(Ne.b,{component:Ne.a.p},y.a.createElement("a",{href:t.documentation_url,target:"_blank",rel:"noopener noreferrer"},"Doc link"))))};Pt.propTypes={product:R.a.shape({dscription:R.a.string,long_description:R.a.string,support_url:R.a.string,documentation_url:R.a.string}).isRequired,url:R.a.string.isRequired,workflows:R.a.arrayOf(R.a.shape({label:R.a.string.isRequired,value:R.a.string.isRequired})).isRequired,workflow:Object(Y.a)(R.a.string),setWorkflow:R.a.func.isRequired};var Rt=Pt,jt=function(e){var t=e.detailUrl,r=e.onSave,n=e.resetWorkflow;return y.a.createElement(v.Fragment,null,y.a.createElement(fe.a,null,y.a.createElement(Q.b,{to:t},y.a.createElement(re.c,{variant:"link",onClick:n},"Cancel"))),y.a.createElement(fe.a,null,y.a.createElement(re.c,{variant:"primary",onClick:r},"Save")))};jt.propTypes={detailUrl:R.a.string.isRequired,onSave:R.a.func.isRequired,resetWorkflow:R.a.func.isRequired};var Ot=jt,_t=function(e){var t=e.orderUrl;e.editUrl,e.isOpen,e.setOpen;return y.a.createElement(v.Fragment,null,y.a.createElement(fe.a,null,y.a.createElement(Q.b,{to:t},y.a.createElement(re.c,{variant:"primary"},"Order"))))};_t.propTypes={orderUrl:R.a.string.isRequired,editUrl:R.a.string.isRequired,isOpen:R.a.bool,setOpen:R.a.func.isRequired};var It=_t,Lt=function(e){var t=e.url,r=e.isOpen,n=e.product,o=e.setOpen,i=e.setWorkflow,c=e.handleUpdate;return y.a.createElement(v.Fragment,null,y.a.createElement(ne.b,null,y.a.createElement("div",{style:{float:"left"}},y.a.createElement(Oe.a,{src:"".concat(je.b,"/portfolio_items/").concat(n.id,"/icon"),height:64})),y.a.createElement($.a,null,y.a.createElement(fe.a,null,y.a.createElement(xe.a,null,y.a.createElement(Ne.b,{component:Ne.a.h1},n.display_name||n.name))),y.a.createElement(fe.a,null,y.a.createElement($.a,null,y.a.createElement(O.b,{exact:!0,path:[t,"".concat(t,"/order")],render:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return y.a.createElement(It,a()({isOpen:r,setOpen:o,orderUrl:"".concat(t,"/order"),editUrl:"".concat(t,"/edit")},n))}}),y.a.createElement(O.b,{exact:!0,path:"".concat(t,"/edit"),render:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return y.a.createElement(Ot,a()({detailUrl:t,onSave:c,resetWorkflow:function(){return i(n.workflow_ref)}},r))}})))),y.a.createElement($.a,null,y.a.createElement(fe.a,null,y.a.createElement(xe.a,null,y.a.createElement(Ne.b,{component:Ne.a.small},n.distributor," "))))))};Lt.propTypes={url:R.a.string.isRequired,isOpen:R.a.bool,product:R.a.shape({display_name:R.a.string,distributor:R.a.string,name:R.a.string.isRequired,workflow_ref:R.a.string}).isRequired,setOpen:R.a.func.isRequired,setWorkflow:R.a.func.isRequired,handleUpdate:R.a.func.isRequired};var wt=Lt,kt=r(41),Ft=function(e){var t=e.match,r=t.path,n=t.url,o=t.params.portfolioItemId,i=e.history.push,c=e.location.pathname,l=e.source,s=e.product,u=e.portfolio,d=e.isLoading,f=e.workflows,p=e.fetchWorkflows,m=e.fetchPlatforms,h=e.fetchPortfolioItem,g=e.selectPortfolioItem,E=Object(v.useState)(!1),b=C()(E,2),P=b[0],R=b[1],j=Object(v.useState)(s.workflow_ref),_=C()(j,2),I=_[0],w=_[1];Object(v.useEffect)(function(){p()},[]),Object(v.useEffect)(function(){m(),h(o)},[r]),Object(v.useEffect)(function(){w(s.workflow_ref)},[d]);return c.match(/\/product\/[0-9]+\/edit/)?y.a.createElement(O.a,{to:n}):d?y.a.createElement(D.Section,{style:{backgroundColor:"white",minHeight:"100%"}},y.a.createElement(ne.b,null,y.a.createElement(kt.e,null))):y.a.createElement(D.Section,{style:{backgroundColor:"white",minHeight:"100%"}},y.a.createElement(O.b,{path:"".concat(n,"/order"),render:function(e){return y.a.createElement(gt,a()({},e,{closeUrl:n,serviceData:s}))}}),y.a.createElement(wt,{url:n,isOpen:P,product:s,setOpen:R,handleUpdate:function(){Object(nt.l)(L()({},s,{workflow_ref:I})).then(function(e){return g(e.json())}).then(function(){return i(n)})},setWorkflow:w}),y.a.createElement("div",{style:{padding:32}},y.a.createElement(Et.a,null,y.a.createElement(bt.a,{md:2},y.a.createElement(yt,{product:s,portfolio:u,source:l})),y.a.createElement(bt.a,{md:10},y.a.createElement(Rt,{product:s,url:n,workflows:f,workflow:I,setWorkflow:w})))))};Ft.propTypes={match:R.a.shape({path:R.a.string.isRequired}).isRequired,portfolio:R.a.shape({id:R.a.string.isRequired}),location:R.a.shape({pathname:R.a.string.isRequired}).isRequired,product:R.a.shape({id:R.a.string}).isRequired,source:R.a.object,history:R.a.shape({push:R.a.func.isRequired}).isRequired,workflows:R.a.arrayOf(R.a.shape({value:Object(Y.a)(R.a.string),label:R.a.string.isRequired})).isRequired,isLoading:R.a.bool,fetchPlatforms:R.a.func.isRequired,fetchPortfolioItem:R.a.func.isRequired,fetchWorkflows:R.a.func.isRequired,selectPortfolioItem:R.a.func.isRequired};var Tt=Object(O.f)(Object(j.connect)(function(e){var t,r=e.portfolioReducer,n=r.portfolioItem,a=r.isLoading,o=r.selectedPortfolio,i=e.platformReducer.platforms,c=e.approvalReducer,l=c.workflows,s=c.isFetching,u=o,d=n;return d&&i&&(t=i.find(function(e){return e.id==d.service_offering_source_ref})),{isLoading:a||!d||!u||!t||s,workflows:l,portfolio:u,product:d,source:t}},function(e){return Object(S.bindActionCreators)({fetchPlatforms:W.b,fetchPortfolioItem:T.c,fetchWorkflows:Be,selectPortfolioItem:T.i},e)})(Ft)),qt=function(e,t){var r,n=e.items,a=function(e,t){return{fields:[{component:"sub-form",title:"Invite Group",name:"new_share",key:"1",fields:[{name:"group_uuid",component:Fe.componentTypes.SELECT,options:e},{name:"permissions",component:Fe.componentTypes.SELECT,options:t}]}]}}(e.groups,t),o=n.map(function(e){return function(e,t){return{component:"sub-form",name:"".concat(e.group_name),key:"".concat(e.group_name),fields:[{name:"".concat(e.group_name),label:"".concat(e.group_name),component:Fe.componentTypes.SELECT,options:t}]}}(e,t)}),i=L()({},(r=k()(o),{fields:[{component:"sub-form",title:"Groups With Access",name:"share_list",key:"share_list",fields:k()(r)}]}));return{fields:[].concat(k()(a.fields),k()(i.fields))}},Ct=r(18),St=r.n(Ct),Dt=r(38),xt=r.n(Dt),Nt=Object(ze.b)();function At(e){return Ut.apply(this,arguments)}function Ut(){return(Ut=xt()(St.a.mark(function e(t){return St.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(je.b,"/portfolios/").concat(t,"/share_info")).then(function(e){return e.json()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Mt(e){return Vt.apply(this,arguments)}function Vt(){return(Vt=xt()(St.a.mark(function e(t){var r;return St.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={permissions:t.permissions.split(","),group_uuids:[t.group_uuid]},e.next=3,Nt.sharePortfolio(t.id,r);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gt(e){return Ht.apply(this,arguments)}function Ht(){return(Ht=xt()(St.a.mark(function e(t){var r;return St.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={permissions:t.permissions,group_uuids:[t.group_uuid]},e.next=3,Nt.unsharePortfolio(t.id,r);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Wt=r(8),zt=function(e){return{type:Wt.v,payload:At(e)}},Bt=function(e){return{type:Wt.z,payload:Mt(L()({},e)),meta:{notifications:{fulfilled:{variant:"success",title:"Success sharing portfolio",description:"The portfolio was shared successfully."}}}}},Yt=function(e){return{type:Wt.B,payload:Gt(L()({},e)),meta:{notifications:{fulfilled:{variant:"success",title:"Success unsharing portfolio",description:"The portfolio was unshared successfully."}}}}},Kt=Object(ze.d)();function Jt(){return Qt.apply(this,arguments)}function Qt(){return(Qt=xt()(St.a.mark(function e(){return St.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kt.listGroups();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Xt=function(){return{type:Wt.o,payload:Jt().then(function(e){return e.data.map(function(e){return{value:e.uuid,label:e.name}})})}},$t=function(e){var t=e.history.goBack,r=e.isLoading,n=e.fetchPortfolios,a=e.initialValues,o=e.fetchShareInfo,i=e.sharePortfolio,c=e.fetchRbacGroups,l=e.shareInfo,s=e.portfolioId,u=e.rbacGroups;Object(v.useEffect)(function(){o(s),c()},[]);var d=function(){return t()},f=[{value:"catalog:portfolios:order,catalog:portfolios:read,catalog:portfolios:write",label:"Can order/edit"},{value:"catalog:portfolios:order,catalog:portfolios:read",label:"Can order/view"}];return 0===u.length?y.a.createElement(ke.a,{title:"Share portfolio",isOpen:!0,isLarge:!0,onClose:d},r&&y.a.createElement(kt.f,null),!r&&y.a.createElement("div",{style:{padding:8}},y.a.createElement(ut.a,{headingLevel:"h2",size:"1xl"},"No groups available for sharing."))):y.a.createElement(ke.a,{title:"Share portfolio",isOpen:!0,isLarge:!0,onClose:d},y.a.createElement("div",{style:{padding:8}},y.a.createElement(He,{schema:qt({groups:u.filter(function(e){return!l.find(function(t){return t.group_uuid===e.value})}),items:l},f),schemaType:"default",onSubmit:function(e){var r=[];e.group_uuid&&e.permissions&&r.push(i(e)),l.forEach(function(t){var n=t.permissions.sort().join(",");e[t.group_name]!==n&&(e[t.group_name]?t.permissions.length>e[t.group_name].split(",").length?r.push(Yt({id:s,permissions:["catalog:portfolios:write"],group_uuid:t.group_uuid})):r.push(i({id:s,permissions:e[t.group_name],group_uuid:t.group_uuid})):r.push(Yt({id:s,permissions:t.permissions,group_uuid:t.group_uuid})))}),Promise.all(r).then(t).then(function(){return n()})},onCancel:d,initialValues:L()({},a,l.map(function(e){var t=e.group_name,r=f.find(function(t){return t.value===e.permissions.sort().join(",")});return b()({},t,r?r.value:"Unknown")}).reduce(function(e,t){return L()({},e,t)},{})),formContainer:"modal",buttonsLabels:{submitLabel:"Send"}})))};$t.propTypes={history:R.a.shape({goBack:R.a.func.isRequired}).isRequired,isLoading:R.a.bool,addNotification:R.a.func.isRequired,fetchPortfolios:R.a.func.isRequired,fetchRbacGroups:R.a.func.isRequired,sharePortfolio:R.a.func.isRequired,unsharePortfolio:R.a.func.isRequired,fetchShareInfo:R.a.func.isRequired,portfolioId:R.a.string.isRequired,shareInfo:R.a.array.isRequired,rbacGroups:R.a.arrayOf(R.a.shape({value:R.a.oneOfType([R.a.number,R.a.string]).isRequired,label:R.a.string.isRequired})).isRequired,initialValues:R.a.object};var Zt=Object(O.f)(Object(j.connect)(function(e,t){var r=e.rbacReducer.rbacGroups,n=e.portfolioReducer.portfolios,a=e.shareReducer,o=a.shareInfo,i=a.isLoading,c=t.match.params.id;return{initialValues:c&&n.find(function(e){return e.id===c}),portfolioId:c,isLoading:i,shareInfo:o,rbacGroups:r}},function(e){return Object(S.bindActionCreators)({fetchRbacGroups:Xt,fetchPortfolios:T.f,sharePortfolio:Bt,unsharePortfolio:Yt,fetchShareInfo:zt},e)})($t)),er=function(e){function t(){var e,r;i()(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return r=u()(this,(e=f()(t)).call.apply(e,[this].concat(o))),b()(m()(r),"state",{portfolioId:"",filteredItems:[],selectedItems:[],filterValue:""}),b()(m()(r),"fetchData",function(e){r.props.fetchSelectedPortfolio(e),r.props.fetchPortfolioItemsWithPortfolio(e)}),b()(m()(r),"removeProducts",function(){r.props.history.goBack(),Object(nt.j)(r.state.selectedItems).then(function(){r.fetchData(r.props.match.params.id),r.setState({selectedItems:[]})})}),b()(m()(r),"handleItemSelect",function(e){return r.setState(function(t){var r=t.selectedItems;return r.includes(e)?{selectedItems:[].concat(k()(r.slice(0,r.indexOf(e))),k()(r.slice(r.indexOf(e)+1)))}:{selectedItems:[].concat(k()(r),[e])}})}),b()(m()(r),"filterItems",function(e){return r.props.portfolioItems.filter(function(t){return Object(Y.f)(t,e)})}),b()(m()(r),"handleFilterChange",function(e){r.setState({filterValue:e})}),b()(m()(r),"renderEmptyState",function(){return y.a.createElement(A.b,{Icon:_.a,title:"No products in ".concat(r.props.portfolio.name," portfolio"),description:"You haven’t added any products to the portfolio",PrimaryAction:function(){return y.a.createElement(A.a,{url:"".concat(r.props.match.url,"/add-products"),label:"Add products"})}})}),b()(m()(r),"renderProducts",function(e){var t=e.title,n=e.filteredItems,o=e.addProductsRoute,i=e.removeProductsRoute,c=e.editPortfolioRoute,l=e.removePortfolioRoute,s=e.sharePortfolioRoute;return y.a.createElement(v.Fragment,null,y.a.createElement(ne.b,null,y.a.createElement(be,{title:t,searchValue:r.state.filterValue,onFilterChange:r.handleFilterChange,addProductsRoute:o,removeProductsRoute:i,editPortfolioRoute:c,removePortfolioRoute:l,sharePortfolioRoute:s,isLoading:r.props.isLoading})),y.a.createElement(O.b,{exact:!0,path:"/portfolios/detail/:id/edit-portfolio",component:Je}),y.a.createElement(O.b,{exact:!0,path:"/portfolios/detail/:id/remove-portfolio",component:et}),y.a.createElement(O.b,{exact:!0,path:"/portfolios/detail/:id/share-portfolio",component:Zt}),y.a.createElement(O.b,{exact:!0,path:"/portfolios/detail/:id/order/:itemId",render:function(e){return y.a.createElement(gt,a()({},e,{closeUrl:r.props.match.url}))}}),y.a.createElement(F.a,a()({},n,{renderEmptyState:r.renderEmptyState})))}),b()(m()(r),"renderAddProducts",function(e){var t=e.portfolioRoute;return y.a.createElement(de,{portfolio:r.props.portfolio,portfolioRoute:t})}),b()(m()(r),"renderRemoveProducts",function(e){var t=e.portfolioRoute,n=e.filteredItems,a=e.title;return y.a.createElement(y.a.Fragment,null,y.a.createElement(rt,{filterValue:r.state.filterValue,onFilterChange:r.handleFilterChange,portfolioName:a,portfolioRoute:t,onRemove:r.removeProducts,disableButton:0===r.state.selectedItems.length}),y.a.createElement(F.a,n))}),r}return g()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.fetchData(this.props.match.params.id),Object(Y.g)()}},{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&(this.fetchData(this.props.match.params.id),Object(Y.g)())}},{key:"render",value:function(){var e=this,t=this.props.match.url,r="".concat(this.props.match.url,"/add-products"),n="".concat(this.props.match.url,"/remove-products"),o="".concat(this.props.match.url,"/edit-portfolio"),i="".concat(this.props.match.url,"/remove-portfolio"),c="".concat(this.props.match.url,"/share-portfolio"),l="".concat(this.props.match.url,"/product"),s=this.props.portfolio?this.props.portfolio.name:"",u={items:this.props.portfolioItems.filter(function(t){return Object(Y.f)(t,e.state.filterValue)}).map(function(t){return y.a.createElement(we,a()({key:t.id},t,{isSelectable:e.props.location.pathname.includes("/remove-products"),onSelect:e.handleItemSelect,isSelected:e.state.selectedItems.includes(t.id),orderUrl:"".concat(l,"/").concat(t.id)}))}),isLoading:this.props.isLoading&&0===this.props.portfolioItems.length};return y.a.createElement(O.d,null,y.a.createElement(O.b,{path:r,render:function(r){return e.renderAddProducts(L()({portfolioRoute:t},r))}}),y.a.createElement(O.b,{path:"".concat(l,"/:portfolioItemId"),component:Tt}),y.a.createElement(O.b,{path:n,render:function(r){return e.renderRemoveProducts(L()({filteredItems:u,portfolioRoute:t,title:s},r))}}),y.a.createElement(O.b,{path:t,render:function(t){return e.renderProducts(L()({addProductsRoute:r,removeProductsRoute:n,editPortfolioRoute:o,removePortfolioRoute:i,sharePortfolioRoute:c,filteredItems:u,title:s},t))}}))}}]),t}(v.Component);er.propTypes={isLoading:R.a.bool,fetchPortfolioItemsWithPortfolio:R.a.func,fetchSelectedPortfolio:R.a.func,match:R.a.object,portfolio:R.a.shape({name:R.a.string,id:R.a.string.isRequired}),location:R.a.object,history:R.a.object,portfolioItems:R.a.array},er.defaultProps={portfolioItems:[]};var tr=Object(O.f)(Object(j.connect)(function(e){var t=e.portfolioReducer,r=t.selectedPortfolio,n=t.portfolioItems,a=t.isLoading;return{portfolio:r,portfolioItems:n,isLoading:!r||a}},function(e){return{fetchPortfolioItemsWithPortfolio:function(t){return e(Object(T.e)(t))},fetchSelectedPortfolio:function(t){return e(Object(T.g)(t))}}})(er)),rr=r(92),nr=r(169),ar=r(113),or=(r(327),function(e){var t=e.portfolioName,r=e.headerActions;return y.a.createElement($.a,null,y.a.createElement(fe.a,null,y.a.createElement(xe.a,null,y.a.createElement(Ne.b,{className:"elipsis-text-overflow pf-u-mb-0",component:Ne.a.h3},t))),y.a.createElement(fe.a,{onClick:function(e){return e.preventDefault()}},r))});or.propTypes={portfolioName:R.a.string.isRequired,headerActions:R.a.arrayOf(R.a.node)},or.defaultProps={headerActions:[]};var ir=or,cr=["description"],lr=function(e,t,r,n){return[y.a.createElement(pe.a,{key:"portfolio-dropdown",isOpen:r,isPlain:!0,onSelect:function(){return n(!1)},position:me.d.right,toggle:y.a.createElement(he.a,{onToggle:n}),dropdownItems:[y.a.createElement(ge.a,{key:"share-portfolio-action"},y.a.createElement(Q.b,{to:"/portfolios/share/".concat(t),className:"pf-c-dropdown__menu-item"},"Share")),y.a.createElement(nr.a,{key:"share-portfolio-separator"}),y.a.createElement(ge.a,{key:"edit-portfolio-action"},y.a.createElement(Q.b,{to:"/portfolios/edit/".concat(t),className:"pf-c-dropdown__menu-item"},"Edit")),y.a.createElement(ge.a,{key:"remove-portfolio-action"},y.a.createElement(Q.b,{to:"/portfolios/remove/".concat(t),className:"pf-c-dropdown__menu-item destructive-color"},"Delete"))]})]},sr=function(e){var t=e.imageUrl,r=e.name,n=e.id,o=N()(e,["imageUrl","name","id"]),i=Object(v.useState)(!1),c=C()(i,2),l=c[0],s=c[1];return y.a.createElement(Pe.a,null,y.a.createElement(Re.a,{className:"content-gallery-card"},y.a.createElement(Q.b,{className:"card-link",to:"/portfolios/detail/".concat(n)},y.a.createElement(ve.a,null,y.a.createElement(ir,{portfolioName:r,headerActions:lr(0,n,l,s)})),y.a.createElement(ar.a,null,y.a.createElement(xe.a,null,y.a.createElement(Ne.b,{component:Ne.a.small},Object(Y.c)(new Date(o.updated_at||o.created_at),o.owner))),y.a.createElement(rr.a,a()({},L()({name:r,imageUrl:t},o),{toDisplay:cr}))),y.a.createElement(ye.a,null))))};sr.propTypes={history:R.a.object,imageUrl:R.a.string,name:R.a.string,id:R.a.string.isRequired,updated_at:R.a.string,created_at:R.a.string.isRequired,owner:R.a.string.isRequired};var ur=sr,dr=function(e){var t=e.onFilterChange,r=e.filterValue,n=N()(e,["onFilterChange","filterValue"]);return y.a.createElement(Z.a,{className:"pf-u-mt-md"},y.a.createElement(ee.a,null,y.a.createElement(te.a,null,y.a.createElement(ae.a,a()({},n,{searchValue:r,onFilterChange:t,placeholder:"Filter by name..."})))),y.a.createElement(ee.a,null,y.a.createElement(te.a,null,y.a.createElement(Q.b,{to:"/portfolios/add-portfolio"},y.a.createElement(re.c,{variant:"primary","aria-label":"Create portfolio"},"Create portfolio")))))};dr.propTypes={onFilterChange:R.a.func.isRequired,filterValue:R.a.string};var fr=dr,pr="",mr="detail/:id",hr=function(e){function t(){var e,r;i()(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return r=u()(this,(e=f()(t)).call.apply(e,[this].concat(o))),b()(m()(r),"state",{filteredItems:[],isOpen:!1,filterValue:""}),b()(m()(r),"fetchData",function(){r.props.fetchPortfolios()}),b()(m()(r),"onFilterChange",function(e){return r.setState({filterValue:e})}),b()(m()(r),"renderItems",function(e){var t={items:r.props.portfolios.filter(function(e){return e.name.toLowerCase().includes(r.state.filterValue.trim().toLowerCase())}).map(function(e){return y.a.createElement(ur,a()({key:e.id},e))}),isLoading:r.props.isLoading&&0===r.props.portfolios.length};return y.a.createElement(v.Fragment,null,y.a.createElement(ne.b,null,y.a.createElement(ne.a,{title:"Portfolios"}),y.a.createElement(fr,{onFilterChange:r.onFilterChange,filterValue:r.state.filterValue})),y.a.createElement(O.b,a()({},e,{exact:!0,path:"/portfolios/add-portfolio",component:Je})),y.a.createElement(O.b,{exact:!0,path:"/portfolios/edit/:id",component:Je}),y.a.createElement(O.b,{exact:!0,path:"/portfolios/remove/:id",component:et}),y.a.createElement(O.b,{exact:!0,path:"/portfolios/share/:id",component:Zt}),y.a.createElement(F.a,a()({},t,{renderEmptyState:function(){return y.a.createElement(A.b,{title:"No portfolios",Icon:_.a,description:"You haven’t created a portfolio yet.",PrimaryAction:function(){return y.a.createElement(A.a,{url:"/portfolios/add-portfolio",label:"Create portfolio"})}})}})))}),r}return g()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.fetchData(),Object(Y.g)()}},{key:"render",value:function(){return y.a.createElement(O.d,null,y.a.createElement(O.b,{path:"/portfolios/".concat(mr),component:tr}),y.a.createElement(O.b,{path:"/portfolios/".concat(pr),render:this.renderItems}))}}]),t}(v.Component);hr.propTypes={filteredItems:R.a.array,portfolios:R.a.array,platforms:R.a.array,isLoading:R.a.bool,searchFilter:R.a.string,showModal:R.a.func,fetchPortfolios:R.a.func.isRequired},hr.defaultProps={portfolios:[]};t.default=Object(j.connect)(function(e){var t=e.portfolioReducer;return{portfolios:t.portfolios,isLoading:t.isLoading,searchFilter:t.filterValue}},function(e){return{fetchPortfolios:function(t){return e(Object(T.f)(t))}}})(hr)},452:function(e,t,r){"use strict";r.r(t);var n,a,o,i,c,l,s=r(2),u=r.n(s),d=r(20),f=r.n(d),p=r(11),m=r(16),h=r(361),g=r(29),E=r(82),b=r(344),v=r.n(b),y=r(345),P=r(6),R=r.n(P),j=r(5),O=r.n(j),_=r(8),I=function(e){return O()({},e,{isLoading:!0})},L=(n={},R()(n,"".concat(_.q,"_PENDING"),I),R()(n,"".concat(_.q,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{servicePlans:r,isLoading:!1})}),R()(n,"".concat(_.u,"_PENDING"),I),R()(n,"".concat(_.u,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{orders:r,isLoading:!1})}),R()(n,"".concat(_.r,"_PENDING"),I),R()(n,"".concat(_.r,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{planParameters:r,isLoading:!1})}),R()(n,"".concat(_.A,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,r,{isLoading:!1})}),R()(n,_.D,function(e,t){var r=t.payload;return O()({},e,{serviceData:r,isLoading:!1})}),R()(n,_.y,function(e,t){var r=t.payload;return O()({},e,{selectedPlan:r,isLoading:!1})}),R()(n,"".concat(_.p,"_PENDING"),I),R()(n,"".concat(_.p,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{requests:r,isLoading:!1})}),R()(n,"".concat(_.e,"_PENDING"),I),R()(n,"".concat(_.e,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{orderItems:r,isLoading:!1})}),R()(n,"".concat(_.c,"_PENDING"),I),R()(n,"".concat(_.c,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{linkedOrders:r,isLoading:!1})}),n),w=function(e){return O()({},e,{isPlatformDataLoading:!0})},k=(a={},R()(a,"".concat(_.g,"_PENDING"),w),R()(a,"".concat(_.g,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{platforms:r,isPlatformDataLoading:!1})}),R()(a,"".concat(_.i,"_PENDING"),w),R()(a,"".concat(_.i,"_FULFILLED"),function(e,t){var r=t.payload,n=t.meta.platformId;return O()({},e,{platformItems:O()({},e.platformItems,R()({},n,r)),isPlatformDataLoading:!1})}),R()(a,"".concat(_.h,"_PENDING"),w),R()(a,"".concat(_.h,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{portfolioItem:r,isPlatformDataLoading:!1})}),R()(a,"".concat(_.f,"_PENDING"),w),R()(a,"".concat(_.f,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{selectedPlatform:r,isLoading:!1})}),R()(a,"".concat(_.s,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{filterValue:r})}),R()(a,"".concat(_.d,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{platformItems:O()({},e.platformItems,r),isPlatformDataLoading:!1})}),a),F=function(e){return O()({},e,{isLoading:!0})},T=function(e,t){var r=t.payload;return O()({},e,{portfolioItems:r,isLoading:!1})},q=function(e,t){var r=t.payload;return O()({},e,{portfolioItem:r,isLoading:!1})},C=(o={},R()(o,"".concat(_.k,"_PENDING"),F),R()(o,"".concat(_.k,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{portfolios:r,isLoading:!1})}),R()(o,"".concat(_.m,"_PENDING"),F),R()(o,"".concat(_.m,"_FULFILLED"),T),R()(o,"".concat(_.n,"_PENDING"),F),R()(o,"".concat(_.n,"_FULFILLED"),T),R()(o,"".concat(_.l,"_PENDING"),F),R()(o,"".concat(_.l,"_FULFILLED"),q),R()(o,"".concat(_.j,"_PENDING"),F),R()(o,"".concat(_.j,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{selectedPortfolio:r,isLoading:!1})}),R()(o,_.t,function(e,t){var r=t.payload;return O()({},e,{filterValue:r})}),R()(o,"".concat(_.x,"_FULFILLED"),q),o),S=r(96),D=(i={},R()(i,S.a.FETCH_WORKFLOWS_PENDING,function(e){return O()({},e,{isFetching:!0})}),R()(i,S.a.FETCH_WORKFLOWS_FULFILLED,function(e,t){var r=t.payload;return O()({},e,{isFetching:!1,workflows:r})}),i),x=(c={},R()(c,"".concat(_.o,"_PENDING"),function(e){return O()({},e,{isLoading:!0})}),R()(c,"".concat(_.o,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{rbacGroups:r,isLoading:!1})}),c),N=(l={},R()(l,"".concat(_.v,"_PENDING"),function(e){return O()({},e,{isLoading:!0})}),R()(l,"".concat(_.v,"_FULFILLED"),function(e,t){var r=t.payload;return O()({},e,{shareInfo:r,isLoading:!1})}),l),A=new g.ReducerRegistry({},[y.a,Object(h.a)(),Object(E.notificationsMiddleware)({errorTitleKey:["errors","message"],errorDescriptionKey:["response.body.errors","errors","stack"]}),v.a]);A.register({orderReducer:Object(g.applyReducerHash)(L,{servicePlans:[],selectedPlan:{},serviceData:{},isLoading:!0,requests:[],linkedOrders:{current:[],past:[]}}),platformReducer:Object(g.applyReducerHash)(k,{isPlatformDataLoading:!1,platforms:[],platformItems:{},platformItem:{},platform:{},filterValue:""}),portfolioReducer:Object(g.applyReducerHash)(C,{portfolioItems:[],portfolioItem:{},portfolios:[],portfolio:{},filterValue:"",isLoading:!1}),approvalReducer:Object(g.applyReducerHash)(D,{isFetching:!1,workflows:[]}),rbacReducer:Object(g.applyReducerHash)(x,{rbacGroups:[],isLoading:!1}),shareReducer:Object(g.applyReducerHash)(N,{shareInfo:[],isLoading:!1}),notifications:E.notifications});var U=A.getStore(),M=r(52),V=r.n(M),G=r(53),H=r.n(G),W=r(54),z=r.n(W),B=r(55),Y=r.n(B),K=r(14),J=r.n(K),Q=r(56),X=r.n(Q),$=r(1),Z=r.n($),ee=r(83),te=r(24),re=r.n(te),ne=r(126),ae=r.n(ne),oe=r(349),ie=r.n(oe),ce=r(41),le=Object(s.lazy)(function(){return Promise.resolve().then(function(){return ae()(r(454))})}),se=Object(s.lazy)(function(){return Promise.resolve().then(function(){return ae()(r(450))})}),ue=Object(s.lazy)(function(){return Promise.resolve().then(function(){return ae()(r(453))})}),de={platforms:"/platforms",portfolios:"/portfolios",portfolioItem:"/portfolios/:id",orders:"/orders"},fe=function(e){var t=e.rootClass,r=re()(e,["rootClass"]),n=document.getElementById("root");return n.removeAttribute("class"),n.classList.add("page__".concat(t),"pf-l-page__main","pf-c-page__main"),n.setAttribute("role","main"),u.a.createElement(ee.b,r)};fe.propTypes={rootClass:Z.a.string};var pe=function(e){var t=e.childProps.location.pathname;return u.a.createElement(s.Suspense,{fallback:u.a.createElement(ce.a,null)},u.a.createElement(ee.d,null,u.a.createElement(fe,{path:de.portfolios,component:se,rootClass:"portfolios"}),u.a.createElement(fe,{path:de.platforms,component:le,rootClass:"platforms"}),u.a.createElement(fe,{path:de.orders,component:ue,rootClass:"catalog"}),u.a.createElement(ee.b,{render:function(){return ie()(de,function(e){return e===t})?null:u.a.createElement(ee.a,{to:de.portfolios})}})))};pe.propTypes={childProps:Z.a.object};var me=r(117),he=r(95),ge=(r(392),r(348)),Ee=r.n(ge);r(393),r(394);Ee.a.polyfill();var be=function(e){function t(){var e,r;V()(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=z()(this,(e=Y()(t)).call.apply(e,[this].concat(a))),R()(J()(r),"state",{chromeNavAvailable:!0,auth:!1,ignoreRedirect:!0}),r}return X()(t,e),H()(t,[{key:"componentDidMount",value:function(){var e=this;insights.chrome.init(),insights.chrome.auth.getUser().then(function(){return e.setState({auth:!0})});try{insights.chrome.identifyApp("catalog"),insights.chrome.navigation([{id:"portfolios",title:"Portfolios"},{id:"platforms",title:"Platforms"},{id:"orders",title:"Orders"}]),this.unregister=insights.chrome.on("APP_NAVIGATION",function(t){e.state.ignoreRedirect||e.props.history.push("/".concat(t.navId)),e.setState({ignoreRedirect:!1})})}catch(e){this.setState({chromeNavAvailable:!1})}}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"render",value:function(){return this.state.auth?u.a.createElement(u.a.Fragment,null,u.a.createElement(E.NotificationsPortal,null),u.a.createElement(g.Main,{style:{marginLeft:0,padding:0}},u.a.createElement(me.a,{style:{minHeight:"calc(100vh - 76px)"}},u.a.createElement(he.a,{sm:12},u.a.createElement(pe,{childProps:this.props}))))):u.a.createElement(ce.a,null)}}]),t}(s.Component);be.propTypes={history:Z.a.object};var ve=Object(ee.f)(Object(m.connect)()(be)),ye=window.location.pathname.split("/");ye.shift();var Pe="/";"beta"===ye[0]&&(Pe="/".concat(ye.shift(),"/")),f.a.render(u.a.createElement(m.Provider,{store:U},u.a.createElement(p.a,{basename:"".concat(Pe).concat(ye[0],"/").concat(ye[1])},u.a.createElement(ve,null))),document.getElementById("root"))},453:function(e,t,r){"use strict";r.r(t);var n=r(6),a=r.n(n),o=r(5),i=r.n(o),c=r(37),l=r.n(c),s=r(2),u=r.n(s),d=r(16),f=r(34),p=r(1),m=r.n(p),h=r(117),g=r(95),E=r(116),b=r(62),v=r(162),y=r(29),P=r(163),R=r(166),j=r(164),O=r(180),_=r(181),I=r(336),L=r(179),w=r(167),k=r(128),F=r(66),T=function(e){var t=e.requests;return u.a.createElement(k.b,{style:{minWidth:200},value:t.length,title:"Steps",size:"sm",min:0,max:4,label:"".concat(t.length," of 4"),measureLocation:F.a.top})};T.propTypes={requests:m.a.array.isRequired};var q=T,C=function(e){var t=e.index,r=e.text;return u.a.createElement("div",{className:"requests-step-label"},u.a.createElement("span",null,t+1),u.a.createElement("span",null,r))};C.propTypes={index:m.a.number.isRequired,text:m.a.string.isRequired};var S=C,D=function(e){var t=e.requests;return u.a.createElement("table",{className:"requests-table"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Steps"),u.a.createElement("th",null,"Performed by"),u.a.createElement("th",null,"Date & time"),u.a.createElement("th",null,"Status"))),u.a.createElement("tbody",null,t.map(function(e,t){var r=e.reason,n=e.requester,a=e.updated_at,o=e.state,i=e.isFinished;return u.a.createElement("tr",{key:t,className:i?"finished":""},u.a.createElement("td",null,u.a.createElement(S,{index:t,text:r})),u.a.createElement("td",null,n),u.a.createElement("td",null,a),u.a.createElement("td",null,o))})))};D.propTypes={requests:m.a.arrayOf(m.a.shape({reason:m.a.string,requester:m.a.string,updated_at:m.a.string,state:m.a.oneOfType([m.a.string,m.a.node])})).isRequired};var x=D,N=r(76),A=r(25),U=function(e){var t=e.orderItems;return t[0]&&"".concat(A.b,"/portfolio_items/").concat(t[0].portfolio_item_id,"/icon")},M=r(22),V=r(175),G=r(189),H=function(e){var t=function(e){return[{reason:"Order initiated",requester:"System",updated_at:e.orderItems[0]&&Object(M.b)(e.orderItems[0].updated_at||e.orderItems[0].created_at),state:e.orderItems[0]&&e.orderItems[0].state},{reason:"Approval",requester:"System",updated_at:e.requests[0]&&Object(M.b)(e.requests[0].updated_at||e.requests[0].created_at),state:e.requests[0]&&e.requests[0].state},{reason:"Provision",requester:"System",updated_at:Object(M.b)(e.ordered_at||e.created_at),state:e.state},{reason:"Order completed",requester:"System",updated_at:Object(M.b)(e.ordered_at||e.created_at),state:e.state}]}(e),r=t.filter(function(e){return function(e){return["Order Completed","finished"].includes(e)}(e.state)});return{steps:t.map(function(e,t){return i()({},e,{requester:t<=r.length?e.requester:null,state:t<=r.length?(n=e.state,{finished:u.a.createElement(V.a,null),"Order Completed":u.a.createElement(V.a,null)}[n]||u.a.createElement("span",null,u.a.createElement(G.a,null),"   Pending")):null,updated_at:t<=r.length?e.updated_at:null,isFinished:t===r.length-1});var n}),finishedSteps:r}},W=function(e){var t=e.item,r=e.isExpanded,n=e.handleDataItemToggle,a=e.portfolioItems,o=H(t),i=o.finishedSteps,c=o.steps;return u.a.createElement(P.a,{"aria-labelledby":"".concat(t.id,"-expand"),isExpanded:r,className:"data-list-expand-fix"},u.a.createElement(R.a,{id:t.id,"aria-label":"".concat(t.id,"-expand"),"aria-labelledby":"".concat(t.id,"-expand"),onClick:function(){return n(t.id)},isExpanded:r}),u.a.createElement(j.a,{className:"cell-grow"},u.a.createElement(O.a,{gutter:"md"},u.a.createElement(_.a,null,u.a.createElement(N.a,{src:U(t)})),u.a.createElement(_.a,{isMain:!0},u.a.createElement(E.a,null,u.a.createElement(h.a,{gutter:"sm",style:{gridGap:16}},u.a.createElement(g.a,null,u.a.createElement(b.b,{style:{marginBottom:0},component:b.a.h5},function(e,t){var r=e.orderItems,n=e.id,a=r[0]&&t.find(function(e){var t=e.id;return r[0].portfolio_item_id===t});return a?a.display_name||a.name:"Order ".concat(n)}(t,a))),u.a.createElement(g.a,null,u.a.createElement(I.a,null,u.a.createElement(L.a,null,u.a.createElement(b.b,{style:{marginBottom:0},component:b.a.small},"".concat(Object(M.d)(new Date(t.ordered_at))))),u.a.createElement(L.a,null,u.a.createElement(b.b,{style:{marginBottom:0},component:b.a.small},"Ordered by")),u.a.createElement(L.a,null,u.a.createElement(b.b,{style:{marginBottom:0},component:b.a.small},"".concat(Object(M.e)(t.orderItems))))))))))),u.a.createElement(j.a,{style:{alignSelf:"center"}},u.a.createElement(q,{requests:i})),u.a.createElement(w.a,{style:{paddingLeft:0,paddingRight:0},"aria-label":"".concat(t.id,"-content"),isHidden:!r},u.a.createElement(x,{requests:c})))};W.propTypes={item:m.a.shape({id:m.a.string.isRequired,ordered_at:m.a.string.isRequired,orderItems:m.a.array.isRequired}).isRequired,isExpanded:m.a.bool,handleDataItemToggle:m.a.func.isRequired,portfolioItems:m.a.array.isRequired},W.defaultProps={isExpanded:!1};var z=W,B=r(186),Y=r(185),K=r(143),J=r(31),Q=(r(332),function(){return u.a.createElement(J.b,{paddingBottom:!1},u.a.createElement(B.a,{"aria-label":"order-toolbar-heading"},u.a.createElement(Y.a,null,u.a.createElement(K.a,null,u.a.createElement(E.a,null,u.a.createElement(b.b,{component:b.a.h1},"Orders"))))))}),X=r(97),$=r(32),Z=r(41),ee=function(e){var t=e.getLinkedOrders,r=e.fetchPortfolioItems,n=e.portfolioItems,o=e.isLoading,c=e.linkedOrders,d=c.current,f=c.past,p=Object(s.useState)({}),m=l()(p,2),P=m[0],R=m[1];Object(s.useEffect)(function(){t(),r()},[]);var j=function(e){return R(i()({},P,a()({},e,!P[e])))},O=function(e){return e.map(function(e){return u.a.createElement(z,{key:e.id,item:e,isExpanded:P[e.id],handleDataItemToggle:j,portfolioItems:n})})};return o?u.a.createElement(Z.d,null):u.a.createElement(s.Fragment,null,u.a.createElement(Q,null),u.a.createElement(y.Section,{type:"content"},u.a.createElement(h.a,{gutter:"md"},u.a.createElement(g.a,null,u.a.createElement(E.a,null,u.a.createElement(b.b,{component:"h2"},"Current orders")),u.a.createElement(v.a,null,O(d))),u.a.createElement(g.a,null,u.a.createElement(E.a,null,u.a.createElement(b.b,{component:"h2"},"Past orders")),u.a.createElement(v.a,null,O(f))))))};ee.propTypes={linkedOrders:m.a.shape({current:m.a.arrayOf(m.a.object).isRequired,past:m.a.arrayOf(m.a.object).isRequired}).isRequired,isLoading:m.a.bool,getLinkedOrders:m.a.func.isRequired,fetchPortfolioItems:m.a.func.isRequired,portfolioItems:m.a.array.isRequired};t.default=Object(d.connect)(function(e){var t=e.orderReducer,r=t.linkedOrders,n=t.isLoading,a=e.portfolioReducer,o=a.portfolioItems,i=a.isLoading;return{linkedOrders:r,isLoading:n||i,portfolioItems:o}},function(e){return Object(f.bindActionCreators)({getLinkedOrders:X.b,fetchPortfolioItems:$.d},e)})(ee)},454:function(e,t,r){"use strict";r.r(t);var n=r(10),a=r.n(n),o=r(52),i=r.n(o),c=r(53),l=r.n(c),s=r(54),u=r.n(s),d=r(55),f=r.n(d),p=r(14),m=r.n(p),h=r(56),g=r.n(h),E=r(6),b=r.n(E),v=r(2),y=r.n(v),P=r(16),R=r(1),j=r.n(R),O=r(83),_=r(29),I=r(116),L=r(62),w=r(136),k=r(61),F=r(5),T=r.n(F),q=r(24),C=r.n(q),S=r(11),D=r(142),x=r(112),N=r(134),A=r(113),U=r(133),M=r(352),V=r.n(M),G=r(350),H=r.n(G),W=r(351),z=r.n(W),B=r(119),Y=r(92),K=(r(190),["description","modified"]),J={1:H.a,2:z.a},Q=function(e){var t=e.name,r=e.id,n=C()(e,["name","id"]);return y.a.createElement(D.a,null,y.a.createElement(S.b,{to:"/platforms/detail/".concat(r),className:"card-link"},y.a.createElement(x.a,{key:r,className:"content-gallery-card"},y.a.createElement(N.a,null,y.a.createElement(B.a,{src:J[n.source_type_id]||V.a,width:"80",height:"40"})),y.a.createElement(A.a,null,y.a.createElement("h4",null,t),y.a.createElement(Y.a,a()({},T()({name:t},n),{toDisplay:K}))),y.a.createElement(U.a,null))))};Q.propTypes={history:j.a.object,imageUrl:j.a.string,name:j.a.string,source_type_id:j.a.string,id:j.a.string};var X=Q,$=r(336),Z=r(179),ee=r(31),te=r(64),re=function(e){var t=e.searchValue,r=e.onFilterChange,n=e.title,a=e.children;return y.a.createElement(ee.b,null,y.a.createElement(ee.a,{title:n}),y.a.createElement($.a,null,y.a.createElement(Z.a,null,y.a.createElement(te.a,{searchValue:t,onFilterChange:r,placeholder:"Filter by name..."})),y.a.createElement(Z.a,null,a)))};re.propTypes={searchValue:j.a.string,onFilterChange:j.a.func.isRequired,title:j.a.string,children:j.a.oneOfType([j.a.node,j.a.arrayOf(j.a.node)])};var ne=re,ae=r(58),oe=r(22),ie=r(34),ce=r(120),le=r(67),se=r(355),ue=r(124),de=function(e){function t(){var e,r;i()(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=u()(this,(e=f()(t)).call.apply(e,[this].concat(a))),b()(m()(r),"state",{filterValue:""}),b()(m()(r),"handleOnPerPageSelect",function(e){return r.props.fetchPlatformItems(r.props.match.params.id,{offset:r.props.paginationCurrent.offset,limit:e})}),b()(m()(r),"handleSetPage",function(e,t){var n={offset:Object(le.c)(e,r.props.paginationCurrent.limit),limit:r.props.paginationCurrent.limit},a=function(){return r.props.fetchPlatformItems(r.props.match.params.id,n)};return t?Object(ue.a)(a,250)():a()}),b()(m()(r),"handleFilterChange",function(e){return r.setState({filterValue:e})}),r}return g()(t,e),l()(t,[{key:"fetchData",value:function(e,t){this.props.fetchSelectedPlatform(e),this.props.fetchPlatformItems(e,t)}},{key:"componentDidMount",value:function(){this.fetchData(this.props.match.params.id,le.a),Object(oe.g)()}},{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&(this.fetchData(this.props.match.params.id,le.a),Object(oe.g)())}},{key:"render",value:function(){var e=this,t={items:this.props.platformItems.filter(function(t){return Object(oe.f)(t,e.state.filterValue)}).map(function(e){return y.a.createElement(ce.a,a()({key:e.id},e))}),isLoading:this.props.isPlatformDataLoading},r=this.props.platform?this.props.platform.name:"";return y.a.createElement(v.Fragment,null,y.a.createElement(ne,{searchValue:this.state.filterValue,onFilterChange:this.handleFilterChange,title:r},y.a.createElement(se.Pagination,{itemsPerPage:this.props.paginationCurrent.limit||50,numberOfItems:this.props.paginationCurrent.count||50,onPerPageSelect:this.handleOnPerPageSelect,page:Object(le.b)(this.props.paginationCurrent.limit,this.props.paginationCurrent.offset),onSetPage:this.handleSetPage,direction:"down"})),y.a.createElement(k.a,t))}}]),t}(v.Component);de.propTypes={filteredItems:j.a.object,isPlatformDataLoading:j.a.bool,match:j.a.object,fetchPlatformItems:j.a.func.isRequired,fetchSelectedPlatform:j.a.func,platform:j.a.shape({name:j.a.string}),platformItems:j.a.array,paginationCurrent:j.a.shape({limit:j.a.number.isRequired,offset:j.a.number.isRequired,count:j.a.number.isRequired})},de.defaultProps={platformItems:[],paginationCurrent:{}};var fe=Object(P.connect)(function(e){var t=e.platformReducer,r=t.selectedPlatform,n=t.platformItems,a=t.isPlatformDataLoading,o=r&&n[r.id];return{paginationLinks:o&&o.links,paginationCurrent:o&&o.meta,platform:r,platformItems:o&&o.data,isPlatformDataLoading:!r||a}},function(e){return Object(ie.bindActionCreators)({fetchSelectedPlatform:ae.c,fetchPlatformItems:ae.a},e)})(de),pe=r(65),me="",he="/detail/:id",ge=function(e){function t(){var e,r;i()(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return r=u()(this,(e=f()(t)).call.apply(e,[this].concat(o))),b()(m()(r),"state",{filterValue:"",isOpen:!1}),b()(m()(r),"fetchData",function(){return r.props.fetchPlatforms()}),b()(m()(r),"handleFilterChange",function(e){return r.setState({filterValue:e})}),b()(m()(r),"renderEmptyStateDescription",function(){return y.a.createElement(v.Fragment,null,y.a.createElement(I.a,null,y.a.createElement(L.b,{component:L.a.p},"Configure a source in order to add products to portfolios."),y.a.createElement(L.b,{component:L.a.p},"To connect to a source, go to ",y.a.createElement("a",{href:"".concat(document.baseURI,"hybrid/settings/catalog-sources")},"Catalog sources"),"  under Settings"),y.a.createElement(L.b,{component:L.a.p},y.a.createElement("a",{href:"javascript:void(0)"},"Learn more in the documentation"))))}),b()(m()(r),"renderPlatforms",function(){var e={items:r.props.platforms.filter(function(e){return e.name.toLowerCase().includes(r.state.filterValue.toLowerCase())}).map(function(e){return y.a.createElement(X,a()({key:e.id},e))}),isLoading:r.props.isLoading&&0===r.props.platforms.length};return y.a.createElement(v.Fragment,null,y.a.createElement(ne,{onFilterChange:r.handleFilterChange,searchValue:r.state.filterValue,title:"Platforms"}),y.a.createElement(k.a,a()({},e,{renderEmptyState:function(){return y.a.createElement(pe.b,{title:"No platforms yet",renderDescription:r.renderEmptyStateDescription,Icon:w.a})}})))}),r}return g()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.fetchData(),Object(oe.g)()}},{key:"render",value:function(){var e=this;return y.a.createElement(_.Section,null,y.a.createElement(O.d,null,y.a.createElement(O.b,{path:"/platforms".concat(he),component:fe}),y.a.createElement(O.b,{exact:!0,path:"/platforms".concat(me),render:function(){return e.renderPlatforms()}})))}}]),t}(v.Component);ge.propTypes={filteredItems:j.a.array,platforms:j.a.array,isLoading:j.a.bool,searchFilter:j.a.string,showModal:j.a.func,hideModal:j.a.func,history:j.a.object,fetchPlatforms:j.a.func};t.default=Object(P.connect)(function(e){var t=e.platformReducer;return{platforms:t.platforms,isLoading:t.isPlatformDataLoading,searchFilter:t.filterValue}},function(e){return{fetchPlatforms:function(t){return e(Object(ae.b)(t))}}})(ge)},58:function(e,t,r){"use strict";r(5),r(6);var n=r(8),a=r(44),o=r(25),i=Object(a.f)();function c(e,t){return e?fetch("".concat(o.d,"/sources/").concat(e,"/service_offerings?filter[archived_at][nil]").concat(t?"&limit=".concat(t.limit,"&offset=").concat(t.offset):"")).then(function(e){return e.json()}):i.listServiceOfferings()}r.d(t,"b",function(){return l}),r.d(t,"a",function(){return s}),r.d(t,"c",function(){return u});var l=function(){return function(e){return e({type:n.g,payload:i.listSources().then(function(e){return e.data})})}},s=function(e,t){return{type:n.i,payload:c(e,t),meta:{platformId:e}}},u=function(e){return{type:n.f,payload:(t=e,i.showSource(t))};var t}},61:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(1),i=r.n(o),c=r(29),l=r(62),s=r(125),u=r(41),d=function(){return a.a.createElement("div",null,a.a.createElement(l.b,{component:l.a.h1},"No items found"))},f=function(e){var t=e.isLoading,r=e.items,n=e.renderEmptyState;return t?a.a.createElement(u.b,null):0===r.length?n?n():a.a.createElement(d,null):a.a.createElement(c.Section,{type:"content"},a.a.createElement(s.a,{gutter:"md",className:"content-gallery"},r))};f.propTypes={isLoading:i.a.bool,items:i.a.array,renderEmptyState:i.a.func},t.a=f},64:function(e,t,r){"use strict";var n=r(2),a=r.n(n),o=r(1),i=r.n(o),c=r(136),l=r(143),s=r(135),u=function(e){var t=e.searchValue,r=e.onFilterChange,n=e.placeholder;return a.a.createElement(l.a,null,a.a.createElement("div",{className:"toolbar-filter-input-group"},a.a.createElement(s.a,{placeholder:n,value:t,type:"text",onChange:r,"aria-label":"Find product button"}),a.a.createElement(c.a,null)))};u.propTypes={onFilterChange:i.a.func.isRequired,placeholder:i.a.string,searchValue:i.a.string},u.defaultProps={searchValue:""},t.a=u},65:function(e,t,r){"use strict";r.d(t,"a",function(){return E});var n=r(2),a=r.n(n),o=r(1),i=r.n(o),c=r(11),l=r(79),s=r(138),u=r(140),d=r(116),f=r(62),p=r(139),m=r(141),h=r(73),g=function(e){var t=e.title,r=e.Icon,n=e.description,o=e.PrimaryAction,i=e.renderDescription;return a.a.createElement(l.a,{style:{height:"calc(100% - 197px)"}},a.a.createElement(s.a,null,a.a.createElement(u.a,{icon:r}),a.a.createElement(d.a,null,a.a.createElement(f.b,{component:f.a.h1},t)),a.a.createElement(p.a,null,n,i()),a.a.createElement(m.a,null,o&&a.a.createElement(o,null))))};g.defaultProps={renderDescription:function(){return null}},g.propTypes={title:i.a.string.isRequired,Icon:i.a.any.isRequired,description:i.a.string.isRequired,PrimaryAction:i.a.any,renderDescription:i.a.func},t.b=g;var E=function(e){var t=e.url,r=e.label;return a.a.createElement(c.b,{to:t},a.a.createElement(h.c,{variant:"secondary"},r))};E.propTypes={url:i.a.string.isRequired,label:i.a.string.isRequired}},67:function(e,t,r){"use strict";r.d(t,"a",function(){return n}),r.d(t,"b",function(){return a}),r.d(t,"c",function(){return o});var n={limit:50,offset:0},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(t/e)+1},o=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)-1)*(arguments.length>1?arguments[1]:void 0)}},76:function(e,t,r){"use strict";var n=r(37),a=r.n(n),o=r(2),i=r.n(o),c=r(1),l=r.n(c),s=r(357),u=r(41),d=r(121),f=r.n(d),p=function(e){var t=e.src,r=e.height,n=Object(o.useState)(!1),c=a()(n,2),l=c[0],d=c[1],p=Object(o.useState)(!1),m=a()(p,2),h=m[0],g=m[1];return i.a.createElement("div",{style:{display:"inline-block"}},!l&&i.a.createElement(u.c,{style:{height:r}}),i.a.createElement(s.LazyLoadImage,{height:l?r:0,style:{height:l?r:0},className:"card-image ".concat(l?"":"hide"),onError:function(){return g(!0)},onLoad:function(){return d(!0)},src:h?f.a:t}))};p.propTypes={src:l.a.string.isRequired,style:l.a.object,height:l.a.number},p.defaultProps={style:{},height:40},t.a=p},8:function(e,t,r){"use strict";r.d(t,"q",function(){return n}),r.d(t,"r",function(){return a}),r.d(t,"D",function(){return o}),r.d(t,"A",function(){return i}),r.d(t,"y",function(){return c}),r.d(t,"u",function(){return l}),r.d(t,"f",function(){return s}),r.d(t,"g",function(){return u}),r.d(t,"i",function(){return d}),r.d(t,"h",function(){return f}),r.d(t,"d",function(){return p}),r.d(t,"s",function(){return m}),r.d(t,"k",function(){return h}),r.d(t,"l",function(){return g}),r.d(t,"m",function(){return E}),r.d(t,"n",function(){return b}),r.d(t,"j",function(){return v}),r.d(t,"t",function(){return y}),r.d(t,"a",function(){return P}),r.d(t,"b",function(){return R}),r.d(t,"C",function(){return j}),r.d(t,"w",function(){return O}),r.d(t,"x",function(){return _}),r.d(t,"o",function(){return I}),r.d(t,"z",function(){return L}),r.d(t,"B",function(){return w}),r.d(t,"v",function(){return k}),r.d(t,"p",function(){return F}),r.d(t,"e",function(){return T}),r.d(t,"c",function(){return q});var n="FETCH_SERVICE_PLANS",a="FETCH_SERVICE_PLAN_PARAMETERS",o="UPDATE_SERVICE_DATA",i="SUBMIT_SERVICE_ORDER",c="SET_SELECTED_PLAN",l="LIST_ORDERS",s="FETCH_PLATFORM",u="FETCH_PLATFORMS",d="FETCH_PLATFORM_ITEMS",f="FETCH_PLATFORM_ITEM;",p="FETCH_MULTIPLE_PLATFORM_ITEMS",m="FILTER_PLATFORM_ITEMS",h="FETCH_PORTFOLIOS",g="FETCH_PORTFOLIO_ITEM",E="FETCH_PORTFOLIO_ITEMS",b="FETCH_PORTFOLIO_ITEMS_WITH_PORTFOLIO",v="FETCH_PORTFOLIO",y="FILTER_PORTFOLIO_ITEMS",P="ADD_PORTFOLIO",R="ADD_TO_PORTFOLIO",j="UPDATE_PORTFOLIO",O="REMOVE_PORTFOLIO",_="SELECT_PORTFOLIO_ITEM",I="FETCH_RBAC_GROUPS",L="SHARE_PORTFOLIO",w="UNSHARE_PORTFOLIO",k="QUERY_PORTFOLIO",F="FETCH_REQUESTS",T="FETCH_ORDER_ITEMS",q="FETCH_LINKED_ORDERS"},92:function(e,t,r){"use strict";var n=r(24),a=r.n(n),o=r(2),i=r.n(o),c=r(1),l=r.n(c),s=r(353),u=r.n(s),d=function(e){var t=e.value;return i.a.createElement("div",null,t)};d.propTypes={value:l.a.oneOfType([l.a.string,l.a.number,l.a.arrayOf(l.a.oneOfType([l.a.arrayOf(l.a.node),l.a.node]))]).isRequired};var f=function(e){var t=e.toDisplay,r=void 0===t?[]:t,n=a()(e,["toDisplay"]);return i.a.createElement(u.a,{clamp:6},r.map(function(e){return i.a.createElement(d,{key:"card-prop-".concat(e),value:n[e]})}))};f.propTypes={toDisplay:l.a.arrayOf(l.a.oneOfType([l.a.string,l.a.node,l.a.arrayOf(l.a.node)]))},f.defaultProps={toDisplay:[]},t.a=f},96:function(e,t,r){"use strict";var n=r(5),a=r.n(n),o=r(6),i=r.n(o),c=r(19),l=r.n(c);r.d(t,"a",function(){return u});var s,u=a()({},(s="@@catalog/approval/",["FETCH_WORKFLOWS"].reduce(function(e,t){return[].concat(l()(e),[t,"".concat(t,"_PENDING"),"".concat(t,"_FULFILLED"),"".concat(t,"_REJECTED")])},[]).reduce(function(e,t){return a()({},e,i()({},t,"".concat(s).concat(t)))},{})))},97:function(e,t,r){"use strict";var n=r(37),a=r.n(n),o=r(19),i=r.n(o),c=r(5),l=r.n(c),s=r(2),u=r.n(s),d=r(11),f=r(8),p=r(18),m=r.n(p),h=r(24),g=r.n(h),E=r(38),b=r.n(E),v=r(44),y=r(25),P=Object(v.a)(),R=Object(v.c)(),j=Object(v.e)();function O(e){return R.listServicePlans(e)}function _(){return P.listOrders()}function I(e){return L.apply(this,arguments)}function L(){return(L=b()(m.a.mark(function e(t){var r,n,a,o,i,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.service_parameters,n=r.providerControlParameters,a=g()(r,["providerControlParameters"]),o=g()(t,["service_parameters"]),e.next=3,P.createOrder();case 3:return i=e.sent,(c={}).count=1,c=l()({},c,o,{service_parameters:a,provider_control_parameters:n}),e.next=9,P.addToOrder(i.id,c);case 9:return e.abrupt("return",P.submitOrder(i.id));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function w(){return j.listRequests()}function k(){return fetch("".concat(y.b,"/order_items")).then(function(e){return e.json()})}r.d(t,"a",function(){return F}),r.d(t,"c",function(){return q}),r.d(t,"b",function(){return C});var F=function(e){return{type:f.q,payload:O(e)}},T=function(){return u.a.createElement("p",null,"You can track the progress of the order in your ",u.a.createElement(d.b,{to:"/orders"},"Orders")," page.")},q=function(e){return{type:f.A,payload:I(e),meta:{notifications:{fulfilled:{variant:"success",title:"Your order has been accepted successfully",description:u.a.createElement(T,null),dismissable:!0}}}}},C=function(){return function(e){return e({type:"".concat(f.c,"_PENDING")}),Promise.all([_(),w(),k()]).then(function(e){var t=a()(e,3),r=t[0],n=t[1],o=t[2];return function(e,t,r){return e.map(function(e){return l()({},e,{orderItems:t.filter(function(t){return t.order_id===e.id}),requests:r.filter(function(t){return t.content.order_id==e.id})})})}(r.data,o.data,n.data)}).then(function(e){return e.reduce(function(e,t){return["Completed","Failed"].includes(t.state)?{current:e.current,past:[].concat(i()(e.past),[t])}:{current:[].concat(i()(e.current),[t]),past:e.past}},{current:[],past:[]})}).then(function(t){return e({type:"".concat(f.c,"_FULFILLED"),payload:t})})}}}});
//# sourceMappingURL=../sourcemaps/App.js.map