"use strict";(self.webpackChunkcatalog=self.webpackChunkcatalog||[]).push([[2798],{79074:(e,t,n)=>{t.Tw={name:"InfoIcon",height:512,width:192,svgPath:"M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z",yOffset:0,xOffset:0},t.sz=n(35183).createIcon(t.Tw),t.ZP=t.sz},53538:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var a=n(30624),r=n.n(a),l=n(14494),o=n(65832),c=n(41436),i=n(62410),s=n(79074),m=n(2482),u=n(85132),d=n(40229),p=n(31644),f=n(56682),x=n(23349),E=n(42413),T=n(35388),v=n(63035),h=["updated","group_name","decision"],I=function(e){return!e||!e.data||0===e.data.length};const L=function(){var e=(0,x.Z)(),t=(0,l.I0)(),n=(0,a.useState)({}),L=n[0],y=n[1],b=(0,l.v9)((function(e){return e.orderReducer.orderDetail})),g=b.order,w=b.approvalRequest,V=b.platform,Z=b.orderItem,k=b.portfolio,B=b.portfolioItem,C=(0,a.useState)(!0),S=C[0],z=C[1];if((0,a.useEffect)((function(){var e,n,a,r,l;(null==Z?void 0:Z.id)&&I(w)&&(z(!0),(e=function(){return t((e=Z.id,localStorage.getItem("catalog_standalone")?(0,u.MX)(e):(0,m.MX)(e)));var e},n=void 0,a=void 0,r=void 0,l=function(){var t,n;return function(e,t){var n,a,r,l,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function c(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(r=2&l[0]?a.return:l[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,l[1])).done)return r;switch(a=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,a=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],a=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(a){switch(a.label){case 0:t=0,a.label=1;case 1:return t<=T.xX?[4,e()]:[3,4];case 2:return(null==(n=a.sent())?void 0:n.data.length)>0||t++>=T.xX?[2,"Finished"]:[4,(0,v.gw)(3e3)];case 3:return a.sent(),[3,1];case 4:return[2]}}))},new(r||(r=Promise))((function(e,t){function o(e){try{i(l.next(e))}catch(e){t(e)}}function c(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(o,c)}i((l=l.apply(n,a||[])).next())}))).then((function(){return z(!1)})))}),[]),I(w)&&!S)return r().createElement(o.Bullseye,{id:"no-approval-requests"},r().createElement(o.Flex,{direction:{default:"column"},grow:{default:"grow"}},r().createElement(o.Bullseye,null,r().createElement(s.ZP,{size:"xl"})),r().createElement(o.Bullseye,null,r().createElement(o.Title,{headingLevel:"h1",size:"2xl"},e(d.Z.noApprovalRequests)))));var q=[{title:"Updated",transforms:[c.sortable]},{title:"Name",transforms:[c.sortable]},"Decision"],G=function(e){return E.Z[p.Z[(0,p.C)(e.decision)].defaultMessage||"Unknown"]},D=(null==w?void 0:w.data.map((function(t){return h.map((function(n){return"decision"===n?r().createElement(c.TableText,null,r().createElement(o.TextContent,{style:{color:G(t).color}},G(t).icon,"Â ",e(p.Z[(0,p.C)(t[n])]))):"updated"===n?r().createElement(a.Fragment,null,r().createElement(i.Z,{date:t[n],type:"exact"})):t[n]}))})).sort((function(e,t){return e[L.index]<t[L.index]?-1:e[L.index]<t[L.index]?1:0})))||[];return r().createElement(o.TextContent,null,I(w)?r().createElement(o.Bullseye,null,r().createElement(o.Flex,{direction:{default:"column"},grow:{default:"grow"}},r().createElement(o.Bullseye,{id:"creating-approval-request"},r().createElement(o.Title,{headingLevel:"h1",size:"xl"},e(d.Z.creatingApprovalRequest))),r().createElement(o.Bullseye,null,r().createElement(o.Spinner,{size:"xl"})))):r().createElement(o.Grid,{hasGutter:!0},r().createElement(o.GridItem,{md:12,lg:6,xl:4},r().createElement(o.Stack,{hasGutter:!0},r().createElement(o.StackItem,null,r().createElement(o.Card,null,r().createElement(o.CardBody,null,r().createElement(o.Text,{className:"pf-u-mb-md",component:o.TextVariants.h2},e(d.Z.approvalTitle)),r().createElement(o.TextList,{component:o.TextListVariants.dl},r().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},e(f.Z.product)),r().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},B.name),r().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},e(d.Z.orderID)),r().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},g.id),r().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},e(d.Z.orderDate)),r().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},r().createElement(i.Z,{date:g.created_at,variant:"relative"})),r().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},e(d.Z.orderedByLabel)),r().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},g.owner),r().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},e(f.Z.portfolio)),r().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},k.name),r().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},e(f.Z.platform)),r().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},V.name))))),r().createElement(o.StackItem,null,r().createElement(o.Card,null,r().createElement(o.CardBody,null,r().createElement(o.Text,{className:"pf-u-mb-md",component:o.TextVariants.h2},e(d.Z.approvalParameters)),r().createElement(o.TextList,{className:"overflow-wrap",component:o.TextListVariants.dl},Object.entries((null==Z?void 0:Z.service_parameters)||[]).map((function(e){var t=e[0],n=e[1];return r().createElement(a.Fragment,{key:t},r().createElement(o.TextListItem,{component:o.TextListItemVariants.dt},t),r().createElement(o.TextListItem,{component:o.TextListItemVariants.dd},n))})))))))),r().createElement(o.GridItem,{md:12,lg:6,xl:8},r().createElement(o.Card,null,r().createElement(o.CardBody,null,r().createElement(o.Text,{className:"pf-u-mb-md",component:o.TextVariants.h2},e(d.Z.activity)),r().createElement(c.Table,{"aria-label":"Approval request activity",onSort:function(e,t,n){return y({index:t,direction:n})},sortBy:L,cells:q,rows:L.direction===c.SortByDirection.asc?D:D.reverse()},r().createElement(c.TableHeader,null),r().createElement(c.TableBody,null)))))))}}}]);
//# sourceMappingURL=../sourcemaps/approval-request.24cbe06fab51ba083b9cefd3ffcab742.js.map