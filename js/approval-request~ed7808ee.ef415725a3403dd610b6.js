(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{641:function(e,t,a){"use strict";a.r(t);var n=a(70),r=a.n(n),l=a(120),s=a.n(l),i=a(0),c=a.n(i),o=a(36),m=a(155),u=a(493),d=a(152),p=a(82),x=a(53),E=a(488),f=a(489),T=a(476),L=a(156),v=a(517),I=a.n(v),h=a(561),w=function(e){return new Promise((function(t){return setTimeout(t,e)}))},g=function(){var e=s()(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t();case 3:if(!(e.sent.data.length>0)){e.next=6;break}return e.abrupt("return","Finished");case 6:return e.next=8,w(3e3);case 8:e.next=0;break;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){return!e||!e.data||0===e.data.length};t.default=function(){var e=Object(o.useDispatch)(),t=Object(o.useSelector)((function(e){return e.orderReducer.orderDetail})),a=t.order,n=t.approvalRequest,r=t.orderItem;return Object(i.useEffect)((function(){"Failed"!==a.state&&(null==r?void 0:r.id)&&b(n)&&g((function(){return e(Object(h.b)(r.id))}))}),[]),"Failed"===a.state&&b(n)?c.a.createElement(m.Bullseye,{id:"no-approval-requests"},c.a.createElement(u.Flex,{direction:{default:"column"},grow:{default:"grow"}},c.a.createElement(m.Bullseye,null,c.a.createElement(I.a,{size:"xl"})),c.a.createElement(m.Bullseye,null,c.a.createElement(T.Title,{headingLevel:"h1",size:"2xl"},"We were unable to find any approval requests for this order.")))):c.a.createElement(p.TextContent,null,b(n)?c.a.createElement(m.Bullseye,null,c.a.createElement(u.Flex,{direction:{default:"column"},grow:{default:"grow"}},c.a.createElement(m.Bullseye,{id:"creating-approval-request"},c.a.createElement(T.Title,{headingLevel:"h1",size:"xl"},"Creating approval request")),c.a.createElement(m.Bullseye,null,c.a.createElement(d.Spinner,{size:"xl"})))):c.a.createElement(i.Fragment,null,c.a.createElement(x.Text,{component:x.TextVariants.h2},"Approval request"),n.data.map((function(e){return c.a.createElement(E.TextList,{key:e.id,component:E.TextListVariants.dl},c.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dt},c.a.createElement("a",{href:"".concat(document.baseURI,"ansible/catalog/approval/request?request=").concat(e.approval_request_ref)},"View this order's approval request details")),c.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dt},"Request created"),c.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dd},c.a.createElement(L.DateFormat,{date:a.created_at,variant:"relative"})),c.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dt},"State"),c.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dd},e.state),e.reason&&c.a.createElement(i.Fragment,null,c.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dt},"Approval reason"),c.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dd},e.reason)),e.request_completed_at&&c.a.createElement(i.Fragment,null,c.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dt},"Completed at"),c.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dd},c.a.createElement(L.DateFormat,{date:e.request_completed_at,variant:"relative"}))))}))))}}}]);
//# sourceMappingURL=../sourcemaps/approval-request~ed7808ee.js.map