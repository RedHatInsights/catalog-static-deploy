(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{668:function(e,t,a){"use strict";a.r(t);var n=a(62),r=a.n(n),l=a(102),i=a.n(l),s=a(0),o=a.n(s),c=a(28),m=a(141),u=a(504),d=a(143),p=a(69),x=a(44),E=a(499),f=a(500),T=a(233),I=a(145),L=a(530),v=a.n(L),b=a(581),q=function(e){return new Promise((function(t){return setTimeout(t,e)}))},w=function(){var e=i()(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t();case 3:if(!(e.sent.data.length>0)){e.next=6;break}return e.abrupt("return","Finished");case 6:return e.next=8,q(3e3);case 8:e.next=0;break;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(e){return!e||!e.data||0===e.data.length};t.default=function(){var e=Object(c.useDispatch)(),t=Object(c.useSelector)((function(e){return e.orderReducer.orderDetail})),a=t.order,n=t.approvalRequest,r=t.orderItem;return Object(s.useEffect)((function(){"Failed"!==a.state&&(null==r?void 0:r.id)&&V(n)&&w((function(){return e(Object(b.b)(r.id))}))}),[]),"Failed"===a.state&&V(n)?o.a.createElement(m.Bullseye,{id:"no-approval-requests"},o.a.createElement(u.Flex,{breakpointMods:[{modifier:"column"},{modifier:"grow"}]},o.a.createElement(m.Bullseye,null,o.a.createElement(v.a,{size:"xl"})),o.a.createElement(m.Bullseye,null,o.a.createElement(T.Title,{size:"2xl"},"We were unable to find any approval requests for this order.")))):o.a.createElement(p.TextContent,null,V(n)?o.a.createElement(m.Bullseye,null,o.a.createElement(u.Flex,{breakpointMods:[{modifier:"column"},{modifier:"grow"}]},o.a.createElement(m.Bullseye,{id:"creating-approval-request"},o.a.createElement(T.Title,{size:"xl"},"Creating approval request")),o.a.createElement(m.Bullseye,null,o.a.createElement(d.Spinner,{size:"xl"})))):o.a.createElement(s.Fragment,null,o.a.createElement(x.Text,{component:x.TextVariants.h2},"Approval request"),n.data.map((function(e){return o.a.createElement(E.TextList,{key:e.id,component:E.TextListVariants.dl},o.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dt},o.a.createElement("a",{href:"".concat(document.baseURI,"ansible/catalog/approval/request?request=").concat(e.approval_request_ref)},"View this order's approval request details")),o.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dt},"Request created"),o.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dd},o.a.createElement(I.DateFormat,{date:a.created_at,variant:"relative"})),o.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dt},"State"),o.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dd},e.state),e.reason&&o.a.createElement(s.Fragment,null,o.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dt},"Approval reason"),o.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dd},e.reason)),e.request_completed_at&&o.a.createElement(s.Fragment,null,o.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dt},"Completed at"),o.a.createElement(f.TextListItem,{component:f.TextListItemVariants.dd},o.a.createElement(I.DateFormat,{date:e.request_completed_at,variant:"relative"}))))}))))}}}]);
//# sourceMappingURL=../sourcemaps/approval-request~ed7808ee.js.map