(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1029:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a(600),s=a(878),o=a(849),i=a(160),u=a(333),m=a(331),f=a(598),d=a(599),p=a(808),b=a(664),g=a(680),E=a(728),O=a(727),h=a(840),v=a.n(h),j=a(709),I=a(638),y=a(20),w=a(705),x=a(810),M=a(217),C=a(594),_=a(595),N=a(614),P=a(615),z=a(811),S=a.n(z),k=function(e){var t=e.orderItem,a=e.progressMessages,n=e.formatMessage;return r.a.createElement(C.a,{hasGutter:!0},r.a.createElement(_.a,{md:12,lg:6,xl:4},r.a.createElement(N.a,{hasGutter:!0},r.a.createElement(P.a,null,r.a.createElement(f.a,null,r.a.createElement(d.a,null,r.a.createElement(u.a,null,r.a.createElement(i.a,{className:"pf-u-mb-md",component:i.b.h2},n(I.a.orderItemParameters))),(null==t?void 0:t.service_parameters)&&r.a.createElement(S.a,{src:t.service_parameters})))))),r.a.createElement(_.a,{md:12,lg:6,xl:8},r.a.createElement(f.a,null,r.a.createElement(d.a,null,r.a.createElement(u.a,null,r.a.createElement(i.a,{className:"pf-u-mb-md",component:i.b.h2},n(I.a.orderProgressMessages))),r.a.createElement(S.a,{src:a})))))},W=a(135),A=a(119),D=function(){return(D=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},F=function(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<a;t++)for(var l=arguments[t],c=0,s=l.length;c<s;c++,r++)n[r]=l[c];return n};t.default=function(){var e=Object(y.a)(),t=Object(n.useState)(!0),a=t[0],h=t[1],C=Object(l.useDispatch)(),_=Object(l.useSelector)((function(e){return e.orderReducer.orderDetail})).order,N=Object(l.useSelector)((function(e){return e.orderReducer.orderProvision})),P=Object(n.useContext)(W.a).permissions,z=Object(A.b)(P,["catalog:order_processes:link"]);if(!a&&function(e){return!e||!e.orderItems||0===e.orderItems.length}(N))return r.a.createElement(c.a,{id:"no-order-provision"},r.a.createElement(s.a,{direction:{default:"column"},grow:{default:"grow"}},r.a.createElement(c.a,null,r.a.createElement(v.a,{size:"xl"})),r.a.createElement(c.a,null,r.a.createElement(o.a,{headingLevel:"h1",size:"2xl"},e(I.a.noOrderProvision)))));var S=[{title:"Updated",cellFormatters:z?[p.b]:[]},{title:"Type"},{title:"Activity"},{title:""}],L=function(e,t){var a,n=Object(w.b)(e.state);return{id:e.id,isOpen:!1,cells:[{title:r.a.createElement(i.a,{className:"pf-u-mb-0",component:i.b.small},r.a.createElement(M.DateFormat,{date:e.updated_at,type:"exact"}))},{title:r.a.createElement(i.a,{className:"pf-u-mb-0",component:i.b.small},r.a.createElement(b.a,null,(a=e.process_scope||t(I.a.defaultOrderItemType),(null==a?void 0:a.charAt(0).toUpperCase())+(null==a?void 0:a.slice(1)))))},{title:r.a.createElement(i.a,{className:"pf-u-mb-0",component:i.b.small},r.a.createElement(b.a,null,e.name))},{title:r.a.createElement(b.a,null,r.a.createElement(u.a,{style:{color:x.a[e.state].color}},x.a[e.state].icon,"Â ",t(w.a[n])))}]}},V=function(e,t,a){var n=[L(e,t)];return z&&N.progressMessages&&Object.values(N.progressMessages).length>0&&n.push(function(e,t,a,n){return{parent:2*n,cells:[{title:r.a.createElement(k,{orderItem:e,progressMessages:t,formatMessage:a})}]}}(e,Object.values(N.progressMessages).filter((function(t){return t.order_item_id===e.id})),t,a)),n},G=function(){return N.orderItems.reduce((function(t,a,n){var r=V(a,e,n);return F(t,r)}),[])},H=Object(n.useState)(G()),J=H[0],R=H[1];Object(n.useEffect)((function(){h(!0),Promise.all([C(Object(j.d)(_.id))]).then((function(){return h(!1)}))}),[]),Object(n.useEffect)((function(){R(G())}),[null==N?void 0:N.orderItems]);return r.a.createElement(u.a,null,a?r.a.createElement(c.a,null,r.a.createElement(s.a,{direction:{default:"column"},grow:{default:"grow"}},r.a.createElement(c.a,{id:"fetching-order-provision"},r.a.createElement(o.a,{headingLevel:"h1",size:"xl"},e(I.a.fetchingOrderProvision))),r.a.createElement(c.a,null,r.a.createElement(m.a,{size:"xl"})))):r.a.createElement(f.a,null,r.a.createElement(d.a,null,r.a.createElement(i.a,{className:"pf-u-mb-md",component:i.b.h2},e(I.a.activity)),r.a.createElement(g.a,{"aria-label":"Order provisioning activity",cells:S,rows:J,onCollapse:z?function(e,t,a,n){var r,l,c=(r=J,l=n.id,r.map((function(e){return e.id===l?D(D({},e),{isOpen:!e.isOpen}):D({},e)})));R(c)}:void 0},r.a.createElement(E.a,null),r.a.createElement(O.a,null)))))}},673:function(e,t,a){"use strict";var n=a(129);const r=Object(n.a)({name:"CheckIcon",height:512,width:512,svgPath:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z",yOffset:0,xOffset:0});t.a=r},840:function(e,t,a){"use strict";t.__esModule=!0,t.InfoIconConfig={name:"InfoIcon",height:512,width:192,svgPath:"M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z",yOffset:0,xOffset:0},t.InfoIcon=a(26).createIcon(t.InfoIconConfig),t.default=t.InfoIcon},878:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(1),r=a(0),l=a(2),c=a(793),s=a.n(c),o=a(27);const i=e=>{var{children:t=null,className:a="",spacer:c,spaceItems:i,grow:u,shrink:m,flex:f,direction:d,alignItems:p,alignContent:b,alignSelf:g,align:E,justifyContent:O,display:h,fullWidth:v,flexWrap:j}=e,I=Object(n.__rest)(e,["children","className","spacer","spaceItems","grow","shrink","flex","direction","alignItems","alignContent","alignSelf","align","justifyContent","display","fullWidth","flexWrap"]);return r.createElement("div",Object.assign({className:Object(l.css)(s.a.flex,Object(o.e)(c,s.a),Object(o.e)(i,s.a),Object(o.e)(u,s.a),Object(o.e)(m,s.a),Object(o.e)(f,s.a),Object(o.e)(d,s.a),Object(o.e)(p,s.a),Object(o.e)(b,s.a),Object(o.e)(g,s.a),Object(o.e)(E,s.a),Object(o.e)(O,s.a),Object(o.e)(h,s.a),Object(o.e)(v,s.a),Object(o.e)(j,s.a),a)},I),t)};i.displayName="Flex"}}]);
//# sourceMappingURL=../sourcemaps/order-provision~31ecd969.js.map