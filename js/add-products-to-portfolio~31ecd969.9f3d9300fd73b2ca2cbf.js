(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{579:function(e,t,n){"use strict";var r=n(51),a=n.n(r),o=n(52),i=n.n(o),c=n(0),s=n.n(c),l=n(4),u=n.n(l),p=n(179),f=n(286),d=n(25),m=function(e){var t=e.meta,n=t.limit,r=t.count,o=t.offset,c=e.apiProps,l=e.apiRequest,u=e.className,m=e.isCompact,b=i()(e,["meta","apiProps","apiRequest","className","isCompact"]);return s.a.createElement("div",{className:u},s.a.createElement(f.Pagination,a()({perPage:n||50,itemCount:r||0,onPerPageSelect:function(e,t){return l(c,{offset:o,limit:t})},page:Object(d.b)(n,o),onSetPage:function(e,t,r){var a={offset:Object(d.c)(t,n),limit:n},o=function(){return l(c,a)};return r?Object(p.a)(o,250)():o()},direction:"down",isCompact:m},b)))};m.propTypes={meta:u.a.shape({count:u.a.number,limit:u.a.number.isRequired,offset:u.a.number.isRequired}),apiRequest:u.a.func.isRequired,apiProps:u.a.any,className:u.a.string,isCompact:u.a.bool},m.defaultProps={meta:{count:0,limit:50,offset:0},className:"",isCompact:!1},t.a=m},589:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n.n(o),c=function(e){var t=e.children;return a.a.createElement("div",{className:"pf-u-p-lg pf-u-pt-md pf-u-pb-md global-primary-background pf-u-mt-auto"},t)};c.propTypes={children:i.a.oneOfType([i.a.node,i.a.arrayOf(i.a.node)])},t.a=c},613:function(e,t,n){var r=n(764);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},618:function(e,t,n){"use strict";t.__esModule=!0,t.FilterIconConfig={name:"FilterIcon",height:512,width:512,svgPath:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z",yOffset:0,xOffset:0,transform:""},t.FilterIcon=n(78).createIcon(t.FilterIconConfig),t.default=t.FilterIcon},624:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(281),i=n(131),c=n(636),s=n(650),l=n(637),u=n(638),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};t.a=function(e){var t=e.name,n=e.distributor,d=e.pathname,m=e.searchParams,b=e.preserveSearch,h=e.portfolioName,O=f(e,["name","distributor","pathname","searchParams","preserveSearch","portfolioName"]);return a.a.createElement(u.a,null,a.a.createElement(o.a,null,a.a.createElement(s.a,{pathname:d,searchParams:m,preserveSearch:b},a.a.createElement(i.a,{component:i.b.h3,title:t},a.a.createElement(l.a,null,t))),n&&a.a.createElement(i.a,{component:i.b.small},n),h&&a.a.createElement(r.Fragment,null,a.a.createElement(i.a,{className:"pf-u-mb-0",component:"small"},"Portfolio"),a.a.createElement(i.a,null,h))),a.a.createElement(c.a,p({toDisplay:[O.description?"description":"long_description"]},O)))}},635:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n(296),c=n.n(i),s=n(2);const l=()=>{};class u extends r.Component{constructor(e){super(e),this.handleChange=e=>{this.props.onChange(e.currentTarget.checked,e)}}render(){const e=this.props,{"aria-label":t,className:n,onChange:a,isValid:i,isDisabled:u,isChecked:p,label:f,checked:d,defaultChecked:m,description:b}=e,h=Object(o.__rest)(e,["aria-label","className","onChange","isValid","isDisabled","isChecked","label","checked","defaultChecked","description"]),O={};return([!0,!1].includes(d)||!0===p)&&(O.checked=d||p),a!==l&&(O.checked=p),[!1,!0].includes(m)&&(O.defaultChecked=m),O.checked=null!==O.checked&&O.checked,r.createElement("div",{className:Object(s.css)(c.a.check,n)},r.createElement("input",Object.assign({},h,{className:Object(s.css)(c.a.checkInput),type:"checkbox",onChange:this.handleChange,"aria-invalid":!i,"aria-label":t,disabled:u,ref:e=>e&&(e.indeterminate=null===p)},O)),f&&r.createElement("label",{className:Object(s.css)(c.a.checkLabel,u&&c.a.modifiers.disabled),htmlFor:h.id},f),b&&r.createElement("div",{className:Object(s.css)(c.a.checkDescription)},b))}}u.displayName="Checkbox",u.defaultProps={className:"",isValid:!0,isDisabled:!1,isChecked:!1,onChange:l};t.a=function(e){var t=e.handleCheck,n=e.isChecked,r=e.id;return a.a.createElement(u,{onClick:function(e){return e.stopPropagation()},isChecked:n,onChange:t,"aria-label":"card checkbox",id:r})}},695:function(e,t,n){"use strict";var r=n(51),a=n.n(r),o=n(52),i=n.n(o),c=n(174),s=n.n(c),l=n(0),u=n.n(l),p=n(21),f=n(4),d=n.n(f),m=n(133),b=n(175);function h(){var e=s()(["\n  margin-right: ",";\n"]);return h=function(){return e},e}function O(){var e=s()(["\n  display: flex !important;\n  align-items: center;\n"]);return O=function(){return e},e}var y=Object(p.b)(m.Button)(O()),v=p.b.span(h(),(function(e){return e.showSpinner?"8px":"0"})),g=function(e){var t=e.children,n=e.showSpinner,r=e.isDisabled,o=i()(e,["children","showSpinner","isDisabled"]);return u.a.createElement(y,a()({},o,{isDisabled:r}),u.a.createElement(v,{showSpinner:n},t),n&&u.a.createElement(b.Spinner,{size:"md"}))};g.propTypes={showSpinner:d.a.bool,children:d.a.oneOfType([d.a.node,d.a.arrayOf(d.a.node)]),isDisabled:d.a.bool},g.defaultProps={showSpinner:!1,isDisabled:!1},t.a=g},758:function(e,t,n){var r=n(759);e.exports=function(e,t){return r(e,t)}},759:function(e,t,n){var r=n(760),a=n(308);e.exports=function e(t,n,o,i,c){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!=t&&n!=n:r(t,n,o,i,e,c))}},760:function(e,t,n){var r=n(761),a=n(768),o=n(770),i=n(771),c=n(774),s=n(111),l=n(775),u=n(776),p="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,d,m,b){var h=s(e),O=s(t),y=h?"[object Array]":c(e),v=O?"[object Array]":c(t),g=(y="[object Arguments]"==y?p:y)==p,j=(v="[object Arguments]"==v?p:v)==p,P=y==v;if(P&&l(e)){if(!l(t))return!1;h=!0,g=!1}if(P&&!g)return b||(b=new r),h||u(e)?a(e,t,n,d,m,b):o(e,t,y,n,d,m,b);if(!(1&n)){var k=g&&f.call(e,"__wrapped__"),E=j&&f.call(t,"__wrapped__");if(k||E){var w=k?e.value():e,C=E?t.value():t;return b||(b=new r),m(w,C,n,d,b)}}return!!P&&(b||(b=new r),i(e,t,n,d,m,b))}},761:function(e,t,n){var r=n(762),a=n(763),o=n(765),i=n(766),c=n(767);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=o,s.prototype.has=i,s.prototype.set=c,e.exports=s},762:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},763:function(e,t,n){var r=n(613),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},764:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},765:function(e,t,n){var r=n(613);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},766:function(e,t,n){var r=n(613);e.exports=function(e){return r(this.__data__,e)>-1}},767:function(e,t,n){var r=n(613);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},768:function(e,t,n){var r=n(306),a=n(769),o=n(307);e.exports=function(e,t,n,i,c,s){var l=1&n,u=e.length,p=t.length;if(u!=p&&!(l&&p>u))return!1;var f=s.get(e);if(f&&s.get(t))return f==t;var d=-1,m=!0,b=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++d<u;){var h=e[d],O=t[d];if(i)var y=l?i(O,h,d,t,e,s):i(h,O,d,e,t,s);if(void 0!==y){if(y)continue;m=!1;break}if(b){if(!a(t,(function(e,t){if(!o(b,t)&&(h===e||c(h,e,n,i,s)))return b.push(t)}))){m=!1;break}}else if(h!==O&&!c(h,O,n,i,s)){m=!1;break}}return s.delete(e),s.delete(t),m}},769:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},770:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},771:function(e,t,n){var r=n(772),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,i,c){var s=1&n,l=r(e),u=l.length;if(u!=r(t).length&&!s)return!1;for(var p=u;p--;){var f=l[p];if(!(s?f in t:a.call(t,f)))return!1}var d=c.get(e);if(d&&c.get(t))return d==t;var m=!0;c.set(e,t),c.set(t,e);for(var b=s;++p<u;){var h=e[f=l[p]],O=t[f];if(o)var y=s?o(O,h,f,t,e,c):o(h,O,f,e,t,c);if(!(void 0===y?h===O||i(h,O,n,o,c):y)){m=!1;break}b||(b="constructor"==f)}if(m&&!b){var v=e.constructor,g=t.constructor;v==g||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g||(m=!1)}return c.delete(e),c.delete(t),m}},772:function(e,t,n){var r=n(773)(Object.keys,Object);e.exports=r},773:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},774:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},775:function(e,t){e.exports=function(){return!1}},776:function(e,t){e.exports=function(){return!1}},777:function(e,t,n){"use strict";var r,a=n(0),o=n.n(a),i=n(548),c=n(785),s=n(786),l=n(614),u=n(635),p=n(624),f=n(639),d=n(21),m=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},h=Object(d.b)(i.a)(r||(r=m(["\n  flex: 1;\n"],["\n  flex: 1;\n"])));t.a=function(e){return o.a.createElement(f.a,{key:e.id},o.a.createElement(c.a,null,o.a.createElement(h,null,o.a.createElement(l.a,{height:40,sourceId:e.source_id}),e.editMode&&o.a.createElement(u.a,{id:e.id,isChecked:e.checked,handleCheck:e.onToggleItemSelect}))),o.a.createElement(p.a,b({},e)),o.a.createElement(s.a,null))}},778:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(13),a=n.n(r),o=n(52),i=n.n(o),c=n(596);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.pathname,n=e.preserveSearch,r=e.id,a=i()(e,["pathname","preserveSearch","id"]);return{component:c.b.TOOLBAR_ITEM,key:"".concat(a.key,"/button-link"),fields:[{component:c.b.LINK,pathname:t,preserveSearch:n,key:"".concat(a.key,"/button-link"),isDisabled:a.isDisabled,id:r,fields:[l({component:c.b.BUTTON},a)]}]}}},785:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),a=n(0),o=n(2),i=n(47),c=n.n(i);const s=e=>{var{children:t=null,className:n=""}=e,i=Object(r.__rest)(e,["children","className"]);return a.createElement("div",Object.assign({className:Object(o.css)(c.a.cardHeader,n)},i),t)};s.displayName="CardHeader"},786:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1),a=n(0),o=n(47),i=n.n(o),c=n(2);const s=e=>{var{children:t=null,className:n="",component:o="div"}=e,s=Object(r.__rest)(e,["children","className","component"]);const l=o;return a.createElement(l,Object.assign({className:Object(c.css)(i.a.cardFooter,n)},s),t)};s.displayName="CardFooter"},943:function(e,t,n){"use strict";n.r(t);var r=n(88),a=n.n(r),o=n(24),i=n.n(o),c=n(13),s=n.n(c),l=n(51),u=n.n(l),p=n(0),f=n.n(p),d=n(4),m=n.n(d),b=n(52),h=n.n(b),O=n(584),y=n.n(O),v=n(618),g=n.n(v),j=n(641),P=n(616),k=n(583),E=n(48),w=n(18),C=function(e){var t=e.platform,n=Object(w.a)();return f.a.createElement(P.b,{Icon:t?y.a:g.a,title:n(t?E.a.addProducstFilterTitle:E.a.addProducstPlatformTitle),description:n(t?k.a.noResultsDescription:E.a.addProducstPlatformDescription)})};C.propTypes={platform:m.a.any};var _=function(e){var t=e.platform,n=h()(e,["platform"]);return f.a.createElement(j.a,u()({editMode:!0},n,{renderEmptyState:function(){return f.a.createElement(C,{platform:t})}}))};_.propTypes={checkedItems:m.a.arrayOf(m.a.string),platform:m.a.any},_.defaultProps={checkedItems:[]};var S=_,T=n(603),F=n(25),x=n(777),D=n(596),N=n(778),I=n(68),R=n(758),L=n.n(R);m.a.oneOfType([m.a.node,m.a.arrayOf(m.a.node)]).isRequired;var A=function(e){var t=e.onChange,n=h()(e,["onChange"]),r=Object(p.useState)(void 0),a=i()(r,2),o=a[0],c=a[1];return f.a.createElement("div",{key:"filter-select",id:"filter-select",className:"filter-select"},f.a.createElement(I.InternalSelect,u()({isDisabled:!n.options||0===n.options.length,name:"filter-select",simpleValue:!1,onChange:function(e){t(e||o),c(e||o)},value:o},n)))};A.propTypes={options:m.a.array,onChange:m.a.func.isRequired};var V=Object(p.memo)(A,(function(e,t){return L()(e.options,t.options)})),q=n(695),M=n(579);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){var t=e.options,n=e.isFetching,r=e.searchValue,a=e.portfolioName,o=e.itemsSelected,i=e.onOptionSelect,c=e.onFilterChange,s=e.portfolioRoute,l=e.onClickAddToPortfolio,u=e.meta,p=e.platformId,f=e.fetchPlatformItems;return{fields:[{component:D.b.TOP_TOOLBAR,key:"add-products-toolbar",fields:[{component:D.b.TOP_TOOLBAR_TITLE,title:"Add products: ".concat(a),key:"add-products-title"},{component:D.b.LEVEL,key:"add-products-actions",fields:[{component:D.b.TOOLBAR,key:"add-products-actions-toolbar",fields:[{component:D.b.TOOLBAR_GROUP,key:"products-filter-group",fields:[{component:V,key:"select-platforms",id:"products-platform-select",isMulti:!1,isSearchable:!0,placeholder:"Filter by Platform",options:t,onChange:i},{component:D.b.FILTER_TOOLBAR_ITEM,key:"filter-products-input",onFilterChange:c,searchValue:r,isDisabled:!p,placeholder:"Filter products"}]},z({groupName:"cancel-group-item"},Object(N.a)({key:"add-products-cancel-button",pathname:s,variant:"link","aria-label":"Cancel Add products to Portfolio",preserveSearch:!0,title:"Cancel"})),{component:D.b.TOOLBAR_ITEM,key:"add-group-item",fields:[{key:"portfolio-items-add-group",component:q.a,variant:"primary","aria-label":"Add products to Portfolio",title:"Add",type:"button",onClick:l,isDisabled:!o||n,showSpinner:n,children:"Add",id:"add-products-to-portfolio"}]}]},{component:D.b.LEVEL_ITEM,key:"pagination-item",fields:u?[{component:M.a,key:"add-products-pagination",meta:u,apiProps:p,apiRequest:f,isCompact:!0}]:[]}]}]}]}},J=n(593),U=n(136),G=n(582),K=n(19),Q=n(589),W=n(107);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return f.a.createElement(x.a,u()({key:e.id},e,{editMode:!0,onToggleItemSelect:function(){return t(e.id)},checked:n.includes(e.id)}))}))},$={filterValue:"",isFetching:!1,isFiltering:!1},ee=function(e,t){switch(t.type){case"setFetching":return Y(Y({},e),{},{isFetching:t.payload});case"setFilterValue":return Y(Y({},e),{},{filterValue:t.payload});case"setFilteringFlag":return Y(Y({},e),{},{isFiltering:t.payload})}return e},te=Object(W.a)((function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:F.a;r(!0),n(Object(J.b)(e,t,Y(Y({},a),{},{filter:t}))).then((function(){return r(!1)}))}),1e3),ne=function(e){var t=e.portfolioRoute,n=Object(p.useState)(void 0),r=i()(n,2),o=r[0],c=r[1],s=Object(p.useState)([]),l=i()(s,2),u=l[0],d=l[1],m=Object(p.useReducer)(ee,$),b=i()(m,2),h=b[0],O=h.filterValue,y=h.isFetching,v=b[1],g=Object(G.a)().push,j=Object(K.useDispatch)(),P=Object(K.useSelector)((function(e){var t=e.portfolioReducer.selectedPortfolio,n=e.platformReducer;return{platforms:n.platforms,platformItems:n.platformItems,isLoading:n.isPlatformDataLoading,portfolio:t}})),k=P.portfolio,E=P.platforms,w=P.platformItems,C=P.isLoading;Object(p.useEffect)((function(){j(Object(J.c)())}),[]);var _=o&&w[o.id]?w[o.id].data:[],x=o&&w[o.id]&&w[o.id].meta;return f.a.createElement(p.Fragment,null,f.a.createElement(T.a,{schema:H({options:E.map((function(e){return{value:e.id,label:e.name,id:e.id}})),isFetching:y,portfolioName:k&&k.name||"",itemsSelected:u.length>0,onOptionSelect:function(e){c(e),j(Object(J.b)(e.id,O,F.a))},onFilterChange:function(e){return function(e){v({type:"setFilterValue",payload:e}),te(o.id,e,j,(function(e){return v({type:"setFilteringFlag",payload:e})}),Y(Y({},x),{},{offset:0}))}(e)},portfolioRoute:t,onClickAddToPortfolio:function(){return j({type:"setFetching",payload:!0}),j(Object(U.b)(k.id,u)).then((function(){return j({type:"setFetching",payload:!1})})).then((function(){return g({pathname:t,search:"?portfolio=".concat(k.id)})})).then((function(){return j(Object(U.f)(k.id))})).catch((function(){return j({type:"setFetching",payload:!1})}))},meta:x,platformId:o&&o.id,searchValue:O,fetchPlatformItems:function(e,t){return j(Object(J.b)(e,O,t))}})}),f.a.createElement(S,{platform:!!o,checkedItems:u,isLoading:C,items:Z(_,(function(e){return d(function(e){var t=u.indexOf(e);return t>-1?[].concat(a()(u.slice(0,t)),a()(u.slice(t+1))):[].concat(a()(u),[e])}(e))}),u)}),x&&x.count>0&&f.a.createElement(Q.a,null,f.a.createElement(M.a,{meta:x,apiProps:o&&o.id,apiRequest:function(e,t){return Object(J.b)(e,O,t)},dropDirection:"up"})))};ne.propTypes={portfolioRoute:m.a.string.isRequired};t.default=ne}}]);
//# sourceMappingURL=../sourcemaps/add-products-to-portfolio~31ecd969.js.map