{"version":3,"sources":["webpack:///./src/smart-components/common/async-pagination.js","webpack:///./src/messages/platforms.messages.js","webpack:///./src/toolbar/schemas/platforms-toolbar.schema.js","webpack:///./src/assets/images/platform-default.svg","webpack:///./src/assets/images/platform-openshift.svg","webpack:///./src/assets/images/platform-amazon.png","webpack:///./src/assets/images/platform-tower.png","webpack:///./src/presentational-components/shared/image-with-default.js","webpack:///./src/presentational-components/platform/platform-card.js","webpack:///./src/smart-components/platform/platforms.js"],"names":["AsyncPagination","meta","limit","count","offset","apiProps","apiRequest","className","isCompact","props","perPage","itemCount","onPerPageSelect","_event","page","getCurrentPage","onSetPage","number","debounce","options","getNewPage","request","debouncePromise","direction","propTypes","PropTypes","shape","isRequired","func","any","string","bool","defaultProps","platformsMessages","defineMessages","require","workflowColumn","id","defaultMessage","noInventoriesDescription","noInventoriesFilterDescription","inventoriesFilter","templatesFilter","noTemplatesTitle","noTemplatesDescription","configureSourceTitle","connectSource","contactAdmin","title","noPlatforms","offeringTitle","offeringParameters","createPlatformsToolbarSchema","searchValue","onFilterChange","fields","component","toolbarComponentTypes","TOP_TOOLBAR","key","TOP_TOOLBAR_TITLE","LEVEL","LEVEL_ITEM","FILTER_TOOLBAR_ITEM","placeholder","createPlatformsTopToolbarSchema","paddingBottom","tabItems","AppTabs","createPlatformsFilterToolbarSchema","filterPlaceholder","TOOLBAR","module","exports","ImageWithDefault","src","TO_DISPLAY","platformTypeImg","1","OpenshiftPlatformImg","2","AmazonPlatformImg","3","TowerPlatformImg","PlatformCard","name","GalleryItem","CardHeader","source_type_id","DefaultPlatformImg","width","height","TextContent","pathname","PLATFORM_TEMPLATES_ROUTE","searchParams","platform","Text","TextVariants","h3","toDisplay","CardFooter","history","object","imageUrl","Platforms","formatMessage","useFormatMessage","useState","filterValue","setFilterValue","useSelector","platformReducer","platforms","isLoading","isPlatformDataLoading","dispatch","useDispatch","is_org_admin","useContext","UserContext","userIdentity","identity","user","useEffect","fetchPlatforms","scrollToTop","insights","chrome","appNavClick","secondaryNav","renderEmptyStateDescription","p","a","chunks","href","document","baseURI","filteredItems","items","filter","toLowerCase","includes","map","item","length","schema","value","renderEmptyState","renderDescription","Icon","SearchIcon"],"mappings":"2LAQMA,EAAkB,SAAC,GAOnB,QANJC,KAAQC,EAMJ,EANIA,MAAOC,EAMX,EANWA,MAAOC,EAMlB,EANkBA,OACtBC,EAKI,EALJA,SACAC,EAII,EAJJA,WACAC,EAGI,EAHJA,UACAC,EAEI,EAFJA,UACGC,EACC,gEAqBJ,OACE,yBAAKF,UAAWA,GACd,kBAAC,aAAD,KACEG,QAASR,GAAS,GAClBS,UAAWR,GAAS,EACpBS,gBAzBwB,SAACC,EAAQX,GAAT,OAC5BI,EAAWD,EAAU,CACnBD,SACAF,WAuBEY,KAAMC,YAAeb,EAAOE,GAC5BY,UArBgB,SAACH,EAAQI,EAAQC,GACrC,IAAMC,EAAU,CACdf,OAAQgB,YAAWH,EAAQf,GAC3BA,SAGImB,EAAU,kBAAMf,EAAWD,EAAUc,IAC3C,OAAID,EACKI,YAAgBD,EAAS,IAAzBC,GAGFD,KAWHE,UAAU,OACVf,UAAWA,GACPC,MAMZT,EAAgBwB,UAAY,CAC1BvB,KAAMwB,IAAUC,MAAM,CACpBvB,MAAOsB,IAAUR,OACjBf,MAAOuB,IAAUR,OAAOU,WACxBvB,OAAQqB,IAAUR,OAAOU,aAE3BrB,WAAYmB,IAAUG,KAAKD,WAC3BtB,SAAUoB,IAAUI,IACpBtB,UAAWkB,IAAUK,OACrBtB,UAAWiB,IAAUM,MAGvB/B,EAAgBgC,aAAe,CAC7B/B,KAAM,CACJE,MAAO,EACPD,MAAO,GACPE,OAAQ,GAEVG,UAAW,GACXC,WAAW,GAGER,O,qCCxETiC,GAAoBC,EAFCC,EAAQ,IAA3BD,gBAEiC,CACvCE,eAAgB,CACdC,GAAI,wCACJC,eAAgB,YAElBC,yBAA0B,CACxBF,GAAI,4CACJC,eAAgB,yBAElBE,+BAAgC,CAC9BH,GAAI,wCACJC,eAAgB,8CAElBG,kBAAmB,CACjBJ,GAAI,0CACJC,eAAgB,uBAElBI,gBAAiB,CACfL,GAAI,wCACJC,eAAgB,sBAElBK,iBAAkB,CAChBN,GAAI,kCACJC,eAAgB,gBAElBM,uBAAwB,CACtBP,GAAI,wCACJC,eAAgB,mCAElBO,qBAAsB,CACpBR,GAAI,kCACJC,eAAgB,8DAElBQ,cAAe,CACbT,GAAI,gCACJC,eACE,gEAEJS,aAAc,CACZV,GAAI,+BACJC,eACE,yEAEJU,MAAO,CACLX,GAAI,kBACJC,eAAgB,aAElBW,YAAa,CACXZ,GAAI,6BACJC,eAAgB,oBAElBY,cAAe,CACbb,GAAI,mCACJC,eAAgB,oBAElBa,mBAAoB,CAClBd,GAAI,0CACJC,eAAgB,sBAILL,O,iCC/Df,qIAIamB,EAA+B,SAAC,GAAD,IAC1CC,EAD0C,EAC1CA,YACAC,EAF0C,EAE1CA,eACAN,EAH0C,EAG1CA,MAH0C,MAIrC,CACLO,OAAQ,CACN,CACEC,UAAWC,IAAsBC,YACjCC,IAAK,oBACLJ,OAAQ,CACN,CACEC,UAAWC,IAAsBG,kBACjCD,IAAK,0BACLX,SAEF,CACEQ,UAAWC,IAAsBI,MACjCF,IAAK,4BACLJ,OAAQ,CACN,CACEC,UAAWC,IAAsBK,WACjCH,IAAK,mBACLJ,OAAQ,CACN,CACEC,UAAWC,IAAsBM,oBACjCJ,IAAK,iCACLN,cACAC,iBACAU,YAAa,wBAInB,CACER,UAAWC,IAAsBK,WACjCH,IAAK,wBACLJ,OAAQ,WASTU,EAAkC,SAAC,GAAD,IAC7CjB,EAD6C,EAC7CA,MACAkB,EAF6C,EAE7CA,cACAC,EAH6C,EAG7CA,SAH6C,MAIxC,CACLZ,OAAQ,CACN,CACEC,UAAWC,IAAsBC,YACjCC,IAAK,oBACLO,gBACAX,OAAQ,CACN,CACEC,UAAWC,IAAsBG,kBACjCD,IAAK,0BACLX,SAEF,CACEQ,UAAWC,IAAsBK,WACjCH,IAAK,kBACLJ,OAAQY,EACJ,CACE,CACEX,UAAWY,IACXT,IAAK,gBACLQ,aAGJ,SAODE,EAAqC,SAAC,GAAD,IAChDhB,EADgD,EAChDA,YACAC,EAFgD,EAEhDA,eACArD,EAHgD,EAGhDA,KACAK,EAJgD,EAIhDA,WACAgE,EALgD,EAKhDA,kBALgD,MAM3C,CACLf,OAAQ,CACN,CACEC,UAAWC,IAAsBc,QACjCZ,IAAK,2BACLpD,UAAW,8CACXgD,OAAQ,CACN,CACEC,UAAWC,IAAsBI,MACjCF,IAAK,4BACLpD,UAAW,YACXgD,OAAQ,CACN,CACEC,UAAWC,IAAsBK,WACjCH,IAAK,mBACLJ,OAAQ,CACN,CACEC,UAAWC,IAAsBM,oBACjCJ,IAAK,iCACLN,cACAC,iBACAU,YAAaM,KAInB,CACEd,UAAWC,IAAsBK,WACjCH,IAAK,wBACLJ,OACEtD,EAAKE,MAAQ,EACT,CACE,CACEqD,UAAWxD,IACX2D,IAAK,sBACLrD,aACAL,OACAO,WAAW,IAGf,Y,oBC/HpBgE,EAAOC,QAAU,IAA0B,8B,oBCA3CD,EAAOC,QAAU,IAA0B,gC,oBCA3CD,EAAOC,QAAU,IAA0B,6B,oBCA3CD,EAAOC,QAAU,IAA0B,4B,gUCGrCC,EAAmB,SAAC,GAAD,IAAGC,EAAH,EAAGA,IAAQlE,EAAX,sBAAuB,6BAAKkE,IAAKA,GAASlE,KAEnEiE,EAAiBlD,UAAY,CAC3BmD,IAAKnD,IAAUM,OAAOH,YAGT+C,Q,kRCcf,IAAME,EAAa,CAAC,cAAe,YAE7BC,EAAkB,CACtBC,EAAGC,IACHC,EAAGC,IACHC,EAAGC,KAGCC,EAAe,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMhD,EAAT,EAASA,GAAO5B,EAAhB,4BACnB,kBAAC6E,EAAA,YAAD,KACE,kBAAC,IAAD,CAAY3B,IAAKtB,GACf,kBAACkD,EAAA,WAAD,KACE,kBAAC,EAAD,CACEZ,IAAKE,EAAgBpE,EAAM+E,iBAAmBC,IAC9CC,MAAM,KACNC,OAAO,QAGX,kBAAC,IAAD,KACE,kBAACC,EAAA,YAAD,KACE,kBAAC,IAAD,CACEC,SAAUC,IACVC,aAAc,CAAEC,SAAU3D,IAE1B,kBAAC4D,EAAA,KAAD,CACEjD,MAAOqC,EACP9E,UAAU,YACViD,UAAW0C,eAAaC,IAExB,kBAAC,IAAD,KAAwBd,MAI9B,kBAAC,IAAD,O,iWAAA,EAAmBA,QAAS5E,GAA5B,CAAqC2F,UAAWxB,MAElD,kBAACyB,EAAA,WAAD,SAKNjB,EAAa5D,UAAY,CACvB8E,QAAS9E,IAAU+E,OACnBC,SAAUhF,IAAUM,OACpBuD,KAAM7D,IAAUM,OAChB0D,eAAgBhE,IAAUM,OAC1BO,GAAIb,IAAUM,QAGDsD,Q,4CCqBAqB,UA5EG,WAChB,IAAMC,EAAgBC,cADA,EAEgBC,mBAAS,IAFzB,WAEfC,EAFe,KAEFC,EAFE,OAGWC,uBAC/B,oBAAGC,gBAAH,MAAgE,CAC9DC,UADF,EAAsBA,UAEpBC,UAFF,EAAiCC,0BAD3BF,EAHc,EAGdA,UAAWC,EAHG,EAGHA,UAMbE,EAAWC,wBAIHC,EAGVC,qBAAWC,KALbC,aACEC,SACEC,KAAQL,aAKdM,qBAAU,WACRR,EAASS,eACTC,cACAC,SAASC,OAAOC,YAAY,CAAE5F,GAAI,YAAa6F,cAAc,MAC5D,IAEH,IAAMC,EAA8B,kBAClC,kBAAC,WAAD,KACE,kBAACvC,EAAA,YAAD,KACE,kBAACK,EAAA,KAAD,CAAMzC,UAAW0C,eAAakC,GAC3B1B,EAAczE,IAAkBY,uBAElCyE,EACC,kBAACrB,EAAA,KAAD,CAAMzC,UAAW0C,eAAakC,GAC3B1B,EAAczE,IAAkBa,cAAe,CAE9CuF,EAAG,SAACC,GAAD,OACD,uBAAGC,KAAI,UAAKC,SAASC,QAAd,qBAA0CH,OAKvD,kBAACrC,EAAA,KAAD,KAAOS,EAAczE,IAAkBc,kBAKzC2F,EAAgB,CACpBC,MAAO1B,EACJ2B,QAAO,qBAAGvD,KACJwD,cAAcC,SAASjC,EAAYgC,kBAEzCE,KAAI,SAACC,GAAD,OAAU,kBAAC,EAAD,KAAcrF,IAAKqF,EAAK3G,IAAQ2G,OACjD9B,UAAWA,GAAkC,IAArBD,EAAUgC,QAEpC,OACE,kBAAC,WAAD,KACE,kBAAC,IAAD,CACEC,OAAQ9F,YAA6B,CACnCE,eAAgB,SAAC6F,GAAD,OAAWrC,EAAeqC,IAC1C9F,YAAawD,EACb7D,MAAO0D,EAAczE,IAAkBe,WAG3C,kBAAC,IAAD,OACM0F,EADN,CAEEU,iBAAkB,kBAChB,kBAAC,IAAD,CACEpG,MAAO0D,EAAczE,IAAkBgB,aACvCoG,kBAAmBlB,EACnBmB,KAAMC","file":"js/platforms~f71cff67.f98c2f3efab67f415901.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport debouncePromise from 'awesome-debounce-promise';\n\nimport { Pagination } from '@patternfly/react-core';\n\nimport { getCurrentPage, getNewPage } from '../../helpers/shared/pagination';\n\nconst AsyncPagination = ({\n  meta: { limit, count, offset },\n  apiProps,\n  apiRequest,\n  className,\n  isCompact,\n  ...props\n}) => {\n  const handleOnPerPageSelect = (_event, limit) =>\n    apiRequest(apiProps, {\n      offset,\n      limit\n    });\n\n  const handleSetPage = (_event, number, debounce) => {\n    const options = {\n      offset: getNewPage(number, limit),\n      limit\n    };\n\n    const request = () => apiRequest(apiProps, options);\n    if (debounce) {\n      return debouncePromise(request, 250)();\n    }\n\n    return request();\n  };\n\n  return (\n    <div className={className}>\n      <Pagination\n        perPage={limit || 50}\n        itemCount={count || 0}\n        onPerPageSelect={handleOnPerPageSelect}\n        page={getCurrentPage(limit, offset)}\n        onSetPage={handleSetPage}\n        direction=\"down\"\n        isCompact={isCompact}\n        {...props}\n      />\n    </div>\n  );\n};\n\nAsyncPagination.propTypes = {\n  meta: PropTypes.shape({\n    count: PropTypes.number,\n    limit: PropTypes.number.isRequired,\n    offset: PropTypes.number.isRequired\n  }),\n  apiRequest: PropTypes.func.isRequired,\n  apiProps: PropTypes.any,\n  className: PropTypes.string,\n  isCompact: PropTypes.bool\n};\n\nAsyncPagination.defaultProps = {\n  meta: {\n    count: 0,\n    limit: 50,\n    offset: 0\n  },\n  className: '',\n  isCompact: false\n};\n\nexport default AsyncPagination;\n","const { defineMessages } = require('react-intl');\n\nconst platformsMessages = defineMessages({\n  workflowColumn: {\n    id: 'platform.inventories.columns.workflow',\n    defaultMessage: 'Workflow'\n  },\n  noInventoriesDescription: {\n    id: 'platform.inventories.empty.no-inventories',\n    defaultMessage: 'No inventories found.'\n  },\n  noInventoriesFilterDescription: {\n    id: 'platform.inventories.empty.no-results',\n    defaultMessage: 'No inventories match your filter criteria.'\n  },\n  inventoriesFilter: {\n    id: 'platform.inventories.filter.placeholder',\n    defaultMessage: 'Filter by inventory'\n  },\n  templatesFilter: {\n    id: 'platform.templates.filter.placeholder',\n    defaultMessage: 'Filter by template'\n  },\n  noTemplatesTitle: {\n    id: 'platform.templates.no-templates',\n    defaultMessage: 'No templates'\n  },\n  noTemplatesDescription: {\n    id: 'platform.templates.empty.no-templates',\n    defaultMessage: 'This platform has no templates.'\n  },\n  configureSourceTitle: {\n    id: 'platforms.list.configure-source',\n    defaultMessage: 'Configure a source in order to add products to portfolios.'\n  },\n  connectSource: {\n    id: 'platforms.list.connect-source',\n    defaultMessage:\n      'To connect to a source, go to <a>Sources</a> under Settings.'\n  },\n  contactAdmin: {\n    id: 'platforms.list.contact-admin',\n    defaultMessage:\n      'Contact your organization administrator to setup sources for Catalog.'\n  },\n  title: {\n    id: 'platforms.title',\n    defaultMessage: 'Platforms'\n  },\n  noPlatforms: {\n    id: 'platforms.list.empty.title',\n    defaultMessage: 'No platforms yet'\n  },\n  offeringTitle: {\n    id: 'platforms.offerings.detail.title',\n    defaultMessage: 'Service offering'\n  },\n  offeringParameters: {\n    id: 'platforms.offerings.detail.extra-params',\n    defaultMessage: 'Extra parameters'\n  }\n});\n\nexport default platformsMessages;\n","import AppTabs from '../../presentational-components/shared/app-tabs';\nimport { toolbarComponentTypes } from '../toolbar-mapper';\nimport AsyncPagination from '../../smart-components/common/async-pagination';\n\nexport const createPlatformsToolbarSchema = ({\n  searchValue,\n  onFilterChange,\n  title\n}) => ({\n  fields: [\n    {\n      component: toolbarComponentTypes.TOP_TOOLBAR,\n      key: 'platforms-toolbar',\n      fields: [\n        {\n          component: toolbarComponentTypes.TOP_TOOLBAR_TITLE,\n          key: 'platforms-toolbar-title',\n          title\n        },\n        {\n          component: toolbarComponentTypes.LEVEL,\n          key: 'platforms-toolbar-actions',\n          fields: [\n            {\n              component: toolbarComponentTypes.LEVEL_ITEM,\n              key: 'input-level-item',\n              fields: [\n                {\n                  component: toolbarComponentTypes.FILTER_TOOLBAR_ITEM,\n                  key: 'platforms-toolbar-filter-input',\n                  searchValue,\n                  onFilterChange,\n                  placeholder: 'Filter by platform'\n                }\n              ]\n            },\n            {\n              component: toolbarComponentTypes.LEVEL_ITEM,\n              key: 'pagination-level-item',\n              fields: []\n            }\n          ]\n        }\n      ]\n    }\n  ]\n});\n\nexport const createPlatformsTopToolbarSchema = ({\n  title,\n  paddingBottom,\n  tabItems\n}) => ({\n  fields: [\n    {\n      component: toolbarComponentTypes.TOP_TOOLBAR,\n      key: 'platforms-toolbar',\n      paddingBottom,\n      fields: [\n        {\n          component: toolbarComponentTypes.TOP_TOOLBAR_TITLE,\n          key: 'platforms-toolbar-title',\n          title\n        },\n        {\n          component: toolbarComponentTypes.LEVEL_ITEM,\n          key: 'tabs-level-item',\n          fields: tabItems\n            ? [\n                {\n                  component: AppTabs,\n                  key: 'platform-tabs',\n                  tabItems\n                }\n              ]\n            : []\n        }\n      ]\n    }\n  ]\n});\n\nexport const createPlatformsFilterToolbarSchema = ({\n  searchValue,\n  onFilterChange,\n  meta,\n  apiRequest,\n  filterPlaceholder\n}) => ({\n  fields: [\n    {\n      component: toolbarComponentTypes.TOOLBAR,\n      key: 'platforms-filter-toolbar',\n      className: 'pf-u-pt-md pf-u-pb-md pf-u-pr-lg pf-u-pl-lg',\n      fields: [\n        {\n          component: toolbarComponentTypes.LEVEL,\n          key: 'platforms-toolbar-actions',\n          className: 'pf-m-grow',\n          fields: [\n            {\n              component: toolbarComponentTypes.LEVEL_ITEM,\n              key: 'input-level-item',\n              fields: [\n                {\n                  component: toolbarComponentTypes.FILTER_TOOLBAR_ITEM,\n                  key: 'platforms-toolbar-filter-input',\n                  searchValue,\n                  onFilterChange,\n                  placeholder: filterPlaceholder\n                }\n              ]\n            },\n            {\n              component: toolbarComponentTypes.LEVEL_ITEM,\n              key: 'pagination-level-item',\n              fields:\n                meta.count > 0\n                  ? [\n                      {\n                        component: AsyncPagination,\n                        key: 'platform-pagination',\n                        apiRequest,\n                        meta,\n                        isCompact: true\n                      }\n                    ]\n                  : []\n            }\n          ]\n        }\n      ]\n    }\n  ]\n});\n","module.exports = __webpack_public_path__ + \"fonts/platform-default.svg\";","module.exports = __webpack_public_path__ + \"fonts/platform-openshift.svg\";","module.exports = __webpack_public_path__ + \"fonts/platform-amazon.png\";","module.exports = __webpack_public_path__ + \"fonts/platform-tower.png\";","import React from 'react';\nimport propTypes from 'prop-types';\n\nconst ImageWithDefault = ({ src, ...props }) => <img src={src} {...props} />;\n\nImageWithDefault.propTypes = {\n  src: propTypes.string.isRequired\n};\n\nexport default ImageWithDefault;\n","import React from 'react';\nimport propTypes from 'prop-types';\nimport {\n  CardHeader,\n  CardFooter,\n  GalleryItem,\n  Text,\n  TextVariants,\n  TextContent\n} from '@patternfly/react-core';\nimport DefaultPlatformImg from '../../assets/images/platform-default.svg';\nimport OpenshiftPlatformImg from '../../assets/images/platform-openshift.svg';\nimport AmazonPlatformImg from '../../assets/images/platform-amazon.png';\nimport TowerPlatformImg from '../../assets/images/platform-tower.png';\nimport ImageWithDefault from '../shared/image-with-default';\nimport ItemDetails from '../shared/card-common';\n\nimport { PLATFORM_TEMPLATES_ROUTE } from '../../constants/routes';\nimport EllipsisTextContainer from '../styled-components/ellipsis-text-container';\nimport CatalogLink from '../../smart-components/common/catalog-link';\nimport { StyledCard } from '../styled-components/styled-gallery';\nimport { StyledCardBody } from '../styled-components/card';\n\nconst TO_DISPLAY = ['description', 'modified'];\n\nconst platformTypeImg = {\n  1: OpenshiftPlatformImg,\n  2: AmazonPlatformImg,\n  3: TowerPlatformImg\n};\n\nconst PlatformCard = ({ name, id, ...props }) => (\n  <GalleryItem>\n    <StyledCard key={id}>\n      <CardHeader>\n        <ImageWithDefault\n          src={platformTypeImg[props.source_type_id] || DefaultPlatformImg}\n          width=\"80\"\n          height=\"40\"\n        />\n      </CardHeader>\n      <StyledCardBody>\n        <TextContent>\n          <CatalogLink\n            pathname={PLATFORM_TEMPLATES_ROUTE}\n            searchParams={{ platform: id }}\n          >\n            <Text\n              title={name}\n              className=\"pf-u-mb-0\"\n              component={TextVariants.h3}\n            >\n              <EllipsisTextContainer>{name}</EllipsisTextContainer>\n            </Text>\n          </CatalogLink>\n        </TextContent>\n        <ItemDetails {...{ name, ...props }} toDisplay={TO_DISPLAY} />\n      </StyledCardBody>\n      <CardFooter />\n    </StyledCard>\n  </GalleryItem>\n);\n\nPlatformCard.propTypes = {\n  history: propTypes.object,\n  imageUrl: propTypes.string,\n  name: propTypes.string,\n  source_type_id: propTypes.string,\n  id: propTypes.string\n};\n\nexport default PlatformCard;\n","import React, { Fragment, useEffect, useState, useContext } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Text, TextContent, TextVariants } from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\n\nimport { scrollToTop } from '../../helpers/shared/helpers';\nimport ToolbarRenderer from '../../toolbar/toolbar-renderer';\nimport ContentGallery from '../content-gallery/content-gallery';\nimport { fetchPlatforms } from '../../redux/actions/platform-actions';\nimport PlatformCard from '../../presentational-components/platform/platform-card';\nimport { createPlatformsToolbarSchema } from '../../toolbar/schemas/platforms-toolbar.schema';\nimport ContentGalleryEmptyState from '../../presentational-components/shared/content-gallery-empty-state';\nimport UserContext from '../../user-context';\nimport platformsMessages from '../../messages/platforms.messages';\nimport useFormatMessage from '../../utilities/use-format-message';\n\nconst Platforms = () => {\n  const formatMessage = useFormatMessage();\n  const [filterValue, setFilterValue] = useState('');\n  const { platforms, isLoading } = useSelector(\n    ({ platformReducer: { platforms, isPlatformDataLoading } }) => ({\n      platforms,\n      isLoading: isPlatformDataLoading\n    })\n  );\n  const dispatch = useDispatch();\n  const {\n    userIdentity: {\n      identity: {\n        user: { is_org_admin }\n      }\n    }\n  } = useContext(UserContext);\n\n  useEffect(() => {\n    dispatch(fetchPlatforms());\n    scrollToTop();\n    insights.chrome.appNavClick({ id: 'platforms', secondaryNav: true });\n  }, []);\n\n  const renderEmptyStateDescription = () => (\n    <Fragment>\n      <TextContent>\n        <Text component={TextVariants.p}>\n          {formatMessage(platformsMessages.configureSourceTitle)}\n        </Text>\n        {is_org_admin ? (\n          <Text component={TextVariants.p}>\n            {formatMessage(platformsMessages.connectSource, {\n              // eslint-disable-next-line react/display-name\n              a: (chunks) => (\n                <a href={`${document.baseURI}settings/sources`}>{chunks}</a>\n              )\n            })}\n          </Text>\n        ) : (\n          <Text>{formatMessage(platformsMessages.contactAdmin)}</Text>\n        )}\n      </TextContent>\n    </Fragment>\n  );\n  const filteredItems = {\n    items: platforms\n      .filter(({ name }) =>\n        name.toLowerCase().includes(filterValue.toLowerCase())\n      )\n      .map((item) => <PlatformCard key={item.id} {...item} />),\n    isLoading: isLoading && platforms.length === 0\n  };\n  return (\n    <Fragment>\n      <ToolbarRenderer\n        schema={createPlatformsToolbarSchema({\n          onFilterChange: (value) => setFilterValue(value),\n          searchValue: filterValue,\n          title: formatMessage(platformsMessages.title)\n        })}\n      />\n      <ContentGallery\n        {...filteredItems}\n        renderEmptyState={() => (\n          <ContentGalleryEmptyState\n            title={formatMessage(platformsMessages.noPlatforms)}\n            renderDescription={renderEmptyStateDescription}\n            Icon={SearchIcon}\n          />\n        )}\n      />\n    </Fragment>\n  );\n};\n\nexport default Platforms;\n"],"sourceRoot":""}