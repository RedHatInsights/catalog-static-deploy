{"version":3,"sources":["webpack:///./src/constants/routes.js","webpack:///./src/messages/forms.messages.js","webpack:///./src/messages/actions.messages.js","webpack:///./src/smart-components/error-pages/error-redirects.js","webpack:///./src/routing/use-initial-uri-hash.js","webpack:///./src/presentational-components/styled-components/toolbars.js","webpack:///./src/helpers/portfolio/portfolio-helper.js","webpack:///./src/app-context.js","webpack:///./src/redux/action-types.js","webpack:///./src/helpers/shared/pagination.js","webpack:///./src/routing/catalog-route.js","webpack:///./src/redux/reducers/order-reducer.js","webpack:///./src/redux/reducers/platform-reducer.js","webpack:///./src/redux/reducers/order-process-reducer.js","webpack:///./src/redux/reducers/portfolio-reducer.js","webpack:///./src/redux/reducers/approval-reducer.js","webpack:///./src/redux/reducers/rbac-reducer.js","webpack:///./src/redux/reducers/share-reducer.js","webpack:///./src/redux/reducers/open-api-reducer.js","webpack:///./src/utilities/loading-state-middleware.js","webpack:///./src/utilities/empty-data-middleware.js","webpack:///./src/redux/reducers/breadcrumbs-reducer.js","webpack:///./src/redux/reducers/i18n-reducer.js","webpack:///./src/smart-components/dialog-routes/portfolio-routes.js","webpack:///./src/smart-components/dialog-routes/platform-routes.js","webpack:///./src/smart-components/dialog-routes/index.js","webpack:///./src/Routes.js","webpack:///./src/App.js","webpack:///./src/constants/ui-constants.js","webpack:///./src/global-styles.js","webpack:///./src/router.js","webpack:///./src/utilities/view-state-middleware.js","webpack:///./src/utilities/unauthorized-middleware.js","webpack:///./src/utilities/store.js","webpack:///./src/entry.js","webpack:///./src/helpers/shared/user-login.js","webpack:///./src/helpers/shared/helpers.js","webpack:///./src/constants/nullable-attributes.js","webpack:///./src/redux/action-types/approval-action-types.js","webpack:///./src/redux/action-types/action-types-helper.js","webpack:///./src/utilities/use-query.js","webpack:///./src/presentational-components/shared/loader-placeholders.js","webpack:///./src/user-context.js","webpack:///./src/utilities/constants.js","webpack:///./src/routing/uri-state-manager.js","webpack:///./src/messages/portfolio.messages.js","webpack:///./src/redux/actions/portfolio-actions.js"],"names":["ADD_PORTFOLIO_ROUTE","ADD_PRODUCTS_ROUTE","EDIT_PORTFOLIO_ROUTE","EDIT_PORTFOLIO_WORKFLOW_ROUTE","EDIT_SURVEY_ROUTE","NESTED_EDIT_PORTFOLIO_ROUTE","NESTED_REMOVE_PORTFOLIO_ROUTE","NESTED_SHARE_PORTFOLIO_ROUTE","NESTED_WORKFLOW_PORTFOLIO_ROUTE","ORDER_APPROVAL_ROUTE","ORDER_LIFECYCLE_ROUTE","ORDER_ROUTE","ORDERS_ROUTE","PLATFORM_INVENTORIES_ROUTE","PLATFORM_ROUTE","PLATFORM_SERVICE_OFFERINGS_ROUTE","PLATFORM_TEMPLATES_ROUTE","PLATFORMS_ROUTE","PORTFOLIO_ROUTE","PORTFOLIO_ITEM_ROUTE","PORTFOLIO_ITEM_ROUTE_EDIT","PORTFOLIOS_ROUTE","REMOVE_PORTFOLIO_ROUTE","SHARE_PORTFOLIO_ROUTE","WORKFLOW_PORTFOLIO_ROUTE","formsMessages","defineMessages","require","orderProcessTitle","id","defaultMessage","inviteGroup","groupsAccess","groupsPlaceholder","permissionsPlaceholder","actionMessages","share","copy","setApproval","edit","delete","save","UnauthorizedRedirect","location","useLocation","to","pathname","state","from","useInitialUriHash","decodeState","window","hash","substring","StyledToolbar","styled","noWrap","props","StyledToolbarGroup","ToolbarGroup","TopToolbarWrapper","div","TopToolbarTitleContainer","Level","axiosInstance","getAxiosInstance","portfolioApi","getPortfolioApi","portfolioItemApi","getPortfolioItemApi","listPortfolios","filters","defaultSettings","limit","offset","sortDirection","filterQuery","Object","entries","reduce","acc","key","value","partial","get","CATALOG_API_BASE","listPortfolioItems","filter","then","portfolioItems","portfolioReference","data","curr","index","portfolio_id","keys","map","join","portfolios","forEach","name","portfolioItemIndex","portfolioName","getPortfolio","portfolioId","showPortfolio","getPortfolioItemsWithPortfolio","addPortfolio","portfolioData","items","a","createPortfolio","portfolio","length","addToPortfolio","Promise","all","item","createPortfolioItem","service_offering_ref","updatePortfolio","store","sanitizeValues","removePortfolio","destroyPortfolio","removePortfolioItem","portfolioItemId","destroyPortfolioItem","removePortfolioItems","portfolioItemIds","itemId","restore_key","restoreKey","updatePortfolioItem","portfolioItem","fetchPortfolioByName","params","restorePortfolioItems","restoreData","unDeletePortfolioItem","copyPortfolio","postCopyPortfolio","copyPortfolioItem","copyObject","postCopyPortfolioItem","uploadPortfolioItemIcon","file","iconId","FormData","append","patch","post","headers","accept","_boundary","getPortfolioItemDetail","SOURCES_API_BASE","source","error","status","object","notFound","getPortfolioFromState","portfolioReducer","selectedPortfolio","find","undeletePortfolio","AppContext","createContext","FETCH_SERVICE_PLANS","FETCH_SERVICE_PLAN_PARAMETERS","UPDATE_SERVICE_DATA","SUBMIT_SERVICE_ORDER","SET_SELECTED_PLAN","LIST_ORDERS","CANCEL_ORDER","SET_ORDERS","FETCH_ORDERS","FETCH_PLATFORM","FETCH_PLATFORMS","FETCH_PLATFORM_ITEMS","FETCH_PLATFORM_ITEM","FETCH_MULTIPLE_PLATFORM_ITEMS","FILTER_PLATFORM_ITEMS","FETCH_PLATFORM_INVENTORIES","SET_INVENTORIES_LOADING_STATE","FETCH_PORTFOLIOS","FETCH_PORTFOLIO_ITEM","FETCH_PORTFOLIO_ITEMS","FETCH_PORTFOLIO_ITEMS_WITH_PORTFOLIO","FETCH_PORTFOLIO","FILTER_PORTFOLIO_ITEMS","ADD_PORTFOLIO","ADD_TO_PORTFOLIO","UPDATE_PORTFOLIO","REMOVE_PORTFOLIO","REMOVE_PORTFOLIO_ITEMS","RESTORE_PORTFOLIO_ITEMS","RESET_SELECTED_PORTFOLIO","ADD_TEMPORARY_PORTFOLIO","UPDATE_TEMPORARY_PORTFOLIO","DELETE_TEMPORARY_PORTFOLIO","RESTORE_PORTFOLIO_PREV_STATE","SET_PORTFOLIO_ITEMS","UPDATE_TEMPORARY_PORTFOLIO_ITEM","RESTORE_PORTFOLIO_ITEM_PREV_STATE","UPDATE_PORTFOLIO_ITEM","FETCH_RBAC_GROUPS","SHARE_PORTFOLIO","UNSHARE_PORTFOLIO","QUERY_PORTFOLIO","FETCH_REQUESTS","FETCH_ORDER_ITEMS","SET_LOADING_STATE","SET_OPENAPI_SCHEMA","SET_ORDER_DETAIL","FETCH_APPROVAL_REQUESTS","SELECT_PORTFOLIO_ITEM","FETCH_SERVICE_OFFERING","SET_SOURCETYPE_ICONS","INITIALIZE_BREADCRUMBS","INITIALIZE_I18N","FETCH_ORDER_PROCESSES","SORT_ORDER_PROCESSES","SET_FILTER_ORDER_PROCESSES","count","getCurrentPage","Math","floor","getNewPage","page","ReidrectOnAccess","CatalogRoute","permissions","userCapabilities","requiredCapabilities","userPermissions","useContext","UserContext","Array","isArray","some","capability","hasCapability","hasPermission","propTypes","PropTypes","arrayOf","string","oneOfType","defaultProps","orderInitialState","servicePlans","selectedPlan","serviceData","isLoading","requests","orderDetail","order","platform","orders","meta","setLoadingState","payload","setOrders","setOrderDetail","planParameters","orderItems","approvalRequest","platformInitialState","platformIconMapping","sourceTypeIcons","isPlatformDataLoading","selectedPlatform","platforms","platformItems","platformInventories","platformItem","filterValue","serviceOffering","service","setInventoriesDataLoadingState","isInventoriesDataLoading","source_type_id","platformId","orderProcessInitialState","orderProcesses","sortBy","property","direction","portfoliosInitialState","metadata","user_capabilities","statistics","setPortfolioItems","setPortfolioItem","selectPortfolio","restorePrevState","prevState","created_at","updated_at","Date","toString","approvalInitialState","isFetching","isResolving","workflows","resolvedWorkflows","ASYNC_ACTIONS","FETCH_WORKFLOWS_PENDING","FETCH_WORKFLOWS_FULFILLED","RESOLVE_WORKFLOWS_PENDING","RESOLVE_WORKFLOWS_FULFILLED","rbacInitialState","rbacGroups","shareInfoInitialState","shareInfo","openApiInitialState","schema","undefined","loadingStateMiddleware","dispatch","action","type","match","emptyDataMiddleware","nextAction","noFilter","prototype","hasOwnProperty","call","values","every","noData","initialBreadcrumbsState","fragments","i18nInitialState","formatMessage","CopyPortfolioItemModal","lazy","OrderModal","EditApprovalWorkflow","SharePortfolioModal","RemovePortfolioModal","AddPortfolioModal","PortfolioRoutes","viewState","useSelector","portfolioItemUserCapabilities","shallowEqual","portfolioUserCapabilities","itemName","useQuery","search","useDispatch","useEffect","setOrFetchPortfolio","path","removeQuery","closeTarget","exact","closeUrl","querySelector","removeSearch","pushParam","objectType","PORTFOLIO_RESOURCE_TYPE","objectName","keepHash","onClose","resetSelectedPortfolio","PlatformRoutes","platformReducer","obj","INVENTORY_RESOURCE_TYPE","DialogRoutes","fallback","CommonApiError","Products","Platforms","Platform","Portfolios","Portfolio","Orders","OrderDetail","OrderProcesses","paths","products","order_processes","errorPaths","Routes","component","render","p","smoothscroll","polyfill","ignoreRedirect","App","unregister","useState","auth","setAuth","setUserPermissions","identity","userIdentity","setUserIdentity","openApiSchema","setOpenApiSchema","i18l","useIntl","history","useHistory","insights","chrome","init","icon_url","getUser","user","getUserPermissions","identifyApp","navigation","title","on","event","domEvent","push","navId","Provider","className","Grid","style","minHeight","GridItem","sm","GlobalStyle","createGlobalStyle","pathName","split","shift","release","basename","catalogHistory","createBrowserHistory","Router","viewStateMiddleware","storeState","encodeState","stateKey","replace","unAuthorizedMiddleware","redirect","setTimeout","prodMiddlewares","notificationsMiddleware","errorTitleKey","errorDescriptionKey","baseMiddlewares","thunk","promiseMiddleware","registerReducers","registry","register","orderReducer","applyReducerHash","orderProcessReducer","approvalReducer","rbacReducer","shareReducer","openApiReducer","breadcrumbsReducer","i18nReducer","notifications","ReactDOM","isProd","ReducerRegistry","reduxLogger","getStore","locale","document","getElementById","navigator","serviceWorker","includes","args","console","log","axios","create","paramsSerializer","stringify","interceptors","request","use","config","response","requestId","message","url","orderApi","OrderApi","orderItemApi","OrderItemApi","PortfolioApi","PortfolioItemApi","workflowApi","RequestApi","APPROVAL_API_BASE","WorkflowApi","servicePlansApi","IconApi","ServicePlansApi","getOrderApi","getOrderItemApi","rbacGroupApi","GroupApi","RBAC_API_BASE","getRbacGroupApi","getWorkflowApi","getServicePlansApi","grapqlInstance","getGraphqlInstance","errors","errorType","scrollToTop","scrollTo","behavior","top","left","nullableMapper","PortfolioItem","entityType","entity","schemas","getState","components","permittedValues","timeAgo","date","DateFormat","permission","prefix","requiredParams","query","URLSearchParams","wave","keyframes","Skeleton","Component","SkeletonContainer","width","height","secondaryColor","CardLoader","hasGutter","_item","number","AppPlaceholder","ToolbarTitlePlaceholder","ProducLoaderColumn","ProductLoaderPlaceholder","_","IconPlaceholder","cx","cy","r","fill","FormItemLoader","ShareLoader","TextVariants","small","fieldId","WorkflowLoader","label","variant","isDisabled","ListLoader","aria-label","aria-labelledby","dataListCells","OrderDetailToolbarPlaceholder","PlatformToolbarPlaceholder","process","TOPOLOGICAL_INVENTORY_API_BASE","permissionValues","permissionOptions","PORTFOLIO_ITEM_RESOURCE_TYPE","DEFAULT_MAX_LENGTH","APP_NAME","ServiceInventory","encodedState","JSON","parse","atob","decodeURIComponent","stateObject","encodeURIComponent","btoa","warn","portfolioMessages","portfoliosTitle","removeItemsNotification","removePortfolioNotification","modalCreateTitle","modalEditTitle","addProducts","emptyNoProducts","portfoliosPlaceholder","portfoliosNoData","portfoliosNoDataDescription","portfolioRemoveDescription","portfolioRemoveTitle","portfolioSharePermissions","portfolioShareGroups","portfolioShareTitle","portfolioShareApply","portfolioShareDescription","addProducstPlatformTitle","addProducstPlatformDescription","addProducstFilterTitle","copyItemTitle","portfolioItemSurvey","portfolioItemOrder","portfolioItemIconTitle","portfolioItemOverview","portfolioItemSupport","portfolioItemDocumentation","portfolioItemDocLink","restoreSurvey","surveyTitle","sourceUnavaiable","objectUnavaiable","backToProducts","editProduct","shareTooltip","shareErrorMissingGroup","shareErrorMissingPermission","shareErrorMissingData","shareDuplicate","noShares","shareGroupsAccess","shareSuccessTitle","addSuccessTitle","addSuccessDescription","doFetchPortfolios","options","ActionTypes","PortfolioHelper","fetchPortfolios","fetchPortfoliosWithState","fetchPortfolioItems","fetchPortfolioItemsWithPortfolio","fetchSelectedPortfolio","notification","fulfilled","description","ADD_NOTIFICATION","dismissable","undoRemovePortfolio","CLEAR_NOTIFICATIONS","chunks","href","onClick","preventDefault","removeProductsFromPortfolio","err","undoRemoveProductsFromPortfolio","newPortfolio","existingPorfolio"],"mappings":"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","file":"js/lib~App~06837ae4.a36091e192468c9636a7.js","sourcesContent":["export const ADD_PORTFOLIO_ROUTE = '/portfolios/add-portfolio';\nexport const ADD_PRODUCTS_ROUTE = '/portfolio/add-products';\nexport const EDIT_PORTFOLIO_ROUTE = '/portfolios/edit';\nexport const EDIT_PORTFOLIO_WORKFLOW_ROUTE = '/portfolios/edit-workflow';\nexport const EDIT_SURVEY_ROUTE = '/portfolio/portfolio-item/edit-survey';\nexport const NESTED_EDIT_PORTFOLIO_ROUTE = '/portfolio/edit-portfolio';\nexport const NESTED_ORDER_PORTFOLIO_ROUTE = '/portfolio/order';\nexport const NESTED_REMOVE_PORTFOLIO_ROUTE = '/portfolio/remove-portfolio';\nexport const NESTED_SHARE_PORTFOLIO_ROUTE = '/portfolio/share-portfolio';\nexport const NESTED_WORKFLOW_PORTFOLIO_ROUTE = '/portfolio/edit-workflow';\nexport const ORDER_APPROVAL_ROUTE = '/order/approval';\nexport const ORDER_LIFECYCLE_ROUTE = '/order/lifecycle';\nexport const ORDER_ROUTE = '/order';\nexport const ORDERS_ROUTE = '/orders';\nexport const PLATFORM_INVENTORIES_ROUTE = '/platform/platform-inventories';\nexport const PLATFORM_ROUTE = '/platform';\nexport const PLATFORM_SERVICE_OFFERINGS_ROUTE = '/platform/service-offerings';\nexport const PLATFORM_TEMPLATES_ROUTE = '/platform/platform-templates';\nexport const PLATFORMS_ROUTE = '/platforms';\nexport const PORTFOLIO_ROUTE = '/portfolio';\nexport const PORTFOLIO_ITEM_ROUTE = '/portfolio/portfolio-item';\nexport const PORTFOLIO_ITEM_ROUTE_EDIT = '/portfolio/portfolio-item/edit';\nexport const PORTFOLIOS_ROUTE = '/portfolios';\nexport const REMOVE_PORTFOLIO_ROUTE = '/portfolios/remove';\nexport const SHARE_PORTFOLIO_ROUTE = '/portfolios/share';\nexport const WORKFLOW_PORTFOLIO_ROUTE = '/portfolios/edit-workflow';\nexport const ORDER_PROCESSES_ROUTE = '/order-processes';\n","const { defineMessages } = require('react-intl');\n\nconst formsMessages = defineMessages({\n  orderProcessTitle: {\n    id: 'commonMessages.orderProcessesTitle',\n    defaultMessage: 'Order processes'\n  },\n  inviteGroup: {\n    id: 'forms.share.invite-group',\n    defaultMessage: 'Invite group'\n  },\n  groupsAccess: {\n    id: 'forms.groups-with-access',\n    defaultMessage: 'Groups with access'\n  },\n  groupsPlaceholder: {\n    id: 'share.groups.group.placeholder',\n    defaultMessage: 'Select group'\n  },\n  permissionsPlaceholder: {\n    id: 'share.groups.permissions.placeholder',\n    defaultMessage: 'Select permission'\n  }\n});\n\nexport default formsMessages;\n","const { defineMessages } = require('react-intl');\n\nconst actionMessages = defineMessages({\n  share: {\n    id: 'common.actions.share',\n    defaultMessage: 'Share'\n  },\n  copy: {\n    id: 'common.actions.copy',\n    defaultMessage: 'Copy'\n  },\n  setApproval: {\n    id: 'common.actions.setApproval',\n    defaultMessage: 'Set approval'\n  },\n  edit: {\n    id: 'common.actions.edit',\n    defaultMessage: 'Edit'\n  },\n  delete: {\n    id: 'common.actions.delete',\n    defaultMessage: 'Delete'\n  },\n  save: {\n    id: 'common.actions.save',\n    defaultMessage: 'Save'\n  }\n});\n\nexport default actionMessages;\n","import React from 'react';\nimport { Redirect, useLocation } from 'react-router-dom';\n\nexport const UnauthorizedRedirect = () => {\n  const location = useLocation();\n  return (\n    <Redirect\n      to={{\n        pathname: '/403',\n        state: {\n          from: location\n        }\n      }}\n    />\n  );\n};\n","import { decodeState } from './uri-state-manager';\n\nconst useInitialUriHash = () => decodeState(window.location.hash.substring(1));\n\nexport default useInitialUriHash;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Level, Toolbar, ToolbarGroup } from '@patternfly/react-core';\n\nexport const StyledToolbar = styled(({ noWrap, ...props }) => (\n  <Toolbar {...props} />\n))`\n  background-color: #ffffff;\n  h2 {\n    margin-bottom: 0 !important;\n  }\n  position: relative;\n  top: 1px;\n  .pf-c-toolbar__content-section {\n    flex-wrap: ${({ noWrap }) => (noWrap ? 'nowrap' : 'wrap')};\n  }\n`;\n\nexport const StyledToolbarGroup = styled(ToolbarGroup)`\n  flex-wrap: wrap;\n`;\n\nexport const TopToolbarWrapper = styled.div`\n  background-color: #ffffff;\n  .pf-c-breadcrumb__item {\n    .active {\n      color: var(--pf-c-breadcrumb__item--Color);\n      text-decoration: none;\n      pointer-events: none;\n    }\n  }\n  h1,\n  h2 {\n    margin-bottom: 0 !important;\n    @supports not (overflow-wrap: anywhere) {\n      word-break: break-all;\n    }\n    @supports (overflow-wrap: anywhere) {\n      overflow-wrap: anywhere;\n    }\n  }\n  .top-toolbar-title {\n    min-width: 200px;\n  }\n  .top-toolbar-title-description {\n    word-break: break-word;\n  }\n  .ins-c-primary-toolbar {\n    padding: 0;\n  }\n  .pf-c-toolbar__content {\n    padding: 0;\n  }\n`;\n\nexport const TopToolbarTitleContainer = styled(Level)`\n  @media screen and (min-width: 768px) {\n    flex-wrap: nowrap;\n  }\n`;\n","import {\n  getAxiosInstance,\n  getPortfolioApi,\n  getPortfolioItemApi\n} from '../shared/user-login';\nimport { CATALOG_API_BASE, SOURCES_API_BASE } from '../../utilities/constants';\nimport { sanitizeValues } from '../shared/helpers';\nimport { defaultSettings } from '../shared/pagination';\n\nconst axiosInstance = getAxiosInstance();\nconst portfolioApi = getPortfolioApi();\nconst portfolioItemApi = getPortfolioItemApi();\n\nexport function listPortfolios(\n  filters = {},\n  { limit, offset, sortDirection = 'asc' } = defaultSettings\n) {\n  const filterQuery = Object.entries(filters).reduce((acc, [key, value]) => {\n    if (!value) {\n      return acc;\n    }\n\n    const partial =\n      key === 'sort_by'\n        ? `sort_by=${value}:${sortDirection}`\n        : `filter[${key}][contains_i]=${value}`;\n    return `${acc}&${partial}`;\n  }, '');\n  return axiosInstance.get(\n    `${CATALOG_API_BASE}/portfolios?limit=${limit}&offset=${offset}${filterQuery}`\n  );\n}\n\nexport function listPortfolioItems(limit = 50, offset = 0, filter = '') {\n  return axiosInstance\n    .get(\n      `${CATALOG_API_BASE}/portfolio_items?filter[name][contains_i]=${filter}&limit=${limit}&offset=${offset}`\n    )\n    .then((portfolioItems) => {\n      const portfolioReference = portfolioItems.data.reduce(\n        (acc, curr, index) =>\n          curr.portfolio_id\n            ? {\n                ...acc,\n                [curr.portfolio_id]: acc[curr.portfolio_id]\n                  ? [...acc[curr.portfolio_id], index]\n                  : [index]\n              }\n            : acc,\n        {}\n      );\n      return axiosInstance\n        .get(\n          `${CATALOG_API_BASE}/portfolios?${Object.keys(portfolioReference)\n            .map((id) => `filter[id][]=${id}`)\n            .join('&')}`\n        )\n        .then(({ data }) => ({\n          portfolioItems,\n          portfolioReference,\n          portfolios: data\n        }));\n    })\n    .then(({ portfolioItems, portfolioReference, portfolios }) => {\n      portfolios.forEach(\n        ({ id, name }) =>\n          portfolioReference[id] &&\n          portfolioReference[id].forEach((portfolioItemIndex) => {\n            portfolioItems.data[portfolioItemIndex].portfolioName = name;\n          })\n      );\n      return portfolioItems;\n    });\n}\n\nexport function getPortfolio(portfolioId) {\n  return portfolioApi.showPortfolio(portfolioId);\n}\n\nexport function getPortfolioItemsWithPortfolio(\n  portfolioId,\n  { limit, offset, filter = '' } = defaultSettings\n) {\n  return axiosInstance.get(\n    `${CATALOG_API_BASE}/portfolios/${portfolioId}/portfolio_items?filter[name][contains_i]=${filter}&limit=${limit}&offset=${offset}`\n  );\n}\n\n// TO DO - change to use the API call that adds multiple items to a portfolio when available\nexport async function addPortfolio(portfolioData, items) {\n  let portfolio = await portfolioApi.createPortfolio(portfolioData);\n  if (portfolio && items && items.length > 0) {\n    return addToPortfolio(portfolio, items);\n  }\n\n  return portfolio;\n}\n\nexport async function addToPortfolio(portfolioId, items) {\n  return Promise.all(\n    items.map((item) =>\n      portfolioItemApi.createPortfolioItem({\n        portfolio_id: portfolioId,\n        service_offering_ref: item\n      })\n    )\n  );\n}\n\nexport async function updatePortfolio({ id, ...portfolioData }, store) {\n  return await portfolioApi.updatePortfolio(\n    id,\n    sanitizeValues(portfolioData, 'Portfolio', store)\n  );\n}\n\nexport async function removePortfolio(portfolioId) {\n  return portfolioApi.destroyPortfolio(portfolioId);\n}\n\nexport async function removePortfolioItem(portfolioItemId) {\n  return portfolioItemApi.destroyPortfolioItem(portfolioItemId);\n}\n\nexport async function removePortfolioItems(portfolioItemIds) {\n  return Promise.all(\n    portfolioItemIds.map(async (itemId) => {\n      const { restore_key } = await removePortfolioItem(itemId);\n      return {\n        portfolioItemId: itemId,\n        restoreKey: restore_key\n      };\n    })\n  );\n}\n\nexport function fetchProviderControlParameters(portfolioItemId) {\n  return axiosInstance\n    .get(\n      `${CATALOG_API_BASE}/portfolio_items/${portfolioItemId}/provider_control_parameters`\n    )\n    .then((data) => ({\n      required: [],\n      ...data,\n      properties: {\n        ...data.properties,\n        namespace: {\n          ...data.properties.namespace,\n          enum: Array.from(new Set([...data.properties.namespace.enum]))\n        }\n      }\n    }));\n}\n\nexport async function updatePortfolioItem({ id, ...portfolioItem }, store) {\n  return await portfolioItemApi.updatePortfolioItem(\n    id,\n    sanitizeValues(portfolioItem, 'PortfolioItem', store)\n  );\n}\n\nexport function fetchPortfolioByName(name = '') {\n  return axiosInstance.get(`${CATALOG_API_BASE}/portfolios`, {\n    params: {\n      filter: {\n        name\n      }\n    }\n  });\n}\n\nexport const restorePortfolioItems = (restoreData) =>\n  Promise.all(\n    restoreData.map(({ portfolioItemId, restoreKey }) =>\n      portfolioItemApi.unDeletePortfolioItem(portfolioItemId, {\n        restore_key: restoreKey\n      })\n    )\n  );\n\nexport const copyPortfolio = (portfolioId) =>\n  portfolioApi.postCopyPortfolio(portfolioId);\n\nexport const copyPortfolioItem = (portfolioItemId, copyObject = {}) =>\n  portfolioItemApi.postCopyPortfolioItem(portfolioItemId, copyObject);\n\nexport const uploadPortfolioItemIcon = (portfolioItemId, file, iconId) => {\n  let data = new FormData();\n  data.append('content', file, file.name);\n  if (iconId) {\n    return axiosInstance.patch(`${CATALOG_API_BASE}/icons/${iconId}`, data);\n  }\n\n  data.append('portfolio_item_id', portfolioItemId);\n  return axiosInstance.post(`${CATALOG_API_BASE}/icons`, data, {\n    headers: {\n      accept: 'application/json',\n      'Content-Type': `multipart/form-data; boundary=${data._boundary}`\n    }\n  });\n};\n\nexport const getPortfolioItemDetail = (params) =>\n  Promise.all([\n    axiosInstance.get(\n      `${CATALOG_API_BASE}/portfolio_items/${params.portfolioItem}`\n    ),\n    axiosInstance\n      .get(`${SOURCES_API_BASE}/sources/${params.source}`)\n      .catch((error) => {\n        if (error.status === 404) {\n          return {\n            object: 'platform',\n            notFound: true\n          };\n        }\n\n        throw error;\n      })\n  ]);\n\nexport const getPortfolioFromState = (portfolioReducer, portfolioId) =>\n  portfolioReducer.selectedPortfolio &&\n  portfolioReducer.selectedPortfolio.id === portfolioId\n    ? portfolioReducer.selectedPortfolio\n    : portfolioReducer.portfolios.data.find(({ id }) => id === portfolioId);\n\nexport const undeletePortfolio = (portfolioId, restoreKey) =>\n  axiosInstance.post(`${CATALOG_API_BASE}/portfolios/${portfolioId}/undelete`, {\n    restore_key: restoreKey\n  });\n","import { createContext } from 'react';\n\nconst AppContext = createContext({});\n\nexport default AppContext;\n","export const FETCH_SERVICE_PLANS = 'FETCH_SERVICE_PLANS';\nexport const FETCH_SERVICE_PLAN_PARAMETERS = 'FETCH_SERVICE_PLAN_PARAMETERS';\nexport const UPDATE_SERVICE_DATA = 'UPDATE_SERVICE_DATA';\nexport const SUBMIT_SERVICE_ORDER = 'SUBMIT_SERVICE_ORDER';\nexport const SET_SELECTED_PLAN = 'SET_SELECTED_PLAN';\nexport const LIST_ORDERS = 'LIST_ORDERS';\nexport const CANCEL_ORDER = 'CANCEL_ORDER';\nexport const SET_ORDERS = 'SET_ORDERS';\nexport const FETCH_ORDERS = 'FETCH_ORDERS';\n\nexport const FETCH_PLATFORM = 'FETCH_PLATFORM';\nexport const FETCH_PLATFORMS = 'FETCH_PLATFORMS';\nexport const FETCH_PLATFORM_ITEMS = 'FETCH_PLATFORM_ITEMS';\nexport const FETCH_PLATFORM_ITEM = 'FETCH_PLATFORM_ITEM';\nexport const FETCH_MULTIPLE_PLATFORM_ITEMS = 'FETCH_MULTIPLE_PLATFORM_ITEMS';\nexport const FILTER_PLATFORM_ITEMS = 'FILTER_PLATFORM_ITEMS';\nexport const FETCH_PLATFORM_INVENTORIES = 'FETCH_PLATFORM_INVENTORIES';\nexport const SET_INVENTORIES_LOADING_STATE = 'SET_INVENTORIES_LOADING_STATE';\n\nexport const FETCH_PORTFOLIOS = 'FETCH_PORTFOLIOS';\nexport const FETCH_PORTFOLIO_ITEM = 'FETCH_PORTFOLIO_ITEM';\nexport const FETCH_PORTFOLIO_ITEMS = 'FETCH_PORTFOLIO_ITEMS';\nexport const FETCH_PORTFOLIO_ITEMS_WITH_PORTFOLIO =\n  'FETCH_PORTFOLIO_ITEMS_WITH_PORTFOLIO';\nexport const FETCH_PORTFOLIO = 'FETCH_PORTFOLIO';\nexport const FILTER_PORTFOLIO_ITEMS = 'FILTER_PORTFOLIO_ITEMS';\nexport const ADD_PORTFOLIO = 'ADD_PORTFOLIO';\nexport const ADD_TO_PORTFOLIO = 'ADD_TO_PORTFOLIO';\nexport const UPDATE_PORTFOLIO = 'UPDATE_PORTFOLIO';\nexport const REMOVE_PORTFOLIO = 'REMOVE_PORTFOLIO';\nexport const REMOVE_PORTFOLIO_ITEMS = 'REMOVE_PORTFOLIO_ITEMS';\nexport const RESTORE_PORTFOLIO_ITEMS = 'RESTORE_PORTFOLIO_ITEMS';\nexport const RESET_SELECTED_PORTFOLIO = 'RESET_SELECTED_PORTFOLIO';\nexport const ADD_TEMPORARY_PORTFOLIO = 'ADD_TEMPORARY_PORTFOLIO';\nexport const UPDATE_TEMPORARY_PORTFOLIO = 'UPDATE_TEMPORARY_PORTFOLIO';\nexport const DELETE_TEMPORARY_PORTFOLIO = 'DELETE_TEMPORARY_PORTFOLIO';\nexport const RESTORE_PORTFOLIO_PREV_STATE = 'RESTORE_PORTFOLIO_PREV_STATE';\nexport const SET_PORTFOLIO_ITEMS = 'SET_PORTFOLIO_ITEMS';\nexport const UPDATE_TEMPORARY_PORTFOLIO_ITEM =\n  'UPDATE_TEMPORARY_PORTFOLIO_ITEM';\nexport const RESTORE_PORTFOLIO_ITEM_PREV_STATE =\n  'RESTORE_PORTFOLIO_ITEM_PREV_STATE';\nexport const UPDATE_PORTFOLIO_ITEM = 'UPDATE_PORTFOLIO_ITEM';\n\nexport const FETCH_RBAC_GROUPS = 'FETCH_RBAC_GROUPS';\n\nexport const SHARE_PORTFOLIO = 'SHARE_PORTFOLIO';\nexport const UNSHARE_PORTFOLIO = 'UNSHARE_PORTFOLIO';\nexport const QUERY_PORTFOLIO = 'QUERY_PORTFOLIO';\n\nexport const FETCH_REQUESTS = 'FETCH_REQUESTS';\nexport const FETCH_ORDER_ITEMS = 'FETCH_ORDER_ITEMS';\n\n/**\n * Global redux loading state\n */\nexport const SET_LOADING_STATE = 'SET_LOADING_STATE';\n\n/**\n * OpenApi action\n */\nexport const SET_OPENAPI_SCHEMA = '@@open-api/set-schema';\n\n/**\n * Orders actions\n * TODO Prefix existing action types\n */\nexport const SET_ORDER_DETAIL = '@@orders/set-order-detail';\nexport const FETCH_APPROVAL_REQUESTS = '@@orders/fetch-order-requests';\n\n/*\n * Portfolio actions\n */\nexport const SELECT_PORTFOLIO_ITEM = '@@portfolio/SELECT_PORTFOLIO_ITEM';\n\n/**\n * Sources actions\n */\nexport const FETCH_SERVICE_OFFERING = '@@sources/FETCH_SERVICE_OFFERING';\nexport const SET_SOURCETYPE_ICONS = '@@sources/SET_SOURCETYPE_ICONS';\n\n/**\n * Breadcrumbs actions\n */\nexport const INITIALIZE_BREADCRUMBS = '@@breadcrumbs/INITIALIZE_BREADCRUMBS';\n\n/**\n * In18l actions\n */\n\nexport const INITIALIZE_I18N = '@@i18l/INITIALIZE_I18N';\n\n/*\n * Order processes actions\n */\nexport const FETCH_ORDER_PROCESSES = '@@order_processes/FETCH_ORDER_PROCESSES';\nexport const SORT_ORDER_PROCESSES = '@@order_processes/SORT_ORDER_PROCESSES';\nexport const SET_FILTER_ORDER_PROCESSES =\n  '@@order_processes/SET_FILTER_ORDER_PROCESSES';\n","export const defaultSettings = {\n  limit: 50,\n  offset: 0,\n  count: 0,\n  filter: ''\n};\n\nexport const getCurrentPage = (limit = 1, offset = 0) =>\n  Math.floor(offset / limit) + 1;\n\nexport const getNewPage = (page = 1, offset) => (page - 1) * offset;\n","import React, { useContext } from 'react';\nimport { Route } from 'react-router-dom';\nimport UserContext from '../user-context';\nimport PropTypes from 'prop-types';\nimport { hasPermission } from '../helpers/shared/helpers';\nimport { UnauthorizedRedirect } from '../smart-components/error-pages/error-redirects';\n\nconst ReidrectOnAccess = (props) => (\n  <Route {...props}>\n    <UnauthorizedRedirect />\n  </Route>\n);\n\nconst hasCapability = (userCapabilities, requiredCapabilities) =>\n  requiredCapabilities\n    ? Array.isArray(requiredCapabilities)\n      ? requiredCapabilities.some(\n          (capability) => userCapabilities[capability] !== false\n        )\n      : userCapabilities[requiredCapabilities] !== false\n    : true;\n\nconst CatalogRoute = ({\n  permissions,\n  userCapabilities,\n  requiredCapabilities,\n  ...props\n}) => {\n  const { permissions: userPermissions } = useContext(UserContext);\n  const hasAccess =\n    hasCapability(userCapabilities, requiredCapabilities) &&\n    hasPermission(userPermissions, permissions);\n\n  if (!hasAccess) {\n    return <ReidrectOnAccess {...props} />;\n  }\n\n  return <Route {...props} />;\n};\n\nCatalogRoute.propTypes = {\n  permissions: PropTypes.arrayOf(PropTypes.string),\n  userCapabilities: PropTypes.object,\n  requiredCapabilities: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.arrayOf(PropTypes.string)\n  ])\n};\n\nCatalogRoute.defaultProps = {\n  permissions: [],\n  userCapabilities: {}\n};\n\nexport default CatalogRoute;\n","import {\n  FETCH_SERVICE_PLANS,\n  LIST_ORDERS,\n  FETCH_SERVICE_PLAN_PARAMETERS,\n  SUBMIT_SERVICE_ORDER,\n  UPDATE_SERVICE_DATA,\n  SET_SELECTED_PLAN,\n  FETCH_REQUESTS,\n  FETCH_ORDER_ITEMS,\n  SET_LOADING_STATE,\n  SET_ORDERS,\n  FETCH_ORDERS,\n  SET_ORDER_DETAIL,\n  FETCH_APPROVAL_REQUESTS\n} from '../action-types';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n// Initial State\nexport const orderInitialState = {\n  servicePlans: [],\n  selectedPlan: {},\n  serviceData: {},\n  isLoading: false,\n  requests: [],\n  orderDetail: {\n    order: {},\n    portfolioItem: {},\n    platform: {},\n    portfolio: {}\n  },\n  orders: {\n    data: [],\n    meta: { ...defaultSettings }\n  }\n};\n\nconst setLoadingState = (state, { payload = true }) => ({\n  ...state,\n  isLoading: payload\n});\nconst setServicePlans = (state, { payload }) => ({\n  ...state,\n  servicePlans: payload,\n  isLoading: false\n});\nconst setListOrder = (state, { payload }) => ({\n  ...state,\n  orders: payload,\n  isLoading: false\n});\nconst setPlanParameters = (state, { payload }) => ({\n  ...state,\n  planParameters: payload,\n  isLoading: false\n});\nconst submitServiceOrder = (state, { payload }) => ({\n  ...state,\n  ...payload,\n  isLoading: false\n});\nconst updateServiceData = (state, { payload }) => ({\n  ...state,\n  serviceData: payload,\n  isLoading: false\n});\nconst selectPlan = (state, { payload }) => ({\n  ...state,\n  selectedPlan: payload,\n  isLoading: false\n});\nconst setRequests = (state, { payload }) => ({\n  ...state,\n  requests: payload,\n  isLoading: false\n});\nconst setOrderItems = (state, { payload }) => ({\n  ...state,\n  orderItems: payload,\n  isLoading: false\n});\nconst setOrders = (state, { payload }) => ({ ...state, orders: payload });\nconst setOrderDetail = (state, { payload }) => ({\n  ...state,\n  orderDetail: payload\n});\nconst updateOrderApprovalRequests = (state, { payload }) => ({\n  ...state,\n  orderDetail: { ...state.orderDetail, approvalRequest: payload }\n});\n\nexport default {\n  [`${FETCH_SERVICE_PLANS}_PENDING`]: setLoadingState,\n  [`${FETCH_SERVICE_PLANS}_FULFILLED`]: setServicePlans,\n  [`${LIST_ORDERS}_PENDING`]: setLoadingState,\n  [`${LIST_ORDERS}_FULFILLED`]: setListOrder,\n  [`${FETCH_SERVICE_PLAN_PARAMETERS}_PENDING`]: setLoadingState,\n  [`${FETCH_SERVICE_PLAN_PARAMETERS}_FULFILLED`]: setPlanParameters,\n  [`${SUBMIT_SERVICE_ORDER}_PENDING`]: setLoadingState,\n  [`${SUBMIT_SERVICE_ORDER}_FULFILLED`]: submitServiceOrder,\n  [UPDATE_SERVICE_DATA]: updateServiceData,\n  [SET_SELECTED_PLAN]: selectPlan,\n  [`${FETCH_REQUESTS}_PENDING`]: setLoadingState,\n  [`${FETCH_REQUESTS}_FULFILLED`]: setRequests,\n  [`${FETCH_ORDER_ITEMS}_PENDING`]: setLoadingState,\n  [`${FETCH_ORDER_ITEMS}_FULFILLED`]: setOrderItems,\n  [SET_LOADING_STATE]: setLoadingState,\n  [`${FETCH_ORDERS}_FULFILLED`]: setOrders,\n  [`${FETCH_ORDERS}_PENDING`]: setLoadingState,\n  [SET_ORDERS]: setOrders,\n  [`${SET_ORDER_DETAIL}_FULFILLED`]: setOrderDetail,\n  [SET_ORDER_DETAIL]: setOrderDetail,\n  [`${FETCH_APPROVAL_REQUESTS}_FULFILLED`]: updateOrderApprovalRequests\n};\n","import {\n  FETCH_PLATFORM,\n  FETCH_PLATFORMS,\n  FETCH_PLATFORM_ITEMS,\n  FETCH_PLATFORM_ITEM,\n  FILTER_PLATFORM_ITEMS,\n  FETCH_MULTIPLE_PLATFORM_ITEMS,\n  SET_LOADING_STATE,\n  FETCH_PLATFORM_INVENTORIES,\n  SET_INVENTORIES_LOADING_STATE,\n  FETCH_SERVICE_OFFERING,\n  SET_SOURCETYPE_ICONS\n} from '../action-types';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\n// Initial State\nexport const platformInitialState = {\n  platformIconMapping: {},\n  sourceTypeIcons: {},\n  isPlatformDataLoading: false,\n  selectedPlatform: {},\n  platforms: [],\n  platformItems: {},\n  platformInventories: {\n    meta: defaultSettings\n  },\n  platformItem: {},\n  platform: {},\n  filterValue: '',\n  serviceOffering: {\n    service: {},\n    source: {}\n  }\n};\n\nconst mapPlatformIcons = (platformIconMapping, platforms, sourceTypeIcons) =>\n  platforms.reduce(\n    (acc, curr) =>\n      !acc[curr.id]\n        ? { ...acc, [curr.id]: sourceTypeIcons[curr.source_type_id] }\n        : acc,\n    { ...platformIconMapping }\n  );\n\nconst setLoadingState = (state, { payload = true }) => ({\n  ...state,\n  isPlatformDataLoading: payload\n});\nconst setPlatforms = (state, { payload }) => ({\n  ...state,\n  platforms: payload,\n  platformIconMapping: mapPlatformIcons(\n    state.platformIconMapping,\n    payload,\n    state.sourceTypeIcons\n  ),\n  isPlatformDataLoading: false\n});\nconst setPlatformItems = (state, { payload, meta: { platformId } }) => ({\n  ...state,\n  platformItems: { ...state.platformItems, [platformId]: payload },\n  isPlatformDataLoading: false\n});\nconst setMultiplePlatformItems = (state, { payload }) => ({\n  ...state,\n  platformItems: { ...state.platformItems, ...payload },\n  isPlatformDataLoading: false\n});\nconst setPortfolioItems = (state, { payload }) => ({\n  ...state,\n  portfolioItem: payload,\n  isPlatformDataLoading: false\n});\nconst selectPlatform = (state, { payload }) => ({\n  ...state,\n  selectedPlatform: payload,\n  isLoading: false\n});\nconst filterPlatformItems = (state, { payload }) => ({\n  ...state,\n  filterValue: payload\n});\nconst setInventoriesDataLoadingState = (state, { payload = true }) => ({\n  ...state,\n  isInventoriesDataLoading: payload\n});\nconst setPlatformInventories = (state, { payload }) => ({\n  ...state,\n  platformInventories: { ...state.platformInventories, ...payload },\n  isInventoriesDataLoading: false\n});\nconst setServiceOffering = (state, { payload }) => ({\n  ...state,\n  serviceOffering: payload\n});\nconst setSourceTypeIcons = (state, { payload }) => ({\n  ...state,\n  sourceTypeIcons: payload\n});\n\nexport default {\n  [`${FETCH_PLATFORMS}_PENDING`]: setLoadingState,\n  [`${FETCH_PLATFORMS}_FULFILLED`]: setPlatforms,\n  [`${FETCH_PLATFORM_ITEMS}_PENDING`]: setLoadingState,\n  [`${FETCH_PLATFORM_ITEMS}_FULFILLED`]: setPlatformItems,\n  [`${FETCH_PLATFORM_ITEM}_PENDING`]: setLoadingState,\n  [`${FETCH_PLATFORM_ITEM}_FULFILLED`]: setPortfolioItems,\n  [`${FETCH_PLATFORM}_PENDING`]: setLoadingState,\n  [`${FETCH_PLATFORM}_FULFILLED`]: selectPlatform,\n  [`${FILTER_PLATFORM_ITEMS}_FULFILLED`]: filterPlatformItems,\n  [`${FETCH_MULTIPLE_PLATFORM_ITEMS}_FULFILLED`]: setMultiplePlatformItems,\n  [SET_LOADING_STATE]: setLoadingState,\n  [`${FETCH_PLATFORM_INVENTORIES}_PENDING`]: setInventoriesDataLoadingState,\n  [`${FETCH_PLATFORM_INVENTORIES}_FULFILLED`]: setPlatformInventories,\n  [SET_INVENTORIES_LOADING_STATE]: setInventoriesDataLoadingState,\n  [`${FETCH_SERVICE_OFFERING}_FULFILLED`]: setServiceOffering,\n  [SET_SOURCETYPE_ICONS]: setSourceTypeIcons\n};\n","import {\n  FETCH_ORDER_PROCESSES,\n  SORT_ORDER_PROCESSES,\n  SET_FILTER_ORDER_PROCESSES\n} from '../../redux/action-types';\n\n// Initial State\nexport const orderProcessInitialState = {\n  orderProcesses: {\n    data: [],\n    meta: {\n      count: 0,\n      limit: 50,\n      offset: 0\n    }\n  },\n  filterValue: '',\n  isLoading: false,\n  sortBy: {\n    index: 0,\n    property: 'name',\n    direction: 'asc'\n  }\n};\n\nconst setLoadingState = (state) => ({ ...state, isLoading: true });\nconst setOrderProcesses = (state, { payload }) => ({\n  ...state,\n  orderProcesses: payload,\n  isLoading: false\n});\nconst setSortOrderProcesses = (state, { payload }) => ({\n  ...state,\n  sortBy: payload,\n  orderProcesses: {\n    ...state.orderProcesses,\n    meta: {\n      ...state.orderProcesses.meta,\n      offset: 0\n    }\n  }\n});\nconst setFilterValue = (state, { payload }) => ({\n  ...state,\n  filterValue: payload,\n  orderProcesses: {\n    ...state.orderProcesses,\n    meta: {\n      ...state.orderProcesses.meta,\n      offset: 0\n    }\n  }\n});\n\nexport default {\n  [`${FETCH_ORDER_PROCESSES}_PENDING`]: setLoadingState,\n  [`${FETCH_ORDER_PROCESSES}_FULFILLED`]: setOrderProcesses,\n  [SORT_ORDER_PROCESSES]: setSortOrderProcesses,\n  [SET_FILTER_ORDER_PROCESSES]: setFilterValue\n};\n","import {\n  FETCH_PORTFOLIO,\n  FETCH_PORTFOLIOS,\n  FETCH_PORTFOLIO_ITEMS,\n  FETCH_PORTFOLIO_ITEMS_WITH_PORTFOLIO,\n  FETCH_PORTFOLIO_ITEM,\n  FILTER_PORTFOLIO_ITEMS,\n  SELECT_PORTFOLIO_ITEM,\n  UPDATE_PORTFOLIO,\n  SET_LOADING_STATE,\n  REMOVE_PORTFOLIO_ITEMS,\n  RESET_SELECTED_PORTFOLIO,\n  ADD_TEMPORARY_PORTFOLIO,\n  UPDATE_TEMPORARY_PORTFOLIO,\n  DELETE_TEMPORARY_PORTFOLIO,\n  RESTORE_PORTFOLIO_PREV_STATE,\n  SET_PORTFOLIO_ITEMS,\n  UPDATE_TEMPORARY_PORTFOLIO_ITEM,\n  UPDATE_PORTFOLIO_ITEM,\n  RESTORE_PORTFOLIO_ITEM_PREV_STATE\n} from '../action-types';\n\n// Initial State\nexport const portfoliosInitialState = {\n  portfolioItems: {\n    data: [],\n    meta: {\n      limit: 50,\n      offset: 0,\n      filter: ''\n    }\n  },\n  portfolioItem: {\n    portfolioItem: {\n      metadata: {\n        user_capabilities: {},\n        statistics: {}\n      }\n    }\n  },\n  portfolios: {\n    data: [],\n    meta: {\n      limit: 50,\n      offset: 0\n    }\n  },\n  selectedPortfolio: {\n    metadata: {\n      user_capabilities: {},\n      statistics: {}\n    }\n  },\n  portfolio: {},\n  filterValue: '',\n  isLoading: false\n};\n\nconst setLoadingState = (state, { payload = true }) => ({\n  ...state,\n  isLoading: payload\n});\nconst setPortfolios = (state, { payload }) => ({\n  ...state,\n  portfolios: payload,\n  isLoading: false\n});\nconst setPortfolioItems = (state, { payload }) => ({\n  ...state,\n  portfolioItems: payload,\n  isLoading: false\n});\nconst setPortfolioItem = (state, { payload }) => ({\n  ...state,\n  portfolioItem: payload,\n  isLoading: false\n});\nconst selectPortfolio = (state, { payload }) => ({\n  ...state,\n  selectedPortfolio: payload,\n  isLoading: false\n});\nconst filterPortfolios = (state, { payload }) => ({\n  ...state,\n  filterValue: payload\n});\nconst resetSelectedPortfolio = (state) => ({\n  ...state,\n  selectedPortfolio: { metadata: { user_capabilities: {}, statistics: {} } },\n  portfolioItems: portfoliosInitialState.portfolioItems\n});\n\n// these are optimistic UI updates that mutate the portfolio state immediately after user action.\n// State is synchronized with API after actions are sucesfull\nconst addTemporaryPortfolio = (state, { payload }) => ({\n  prevState: { ...state },\n  ...state,\n  portfolios: {\n    ...state.portfolios,\n    data: [\n      ...state.portfolios.data,\n      { ...payload, metadata: { user_capabilities: {}, statistics: {} } }\n    ]\n  }\n});\nconst updateTemporaryPortfolio = (state, { payload }) => ({\n  prevState: { ...state },\n  ...state,\n  selectedPortfolio: {\n    metadata: {\n      ...state.selectedPortfolio.metadata,\n      user_capabilities: {\n        ...state.selectedPortfolio.metadata.user_capabilities\n      }\n    },\n    ...payload\n  },\n  portfolios: {\n    ...state.portfolios,\n    data: state.portfolios.data.map((item) =>\n      item.id === payload.id\n        ? {\n            ...item,\n            ...payload\n          }\n        : item\n    )\n  }\n});\n\nconst deleteTemporaryPortfolio = (state, { payload }) => ({\n  prevState: { ...state },\n  ...state,\n  selectedPortfolio: { metadata: { user_capabilities: {}, statistics: {} } },\n  portfolios: {\n    ...state.portfolios,\n    data: state.portfolios.data.filter(({ id }) => id !== payload)\n  }\n});\n\nconst updateTemporaryPortfolioItem = (state, { payload }) => ({\n  ...state,\n  prevState: { ...state },\n  portfolioItem: {\n    ...state.portfolioItem,\n    portfolioItem: {\n      created_at: state.portfolioItem.portfolioItem.created_at,\n      updated_at: new Date().toString(),\n      ...payload\n    }\n  },\n  portfolioItems: {\n    ...state.portfolioItems,\n    data: state.portfolioItems.data.map((item) =>\n      item.id === payload.id\n        ? { created_at: item.created_at, ...payload }\n        : item\n    )\n  }\n});\n\nconst updatePortfolioItem = (state, { payload }) => ({\n  ...state,\n  portfolioItem: {\n    ...state.portfolioItem,\n    portfolioItem: payload\n  },\n  portfolioItems: {\n    ...state.portfolioItems,\n    data: state.portfolioItems.data.map((item) =>\n      item.id === payload.id ? { ...payload } : item\n    )\n  }\n});\n\nconst restorePrevState = (state) =>\n  state.prevState ? { ...state.prevState } : { ...state };\n\nexport default {\n  [`${FETCH_PORTFOLIOS}_PENDING`]: setLoadingState,\n  [`${FETCH_PORTFOLIOS}_FULFILLED`]: setPortfolios,\n  [`${FETCH_PORTFOLIO_ITEMS}_PENDING`]: setLoadingState,\n  [`${FETCH_PORTFOLIO_ITEMS}_FULFILLED`]: setPortfolioItems,\n  [`${FETCH_PORTFOLIO_ITEMS_WITH_PORTFOLIO}_PENDING`]: setLoadingState,\n  [`${FETCH_PORTFOLIO_ITEMS_WITH_PORTFOLIO}_FULFILLED`]: setPortfolioItems,\n  [`${FETCH_PORTFOLIO_ITEM}_PENDING`]: setLoadingState,\n  [`${FETCH_PORTFOLIO_ITEM}_FULFILLED`]: setPortfolioItem,\n  [`${FETCH_PORTFOLIO}_PENDING`]: setLoadingState,\n  [`${FETCH_PORTFOLIO}_FULFILLED`]: selectPortfolio,\n  [FILTER_PORTFOLIO_ITEMS]: filterPortfolios,\n  [`${SELECT_PORTFOLIO_ITEM}_FULFILLED`]: setPortfolioItem,\n  [SELECT_PORTFOLIO_ITEM]: setPortfolioItem,\n  [`${UPDATE_PORTFOLIO}_FULFILLED`]: selectPortfolio,\n  [SET_LOADING_STATE]: setLoadingState,\n  [`${REMOVE_PORTFOLIO_ITEMS}_PENDING`]: setLoadingState,\n  [RESET_SELECTED_PORTFOLIO]: resetSelectedPortfolio,\n  [ADD_TEMPORARY_PORTFOLIO]: addTemporaryPortfolio,\n  [UPDATE_TEMPORARY_PORTFOLIO]: updateTemporaryPortfolio,\n  [DELETE_TEMPORARY_PORTFOLIO]: deleteTemporaryPortfolio,\n  [RESTORE_PORTFOLIO_PREV_STATE]: restorePrevState,\n  [SET_PORTFOLIO_ITEMS]: setPortfolioItems,\n  [UPDATE_TEMPORARY_PORTFOLIO_ITEM]: updateTemporaryPortfolioItem,\n  [RESTORE_PORTFOLIO_ITEM_PREV_STATE]: restorePrevState,\n  [UPDATE_PORTFOLIO_ITEM]: updatePortfolioItem\n};\n","import { SET_LOADING_STATE } from '../action-types';\nimport { ASYNC_ACTIONS } from '../action-types/approval-action-types';\n\nexport const approvalInitialState = {\n  isFetching: false,\n  isResolving: false,\n  workflows: [],\n  resolvedWorkflows: []\n};\n\nconst setLoadingState = (state, { payload = true }) => ({\n  ...state,\n  isFetching: payload\n});\nconst setWorkflows = (state, { payload }) => ({\n  ...state,\n  isFetching: false,\n  workflows: payload\n});\nconst setResolvingState = (state, { payload = true }) => ({\n  ...state,\n  isResolving: payload\n});\nconst setResolvedWorkflows = (state, { payload }) => ({\n  ...state,\n  isResolving: false,\n  resolvedWorkflows: payload\n});\n\nexport default {\n  [ASYNC_ACTIONS.FETCH_WORKFLOWS_PENDING]: setLoadingState,\n  [ASYNC_ACTIONS.FETCH_WORKFLOWS_FULFILLED]: setWorkflows,\n  [ASYNC_ACTIONS.RESOLVE_WORKFLOWS_PENDING]: setResolvingState,\n  [ASYNC_ACTIONS.RESOLVE_WORKFLOWS_FULFILLED]: setResolvedWorkflows,\n  [SET_LOADING_STATE]: setLoadingState\n};\n","import { FETCH_RBAC_GROUPS, SET_LOADING_STATE } from '../action-types';\n\n// Initial State\nexport const rbacInitialState = {\n  rbacGroups: [],\n  isLoading: false\n};\n\nconst setLoadingState = (state, { payload = true }) => ({\n  ...state,\n  isLoading: payload\n});\nconst setRbacGroups = (state, { payload }) => ({\n  ...state,\n  rbacGroups: payload,\n  isLoading: false\n});\n\nexport default {\n  [`${FETCH_RBAC_GROUPS}_PENDING`]: setLoadingState,\n  [`${FETCH_RBAC_GROUPS}_FULFILLED`]: setRbacGroups,\n  [SET_LOADING_STATE]: setLoadingState\n};\n","import { QUERY_PORTFOLIO, SET_LOADING_STATE } from '../action-types';\n\n// Initial State\nexport const shareInfoInitialState = {\n  shareInfo: [],\n  isLoading: false\n};\n\nconst setLoadingState = (state, { payload = true }) => ({\n  ...state,\n  isLoading: payload\n});\nconst setShareInfo = (state, { payload }) => ({\n  ...state,\n  shareInfo: payload,\n  isLoading: false\n});\n\nexport default {\n  [`${QUERY_PORTFOLIO}_PENDING`]: setLoadingState,\n  [`${QUERY_PORTFOLIO}_FULFILLED`]: setShareInfo,\n  [SET_LOADING_STATE]: setLoadingState\n};\n","import { SET_OPENAPI_SCHEMA } from '../action-types';\n\nexport const openApiInitialState = {\n  schema: undefined\n};\nconst setSchema = (state, { payload }) => ({ ...state, schema: payload });\n\nexport default {\n  [SET_OPENAPI_SCHEMA]: setSchema\n};\n","import { SET_LOADING_STATE } from '../redux/action-types';\n\nconst loadingStateMiddleware = () => (dispatch) => (action) => {\n  if (action.type.match(/_REJECTED$/)) {\n    dispatch({ type: SET_LOADING_STATE, payload: false });\n  }\n\n  return dispatch(action);\n};\n\nexport default loadingStateMiddleware;\n","const emptyDataMiddleware = () => (dispatch) => (action) => {\n  const nextAction = { ...action };\n  if (\n    action.type.match(/_FULFILLED$/) &&\n    action.payload &&\n    action.meta &&\n    action.payload.data &&\n    action.payload.meta\n  ) {\n    const noFilter = Object.prototype.hasOwnProperty.call(\n      nextAction.meta,\n      'filters'\n    )\n      ? Object.values(nextAction.meta.filters).every(\n          (value) => typeof value === 'undefined' || value.length === 0\n        )\n      : nextAction.meta.filter.length === 0;\n    nextAction.payload.meta.noData =\n      nextAction.payload.meta.count === 0 && noFilter;\n    return dispatch(nextAction);\n  }\n\n  return dispatch(nextAction);\n};\n\nexport default emptyDataMiddleware;\n","import { INITIALIZE_BREADCRUMBS } from '../action-types';\n\nexport const initialBreadcrumbsState = {\n  fragments: []\n};\n\nconst initialize = (state, { payload }) => ({ ...state, fragments: payload });\n\nexport default {\n  [INITIALIZE_BREADCRUMBS]: initialize\n};\n","import { INITIALIZE_I18N } from '../action-types';\n\nexport const i18nInitialState = {\n  formatMessage: ({ defaultMessage = '' }) => defaultMessage\n};\nconst initialize = (state, { payload }) => ({ ...state, ...payload });\n\nexport default {\n  [INITIALIZE_I18N]: initialize\n};\n","import React, { lazy, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport {\n  ADD_PORTFOLIO_ROUTE,\n  EDIT_PORTFOLIO_ROUTE,\n  PORTFOLIOS_ROUTE,\n  NESTED_EDIT_PORTFOLIO_ROUTE,\n  PORTFOLIO_ROUTE,\n  REMOVE_PORTFOLIO_ROUTE,\n  NESTED_REMOVE_PORTFOLIO_ROUTE,\n  SHARE_PORTFOLIO_ROUTE,\n  NESTED_SHARE_PORTFOLIO_ROUTE,\n  WORKFLOW_PORTFOLIO_ROUTE,\n  NESTED_WORKFLOW_PORTFOLIO_ROUTE,\n  PORTFOLIO_ITEM_ROUTE\n} from '../../constants/routes';\nimport useInitialUriHash from '../../routing/use-initial-uri-hash';\nimport CatalogRoute from '../../routing/catalog-route';\nimport useQuery from '../../utilities/use-query';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { PORTFOLIO_RESOURCE_TYPE } from '../../utilities/constants';\nimport {\n  setOrFetchPortfolio,\n  resetSelectedPortfolio\n} from '../../redux/actions/portfolio-actions';\n\nconst CopyPortfolioItemModal = lazy(() =>\n  import(\n    /* webpackChunkName: \"copy-portfolio-item-modal\" */ '../portfolio/portfolio-item-detail/copy-portfolio-item-modal'\n  )\n);\n\nconst OrderModal = lazy(() =>\n  import(/* webpackChunkName: \"order-modal\" */ '../common/order-modal')\n);\n\nconst EditApprovalWorkflow = lazy(() =>\n  import(\n    /* webpackChunkName: \"edit-approval-workflow\" */ '../common/edit-approval-workflow'\n  )\n);\nconst SharePortfolioModal = lazy(() =>\n  import(\n    /* webpackChunkName: \"share-portfolio\" */ '../portfolio/share-portfolio-modal'\n  )\n);\n\nconst RemovePortfolioModal = lazy(() =>\n  import(\n    /* webpackChunkName: \"remove-portfolio\" */ '../portfolio/remove-portfolio-modal'\n  )\n);\n\nconst AddPortfolioModal = lazy(() =>\n  import(\n    /* webpackChunkName: \"add-portfolio\" */ '../portfolio/add-portfolio-modal'\n  )\n);\n\nconst PortfolioRoutes = () => {\n  const viewState = useInitialUriHash();\n\n  const portfolioItemId = useSelector(\n    (state) => state?.portfolioReducer?.portfolioItem?.portfolioItem?.id\n  );\n  const portfolioItemUserCapabilities = useSelector(\n    (state) =>\n      state?.portfolioReducer?.portfolioItem?.portfolioItem?.metadata\n        ?.user_capabilities,\n    shallowEqual\n  );\n  const portfolios = useSelector(\n    (state) => state?.portfolioReducer?.portfolios,\n    shallowEqual\n  );\n  const selectedPortfolio = useSelector(\n    (state) => state?.portfolioReducer?.selectedPortfolio,\n    shallowEqual\n  );\n\n  const { portfolioUserCapabilities, itemName } = useSelector((state) => ({\n    portfolioUserCapabilities:\n      state?.portfolioReducer?.selectedPortfolio?.metadata?.user_capabilities,\n    itemName: () => state?.portfolioReducer?.selectedPortfolio?.name\n  }));\n  const [{ portfolio: id }, search] = useQuery(['portfolio']);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (id && (!selectedPortfolio.id || id !== selectedPortfolio.id)) {\n      dispatch(setOrFetchPortfolio(id, portfolios));\n    }\n  }, [id]);\n\n  return (\n    <div>\n      <Switch>\n        <Route path={[ADD_PORTFOLIO_ROUTE, EDIT_PORTFOLIO_ROUTE]}>\n          <AddPortfolioModal\n            removeQuery\n            viewState={viewState?.portfolio}\n            closeTarget={PORTFOLIOS_ROUTE}\n          />\n        </Route>\n        <CatalogRoute\n          userCapabilities={portfolioUserCapabilities}\n          requiredCapabilities=\"update\"\n          exact\n          path={NESTED_EDIT_PORTFOLIO_ROUTE}\n        >\n          <AddPortfolioModal\n            closeTarget={{ pathname: PORTFOLIO_ROUTE, search }}\n          />\n        </CatalogRoute>\n        <Route path={REMOVE_PORTFOLIO_ROUTE}>\n          <RemovePortfolioModal viewState={viewState?.portfolio} />\n        </Route>\n        <CatalogRoute\n          userCapabilities={portfolioUserCapabilities}\n          requiredCapabilities=\"destroy\"\n          exact\n          path={NESTED_REMOVE_PORTFOLIO_ROUTE}\n        >\n          <RemovePortfolioModal />\n        </CatalogRoute>\n        <Route exact path={SHARE_PORTFOLIO_ROUTE}>\n          <SharePortfolioModal\n            closeUrl={PORTFOLIOS_ROUTE}\n            querySelector=\"portfolio\"\n            removeSearch\n            viewState={viewState?.portfolio}\n            portfolioName={itemName}\n          />\n        </Route>\n        <Route exact path={NESTED_SHARE_PORTFOLIO_ROUTE}>\n          <SharePortfolioModal\n            closeUrl={PORTFOLIO_ROUTE}\n            portfolioName={itemName}\n          />\n        </Route>\n        <Route exact path={WORKFLOW_PORTFOLIO_ROUTE}>\n          <EditApprovalWorkflow\n            pushParam={{ pathname: PORTFOLIOS_ROUTE }}\n            objectType={PORTFOLIO_RESOURCE_TYPE}\n            objectName={itemName}\n            querySelector=\"portfolio\"\n            removeSearch\n            keepHash\n            onClose={() => dispatch(resetSelectedPortfolio())}\n          />\n        </Route>\n        <Route exact path={NESTED_WORKFLOW_PORTFOLIO_ROUTE}>\n          <EditApprovalWorkflow\n            querySelector=\"portfolio\"\n            pushParam={{ pathname: PORTFOLIO_ROUTE, search }}\n            closeUrl={PORTFOLIO_ROUTE}\n            objectType={PORTFOLIO_RESOURCE_TYPE}\n            objectName={itemName}\n          />\n        </Route>\n        <Route exact path={`${PORTFOLIO_ITEM_ROUTE}/order`}>\n          <OrderModal closeUrl={PORTFOLIO_ITEM_ROUTE} />\n        </Route>\n\n        <CatalogRoute\n          path={`${PORTFOLIO_ITEM_ROUTE}/copy`}\n          requiredCapabilities=\"copy\"\n          userCapabilities={portfolioItemUserCapabilities}\n        >\n          {portfolioItemId && (\n            <CopyPortfolioItemModal\n              portfolioName={itemName()}\n              search={search}\n              portfolioItemId={portfolioItemId}\n              portfolioId={id}\n              closeUrl={PORTFOLIO_ITEM_ROUTE}\n            />\n          )}\n        </CatalogRoute>\n      </Switch>\n    </div>\n  );\n};\n\nexport default PortfolioRoutes;\n","import React, { lazy } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { INVENTORY_RESOURCE_TYPE } from '../../utilities/constants';\nimport useQuery from '../../utilities/use-query';\nimport { useSelector } from 'react-redux';\n\nconst EditApprovalWorkflow = lazy(() =>\n  import(\n    /* webpackChunkName: \"edit-approval-workflow\" */ '../common/edit-approval-workflow'\n  )\n);\n\nconst PlatformRoutes = () => {\n  const [{ platform: id }] = useQuery(['platform']);\n  const { objectName } = useSelector((state) => {\n    const data = state?.platformReducer?.platformInventories?.data;\n    return {\n      objectName: data ? data.find((obj) => obj.id === id)?.name : 'inventory'\n    };\n  });\n  return (\n    <div>\n      <Switch>\n        <Route path=\"/platform/platform-inventories/edit-workflow\">\n          <EditApprovalWorkflow\n            pushParam={{\n              pathname: '/platform/platform-inventories',\n              search: `?platform=${id}`\n            }}\n            objectType={INVENTORY_RESOURCE_TYPE}\n            objectName={objectName}\n            querySelector=\"inventory\"\n          />\n        </Route>\n      </Switch>\n    </div>\n  );\n};\n\nexport default PlatformRoutes;\n","import React, { Suspense } from 'react';\nimport PortfolioRoutes from './portfolio-routes';\nimport PlatformRoutes from './platform-routes';\n\nconst DialogRoutes = () => (\n  <Suspense fallback={<div></div>}>\n    <PortfolioRoutes />\n    <PlatformRoutes />\n  </Suspense>\n);\n\nexport default DialogRoutes;\n","import { Route, Switch, Redirect, useLocation } from 'react-router-dom';\nimport React, { lazy, Suspense } from 'react';\nimport some from 'lodash/some';\nimport { AppPlaceholder } from './presentational-components/shared/loader-placeholders';\nimport {\n  PORTFOLIOS_ROUTE,\n  PORTFOLIO_ROUTE,\n  ORDER_ROUTE\n} from './constants/routes';\nimport CatalogRoute from './routing/catalog-route';\nimport DialogRoutes from './smart-components/dialog-routes';\nconst CommonApiError = lazy(() =>\n  import(\n    /* webpackChunkName: \"error-page\" */ './smart-components/error-pages/common-api-error'\n  )\n);\n\nconst Products = lazy(() =>\n  import(\n    /* webpackChunkName: \"products\" */ './smart-components/products/products'\n  )\n);\nconst Platforms = lazy(() =>\n  import(\n    /* webpackChunkName: \"platforms\" */ './smart-components/platform/platforms'\n  )\n);\nconst Platform = lazy(() =>\n  import(\n    /* webpackChunkName: \"platform\" */ './smart-components/platform/platform'\n  )\n);\nconst Portfolios = lazy(() =>\n  import(\n    /* webpackChunkName: \"portfolios\" */ './smart-components/portfolio/portfolios'\n  )\n);\nconst Portfolio = lazy(() =>\n  import(\n    /* webpackChunkName: \"portfolio\" */ './smart-components/portfolio/portfolio'\n  )\n);\nconst Orders = lazy(() =>\n  import(/* webpackChunkName: \"orders\" */ './smart-components/order/orders')\n);\nconst OrderDetail = lazy(() =>\n  import(\n    /* webpackChunkName: \"order-detail\" */ './smart-components/order/order-detail/order-detail'\n  )\n);\nconst OrderProcesses = lazy(() =>\n  import(\n    /* webpackChunkName: \"order-processes\" */ './smart-components/order-process/order-processes'\n  )\n);\n\nconst paths = {\n  products: '/products',\n  platforms: '/platforms',\n  order_processes: '/order-processes',\n  platform: '/platform',\n  portfolios: PORTFOLIOS_ROUTE,\n  portfolio: PORTFOLIO_ROUTE,\n  orders: '/orders',\n  order: ORDER_ROUTE\n};\n\nconst errorPaths = ['/400', '/401', '/403', '/404'];\n\nexport const Routes = () => {\n  const { pathname } = useLocation();\n  return (\n    <Suspense fallback={<AppPlaceholder />}>\n      <Switch>\n        <CatalogRoute path={paths.products} component={Products} />\n        <CatalogRoute path={paths.portfolios} component={Portfolios} />\n        <CatalogRoute path={paths.portfolio} component={Portfolio} />\n        <CatalogRoute\n          permissions={['catalog:portfolios:create']}\n          path={paths.platforms}\n          component={Platforms}\n        />\n        <CatalogRoute\n          permissions={['catalog:portfolios:create']}\n          path={paths.platform}\n          component={Platform}\n        />\n        <CatalogRoute path={paths.order_processes} component={OrderProcesses} />\n        <CatalogRoute path={paths.orders} component={Orders} />\n        <CatalogRoute path={paths.order} component={OrderDetail} />\n        <Route path={errorPaths} component={CommonApiError} />\n        <Route\n          render={() =>\n            some(paths, (p) => p === pathname) ? null : (\n              <Redirect to={paths.portfolios} />\n            )\n          }\n        />\n      </Switch>\n      {/*\n       * We require the empty DIV around the dialog routes to avoid testing issues\n       * It does not have any visual effect on the application\n       * Emzyme simply cannot handle direct descendant of Suspense to be another Suspense\n       */}\n      <div>\n        <DialogRoutes />\n      </div>\n    </Suspense>\n  );\n};\n","import React, { useState, useEffect, Fragment } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { Grid, GridItem } from '@patternfly/react-core';\nimport NotificationsPortal from '@redhat-cloud-services/frontend-components-notifications/cjs/NotificationPortal';\n\nimport { Routes } from './Routes';\nimport { MIN_SCREEN_HEIGHT } from './constants/ui-constants';\nimport { AppPlaceholder } from './presentational-components/shared/loader-placeholders';\nimport {\n  SET_OPENAPI_SCHEMA,\n  SET_SOURCETYPE_ICONS,\n  INITIALIZE_I18N\n} from './redux/action-types';\n\nimport 'whatwg-fetch';\nimport smoothscroll from 'smoothscroll-polyfill';\n\n// react-int eng locale data\nimport { useIntl } from 'react-intl';\n\nimport '@redhat-cloud-services/frontend-components-notifications/index.css';\nimport { getAxiosInstance } from './helpers/shared/user-login';\nimport { CATALOG_API_BASE, SOURCES_API_BASE } from './utilities/constants';\nimport UserContext from './user-context';\n\nsmoothscroll.polyfill();\n\n/**\n * has to be in global context because nav listener is not a part of component lifecycle\n */\nlet ignoreRedirect = true;\n\nconst App = () => {\n  const [auth, setAuth] = useState(false);\n  const [userPermissions, setUserPermissions] = useState();\n  const [userIdentity, setUserIdentity] = useState({ identity: {} });\n  const [openApiSchema, setOpenApiSchema] = useState();\n  const dispatch = useDispatch();\n  const i18l = useIntl();\n  const history = useHistory();\n  let unregister;\n\n  useEffect(() => {\n    insights.chrome.init();\n    dispatch({ type: INITIALIZE_I18N, payload: i18l });\n    Promise.all([\n      getAxiosInstance()\n        .get(`${CATALOG_API_BASE}/openapi.json`)\n        .then((payload) => {\n          setOpenApiSchema(payload);\n          dispatch({ type: SET_OPENAPI_SCHEMA, payload });\n        }),\n      getAxiosInstance()\n        .get(`${SOURCES_API_BASE}/source_types`)\n        .then(({ data }) =>\n          dispatch({\n            type: SET_SOURCETYPE_ICONS,\n            payload: data.reduce(\n              (acc, curr) => ({\n                ...acc,\n                [curr.id]: curr.icon_url\n              }),\n              {}\n            )\n          })\n        ),\n      insights.chrome.auth.getUser().then((user) => {\n        setUserIdentity(user);\n        return insights.chrome\n          .getUserPermissions()\n          .then((data) => setUserPermissions(data));\n      })\n    ]).then(() => setAuth(true));\n\n    insights.chrome.identifyApp('catalog');\n    insights.chrome.navigation([\n      {\n        id: 'products',\n        title: 'Products'\n      },\n      {\n        id: 'portfolios',\n        title: 'Portfolios'\n      },\n      {\n        id: 'platforms',\n        title: 'Platforms'\n      },\n      {\n        id: 'order-processes',\n        title: 'Order processes'\n      },\n      {\n        id: 'orders',\n        title: 'Orders'\n      }\n    ]);\n\n    unregister = insights.chrome.on('APP_NAVIGATION', (event) => {\n      /**\n       * Handle navigation from insights main nav\n       * Uses React history directly instead of browser history to avoid template realod.\n       * only redirect after first application mount\n       */\n      if (!ignoreRedirect && event.domEvent) {\n        history.push(`/${event.navId}`);\n      }\n\n      ignoreRedirect = false;\n    });\n\n    return () => unregister();\n  }, []);\n\n  if (!auth) {\n    return <AppPlaceholder />;\n  }\n\n  return (\n    <UserContext.Provider\n      value={{ permissions: userPermissions, userIdentity, openApiSchema }}\n    >\n      <Fragment>\n        <NotificationsPortal />\n        <section className=\"pf-u-p-0 pf-u-ml-0 pf-l-page__main-section pf-c-page__main-section\">\n          <Grid style={{ minHeight: MIN_SCREEN_HEIGHT }}>\n            <GridItem sm={12} className=\"content-layout\">\n              <Routes />\n            </GridItem>\n          </Grid>\n        </section>\n      </Fragment>\n    </UserContext.Provider>\n  );\n};\n\nexport default App;\n","export const MIN_SCREEN_HEIGHT = 'calc(100vh - 76px)';\n","import { createGlobalStyle } from 'styled-components';\n\n/**\n * Use direct css imports for FCE components\n * This will save some bundle size\n */\nimport '@redhat-cloud-services/frontend-components/components/ConditionalFilter.css';\nimport '@redhat-cloud-services/frontend-components/components/EmptyTable.css';\nimport '@redhat-cloud-services/frontend-components/components/PrimaryToolbar.css';\nimport '@redhat-cloud-services/frontend-components/components/Section.css';\nimport '@redhat-cloud-services/frontend-components/components/TableToolbar.css';\n\nconst GlobalStyle = createGlobalStyle`\n.disabled-link {\n  pointer-events: none\n}\n\n.font-14{\n  font-size: 14px;\n  color: var(--pf-global--Color--100);\n  font-weight: bold;\n  margin-bottom: 2px !important;\n}\n\n.flex-no-wrap {\n  flex-wrap: nowrap !important;\n  .flex-item-no-wrap {\n    align-self: flex-start;\n    white-space: nowrap;\n  }\n  .pf-c-form__actions {\n    flex-wrap: nowrap !important;\n  }\n}\n\n.orders-list {\n  background-color: var(--pf-global--BackgroundColor--100)\n}\n\n.share-column {\n  .pf-c-select_toggle-wrapper {\n    max-width: calc(100% - 70px);\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n\n/**\n* Update DDF select styles for select component\n*/\n.ddorg__pf4-component-mapper__select-toggle {\n  min-height: 36px;\n}\n\n.filter-select {\n  width: 300px;\n  .pf-c-select__menu {\n    max-width: 100%\n  }\n  .pf-c-select__menu-item {\n    white-space: break-spaces;\n  }\n  .pf-c-select_toggle-wrapper {\n    max-width: calc(100% - 32px);\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n\n//pf-4 fixes\n/**\n* non working pf display modifier: https://www.patternfly.org/v4/documentation/core/utilities/display#display-block\n*/\n.pf-m-grow {\n  flex-grow: 1;\n}\n\n.pf-c-breadcrumb__list, .overflow-wrap {\n  @supports not (overflow-wrap: anywhere) {\n    word-break: break-all;\n  }\n  @supports (overflow-wrap: anywhere) {\n    overflow-wrap: anywhere;\n  }\n}\n\na.pf-c-breadcrumb__item {\n  cursor: pointer;\n  >* {\n    cursor: pointer;\n  }\n}\n\n.pf4-hidefield-overlay{\n  .hide-indicator {\n    z-index: 1;\n  }\n  &::before {\n    z-index: 1;\n  }\n}\n/**\n* End of PF4 fixes\n*/\n\n.icon-danger-fill {\n  fill: var(--pf-global--danger-color--100)\n}\n\n.pf-u-gg-md {\n  grid-gap: 16px !important;\n  gap: 16px;\n}\n\n.bottom-pagination-container {\n  width: 100%\n}\n\n.global-primary-background {\n  background-color: var(--pf-global--BackgroundColor--100)\n}\n\n.full-height {\n  min-height: 100%;\n}\n\n.content-layout {\n  display: flex;\n  flex-direction: column;\n}\n\n.pf-l-flex.align-items-center {\n  align-items: center;\n}\n\n/**\n * frontend components override\n */\n:root {\n  --ins-color--orange: #ec7a08;\n}\n\nbutton:focus {\n  outline: none;\n}\n\nsection.ins-l-content {\n  padding: var(--pf-global--spacer--lg); \n}\n\nsection.ins-l-button-group {\n  margin: 24px 0px;\n  margin: 1.5rem 0rem; \n}\n\nsection.ins-l-button-group > * {\n  display: inline; \n}\n\nsection.ins-l-button-group * + * {\n  margin-left: 5px;\n  margin-left: 0.3125rem; \n}\n\nsection.ins-l-icon-group * + * {\n  margin-left: 10px; \n}\n\nsection.ins-l-icon-group__with-major * + * {\n  margin-left: 7.5px; \n}\n\nsection.ins-l-icon-group__with-major .ins-battery:last-of-type {\n  padding-left: 15px;\n  border-left: 2px solid #eaeaea; \n}\n\nsection.ins-l-icon-group__with-major .ins-battery:last-of-type span.label {\n  font-weight: 500;\n  margin: 0 10px; \n}\n\n.ins-c-primary-toolbar__pagination {\n  margin-left: auto;\n}\n\n.ins-c-primary-toolbar .ins-c-primary-toolbar__group-filter {\n  margin-right: 7px;\n}\n\n`;\n\nexport default GlobalStyle;\n","import React from 'react';\nimport { Router as ReactRouter } from 'react-router-dom';\nimport App from './App';\nimport { createBrowserHistory } from 'history';\nimport AppContext from './app-context';\nimport GlobalStyle from './global-styles';\n\nconst pathName = window.location.pathname.split('/');\npathName.shift();\n\nlet release = '/';\nif (pathName[0] === 'beta') {\n  release = `/${pathName.shift()}/`;\n}\n\n/**\n * Make sure that the [1] fragment is present in the pathname.\n * Otherwise we could end up with /undefined/ which will be transformed by the router to //\n */\nconst basename = `${release}${pathName[0]}/${pathName[1] ? pathName[1] : ''}`;\n\nexport const catalogHistory = createBrowserHistory({\n  basename\n});\n\nconst Router = () => (\n  <AppContext.Provider value={{ release }}>\n    <GlobalStyle />\n    <ReactRouter history={catalogHistory}>\n      <App />\n    </ReactRouter>\n  </AppContext.Provider>\n);\n\nexport default Router;\n","import { encodeState } from '../routing/uri-state-manager';\nimport { catalogHistory } from '../router';\n\nconst viewStateMiddleware = () => (dispatch) => (action) => {\n  if (\n    action.type.match(/_FULFILLED$/) &&\n    action?.payload?.meta &&\n    action?.meta?.storeState\n  ) {\n    const hash = encodeState(\n      {\n        ...action.meta,\n        ...action.payload.meta\n      },\n      action.meta.stateKey\n    );\n    /**\n     * Use replace event in case that app did not compute the viewState hash yet (eg. navigating in main menu).\n     * Use history replace event to prevent the multiple prev routes with the same pathname on stack witouth the hash param.\n     * The browser goBack method will now skip the non hash route.\n     * Users wont have to trigger the goBack action multiple times to get to the actual previous view.\n     */\n    const routingAction =\n      catalogHistory.location.hash && catalogHistory.location.hash !== hash\n        ? catalogHistory.push\n        : catalogHistory.replace;\n    routingAction({\n      pathname: catalogHistory.location.pathname,\n      search: catalogHistory.location.search,\n      hash\n    });\n  }\n\n  return dispatch(action);\n};\n\nexport default viewStateMiddleware;\n","import { catalogHistory } from '../router';\n\nconst unAuthorizedMiddleware = () => (dispatch) => (action) => {\n  const nextAction = { ...action };\n  if (action.type.match(/_REJECTED$/) && action?.payload?.redirect) {\n    setTimeout(() => {\n      catalogHistory.push(action.payload.redirect.pathname, {\n        from: catalogHistory.location\n      });\n    });\n    return;\n  }\n\n  return dispatch(nextAction);\n};\n\nexport default unAuthorizedMiddleware;\n","import promiseMiddleware from 'redux-promise-middleware';\nimport ReducerRegistry, {\n  applyReducerHash\n} from '@redhat-cloud-services/frontend-components-utilities/files/cjs/ReducerRegistry';\nimport notifications from '@redhat-cloud-services/frontend-components-notifications/cjs/notifications';\nimport notificationsMiddleware from '@redhat-cloud-services/frontend-components-notifications/cjs/notificationsMiddleware';\n\nimport reduxLogger from 'redux-logger';\nimport thunk from 'redux-thunk';\nimport orderReducer, {\n  orderInitialState\n} from '../redux/reducers/order-reducer';\nimport platformReducer, {\n  platformInitialState\n} from '../redux/reducers/platform-reducer';\nimport orderProcessReducer, {\n  orderProcessInitialState\n} from '../redux/reducers/order-process-reducer';\nimport portfolioReducer, {\n  portfoliosInitialState\n} from '../redux/reducers/portfolio-reducer';\nimport approvalReducer, {\n  approvalInitialState\n} from '../redux/reducers/approval-reducer';\nimport rbacReducer, { rbacInitialState } from '../redux/reducers/rbac-reducer';\nimport shareReducer, {\n  shareInfoInitialState\n} from '../redux/reducers/share-reducer';\nimport openApiReducer, {\n  openApiInitialState\n} from '../redux/reducers/open-api-reducer';\nimport loadingStateMiddleware from './loading-state-middleware';\nimport emptyDataMiddleware from './empty-data-middleware';\nimport breadcrumbsReducer, {\n  initialBreadcrumbsState\n} from '../redux/reducers/breadcrumbs-reducer';\nimport i18nReducer, { i18nInitialState } from '../redux/reducers/i18n-reducer';\nimport viewStateMiddleware from './view-state-middleware';\nimport unAuthorizedMiddleware from './unauthorized-middleware';\n\nconst prodMiddlewares = [\n  notificationsMiddleware({\n    errorTitleKey: ['errors', 'message', 'statusText'],\n    errorDescriptionKey: [\n      'data.errors[0].detail',\n      'data.errors',\n      'data.error',\n      'data.message',\n      'response.body.errors',\n      'data',\n      'errorMessage',\n      'stack'\n    ]\n  })\n];\n\nconst baseMiddlewares = [\n  thunk,\n  promiseMiddleware,\n  unAuthorizedMiddleware,\n  viewStateMiddleware,\n  loadingStateMiddleware,\n  emptyDataMiddleware\n];\nconst registerReducers = (registry) => {\n  registry.register({\n    orderReducer: applyReducerHash(orderReducer, orderInitialState),\n    platformReducer: applyReducerHash(platformReducer, platformInitialState),\n    orderProcessReducer: applyReducerHash(\n      orderProcessReducer,\n      orderProcessInitialState\n    ),\n    portfolioReducer: applyReducerHash(\n      portfolioReducer,\n      portfoliosInitialState\n    ),\n    approvalReducer: applyReducerHash(approvalReducer, approvalInitialState),\n    rbacReducer: applyReducerHash(rbacReducer, rbacInitialState),\n    shareReducer: applyReducerHash(shareReducer, shareInfoInitialState),\n    openApiReducer: applyReducerHash(openApiReducer, openApiInitialState),\n    breadcrumbsReducer: applyReducerHash(\n      breadcrumbsReducer,\n      initialBreadcrumbsState\n    ),\n    i18nReducer: applyReducerHash(i18nReducer, i18nInitialState),\n    notifications\n  });\n};\n\nexport default (isProd = false) => {\n  const registry = new ReducerRegistry({}, [\n    ...baseMiddlewares,\n    ...prodMiddlewares,\n    ...(isProd ? [] : [reduxLogger])\n  ]);\n  registerReducers(registry);\n  return registry.getStore();\n};\n\nexport const testStore = () => {\n  const registry = new ReducerRegistry({}, [...baseMiddlewares]);\n  registerReducers(registry);\n  return registry.getStore();\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './utilities/store';\nimport Router from './router';\nimport { IntlProvider } from 'react-intl';\n\nReactDOM.render(\n  <Provider store={store(true)}>\n    <IntlProvider locale=\"en\">\n      <Router />\n    </IntlProvider>\n  </Provider>,\n  document.getElementById('root')\n);\n\n/**\n * Register simple service worker JS assets pre chache\n * If registration fails, the app will continue to work withouth any issues.\n * Service worker is generated by webpack and hould be ever avaiable only in production version of the app.\n * You don't yant your JS bundles to be cached in dev env.\n * You must test it locally in non HTTPS environment due to the insecure origin and self signed certificate issues cause by the PROXY.\n * These cannot be overcome due to xss security policy inside service workers browser implementaion to avoid potential securitu issues.\n */\nif (navigator.serviceWorker) {\n  navigator.serviceWorker\n    .register(\n      `${\n        window.location.pathname.includes('/beta') ? '/beta' : ''\n      }/apps/catalog/service-worker.js`\n    )\n    .then((...args) => console.log('Service worker registered with: ', args))\n    .catch(console.log);\n}\n","import axios from 'axios';\nimport {\n  RequestApi,\n  WorkflowApi\n} from '@redhat-cloud-services/approval-client';\nimport {\n  PortfolioApi,\n  PortfolioItemApi,\n  OrderApi,\n  OrderItemApi,\n  IconApi,\n  ServicePlansApi\n} from '@redhat-cloud-services/catalog-client';\n\nimport {\n  CATALOG_API_BASE,\n  APPROVAL_API_BASE,\n  RBAC_API_BASE\n} from '../../utilities/constants';\nimport { GroupApi } from '@redhat-cloud-services/rbac-client';\nimport { stringify } from 'qs';\n\nconst axiosInstance = axios.create({\n  paramsSerializer: (params) => stringify(params)\n});\n\nconst resolveInterceptor = (response) => response.data || response;\nconst errorInterceptor = (error = {}) => {\n  const requestId = error.response?.headers?.['x-rh-insights-request-id'];\n  throw requestId ? { ...error.response, requestId } : { ...error.response };\n};\n\nconst unauthorizedInterceptor = (error = {}) => {\n  if (error.status === 403) {\n    throw {\n      ...error,\n      redirect: {\n        pathname: '/403',\n        message: error.config?.url\n      }\n    };\n  }\n\n  throw error;\n};\n\n// check identity before each request. If the token is expired it will log out user\naxiosInstance.interceptors.request.use(async (config) => {\n  await window.insights.chrome.auth.getUser();\n  return config;\n});\naxiosInstance.interceptors.response.use(resolveInterceptor);\naxiosInstance.interceptors.response.use(null, errorInterceptor);\naxiosInstance.interceptors.response.use(null, unauthorizedInterceptor);\n\nconst orderApi = new OrderApi(undefined, CATALOG_API_BASE, axiosInstance);\nconst orderItemApi = new OrderItemApi(\n  undefined,\n  CATALOG_API_BASE,\n  axiosInstance\n);\nconst portfolioApi = new PortfolioApi(\n  undefined,\n  CATALOG_API_BASE,\n  axiosInstance\n);\nconst portfolioItemApi = new PortfolioItemApi(\n  undefined,\n  CATALOG_API_BASE,\n  axiosInstance\n);\nconst requestsApi = new RequestApi(undefined, APPROVAL_API_BASE, axiosInstance);\nconst workflowApi = new WorkflowApi(\n  undefined,\n  APPROVAL_API_BASE,\n  axiosInstance\n);\nconst iconApi = new IconApi(undefined, CATALOG_API_BASE, axiosInstance);\nconst servicePlansApi = new ServicePlansApi(\n  undefined,\n  CATALOG_API_BASE,\n  axiosInstance\n);\n\nexport function getPortfolioApi() {\n  return portfolioApi;\n}\n\nexport function getPortfolioItemApi() {\n  return portfolioItemApi;\n}\n\nexport function getOrderApi() {\n  return orderApi;\n}\n\nexport function getOrderItemApi() {\n  return orderItemApi;\n}\n\nexport function getRequestsApi() {\n  return requestsApi;\n}\n\nconst rbacGroupApi = new GroupApi(undefined, RBAC_API_BASE, axiosInstance);\n\nexport function getRbacGroupApi() {\n  return rbacGroupApi;\n}\n\nexport function getWorkflowApi() {\n  return workflowApi;\n}\n\nexport function getAxiosInstance() {\n  return axiosInstance;\n}\n\nexport function getIconApi() {\n  return iconApi;\n}\n\nexport function getServicePlansApi() {\n  return servicePlansApi;\n}\n\nconst grapqlInstance = axios.create();\ngrapqlInstance.interceptors.request.use(async (config) => {\n  await window.insights.chrome.auth.getUser();\n  return config;\n});\n/**\n * Graphql does not return error response when the qery fails.\n * Instead it returns 200 response with error object.\n * We catch it and throw it to trigger notification middleware\n */\ngrapqlInstance.interceptors.response.use(({ data }) => {\n  if (data.errors) {\n    throw {\n      message: data.errors[0].errorType,\n      data: data.errors[0].message\n    };\n  }\n\n  return data;\n});\n\nexport function getGraphqlInstance() {\n  return grapqlInstance;\n}\n","import React from 'react';\nimport get from 'lodash/get';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/components/cjs/DateFormat';\n\nimport {\n  PORTFOLIO_ITEM_NULLABLE,\n  PORTFOLIO_NULLABLE\n} from '../../constants/nullable-attributes';\n\nexport const scrollToTop = () =>\n  document.getElementById('root').scrollTo({\n    behavior: 'smooth',\n    top: 0,\n    left: 0\n  });\n\nexport const filterServiceOffering = ({ display_name, name }, filter) => {\n  const filterAtrribute = display_name || name;\n  return filterAtrribute\n    .trim()\n    .toLowerCase()\n    .includes(filter.toLowerCase());\n};\n\nexport const allowNull = (wrappedPropTypes) => (props, propName, ...rest) => {\n  if (props[propName] === null) {\n    return null;\n  }\n\n  return wrappedPropTypes(props, propName, ...rest);\n};\n\nexport const udefinedToNull = (entity, keys) =>\n  [...Object.keys(entity), ...keys].reduce(\n    (acc, curr) => ({\n      ...acc,\n      [curr]: entity[curr] === undefined ? null : entity[curr]\n    }),\n    {}\n  );\n\nconst nullableMapper = {\n  PortfolioItem: PORTFOLIO_ITEM_NULLABLE,\n  Portfolio: PORTFOLIO_NULLABLE\n};\n\nexport const sanitizeValues = (values, entityType, store) => {\n  const schemas = store.getState().openApiReducer.schema.components.schemas;\n  const permittedValues = Object.keys(values)\n    .filter((key) => !get(schemas, `${entityType}.properties.${key}.readOnly`))\n    .reduce(\n      (acc, curr) => (values[curr] ? { ...acc, [curr]: values[curr] } : acc),\n      {}\n    );\n  return udefinedToNull(permittedValues, nullableMapper[entityType]);\n};\n\nexport const timeAgo = (date) => (\n  <span key={date}>\n    <DateFormat date={date} type=\"relative\" />\n  </span>\n);\n\nconst sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\nexport const readableBytes = (bytes) => {\n  if (bytes === 0) {\n    return 'O B';\n  }\n\n  const i = Math.floor(Math.log(bytes) / Math.log(1024));\n\n  return (bytes / Math.pow(1024, i)).toFixed(2) * 1 + ' ' + sizes[i];\n};\n\nexport const hasPermission = (userPermissions = [], permissions = []) =>\n  permissions.every((permission) =>\n    userPermissions.find((item) => item.permission === permission)\n  );\n","export const PORTFOLIO_ITEM_NULLABLE = [\n  'name',\n  'description',\n  'long_description',\n  'distributor',\n  'documentation_url',\n  'support_url'\n];\n\nexport const PORTFOLIO_NULLABLE = ['description'];\n","import { createAsyncActionTypes } from './action-types-helper';\n\nconst APPROVAL_PREFIX = '@@catalog/approval/';\n\nconst asyncActionTypes = [\n  'FETCH_WORKFLOWS',\n  'UPDATE_WORKFLOWS',\n  'RESOLVE_WORKFLOWS'\n];\n\nexport const ASYNC_ACTIONS = {\n  ...createAsyncActionTypes(asyncActionTypes, APPROVAL_PREFIX)\n};\n","export const createAsyncActionTypes = (actionTypes, prefix) =>\n  actionTypes\n    .reduce(\n      (acc, curr) => [\n        ...acc,\n        ...[curr, `${curr}_PENDING`, `${curr}_FULFILLED`, `${curr}_REJECTED`]\n      ],\n      []\n    )\n    .reduce(\n      (acc, curr) => ({\n        ...acc,\n        [curr]: `${prefix}${curr}`\n      }),\n      {}\n    );\n","import { useLocation } from 'react-router-dom';\n\nconst useQuery = (requiredParams = []) => {\n  const { search } = useLocation();\n  const query = new URLSearchParams(search);\n  return [\n    requiredParams.reduce(\n      (acc, curr) => ({\n        ...acc,\n        [curr]: query.get(curr)\n      }),\n      {}\n    ),\n    search,\n    query\n  ];\n};\n\nexport default useQuery;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Spinner } from '@patternfly/react-core/dist/js/components/Spinner/Spinner';\nimport { Section } from '@redhat-cloud-services/frontend-components/components/cjs/Section';\nimport {\n  Bullseye,\n  Card,\n  CardBody,\n  DataList,\n  DataListCell,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  Grid,\n  GridItem,\n  Gallery,\n  GalleryItem,\n  Form,\n  FormGroup,\n  TextContent,\n  Text,\n  TextVariants,\n  ActionGroup,\n  Button\n} from '@patternfly/react-core';\nimport styled, { keyframes } from 'styled-components';\nimport { useIntl } from 'react-intl';\nimport { StyledToolbar } from '../styled-components/toolbars';\nimport actionMessages from '../../messages/actions.messages';\nimport formsMessages from '../../messages/forms.messages';\n\nconst wave = keyframes`\n  0% {\n    transform: translateX(-100%);\n  }\n  60% {\n    transform: translateX(100%);\n  }\n  100% {\n    transform: translateX(100%);\n  }\n`;\n\nconst Skeleton = ({ component: Component = 'span', ...props }) => {\n  return (\n    <SkeletonContainer {...props}>\n      <Component />\n    </SkeletonContainer>\n  );\n};\n\nSkeleton.propTypes = {\n  component: PropTypes.string\n};\n\nconst SkeletonContainer = styled.div`\n  & > * {\n    position: relative;\n    overflow: hidden;\n    width: ${({ width }) =>\n      width ? `${width}${typeof width === 'number' ? 'px' : ''}` : '100%'};\n    height: ${({ height }) =>\n      height ? `${height}${typeof height === 'number' ? 'px' : ''}` : '20px'};\n    display: block;\n    border-radius: 3px;\n    background-color: ${({ secondaryColor }) =>\n      secondaryColor ? secondaryColor : '#f3f3f3'};\n    &:after {\n      animation: 2s ${wave} linear 0.5s infinite;\n      background: linear-gradient(90deg, transparent, #ecebeb, transparent);\n      content: '';\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0;\n      top: 0;\n      transform: translateX(-100%);\n      z-index: 1;\n    }\n  }\n`;\n\nexport const CardLoader = ({ items }) => (\n  <Grid hasGutter>\n    <GridItem sm={12}>\n      <Section type=\"content\">\n        <Gallery hasGutter>\n          {[...Array(items)].map((_item, index) => (\n            <GalleryItem key={index}>\n              <Card style={{ height: 350 }}>\n                <CardBody>\n                  <Skeleton height={70} width=\"85%\" className=\"pf-u-mb-lg\" />\n                  <Skeleton height={5} width=\"90%\" className=\"pf-u-mb-sm\" />\n                  <Skeleton height={5} width=\"100%\" className=\"pf-u-mb-sm\" />\n                  <Skeleton height={5} width=\"76%\" className=\"pf-u-mb-sm\" />\n                </CardBody>\n              </Card>\n            </GalleryItem>\n          ))}\n        </Gallery>\n      </Section>\n    </GridItem>\n  </Grid>\n);\n\nCardLoader.propTypes = {\n  items: PropTypes.number\n};\n\nCardLoader.defaultProps = {\n  items: 13\n};\n\nexport const AppPlaceholder = () => (\n  <section className=\"pf-u-m-0 pf-u-p-0 pf-l-page__main-section pf-c-page__main-section\">\n    <Skeleton height={32} className=\"pf-u-p-lg global-primary-background\" />\n    <div className=\"pf-u-mt-lg\">\n      <Bullseye>\n        <Spinner />\n      </Bullseye>\n    </div>\n  </section>\n);\n\nexport const ToolbarTitlePlaceholder = () => <Skeleton height={30} />;\n\nconst ProducLoaderColumn = styled.div`\n  width: 100%;\n  max-width: 250px;\n`;\n\nexport const ProductLoaderPlaceholder = () => (\n  <Fragment>\n    <Skeleton height={70} className=\"pf-u-mb-xl\" />\n    <ProducLoaderColumn>\n      {[...Array(3)].map((_, index) => (\n        <Fragment key={index}>\n          <Skeleton height={8} className=\"pf-u-mb-sm\" />\n          <Skeleton height={8} className=\"pf-u-ml-md pf-u-mb-sm\" width=\"60%\" />\n          <Skeleton height={8} className=\"pf-u-ml-md pf-u-mb-sm\" width=\"50%\" />\n          <Skeleton height={8} className=\"pf-u-mb-sm\" width=\"80%\" />\n          <Skeleton height={8} className=\"pf-u-ml-md pf-u-mb-lg\" width=\"40%\" />\n        </Fragment>\n      ))}\n    </ProducLoaderColumn>\n  </Fragment>\n);\n\nexport const IconPlaceholder = ({ height }) => (\n  <svg height={height} width={height}>\n    <circle cx={height / 2} cy={height / 2} r={height / 2} fill=\"#ecebeb\" />\n  </svg>\n);\n\nIconPlaceholder.propTypes = {\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\n\nIconPlaceholder.defaultProps = {\n  height: '40'\n};\n\nconst FormItemLoader = () => <Skeleton height={38} className=\"pf-u-mb-lg\" />;\n\nexport const ShareLoader = () => {\n  const { formatMessage } = useIntl();\n  return (\n    <Form>\n      <TextContent>\n        <Text component={TextVariants.small}>\n          {formatMessage(formsMessages.inviteGroup)}\n        </Text>\n      </TextContent>\n      <FormGroup fieldId=\"1\">\n        <FormItemLoader />\n      </FormGroup>\n      <TextContent>\n        <Text component={TextVariants.small}>\n          {formatMessage(formsMessages.groupsAccess)}\n        </Text>\n      </TextContent>\n      <FormGroup fieldId=\"3\">\n        <FormItemLoader />\n      </FormGroup>\n      <FormGroup fieldId=\"4\">\n        <FormItemLoader />\n      </FormGroup>\n    </Form>\n  );\n};\n\nexport const WorkflowLoader = () => {\n  const { formatMessage } = useIntl();\n  return (\n    <Form>\n      <FormGroup fieldId=\"2\" label=\"Select workflow\">\n        <FormItemLoader />\n      </FormGroup>\n      <ActionGroup>\n        <Button variant=\"primary\" isDisabled>\n          {formatMessage(actionMessages.save)}\n        </Button>\n      </ActionGroup>\n    </Form>\n  );\n};\n\nexport const ListLoader = ({ items }) => (\n  <DataList aria-label=\"list-loader\" aria-labelledby=\"datalist-placeholder\">\n    {[...Array(items)].map((_item, index) => (\n      <DataListItem key={index} aria-labelledby=\"datalist-item-placeholder\">\n        <DataListItemRow aria-label=\"datalist-item-placeholder-row\">\n          <DataListItemCells\n            dataListCells={[\n              <DataListCell key=\"1\">\n                <Skeleton height={67} />\n              </DataListCell>\n            ]}\n          />\n        </DataListItemRow>\n      </DataListItem>\n    ))}\n  </DataList>\n);\n\nListLoader.propTypes = {\n  items: PropTypes.number\n};\n\nListLoader.defaultProps = {\n  items: 5\n};\n\nexport const OrderDetailToolbarPlaceholder = () => <Skeleton height={70} />;\n\nexport const PlatformToolbarPlaceholder = () => (\n  <StyledToolbar className=\"pf-u-pr-lg pf-u-pl-lg pf-u-pb-md pf-u-pt-md\">\n    <Skeleton height={36} width={300} />\n  </StyledToolbar>\n);\n","import { createContext } from 'react';\n\nconst UserContext = createContext({});\n\nexport default UserContext;\n","export const CATALOG_API_BASE = `${process.env.BASE_PATH}/catalog/v1.2`;\nexport const SOURCES_API_BASE = `${process.env.BASE_PATH}/sources/v1.0`;\nexport const APPROVAL_API_BASE = `${process.env.BASE_PATH}/approval/v1.2`;\nexport const TOPOLOGICAL_INVENTORY_API_BASE = `${process.env.BASE_PATH}/topological-inventory/v1.0`;\nexport const RBAC_API_BASE = `${process.env.BASE_PATH}/rbac/v1`;\nexport const permissionValues = ['order', 'read', 'update'];\n\nexport const permissionOptions = [\n  {\n    value: 'order,read,update',\n    label: 'Can order/edit'\n  },\n  {\n    value: 'order,read',\n    label: 'Can order/view'\n  }\n];\n\nexport const PORTFOLIO_RESOURCE_TYPE = 'Portfolio';\nexport const PORTFOLIO_ITEM_RESOURCE_TYPE = 'PortfolioItem';\nexport const INVENTORY_RESOURCE_TYPE = 'ServiceInventory';\nexport const DEFAULT_MAX_LENGTH = 64;\n\nexport const APP_NAME = {\n  Portfolio: 'catalog',\n  PortfolioItem: 'catalog',\n  ServiceInventory: 'topology'\n};\n","export const decodeState = (encodedState) => {\n  try {\n    return JSON.parse(atob(decodeURIComponent(encodedState)));\n  } catch (error) {\n    return undefined;\n  }\n};\n\nexport const encodeState = (state, stateKey) => {\n  const stateObject = stateKey\n    ? {\n        ...decodeState(window.location.hash),\n        [stateKey]: state\n      }\n    : state;\n  try {\n    return encodeURIComponent(btoa(JSON.stringify(stateObject)));\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.warn(\n      'View state is not a valid JSON, state has will not be generated. View state: ',\n      state\n    );\n    return '';\n  }\n};\n","const { defineMessages } = require('react-intl');\n\nconst portfolioMessages = defineMessages({\n  portfoliosTitle: {\n    id: 'portfolios.heading.title',\n    defaultMessage: 'Portfolios'\n  },\n  removeItemsNotification: {\n    id: 'portfolio.notifications.remove.portfolio-items',\n    defaultMessage:\n      'You have removed {count, number} {count, plural, one {product} other {products} } from the {portfolioName} portfolio. <a>Undo</a> if this was a mistake.' // eslint-disable-line max-len\n  },\n  removePortfolioNotification: {\n    id: 'portfolio.notifications.remove.portfolio',\n    defaultMessage:\n      'The portfolio was removed successfully. You can <a>Undo</a> this action if this was a mistake.'\n  },\n  modalCreateTitle: {\n    id: 'portfolio.modal.add.title',\n    defaultMessage: 'Create portfolio'\n  },\n  modalEditTitle: {\n    id: 'portfolio.modal.edit.title',\n    defaultMessage: 'Edit portfolio'\n  },\n  addProducts: {\n    id: 'portfolio.empty.add.products',\n    defaultMessage: 'Add products'\n  },\n  emptyNoProducts: {\n    id: 'portfolio.empty.no-products',\n    defaultMessage: 'No products in your portfolio'\n  },\n  portfoliosPlaceholder: {\n    id: 'portfolios.filters.placeholder',\n    defaultMessage: 'Filter by portfolio'\n  },\n  portfoliosNoData: {\n    id: 'portfolios.empty.noData.title',\n    defaultMessage: 'No portfolios'\n  },\n  portfoliosNoDataDescription: {\n    id: 'portfolios.empty.noData.description',\n    defaultMessage: 'No portfolios match your filter criteria.'\n  },\n  portfolioRemoveDescription: {\n    id: 'portfolio.remove.modal.description',\n    defaultMessage:\n      'This action will permanently delete portfolio {name} and its data.'\n  },\n  portfolioRemoveTitle: {\n    id: 'portfolio.remove.modal.title',\n    defaultMessage: 'Delete Portfolio?'\n  },\n  portfolioSharePermissions: {\n    id: 'portfolio.share.modal.permissions',\n    defaultMessage: 'Select the share permissions'\n  },\n  portfolioShareGroups: {\n    id: 'portfolio.share.modal.groups',\n    defaultMessage: 'Select a group'\n  },\n  portfolioShareTitle: {\n    id: 'portfolio.share.modal.title',\n    defaultMessage: 'Share portfolio'\n  },\n  portfolioShareApply: {\n    id: 'portfolio.share.modal.apply',\n    defaultMessage: 'Apply'\n  },\n  portfolioShareDescription: {\n    id: 'portfolio.share.modal.description',\n    defaultMessage: 'Share <strong>{name}</strong> portfolio'\n  },\n  addProducstPlatformTitle: {\n    id: 'portfolio.add.platform.title.empty',\n    defaultMessage: 'Please choose platform'\n  },\n  addProducstPlatformDescription: {\n    id: 'portfolio.add.platform.description.empty',\n    defaultMessage:\n      'In order to select products for your portfolio you must choose platform first'\n  },\n  addProducstFilterTitle: {\n    id: 'portfolio.add.platform.filter.empty',\n    defaultMessage: 'No products match filter parameters'\n  },\n  copyItemTitle: {\n    id: 'portfolio.item.copy',\n    defaultMessage: 'Copy product'\n  },\n  portfolioItemSurvey: {\n    id: 'portfolio.item.detail.actions.survey',\n    defaultMessage: 'Edit survey'\n  },\n  portfolioItemOrder: {\n    id: 'portfolio.item.detail.actions.order',\n    defaultMessage: 'Order'\n  },\n  portfolioItemIconTitle: {\n    id: 'portfolio.item.icon.upload.notification',\n    defaultMessage: 'Icon upload error'\n  },\n  portfolioItemOverview: {\n    id: 'portfolio.item.detail.overview',\n    defaultMessage: 'Overview'\n  },\n  portfolioItemSupport: {\n    id: 'portfolio.item.detail.support',\n    defaultMessage: 'Learn more'\n  },\n  portfolioItemDocumentation: {\n    id: 'portfolio.item.detail.documentation',\n    defaultMessage: 'Documentation'\n  },\n  portfolioItemDocLink: {\n    id: 'portfolio.item.detail.doclink',\n    defaultMessage: 'Doc link'\n  },\n  restoreSurvey: {\n    id: 'portfolio.item.survey.restore',\n    defaultMessage: 'Restore to Ansible Tower version'\n  },\n  surveyTitle: {\n    id: 'portfolio.item.survey.edit',\n    defaultMessage: 'Editing survey: {name}'\n  },\n  sourceUnavaiable: {\n    id: 'portfolio.detail.alert.source.unavailable',\n    defaultMessage: 'The platform for this product is unavailable'\n  },\n  objectUnavaiable: {\n    id: 'portfolio.detail.alert.unavailable',\n    defaultMessage: 'The {object} for this product is no longer available'\n  },\n  backToProducts: {\n    id: 'portfolio.detail.back-to-products',\n    defaultMessage: 'Back to products'\n  },\n  editProduct: {\n    id: 'portfolio.item.edit.title',\n    defaultMessage: 'Edit product'\n  },\n  shareTooltip: {\n    id: 'portfolio.share.add.tooltip',\n    defaultMessage: 'Share portfolio with selected group and permissions.'\n  },\n  shareErrorMissingGroup: {\n    id: 'portfolio.share.add.missing-group',\n    defaultMessage: 'Select group to share portfolio.'\n  },\n  shareErrorMissingPermission: {\n    id: 'portfolio.share.add.missing-permission',\n    defaultMessage: 'Assign permissions to selected group.'\n  },\n  shareErrorMissingData: {\n    id: 'portfolio.share.add.missing-data',\n    defaultMessage: 'Choose group and permissions.'\n  },\n  shareDuplicate: {\n    id: 'portfolio.share.add.duplicate',\n    defaultMessage: 'Portfolio is already shared with this group.'\n  },\n  noShares: {\n    id: 'portfolio.share.add.no-shares',\n    defaultMessage: 'To share portfolio select a group and permissions'\n  },\n  shareGroupsAccess: {\n    id: 'share.groups.access',\n    defaultMessage: 'Groups with access'\n  },\n  shareSuccessTitle: {\n    id: 'share.notification.success.title',\n    defaultMessage: 'Portfolio sharing settings were updated'\n  },\n  addSuccessTitle: {\n    id: 'portfolio.add.success.title',\n    defaultMessage: 'Success adding portfolio'\n  },\n  addSuccessDescription: {\n    id: 'portfolio.add.success.description',\n    defaultMessage: 'Portfolio <b>{name}</b> was added successfully.'\n  }\n});\n\nexport default portfolioMessages;\n","import React from 'react';\nimport {\n  ADD_NOTIFICATION,\n  CLEAR_NOTIFICATIONS\n} from '@redhat-cloud-services/frontend-components-notifications/cjs/actionTypes';\n\nimport * as ActionTypes from '../action-types';\nimport * as PortfolioHelper from '../../helpers/portfolio/portfolio-helper';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\nimport portfolioMessages from '../../messages/portfolio.messages';\nimport { FormattedMessage } from 'react-intl';\n\nexport const doFetchPortfolios = ({\n  filters,\n  ...options\n} = defaultSettings) => ({\n  type: ActionTypes.FETCH_PORTFOLIOS,\n  meta: { ...defaultSettings, filters, ...options },\n  payload: PortfolioHelper.listPortfolios(filters, options)\n});\n\nexport const fetchPortfolios = (options) => (dispatch) =>\n  dispatch(doFetchPortfolios(options));\n\nexport const fetchPortfoliosWithState = (\n  filters,\n  options = defaultSettings\n) => (dispatch) =>\n  dispatch(\n    doFetchPortfolios({\n      ...options,\n      filters,\n      storeState: true,\n      stateKey: 'portfolio'\n    })\n  );\n\nexport const fetchPortfolioItems = (\n  filter = '',\n  options = defaultSettings\n) => ({\n  type: ActionTypes.FETCH_PORTFOLIO_ITEMS,\n  meta: { filter, storeState: true, stateKey: 'products' },\n  payload: PortfolioHelper.listPortfolioItems(\n    options.limit,\n    options.offset,\n    filter\n  )\n});\n\nexport const fetchPortfolioItemsWithPortfolio = (\n  portfolioId,\n  options = defaultSettings\n) => ({\n  type: ActionTypes.FETCH_PORTFOLIO_ITEMS_WITH_PORTFOLIO,\n  payload: PortfolioHelper.getPortfolioItemsWithPortfolio(portfolioId, options),\n  meta: {\n    ...options,\n    storeState: true,\n    stateKey: 'portfolioItems'\n  }\n});\n\nexport const fetchSelectedPortfolio = (id) => ({\n  type: ActionTypes.FETCH_PORTFOLIO,\n  payload: PortfolioHelper.getPortfolio(id)\n});\n\nexport const searchPortfolioItems = (value) => ({\n  type: ActionTypes.FILTER_PORTFOLIO_ITEMS,\n  payload: new Promise((resolve) => {\n    resolve(value);\n  })\n});\n\nexport const addPortfolio = (portfolioData, notification) => ({\n  type: ActionTypes.ADD_PORTFOLIO,\n  payload: PortfolioHelper.addPortfolio(portfolioData),\n  meta: {\n    notifications: {\n      fulfilled: notification\n    }\n  }\n});\n\nexport const addToPortfolio = (portfolioId, items) => ({\n  type: ActionTypes.ADD_TO_PORTFOLIO,\n  payload: PortfolioHelper.addToPortfolio(portfolioId, items),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success adding products',\n        description: 'Products were successfully added to portfolio.'\n      }\n    }\n  }\n});\n\nexport const updatePortfolio = (portfolioData, options) => (\n  dispatch,\n  getState\n) => {\n  dispatch({\n    type: ActionTypes.UPDATE_TEMPORARY_PORTFOLIO,\n    payload: portfolioData\n  });\n\n  return PortfolioHelper.updatePortfolio(portfolioData, { getState })\n    .then(() => dispatch(doFetchPortfolios(options)))\n    .then(() =>\n      dispatch({\n        type: ADD_NOTIFICATION,\n        payload: {\n          dismissable: true,\n          variant: 'success',\n          title: 'Success updating portfolio',\n          description: 'The portfolio was updated successfully.'\n        }\n      })\n    )\n    .catch((error) => {\n      dispatch({ type: ActionTypes.RESTORE_PORTFOLIO_PREV_STATE });\n      throw error;\n    })\n    .catch((error) =>\n      dispatch({\n        type: `${ActionTypes.UPDATE_TEMPORARY_PORTFOLIO}_REJECTED`,\n        payload: error\n      })\n    );\n};\n\nexport const undoRemovePortfolio = (portfolioId, restoreKey, viewState) => (\n  dispatch\n) => {\n  dispatch({ type: CLEAR_NOTIFICATIONS });\n  return PortfolioHelper.undeletePortfolio(portfolioId, restoreKey).then(\n    (portfolio) => {\n      dispatch({\n        type: ADD_NOTIFICATION,\n        payload: {\n          variant: 'success',\n          dismissable: true,\n          title: `Portfolio ${portfolio.name} has been restored`\n        }\n      });\n      return dispatch(fetchPortfolios(viewState));\n    }\n  );\n};\n\nexport const removePortfolio = (portfolioId, viewState = {}) => (\n  dispatch,\n  getState\n) => {\n  dispatch({\n    type: ActionTypes.DELETE_TEMPORARY_PORTFOLIO,\n    payload: portfolioId\n  });\n  return dispatch({\n    type: ActionTypes.REMOVE_PORTFOLIO,\n    payload: PortfolioHelper.removePortfolio(portfolioId)\n      .then(({ restore_key }) => {\n        dispatch({\n          type: ADD_NOTIFICATION,\n          payload: {\n            variant: 'success',\n            title: 'Success removing portfolio',\n            dismissable: true,\n            description: (\n              <FormattedMessage\n                {...portfolioMessages.removePortfolioNotification}\n                values={{\n                  // eslint-disable-next-line react/display-name\n                  a: (chunks) => (\n                    <a\n                      href=\"#\"\n                      id={`undo-delete-portfolio-${portfolioId}`}\n                      onClick={(event) => {\n                        event.preventDefault();\n                        dispatch(\n                          undoRemovePortfolio(\n                            portfolioId,\n                            restore_key,\n                            viewState\n                          )\n                        );\n                      }}\n                    >\n                      {chunks}\n                    </a>\n                  )\n                }}\n              />\n            )\n          }\n        });\n        const { meta, data } = getState().portfolioReducer.portfolios;\n        return dispatch(\n          fetchPortfolios({\n            ...viewState,\n            ...meta,\n            offset: data.length === 0 ? 0 : meta.offset\n          })\n        );\n      })\n      .catch((error) => {\n        dispatch({ type: ActionTypes.RESTORE_PORTFOLIO_PREV_STATE });\n        throw error;\n      })\n  });\n};\n\nexport const selectPortfolioItem = (portfolioItem) => ({\n  type: ActionTypes.SELECT_PORTFOLIO_ITEM,\n  payload: portfolioItem\n});\n\nexport const undoRemoveProductsFromPortfolio = (restoreData, portfolioId) => (\n  dispatch\n) => {\n  dispatch({ type: `${ActionTypes.RESTORE_PORTFOLIO_ITEMS}_PENDING` });\n  return PortfolioHelper.restorePortfolioItems(restoreData)\n    .then(() =>\n      dispatch({ type: `${ActionTypes.RESTORE_PORTFOLIO_ITEMS}_FULFILLED` })\n    )\n    .then(() => dispatch({ type: CLEAR_NOTIFICATIONS }))\n    .then(() => dispatch(fetchPortfolioItemsWithPortfolio(portfolioId)))\n    .then(() =>\n      dispatch({\n        type: ADD_NOTIFICATION,\n        payload: {\n          variant: 'success',\n          dismissable: true,\n          title: 'Products have been restored'\n        }\n      })\n    )\n    .catch((err) =>\n      dispatch({\n        type: `${ActionTypes.RESTORE_PORTFOLIO_ITEMS}_REJECTED`,\n        payload: err\n      })\n    );\n};\n\nexport const removeProductsFromPortfolio = (portfolioItems, portfolioName) => (\n  dispatch,\n  getState\n) => {\n  dispatch({\n    type: `${ActionTypes.REMOVE_PORTFOLIO_ITEMS}_PENDING`\n  });\n  const {\n    portfolioReducer: {\n      portfolioItems: { meta },\n      selectedPortfolio: { id: portfolioId }\n    }\n  } = getState();\n  return PortfolioHelper.removePortfolioItems(portfolioItems)\n    .then((data) =>\n      dispatch(\n        fetchPortfolioItemsWithPortfolio(portfolioId, {\n          offset: 0,\n          limit: meta.limit,\n          filter: ''\n        })\n      ).then(() => data)\n    )\n    .then((data) => {\n      return dispatch({\n        type: ADD_NOTIFICATION,\n        payload: {\n          variant: 'success',\n          title: 'Products removed',\n          dismissable: true,\n          description: (\n            <FormattedMessage\n              {...portfolioMessages.removeItemsNotification}\n              values={{\n                count: portfolioItems.length,\n                portfolioName,\n                // eslint-disable-next-line react/display-name\n                a: (chunks) => (\n                  <a\n                    href=\"#\"\n                    id={`restore-portfolio-item-${portfolioId}`}\n                    onClick={(event) => {\n                      event.preventDefault();\n                      dispatch(\n                        undoRemoveProductsFromPortfolio(data, portfolioId)\n                      );\n                    }}\n                  >\n                    {chunks}\n                  </a>\n                )\n              }}\n            />\n          )\n        }\n      });\n    })\n    .then(() =>\n      dispatch({ type: `${ActionTypes.REMOVE_PORTFOLIO_ITEMS}_FULFILLED` })\n    )\n    .catch((err) =>\n      dispatch({\n        type: `${ActionTypes.REMOVE_PORTFOLIO_ITEMS}_REJECTED`,\n        payload: err\n      })\n    );\n};\n\nexport const copyPortfolio = (id) => (dispatch) => {\n  dispatch({ type: 'COPY_PORTFOLIO_PENDING' });\n  return PortfolioHelper.copyPortfolio(id)\n    .then((portfolio) => {\n      dispatch({ type: 'COPY_PORTFOLIO_FULFILLED' });\n      dispatch({\n        type: ADD_NOTIFICATION,\n        payload: {\n          variant: 'success',\n          title: 'You have successfully copied a portfolio',\n          description: `${portfolio.name} has been copied.`,\n          dismissable: true\n        }\n      });\n      return portfolio;\n    })\n    .catch((err) =>\n      dispatch({ type: 'COPY_PORTFOLIO_REJECTED', payload: err })\n    );\n};\n\nexport const copyPortfolioItem = (\n  portfolioItemId,\n  copyObject,\n  newPortfolio\n) => (dispatch) => {\n  return PortfolioHelper.copyPortfolioItem(portfolioItemId, copyObject)\n    .then((data) => {\n      dispatch({\n        type: ADD_NOTIFICATION,\n        payload: {\n          variant: 'success',\n          title: 'You have successfully copied a product',\n          description: `${data.name} has been copied into ${newPortfolio.name}`,\n          dismissable: true\n        }\n      });\n      return data;\n    })\n    .catch((err) =>\n      dispatch({ type: 'COPY_PORTFOLIO_ITEM_REJECTED', payload: err })\n    );\n};\n\nexport const resetSelectedPortfolio = () => ({\n  type: ActionTypes.RESET_SELECTED_PORTFOLIO\n});\n\nexport const updatePortfolioItem = (values) => (dispatch, getState) => {\n  dispatch({\n    type: ActionTypes.UPDATE_TEMPORARY_PORTFOLIO_ITEM,\n    payload: values\n  });\n  return PortfolioHelper.updatePortfolioItem(values, { getState })\n    .then((data) => {\n      dispatch({ type: ActionTypes.UPDATE_PORTFOLIO_ITEM, payload: data });\n      return data;\n    })\n    .then((item) =>\n      dispatch({\n        type: ADD_NOTIFICATION,\n        payload: {\n          variant: 'success',\n          title: `Product \"${item.name}\" was successfully updated`,\n          dismissable: true\n        }\n      })\n    )\n    .catch((error) => {\n      dispatch({ type: ActionTypes.RESTORE_PORTFOLIO_ITEM_PREV_STATE });\n      throw error;\n    })\n    .catch((error) =>\n      dispatch({\n        type: `${ActionTypes.UPDATE_TEMPORARY_PORTFOLIO_ITEM}_REJECTED`,\n        payload: error\n      })\n    );\n};\n\nexport const getPortfolioItemDetail = (params) => (dispatch) => {\n  dispatch({ type: `${ActionTypes.SELECT_PORTFOLIO_ITEM}_PENDING` });\n  return PortfolioHelper.getPortfolioItemDetail(params).then(\n    ([portfolioItem, source]) =>\n      dispatch({\n        type: `${ActionTypes.SELECT_PORTFOLIO_ITEM}_FULFILLED`,\n        payload: {\n          portfolioItem,\n          source\n        }\n      })\n  );\n};\n\nexport const setOrFetchPortfolio = (id, portfolios) => {\n  const existingPorfolio = portfolios?.data?.find(\n    (portfolio) => portfolio.id === id\n  );\n\n  if (existingPorfolio) {\n    return {\n      type: `${ActionTypes.FETCH_PORTFOLIO}_FULFILLED`,\n      payload: existingPorfolio\n    };\n  }\n\n  return fetchSelectedPortfolio(id);\n};\n"],"sourceRoot":""}