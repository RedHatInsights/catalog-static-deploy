{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./src/utilities/async-form-validator.js","webpack:///./node_modules/awesome-imperative-promise/dist/index.es.js","webpack:///./node_modules/awesome-debounce-promise/dist/index.es.js","webpack:///./node_modules/awesome-only-resolves-last-promise/dist/index.es.js","webpack:///./src/messages/portfolio.messages.js","webpack:///./node_modules/@patternfly/react-core/node_modules/@patternfly/react-styles/css/layouts/Stack/stack.js","webpack:///./node_modules/@patternfly/react-core/dist/js/components/TextInput/TextInput.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@patternfly/react-core/dist/js/layouts/Stack/Stack.js","webpack:///./src/utilities/use-enhanced-history.js","webpack:///./node_modules/debounce-promise/dist/index.js","webpack:///./node_modules/@patternfly/react-core/dist/js/layouts/Stack/StackItem.js","webpack:///./node_modules/@patternfly/react-core/node_modules/@patternfly/react-styles/css/layouts/Stack/stack.css?3763","webpack:///./node_modules/@patternfly/react-core/node_modules/@patternfly/react-styles/css/layouts/Stack/stack.css","webpack:///./src/forms/edit-workflow_form.schema.js","webpack:///./src/helpers/approval/approval-helper.js","webpack:///./src/utilities/extract-format-message.js","webpack:///./src/messages/approval.messages.js","webpack:///./src/smart-components/common/edit-approval-workflow.js","webpack:///./src/redux/actions/approval-actions.js"],"names":["_extends","module","exports","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","asyncFunction","debounceTime","options","onlyResolvesLast","awesomeDebouncePromise","createImperativePromise","promiseArg","resolve","reject","wrappedPromise","Promise","_resolve","_reject","then","val","error","promise","value","reason","cancel","__assign","t","s","n","p","DefaultOptions","_args","_i","DebounceCache","config","debounceSingleton","debounceCache","_createDebouncedFunction","cancelPrevious","debouncedFunc","func","wait","args","initialPromise","_a","getDebouncedFunction","finalOptions","debouncedFn","portfolioMessages","defineMessages","require","removeItemsNotification","id","defaultMessage","removePortfolioNotification","modalCreateTitle","modalCreateSubmit","modalEditTitle","addProducts","emptyNoProducts","portfoliosPlaceholder","portfoliosNoData","portfoliosNoDataDescription","portfolioRemoveDescription","portfolioRemoveTitle","portfolioSharePermissions","portfolioShareGroups","portfolioShareTitle","portfolioShareApply","portfolioShareDescription","addProducstPlatformTitle","addProducstPlatformDescription","addProducstFilterTitle","copyItemTitle","portfolioItemSurvey","portfolioItemOrder","portfolioItemIconTitle","portfolioItemOverview","portfolioItemSupport","portfolioItemDocumentation","portfolioItemDocLink","restoreSurvey","surveyTitle","sourceUnavaiable","objectUnavaiable","backToProducts","editProduct","shareTooltip","shareErrorMissingGroup","shareErrorMissingPermission","shareErrorMissingData","shareDuplicate","noShares","shareGroupsAccess","shareSuccessTitle","__esModule","default","defineProperty","tslib_1","React","__importStar","form_control_1","__importDefault","react_styles_1","constants_1","TextInputTypes","TextInputBase","Component","props","super","handleChange","event","onChange","currentTarget","console","innerRef","className","type","validated","isReadOnly","isRequired","isDisabled","__rest","createElement","css","formControl","ValidatedOptions","success","modifiers","warning","required","disabled","readOnly","ref","displayName","defaultProps","text","TextInput","forwardRef","_typeof","obj","Symbol","iterator","constructor","stack_1","Stack","hasGutter","children","component","stack","gutter","removeSearchQuery","split","search","undefined","useEnhancedHistory","removeSearch","keepHash","history","useHistory","push","internalTarget","location","hash","getWait","defer","deferred","fn","lastCallAt","timer","pendingArgs","currentWait","currentTime","Date","getTime","isCold","_len","Array","_key","leading","accumulate","result","concat","clearTimeout","setTimeout","flush","bind","argsIndex","results","thisDeferred","StackItem","isFilled","stackItem","fill","api","content","locals","___CSS_LOADER_API_IMPORT___","editWorkflowSchema","loadWorkflows","fields","componentTypes","SELECT","name","label","loadOptions","asyncFormValidator","multi","isSearchable","isClearable","loadWorkflowOptions","filterValue","initialLookup","initialLookupQuery","map","workflow","join","getAxiosInstance","get","APPROVAL_API_BASE","data","updateWorkflows","unlinkIds","linkIds","resourceObject","unlinkPromises","wf","getWorkflowApi","unlinkWorkflow","linkPromises","linkWorkflow","all","listWorkflowsForObject","pagination","limit","defaultSettings","offset","filter","objectQuery","appName","objectType","objectId","paginationQuery","filterQuery","extractFormatMessage","getState","i18nReducer","formatMessage","approvalMessages","unlinkNotification","linkNotification","setWorkflow","initialState","isFetching","approvalState","state","action","payload","EditApprovalWorkflow","removeQuery","querySelector","pushParam","objectName","useIntl","modalTitle","useRef","defineMessage","current","useReducer","stateDispatch","useSelector","approvalReducer","resolvedWorkflows","meta","dispatch","useDispatch","useQuery","query","useEffect","ASYNC_ACTIONS","RESOLVE_WORKFLOWS","ApprovalHelper","APP_NAME","Modal","title","isOpen","onClose","variant","TextContent","Text","strong","chunks","initialValues","selectedWorkflows","onSubmit","formData","formApi","initialWorkflows","newWorkflows","toUnlinkIds","toLinkIds","toUnlinkWorkflows","findIndex","w","toLinkWorkflows","object_type","app_name","object_id","UPDATE_WORKFLOWS","addNotification","dismissable","description","count","onCancel","schema","editApprovalWorkflowSchema","formContainer","templateProps","submitLabel","actionMessages","save","propTypes","PropTypes","oneOfType","string","shape","pathname","bool","oneOf"],"mappings":"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","file":"js/edit-approval-workflow~31ecd969.59904fd1607041c15abb.js","sourcesContent":["function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","import awesomeDebouncePromise from 'awesome-debounce-promise';\n\nexport default (\n  asyncFunction,\n  debounceTime = 250,\n  options = { onlyResolvesLast: false }\n) => awesomeDebouncePromise(asyncFunction, debounceTime, options);\n","function createImperativePromise(promiseArg) {\r\n    var resolve = null;\r\n    var reject = null;\r\n    var wrappedPromise = new Promise(function (_resolve, _reject) {\r\n        resolve = _resolve;\r\n        reject = _reject;\r\n    });\r\n    promiseArg && promiseArg.then(function (val) {\r\n        resolve && resolve(val);\r\n    }, function (error) {\r\n        reject && reject(error);\r\n    });\r\n    return {\r\n        promise: wrappedPromise,\r\n        resolve: function (value) {\r\n            resolve && resolve(value);\r\n        },\r\n        reject: function (reason) {\r\n            reject && reject(reason);\r\n        },\r\n        cancel: function () {\r\n            resolve = null;\r\n            reject = null;\r\n        }\r\n    };\r\n}\n\nexport { createImperativePromise };\n//# sourceMappingURL=index.es.js.map\n","import DebouncePromise from 'debounce-promise';\nimport { onlyResolvesLast } from 'awesome-only-resolves-last-promise';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar DefaultOptions = {\r\n    // One distinct debounced function is created per key and added to an internal cache\r\n    // By default, the key is null, which means that all the calls\r\n    // will share the same debounced function\r\n    key: function () {\r\n        var _args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            _args[_i] = arguments[_i];\r\n        }\r\n        return null;\r\n    },\r\n    // By default, a debounced function will only resolve\r\n    // the last promise it returned\r\n    // Former calls will stay unresolved, so that you don't have\r\n    // to handle concurrency issues in your code\r\n    // Setting this to false means all returned promises will resolve to the last result\r\n    onlyResolvesLast: true,\r\n};\r\n// We create a debouncing function cache, because when wrapping the original function,\r\n// we may actually want to route the function call to different debounced functions depending function paameters\r\nvar DebounceCache = /** @class */ (function () {\r\n    function DebounceCache(config) {\r\n        this.config = config;\r\n        this.debounceSingleton = null;\r\n        this.debounceCache = {}; // when key feature is used\r\n    }\r\n    DebounceCache.prototype._createDebouncedFunction = function () {\r\n        var debouncedFunc = DebouncePromise(this.config.func, this.config.wait, this.config.options); // TODO TS\r\n        if (this.config.options.onlyResolvesLast) {\r\n            debouncedFunc = onlyResolvesLast(debouncedFunc);\r\n        }\r\n        return {\r\n            func: debouncedFunc,\r\n        };\r\n    };\r\n    DebounceCache.prototype.getDebouncedFunction = function (args) {\r\n        var _a;\r\n        var key = (_a = this.config.options).key.apply(_a, args);\r\n        if (key === null || typeof key === 'undefined') {\r\n            if (!this.debounceSingleton) {\r\n                this.debounceSingleton = this._createDebouncedFunction();\r\n            }\r\n            return this.debounceSingleton;\r\n        }\r\n        else {\r\n            if (!this.debounceCache[key]) {\r\n                this.debounceCache[key] = this._createDebouncedFunction();\r\n            }\r\n            return this.debounceCache[key];\r\n        }\r\n    };\r\n    return DebounceCache;\r\n}());\r\nfunction AwesomeDebouncePromise(func, wait, options) {\r\n    var finalOptions = __assign({}, DefaultOptions, options);\r\n    var debounceCache = new DebounceCache({\r\n        func: func,\r\n        wait: wait,\r\n        options: finalOptions,\r\n    });\r\n    var AwesomeDebouncePromiseWrapper = (function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var debouncedFn = debounceCache.getDebouncedFunction(args).func;\r\n        return debouncedFn.apply(void 0, args);\r\n    }); // TODO fix TS\r\n    /*\r\n    AwesomeDebouncePromiseWrapper.cancel = (key?: string) => {\r\n  \n    };\r\n    */\r\n    return AwesomeDebouncePromiseWrapper;\r\n}\n\nexport default AwesomeDebouncePromise;\n//# sourceMappingURL=index.es.js.map\n","import { createImperativePromise } from 'awesome-imperative-promise';\n\n// see https://stackoverflow.com/a/54825370/82609\r\nfunction onlyResolvesLast(asyncFunction) {\r\n    var cancelPrevious = null;\r\n    var wrappedFunction = function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        cancelPrevious && cancelPrevious();\r\n        var initialPromise = asyncFunction.apply(void 0, args);\r\n        var _a = createImperativePromise(initialPromise), promise = _a.promise, cancel = _a.cancel;\r\n        cancelPrevious = cancel;\r\n        return promise;\r\n    };\r\n    return wrappedFunction; // TODO fix TS\r\n}\n\nexport { onlyResolvesLast };\n//# sourceMappingURL=index.es.js.map\n","const { defineMessages } = require('react-intl');\n\nconst portfolioMessages = defineMessages({\n  removeItemsNotification: {\n    id: 'portfolio.notifications.remove.portfolio-items',\n    defaultMessage:\n      'You have removed {count, number} {count, plural, one {product} other {products} } from the {portfolioName} portfolio. <a>Undo</a> if this was a mistake.' // eslint-disable-line max-len\n  },\n  removePortfolioNotification: {\n    id: 'portfolio.notifications.remove.portfolio',\n    defaultMessage:\n      'The portfolio was removed successfully. You can <a>Undo</a> this action if this was a mistake.'\n  },\n  modalCreateTitle: {\n    id: 'portfolio.modal.add.title',\n    defaultMessage: 'Create portfolio'\n  },\n  modalCreateSubmit: {\n    id: 'portfolio.modal.add.create',\n    defaultMessage: 'Create'\n  },\n  modalEditTitle: {\n    id: 'portfolio.modal.edit.title',\n    defaultMessage: 'Edit portfolio'\n  },\n  addProducts: {\n    id: 'portfolio.empty.add.products',\n    defaultMessage: 'Add products'\n  },\n  emptyNoProducts: {\n    id: 'portfolio.empty.no-products',\n    defaultMessage: 'No products in your portfolio'\n  },\n  portfoliosPlaceholder: {\n    id: 'portfolios.filters.placeholder',\n    defaultMessage: 'Filter by portfolio'\n  },\n  portfoliosNoData: {\n    id: 'portfolios.empty.noData.title',\n    defaultMessage: 'No portfolios'\n  },\n  portfoliosNoDataDescription: {\n    id: 'portfolios.empty.noData.description',\n    defaultMessage: 'No portfolios match your filter criteria.'\n  },\n  portfolioRemoveDescription: {\n    id: 'portfolio.remove.modal.description',\n    defaultMessage:\n      'This action will permanently delete portfolio {name} and its data.'\n  },\n  portfolioRemoveTitle: {\n    id: 'portfolio.remove.modal.title',\n    defaultMessage: 'Delete Portfolio?'\n  },\n  portfolioSharePermissions: {\n    id: 'portfolio.share.modal.permissions',\n    defaultMessage: 'Select the share permissions'\n  },\n  portfolioShareGroups: {\n    id: 'portfolio.share.modal.groups',\n    defaultMessage: 'Select a group'\n  },\n  portfolioShareTitle: {\n    id: 'portfolio.share.modal.title',\n    defaultMessage: 'Share portfolio'\n  },\n  portfolioShareApply: {\n    id: 'portfolio.share.modal.apply',\n    defaultMessage: 'Apply'\n  },\n  portfolioShareDescription: {\n    id: 'portfolio.share.modal.description',\n    defaultMessage: 'Share <strong>{name}</strong> portfolio'\n  },\n  addProducstPlatformTitle: {\n    id: 'portfolio.add.platform.title.empty',\n    defaultMessage: 'Please choose platform'\n  },\n  addProducstPlatformDescription: {\n    id: 'portfolio.add.platform.description.empty',\n    defaultMessage:\n      'In order to select products for your portfolio you must choose platform first'\n  },\n  addProducstFilterTitle: {\n    id: 'portfolio.add.platform.filter.empty',\n    defaultMessage: 'No products match filter parameters'\n  },\n  copyItemTitle: {\n    id: 'portfolio.item.copy',\n    defaultMessage: 'Copy product'\n  },\n  portfolioItemSurvey: {\n    id: 'portfolio.item.detail.actions.survey',\n    defaultMessage: 'Edit survey'\n  },\n  portfolioItemOrder: {\n    id: 'portfolio.item.detail.actions.order',\n    defaultMessage: 'Order'\n  },\n  portfolioItemIconTitle: {\n    id: 'portfolio.item.icon.upload.notification',\n    defaultMessage: 'Icon upload error'\n  },\n  portfolioItemOverview: {\n    id: 'portfolio.item.detail.overview',\n    defaultMessage: 'Overview'\n  },\n  portfolioItemSupport: {\n    id: 'portfolio.item.detail.support',\n    defaultMessage: 'Learn more'\n  },\n  portfolioItemDocumentation: {\n    id: 'portfolio.item.detail.documentation',\n    defaultMessage: 'Documentation'\n  },\n  portfolioItemDocLink: {\n    id: 'portfolio.item.detail.doclink',\n    defaultMessage: 'Doc link'\n  },\n  restoreSurvey: {\n    id: 'portfolio.item.survey.restore',\n    defaultMessage: 'Restore to Ansible Tower version'\n  },\n  surveyTitle: {\n    id: 'portfolio.item.survey.edit',\n    defaultMessage: 'Editing survey: {name}'\n  },\n  sourceUnavaiable: {\n    id: 'portfolio.detail.alert.source.unavailable',\n    defaultMessage: 'The platform for this product is unavailable'\n  },\n  objectUnavaiable: {\n    id: 'portfolio.detail.alert.unavailable',\n    defaultMessage: 'The {object} for this product is no longer available'\n  },\n  backToProducts: {\n    id: 'portfolio.detail.back-to-products',\n    defaultMessage: 'Back to products'\n  },\n  editProduct: {\n    id: 'portfolio.item.edit.title',\n    defaultMessage: 'Edit product'\n  },\n  shareTooltip: {\n    id: 'portfolio.share.add.tooltip',\n    defaultMessage: 'Share portfolio with selected group and permissions.'\n  },\n  shareErrorMissingGroup: {\n    id: 'portfolio.share.add.missing-group',\n    defaultMessage: 'Select group to share portfolio.'\n  },\n  shareErrorMissingPermission: {\n    id: 'portfolio.share.add.missing-permission',\n    defaultMessage: 'Assign permissions to selected group.'\n  },\n  shareErrorMissingData: {\n    id: 'portfolio.share.add.missing-data',\n    defaultMessage: 'Choose group and permissions.'\n  },\n  shareDuplicate: {\n    id: 'portfolio.share.add.duplicate',\n    defaultMessage: 'Portfolio is already shared with this group.'\n  },\n  noShares: {\n    id: 'portfolio.share.add.no-shares',\n    defaultMessage: 'To share portfolio select a group and permissions'\n  },\n  shareGroupsAccess: {\n    id: 'share.groups.access',\n    defaultMessage: 'Groups with access'\n  },\n  shareSuccessTitle: {\n    id: 'share.notification.success.title',\n    defaultMessage: 'Portfolio sharing settings were updated'\n  }\n});\n\nexport default portfolioMessages;\n","\"use strict\";\nexports.__esModule = true;\nrequire('./stack.css');\nexports.default = {\n  \"modifiers\": {\n    \"fill\": \"pf-m-fill\",\n    \"gutter\": \"pf-m-gutter\"\n  },\n  \"stack\": \"pf-l-stack\",\n  \"stackItem\": \"pf-l-stack__item\"\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst form_control_1 = tslib_1.__importDefault(require(\"@patternfly/react-styles/css/components/FormControl/form-control\"));\nconst react_styles_1 = require(\"@patternfly/react-styles\");\nconst constants_1 = require(\"../../helpers/constants\");\nvar TextInputTypes;\n(function (TextInputTypes) {\n    TextInputTypes[\"text\"] = \"text\";\n    TextInputTypes[\"date\"] = \"date\";\n    TextInputTypes[\"datetimeLocal\"] = \"datetime-local\";\n    TextInputTypes[\"email\"] = \"email\";\n    TextInputTypes[\"month\"] = \"month\";\n    TextInputTypes[\"number\"] = \"number\";\n    TextInputTypes[\"password\"] = \"password\";\n    TextInputTypes[\"search\"] = \"search\";\n    TextInputTypes[\"tel\"] = \"tel\";\n    TextInputTypes[\"time\"] = \"time\";\n    TextInputTypes[\"url\"] = \"url\";\n})(TextInputTypes = exports.TextInputTypes || (exports.TextInputTypes = {}));\nclass TextInputBase extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleChange = (event) => {\n            if (this.props.onChange) {\n                this.props.onChange(event.currentTarget.value, event);\n            }\n        };\n        if (!props.id && !props['aria-label'] && !props['aria-labelledby']) {\n            // eslint-disable-next-line no-console\n            console.error('Text input:', 'Text input requires either an id or aria-label to be specified');\n        }\n    }\n    render() {\n        const _a = this.props, { innerRef, className, type, value, \n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        onChange, validated, isReadOnly, isRequired, isDisabled } = _a, props = tslib_1.__rest(_a, [\"innerRef\", \"className\", \"type\", \"value\", \"onChange\", \"validated\", \"isReadOnly\", \"isRequired\", \"isDisabled\"]);\n        return (React.createElement(\"input\", Object.assign({}, props, { className: react_styles_1.css(form_control_1.default.formControl, validated === constants_1.ValidatedOptions.success && form_control_1.default.modifiers.success, validated === constants_1.ValidatedOptions.warning && form_control_1.default.modifiers.warning, className), onChange: this.handleChange, type: type, value: value, \"aria-invalid\": validated === constants_1.ValidatedOptions.error, required: isRequired, disabled: isDisabled, readOnly: isReadOnly, ref: innerRef })));\n    }\n}\nexports.TextInputBase = TextInputBase;\nTextInputBase.displayName = 'TextInputBase';\nTextInputBase.defaultProps = {\n    'aria-label': null,\n    className: '',\n    isRequired: false,\n    validated: 'default',\n    isDisabled: false,\n    isReadOnly: false,\n    type: TextInputTypes.text,\n    onChange: () => undefined\n};\nexports.TextInput = React.forwardRef((props, ref) => (React.createElement(TextInputBase, Object.assign({}, props, { innerRef: ref }))));\n//# sourceMappingURL=TextInput.js.map","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst stack_1 = tslib_1.__importDefault(require(\"@patternfly/react-styles/css/layouts/Stack/stack\"));\nconst react_styles_1 = require(\"@patternfly/react-styles\");\nexports.Stack = (_a) => {\n    var { hasGutter = false, className = '', children = null, component = 'div' } = _a, props = tslib_1.__rest(_a, [\"hasGutter\", \"className\", \"children\", \"component\"]);\n    const Component = component;\n    return (React.createElement(Component, Object.assign({}, props, { className: react_styles_1.css(stack_1.default.stack, hasGutter && stack_1.default.modifiers.gutter, className) }), children));\n};\nexports.Stack.displayName = 'Stack';\n//# sourceMappingURL=Stack.js.map","import { useHistory } from 'react-router-dom';\n\nconst removeSearchQuery = (target) => {\n  if (typeof target === 'string') {\n    return target.split('?')[0];\n  }\n\n  if (typeof target === 'object') {\n    return {\n      ...target,\n      search: undefined\n    };\n  }\n\n  return target;\n};\n\n/**\n * Wrapper around useHistory hook which adds aditional settings to standard history methods\n * @param {Boolean} removeSearch if true, using history navigation methods will remove search string from path\n * @param {Boolean} keepHash if true, using history navigation methods will not remove hash from URL\n */\nconst useEnhancedHistory = ({ removeSearch, keepHash } = {}) => {\n  const history = useHistory();\n  return {\n    ...history,\n    push: (target) => {\n      let internalTarget = target;\n      if (keepHash && history.location.hash.length > 0) {\n        internalTarget =\n          typeof internalTarget === 'object'\n            ? { ...internalTarget, hash: history.location.hash }\n            : `${internalTarget}${history.location.hash}`;\n      }\n\n      if (removeSearch) {\n        return history.push(removeSearchQuery(internalTarget));\n      }\n\n      return history.push(internalTarget);\n    }\n  };\n};\n\nexport default useEnhancedHistory;\n","'use strict';\n\n/* global setTimeout, clearTimeout */\n\nmodule.exports = function debounce(fn) {\n  var wait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var lastCallAt = void 0;\n  var deferred = void 0;\n  var timer = void 0;\n  var pendingArgs = [];\n  return function debounced() {\n    var currentWait = getWait(wait);\n    var currentTime = new Date().getTime();\n\n    var isCold = !lastCallAt || currentTime - lastCallAt > currentWait;\n\n    lastCallAt = currentTime;\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (isCold && options.leading) {\n      return options.accumulate ? Promise.resolve(fn.call(this, [args])).then(function (result) {\n        return result[0];\n      }) : Promise.resolve(fn.call.apply(fn, [this].concat(args)));\n    }\n\n    if (deferred) {\n      clearTimeout(timer);\n    } else {\n      deferred = defer();\n    }\n\n    pendingArgs.push(args);\n    timer = setTimeout(flush.bind(this), currentWait);\n\n    if (options.accumulate) {\n      var argsIndex = pendingArgs.length - 1;\n      return deferred.promise.then(function (results) {\n        return results[argsIndex];\n      });\n    }\n\n    return deferred.promise;\n  };\n\n  function flush() {\n    var thisDeferred = deferred;\n    clearTimeout(timer);\n\n    Promise.resolve(options.accumulate ? fn.call(this, pendingArgs) : fn.apply(this, pendingArgs[pendingArgs.length - 1])).then(thisDeferred.resolve, thisDeferred.reject);\n\n    pendingArgs = [];\n    deferred = null;\n  }\n};\n\nfunction getWait(wait) {\n  return typeof wait === 'function' ? wait() : wait;\n}\n\nfunction defer() {\n  var deferred = {};\n  deferred.promise = new Promise(function (resolve, reject) {\n    deferred.resolve = resolve;\n    deferred.reject = reject;\n  });\n  return deferred;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst stack_1 = tslib_1.__importDefault(require(\"@patternfly/react-styles/css/layouts/Stack/stack\"));\nconst react_styles_1 = require(\"@patternfly/react-styles\");\nexports.StackItem = (_a) => {\n    var { isFilled = false, className = '', children = null } = _a, props = tslib_1.__rest(_a, [\"isFilled\", \"className\", \"children\"]);\n    return (React.createElement(\"div\", Object.assign({}, props, { className: react_styles_1.css(stack_1.default.stackItem, isFilled && stack_1.default.modifiers.fill, className) }), children));\n};\nexports.StackItem.displayName = 'StackItem';\n//# sourceMappingURL=StackItem.js.map","var api = require(\"!../../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../../../css-loader/dist/cjs.js!./stack.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".pf-l-stack {\\n  --pf-l-stack--m-gutter--MarginBottom: var(--pf-global--gutter);\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%; }\\n\\n.pf-l-stack__item.pf-m-fill {\\n  flex-grow: 1; }\\n\\n.pf-l-stack.pf-m-gutter > *:not(:last-child) {\\n  margin-bottom: var(--pf-l-stack--m-gutter--MarginBottom); }\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\nimport asyncFormValidator from '../utilities/async-form-validator';\n\nconst editWorkflowSchema = (loadWorkflows) => ({\n  fields: [\n    {\n      component: componentTypes.SELECT,\n      name: 'selectedWorkflows',\n      label: '',\n      loadOptions: asyncFormValidator(loadWorkflows),\n      multi: true,\n      isSearchable: true,\n      isClearable: true\n    }\n  ]\n});\n\nexport default editWorkflowSchema;\n","import { getWorkflowApi, getAxiosInstance } from '../shared/user-login';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\nimport { defaultSettings } from '../shared/pagination';\n\nexport const getApprovalWorkflows = () => getWorkflowApi().listWorkflows();\n\nexport const loadWorkflowOptions = (filterValue = '', initialLookup = []) => {\n  const initialLookupQuery = initialLookup\n    .map((workflow) => `filter[id][]=${workflow}`)\n    .join('&');\n\n  return getAxiosInstance()\n    .get(\n      `${APPROVAL_API_BASE}/workflows?filter[name][contains]=${filterValue}&${initialLookupQuery ||\n        ''}`\n    )\n    .then(({ data }) =>\n      data.map(({ id, name }) => ({ label: name, value: id }))\n    );\n};\n\nexport const updateWorkflows = (unlinkIds, linkIds, resourceObject) => {\n  const unlinkPromises = unlinkIds\n    ? unlinkIds.map((wf) => getWorkflowApi().unlinkWorkflow(wf, resourceObject))\n    : [];\n  const linkPromises = linkIds\n    ? linkIds.map((wf) => getWorkflowApi().linkWorkflow(wf, resourceObject))\n    : [];\n  return Promise.all([...unlinkPromises, ...linkPromises]);\n};\n\nexport const listWorkflowsForObject = (\n  resourceObject,\n  pagination = { limit: defaultSettings.limit, offset: defaultSettings.offset },\n  filter = ''\n) => {\n  const objectQuery = `app_name=${resourceObject.appName}&object_type=${resourceObject.objectType}&object_id=${resourceObject.objectId}`;\n  const paginationQuery = `&limit=${pagination.limit}&offset=${pagination.offset}`;\n  const filterQuery = `&filter[name][contains]=${filter}`;\n  return getAxiosInstance().get(\n    `${APPROVAL_API_BASE}/workflows?${objectQuery}${filterQuery}${paginationQuery}`\n  );\n};\n","const extractFormatMessage = (getState) => getState().i18nReducer.formatMessage;\n\nexport default extractFormatMessage;\n","const { defineMessages } = require('react-intl');\n\nconst approvalMessages = defineMessages({\n  unlinkNotification: {\n    id: 'approval.notifications.unlink',\n    defaultMessage:\n      '{count, number} {count, plural, one {approval process was} other {approval processes were}} unlinked successfully.'\n  },\n  linkNotification: {\n    id: 'approval.notifications.link',\n    defaultMessage:\n      '{count, number} {count, plural, one {approval process was} other {approval processes were}} linked successfully.'\n  },\n  setWorkflow: {\n    id: 'approval.workflows.set',\n    defaultMessage:\n      'Select approval processes for <strong>{objectName}</strong>'\n  }\n});\n\nexport default approvalMessages;\n","import React, { useEffect, useReducer, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  Modal,\n  TextContent,\n  Text,\n  Stack,\n  StackItem\n} from '@patternfly/react-core';\nimport FormRenderer from '../common/form-renderer';\nimport editApprovalWorkflowSchema from '../../forms/edit-workflow_form.schema';\nimport {\n  listWorkflowsForObject,\n  updateWorkflows\n} from '../../redux/actions/approval-actions';\nimport { APP_NAME } from '../../utilities/constants';\nimport { loadWorkflowOptions } from '../../helpers/approval/approval-helper';\nimport { WorkflowLoader } from '../../presentational-components/shared/loader-placeholders';\nimport useQuery from '../../utilities/use-query';\nimport useEnhancedHistory from '../../utilities/use-enhanced-history';\nimport { useIntl, defineMessage } from 'react-intl';\nimport actionMessages from '../../messages/actions.messages';\nimport approvalMessages from '../../messages/approval.messages';\n\nconst initialState = {\n  isFetching: true\n};\n\nconst approvalState = (state, action) => {\n  switch (action.type) {\n    case 'setFetching':\n      return { ...state, isFetching: action.payload };\n    default:\n      return state;\n  }\n};\n\nconst EditApprovalWorkflow = ({\n  objectType,\n  removeQuery,\n  keepHash,\n  querySelector,\n  pushParam,\n  objectName = () => objectType\n}) => {\n  const { formatMessage } = useIntl();\n  const { current: modalTitle } = useRef(\n    formatMessage(\n      defineMessage({\n        id: 'workflows.modal.title',\n        defaultMessage: 'Set approval process'\n      })\n    )\n  );\n  const [{ isFetching }, stateDispatch] = useReducer(\n    approvalState,\n    initialState\n  );\n  const { data, meta } = useSelector(\n    ({ approvalReducer: { resolvedWorkflows } }) => resolvedWorkflows\n  );\n  const dispatch = useDispatch();\n  const history = useEnhancedHistory({ removeQuery, keepHash });\n  const [query] = useQuery([querySelector]);\n\n  useEffect(() => {\n    dispatch(\n      listWorkflowsForObject(\n        {\n          objectType,\n          appName: APP_NAME[objectType],\n          objectId: query[querySelector]\n        },\n        meta\n      )\n    ).then(() => stateDispatch({ type: 'setFetching', payload: false }));\n  }, []);\n\n  const onSubmit = (formData, formApi) => {\n    const initialWorkflows =\n      formApi.getState().initialValues.selectedWorkflows || [];\n    const newWorkflows = formData.selectedWorkflows || [];\n\n    history.push(pushParam);\n    const toUnlinkWorkflows = initialWorkflows.filter(\n      (wf) => newWorkflows.findIndex((w) => w === wf) < 0\n    );\n    const toLinkWorkflows = newWorkflows.filter(\n      (wf) => initialWorkflows.findIndex((w) => w === wf) < 0\n    );\n\n    if (toUnlinkWorkflows.length > 0 || toLinkWorkflows.length > 0) {\n      dispatch(\n        updateWorkflows(toUnlinkWorkflows, toLinkWorkflows, {\n          object_type: objectType,\n          app_name: APP_NAME[objectType],\n          object_id: query[querySelector]\n        })\n      );\n    }\n  };\n\n  return (\n    <Modal\n      title={modalTitle}\n      isOpen\n      onClose={() => history.push(pushParam)}\n      variant=\"small\"\n    >\n      {isFetching && <WorkflowLoader />}\n      {!isFetching && (\n        <Stack hasGutter>\n          <StackItem>\n            <TextContent>\n              <Text>\n                {formatMessage(approvalMessages.setWorkflow, {\n                  // eslint-disable-next-line react/display-name\n                  strong: (chunks) => <strong>{chunks}</strong>,\n                  objectName: objectName(query[querySelector])\n                })}\n              </Text>\n            </TextContent>\n          </StackItem>\n          <StackItem>\n            <FormRenderer\n              initialValues={{\n                selectedWorkflows: data ? data.map((wf) => wf.id) : undefined\n              }}\n              onSubmit={onSubmit}\n              onCancel={() => history.push(pushParam)}\n              schema={editApprovalWorkflowSchema(loadWorkflowOptions)}\n              formContainer=\"modal\"\n              templateProps={{\n                submitLabel: formatMessage(actionMessages.save)\n              }}\n            />\n          </StackItem>\n        </Stack>\n      )}\n    </Modal>\n  );\n};\n\nEditApprovalWorkflow.propTypes = {\n  pushParam: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string\n    })\n  ]).isRequired,\n  objectType: PropTypes.string.isRequired,\n  objectName: PropTypes.func,\n  removeQuery: PropTypes.bool,\n  querySelector: PropTypes.oneOf([\n    'portfolio',\n    'platform',\n    'inventory',\n    'portfolio-item'\n  ]).isRequired,\n  keepHash: PropTypes.bool\n};\n\nEditApprovalWorkflow.defaultProps = {\n  keepHash: false\n};\n\nexport default EditApprovalWorkflow;\n","import { ASYNC_ACTIONS } from '../action-types/approval-action-types';\nimport * as ApprovalHelper from '../../helpers/approval/approval-helper';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/cjs/actions';\nimport extractFormatMessage from '../../utilities/extract-format-message';\nimport approvalMessages from '../../messages/approval.messages';\n\nexport const fetchWorkflows = () => ({\n  type: ASYNC_ACTIONS.FETCH_WORKFLOWS,\n  payload: ApprovalHelper.getApprovalWorkflows().then(({ data }) => [\n    ...data.map(({ id, name }) => ({ value: id, label: name }))\n  ])\n});\n\nexport const updateWorkflows = (toUnlinkIds, toLinkIds, resourceObject) => (\n  dispatch,\n  getState\n) => {\n  const formatMessage = extractFormatMessage(getState);\n  return dispatch({\n    type: ASYNC_ACTIONS.UPDATE_WORKFLOWS,\n    payload: ApprovalHelper.updateWorkflows(\n      toUnlinkIds,\n      toLinkIds,\n      resourceObject\n    ).then(() =>\n      dispatch(\n        addNotification({\n          variant: 'success',\n          title: 'Success updating approval process',\n          dismissable: true,\n          description: `${\n            toUnlinkIds.length > 0\n              ? formatMessage(approvalMessages.unlinkNotification, {\n                  count: toUnlinkIds.length\n                })\n              : ''\n          }\n          ${\n            toLinkIds.length > 0\n              ? formatMessage(approvalMessages.linkNotification, {\n                  count: toLinkIds.length\n                })\n              : ''\n          }`\n        })\n      )\n    )\n  });\n};\n\nexport const listWorkflowsForObject = (\n  resourceObject,\n  meta = { limit: defaultSettings.limit, offset: defaultSettings.offset },\n  filter = ''\n) => ({\n  type: ASYNC_ACTIONS.RESOLVE_WORKFLOWS,\n  payload: ApprovalHelper.listWorkflowsForObject(resourceObject, meta, filter)\n});\n"],"sourceRoot":""}