{"version":3,"sources":["webpack:///./src/Helpers/Order/OrderHelper.js","webpack:///./src/redux/Actions/OrderActions.js","webpack:///./src/SmartComponents/Order/orders.scss?30b1","webpack:///./src/SmartComponents/Order/orders.scss","webpack:///./src/SmartComponents/Order/orders-toolbar.js","webpack:///./src/SmartComponents/Order/Orders.js"],"names":["api","ServicePortalApi","getServicePlans","portfolioItemId","fetchPlansWithPortfolioItemId","then","data","error","console","_callee","parameters","order","orderItem","regenerator_default","a","wrap","_context","prev","next","newOrder","sent","count","provider_control_parameters","namespace","portfolio_item_id","service_plan_ref","service_parameters","addToOrder","id","abrupt","submitOrder","result","stop","this","instance","basePath","SERVICE_PORTAL_API_BASE","__webpack_require__","d","__webpack_exports__","OrderActions_fetchServicePlans","OrderActions_fetchOrderList","OrderActions_sendSubmitOrder","fetchServicePlans","type","ActionTypes","payload","OrderHelper","fetchOrderList","listOrders","sendSubmitOrder","apiProps","Promise","resolve","_x","_sendSubmitOrder","apply","arguments","content","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","OrdersToolbar","_ref","path","match","react_default","createElement","Toolbar","className","style","backgroundColor","ToolbarSection","aria-label","ToolbarGroup","ToolbarItem","Breadcrumb","BreadcrumbItem","isActive","NavLink","exact","to","TextContent","Text","component","TextVariants","h1","propTypes","PropTypes","shape","string","isRequired","withRouter","Orders","orders","activeTabKey","dataListExpanded","_event","_this","setState","objectSpread_default","defineProperty_default","map","item","index","DataListItem","key","aria-labelledby","concat","isExpanded","state","DataListToggle","onClick","handleDataItemToggle","DataListCell","h4","marginBottom","small","created_at","toString","alignSelf","h5","DataListContent","isHidden","_this2","props","fetchOrders","orderList","items","isLoading","_this$state","orders_toolbar","Tabs","activeKey","onSelect","handleTabClick","Tab","eventKey","title","DataList","renderDataListItems","Component","object","bool","searchFilter","func","connect","_ref2","_ref2$orderReducer","orderReducer","dispatch"],"mappings":"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","file":"js/9.js","sourcesContent":["/* eslint camelcase: 0 */\nimport * as ServicePortalApi from '@manageiq/service-portal-api';\nimport { SERVICE_PORTAL_API_BASE } from '../../Utilities/Constants';\n\nlet api = new ServicePortalApi.AdminsApi();\n\nconst sspDefaultClient = ServicePortalApi.ApiClient.instance;\nsspDefaultClient.basePath = SERVICE_PORTAL_API_BASE;\n\nexport function getServicePlans(portfolioItemId) {\n  return api.fetchPlansWithPortfolioItemId(portfolioItemId).then(data => data, error => console.error(error));\n}\n\nexport function listOrders() {\n  return api.listOrders().then(data => data, error => console.error(error));\n}\n\nexport async function sendSubmitOrder(parameters) {\n  let order = await api.newOrder();\n  let orderItem = new ServicePortalApi.OrderItem;\n  orderItem.count = 1;\n  orderItem.provider_control_parameters =  { namespace: 'default' };\n  orderItem.portfolio_item_id = parameters.portfolio_item_id;\n  orderItem.service_plan_ref = parameters.service_plan_ref;\n  orderItem.service_parameters = parameters.service_parameters;\n  await api.addToOrder(order.id, orderItem);\n  return api.submitOrder(order.id).then(result => result, error => console.error(error));\n}\n","import * as ActionTypes from '../ActionTypes';\nimport * as OrderHelper from '../../Helpers/Order/OrderHelper';\n\nexport const fetchServicePlans = (portfolioItemId) => ({\n  type: ActionTypes.FETCH_SERVICE_PLANS,\n  payload: OrderHelper.getServicePlans(portfolioItemId)\n});\n\nexport const fetchOrderList = () => ({\n  type: ActionTypes.LIST_ORDERS,\n  payload: OrderHelper.listOrders()\n});\n\nexport const updateServiceData = (data) => ({\n  type: ActionTypes.UPDATE_SERVICE_DATA,\n  payload: { serviceData: data }\n});\n\nexport const setSelectedPlan = (data) => ({\n  type: ActionTypes.SET_SELECTED_PLAN,\n  payload: data\n});\n\nexport const sendSubmitOrder = apiProps => ({\n  type: ActionTypes.SUBMIT_SERVICE_ORDER,\n  payload: new Promise(resolve => {\n    resolve(OrderHelper.sendSubmitOrder(apiProps));\n  })\n});\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./orders.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./orders.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./orders.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.i(require(\"-!../../../node_modules/css-loader/index.js!@red-hat-insights/insights-frontend-components/index.css\"), \"\");\n\n// module\nexports.push([module.id, \"/* stylelint-enable */\\n:root {\\n  --ins-color--orange: #ec7a08; }\\n\\nbutton:focus {\\n  outline: none; }\\n\\nul.navigation-secondary {\\n  margin-top: 20px; }\\n  ul.navigation-secondary li {\\n    cursor: pointer;\\n    font-size: 15px;\\n    width: 100%;\\n    box-shadow: none;\\n    padding: 5px 0;\\n    color: #1d1d1d; }\\n    ul.navigation-secondary li span {\\n      margin-left: 50px; }\\n    ul.navigation-secondary li:active, ul.navigation-secondary li.active {\\n      background: #f5f5f5;\\n      color: var(--pf-global--link--Color); }\\n    ul.navigation-secondary li:hover {\\n      color: var(--pf-global--link--Color); }\\n\\n.elipsis-text-overflow {\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  overflow: hidden; }\\n\\n.toolbar-padding {\\n  padding: 24px 24px 0 24px; }\\n\\n.card-link {\\n  cursor: pointer; }\\n  .card-link:hover {\\n    text-decoration: none; }\\n\\n.text-align-right {\\n  text-align: right; }\\n\\n.order-tabs {\\n  background-color: #FFFFFF;\\n  padding: 32px 32px 0 32px; }\\n  .order-tabs li {\\n    padding: initial; }\\n\\n.order-data-list .order-cell {\\n  align-self: center; }\\n\\n.order-toolbar-breadcrumbs .pf-c-breadcrumb__item .active {\\n  color: var(--pf-c-breadcrumb__item--Color);\\n  text-decoration: none;\\n  pointer-events: none; }\\n\", \"\"]);\n\n// exports\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  Toolbar,\n  ToolbarGroup,\n  ToolbarSection,\n  ToolbarItem,\n  TextContent,\n  Text,\n  TextVariants\n} from '@patternfly/react-core';\nimport './orders.scss';\n\nconst OrdersToolbar = ({ match: { path }}) => (\n  <Toolbar className=\"pf-u-pt-xl pf-u-pr-xl pf-u-pl-xl order-toolbar-breadcrumbs\" style={ { backgroundColor: '#FFFFFF' } }>\n    <ToolbarSection aria-label=\"order-toolbar-breadcrumbs\">\n      <ToolbarGroup>\n        <ToolbarItem>\n          <Breadcrumb>\n            <BreadcrumbItem isActive={ path === '/portfolios' }>\n              <NavLink exact to=\"/portfolios\">All Portfolios</NavLink>\n            </BreadcrumbItem>\n            <BreadcrumbItem isActive={ path === '/orders' }>\n              <NavLink exact to=\"/orders\">Orders</NavLink>\n            </BreadcrumbItem>\n          </Breadcrumb>\n        </ToolbarItem>\n      </ToolbarGroup>\n    </ToolbarSection>\n    <ToolbarSection aria-label=\"order-toolbar-heading\">\n      <ToolbarGroup>\n        <ToolbarItem>\n          <TextContent>\n            <Text component={ TextVariants.h1 }>Orders</Text>\n          </TextContent>\n        </ToolbarItem>\n      </ToolbarGroup>\n    </ToolbarSection>\n  </Toolbar>\n);\n\nOrdersToolbar.propTypes = {\n  match: PropTypes.shape({\n    path: PropTypes.string.isRequired\n  }).isRequired\n};\n\nexport default withRouter(OrdersToolbar);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport {\n  DataList,\n  DataListItem,\n  DataListCell,\n  DataListToggle,\n  DataListContent,\n  Tabs,\n  Tab,\n  Text,\n  TextVariants,\n  TextContent\n} from '@patternfly/react-core';\nimport { fetchOrderList } from '../../redux/Actions/OrderActions';\nimport propTypes from 'prop-types';\nimport OrdersToolbar from './orders-toolbar';\nimport './orders.scss';\n\nclass Orders extends Component {\n  state = {\n    orders: [],\n    activeTabKey: 0,\n    dataListExpanded: {}\n  }\n\n  componentDidMount() {\n    this.props.fetchOrders()\n    .then(() => this.setState({ orders: this.props.orderList.items }));\n  }\n\n  handleTabClick = (_event, activeTabKey) => this.setState({ activeTabKey })\n\n  handleDataItemToggle = id => this.setState(({ dataListExpanded }) => ({\n    dataListExpanded: { ...dataListExpanded, [id]: !dataListExpanded[id] }\n  }))\n\n  renderDataListItems = data => data.map((item, index) => (\n    <DataListItem key={ item.id } aria-labelledby={ `${item.id}-expand` } isExpanded={ this.state.dataListExpanded[item.id] }>\n      { data.id }\n      <DataListToggle\n        id={ item.id }\n        aria-label={ `${item.id}-expand` }\n        aria-labelledby={ `${item.id}-expand` }\n        onClick={ () => this.handleDataItemToggle(item.id) }\n        isExpanded={ this.state.dataListExpanded[item.id] }\n      />\n      <DataListCell>\n        <TextContent>\n          <Text component={ TextVariants.h4 }>Order { index }</Text>\n          <Text style={ { marginBottom: 0 } } component={ TextVariants.small }>{ item.created_at.toString() }</Text>\n        </TextContent>\n      </DataListCell>\n      <DataListCell className=\"order-cell\" style={ { alignSelf: 'center' } }>\n        <TextContent className=\"text-align-right\">\n          <Text component={ TextVariants.h5 }>{ item.state }</Text>\n        </TextContent>\n      </DataListCell>\n      <DataListContent aria-label={ `${item.id}-content` } isHidden={ !this.state.dataListExpanded[item.id] }>\n        <p>\n          Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et\n          dolore magna aliqua.\n        </p>\n      </DataListContent>\n    </DataListItem>\n  ))\n\n  render() {\n    const { isLoading } = this.props.isLoading;\n    if (isLoading) {\n      return <div>Loading</div>;\n    }\n\n    const { orders, activeTabKey } = this.state;\n\n    return (\n      <div>\n        <OrdersToolbar />\n        <div>\n          <Tabs className=\"order-tabs\" activeKey={ activeTabKey } onSelect={ this.handleTabClick }>\n            <Tab eventKey={ 0 } title=\"My orders\" className=\"pf-u-p-lg\">\n              <DataList aria-label=\"all-orders\">\n                { this.renderDataListItems(orders) }\n              </DataList>\n            </Tab>\n            <Tab eventKey={ 1 } title=\"All orders\" className=\"pf-u-p-lg\">\n              <DataList aria-label=\"all-orders\">\n                { this.renderDataListItems(orders) }\n              </DataList>\n            </Tab>\n          </Tabs>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ orderReducer: { orders, isLoading }}) => ({\n  orderList: {\n    items: orders\n  },\n  isLoading\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchOrders: () => dispatch(fetchOrderList())\n});\n\nOrders.propTypes = {\n  orderList: propTypes.object,\n  isLoading: propTypes.bool,\n  searchFilter: propTypes.string,\n  fetchOrders: propTypes.func\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Orders);\n"],"sourceRoot":""}