{"version":3,"file":"js/remove-portfolio.1642540868212.6d74b2a4ac1267335331.js","mappings":"oUA0HA,QAvF6E,SAAC,G,QAC5E,IAAAA,UAAAA,OAAS,IAAG,OAAe,EAErBC,GAAgB,SACFC,GAAiB,OAAS,CAAC,cAAa,aACtDC,GAAW,UACXC,GAAY,SAGhB,SAAC,G,IAAEC,EAAgB,mBACnB,OAAAC,aAAaC,QAAQ,uBACjB,QAAuBF,EAAkBH,IACzC,QAAsBG,EAAkBH,MAExC,GAAmB,IAAAM,cAAjBC,EAAI,OAAEC,EAAM,SAUpB,OAAKN,GAMc,KAFkC,QAArC,EAAkB,QAAlB,EAAAA,EAAUO,gBAAQ,eAAEC,yBAAiB,eAAEC,SAGrD,kBAAC,IAAoB,MAErB,kBAAC,EAAAC,MAAK,cAEFb,EAAc,0BAEhBc,OACE,kBAAC,EAAAC,YAAW,KACV,kBAAC,EAAAC,MAAK,CAACC,WAAS,GACd,kBAAC,EAAAC,UAAS,KACR,kBAAC,EAAAC,wBAAuB,CAACC,KAAK,KAAKC,MAAO,CAAEC,KAAM,cAEpD,kBAAC,EAAAJ,UAAS,KACR,kBAAC,EAAAK,KAAI,CAACC,UAAU,MACbxB,EAAc,8BAMzByB,QAAM,EACNC,QAAQ,QACRC,QAASlB,EACTmB,QAAS,CACP,kBAAC,EAAAC,OAAM,CACLC,IAAI,SACJJ,QAAQ,SACRK,KAAK,SACLC,GAAG,2BACHC,OAAO,2BACPC,QA9CS,WAEf,OADA1B,EAAK,MACEN,EACLG,aAAaC,QAAQ,uBACjB,QAAiBL,EAAaF,IAC9B,QAAgBE,EAAaF,MA2C5BC,EAAc,aAEjB,kBAAC,EAAA6B,OAAM,CACLC,IAAI,SACJG,OAAO,SACPP,QAAQ,OACRK,KAAK,SACLG,QAASzB,GAERT,EAAc,eAInB,kBAAC,EAAAe,YAAW,KACV,kBAAC,EAAAQ,KAAI,CAACC,UAAW,EAAAW,aAAA,GACdnC,EAAc,+BAA8C,CAC3DoC,KAAMjC,EAAUiC,UAtDjB","sources":["webpack:///./src/smart-components/portfolio/remove-portfolio-modal.tsx"],"sourcesContent":["/* eslint-disable react/prop-types */\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport {\n  Modal,\n  Button,\n  Text,\n  TextVariants,\n  TextContent,\n  Split,\n  SplitItem\n} from '@patternfly/react-core';\nimport { removePortfolio } from '../../redux/actions/portfolio-actions';\nimport { removePortfolio as removePortfolioS } from '../../redux/actions/portfolio-actions-s';\nimport useQuery from '../../utilities/use-query';\nimport { getPortfolioFromState } from '../../helpers/portfolio/portfolio-helper';\nimport { getPortfolioFromState as getPortfolioFromStateS } from '../../helpers/portfolio/portfolio-helper-s';\nimport { PORTFOLIOS_ROUTE } from '../../constants/routes';\nimport { UnauthorizedRedirect } from '../error-pages/error-redirects';\nimport {\n  defaultSettings,\n  PaginationConfiguration\n} from '../../helpers/shared/pagination';\nimport portfolioMessages from '../../messages/portfolio.messages';\nimport actionMessages from '../../messages/actions.messages';\nimport labelMessages from '../../messages/labels.messages';\nimport useFormatMessage from '../../utilities/use-format-message';\nimport { CatalogRootState } from '../../types/redux';\nimport { InternalPortfolio } from '../../types/common-types';\n\nexport interface RemovePortfolioModalProps {\n  viewState?: PaginationConfiguration;\n}\nconst RemovePortfolioModal: React.ComponentType<RemovePortfolioModalProps> = ({\n  viewState = defaultSettings\n}) => {\n  const formatMessage = useFormatMessage();\n  const [{ portfolio: portfolioId }] = useQuery(['portfolio']);\n  const dispatch = useDispatch();\n  const portfolio = useSelector<\n    CatalogRootState,\n    InternalPortfolio | undefined\n  >(({ portfolioReducer }) =>\n    localStorage.getItem('catalog_standalone')\n      ? getPortfolioFromStateS(portfolioReducer, portfolioId)\n      : getPortfolioFromState(portfolioReducer, portfolioId)\n  );\n  const { push, goBack } = useHistory();\n  const onSubmit = () => {\n    push(PORTFOLIOS_ROUTE);\n    return dispatch(\n      localStorage.getItem('catalog_standalone')\n        ? removePortfolioS(portfolioId, viewState)\n        : removePortfolio(portfolioId, viewState)\n    );\n  };\n\n  if (!portfolio) {\n    return null;\n  }\n\n  const destroy = portfolio.metadata?.user_capabilities?.destroy;\n\n  return destroy === false ? (\n    <UnauthorizedRedirect />\n  ) : (\n    <Modal\n      aria-label={\n        formatMessage(portfolioMessages.portfolioRemoveTitle) as string\n      }\n      header={\n        <TextContent>\n          <Split hasGutter>\n            <SplitItem>\n              <ExclamationTriangleIcon size=\"lg\" style={{ fill: '#f0ab00' }} />\n            </SplitItem>\n            <SplitItem>\n              <Text component=\"h1\">\n                {formatMessage(portfolioMessages.portfolioRemoveTitle)}\n              </Text>\n            </SplitItem>\n          </Split>\n        </TextContent>\n      }\n      isOpen\n      variant=\"small\"\n      onClose={goBack}\n      actions={[\n        <Button\n          key=\"submit\"\n          variant=\"danger\"\n          type=\"button\"\n          id=\"confirm-delete-portfolio\"\n          ouiaId=\"confirm-delete-portfolio\"\n          onClick={onSubmit}\n        >\n          {formatMessage(actionMessages.delete)}\n        </Button>,\n        <Button\n          key=\"cancel\"\n          ouiaId=\"cancel\"\n          variant=\"link\"\n          type=\"button\"\n          onClick={goBack}\n        >\n          {formatMessage(labelMessages.cancel)}\n        </Button>\n      ]}\n    >\n      <TextContent>\n        <Text component={TextVariants.p}>\n          {formatMessage(portfolioMessages.portfolioRemoveDescription, {\n            name: portfolio.name\n          })}\n        </Text>\n      </TextContent>\n    </Modal>\n  );\n};\n\nexport default RemovePortfolioModal;\n"],"names":["viewState","formatMessage","portfolioId","dispatch","portfolio","portfolioReducer","localStorage","getItem","useHistory","push","goBack","metadata","user_capabilities","destroy","Modal","header","TextContent","Split","hasGutter","SplitItem","ExclamationTriangleIcon","size","style","fill","Text","component","isOpen","variant","onClose","actions","Button","key","type","id","ouiaId","onClick","TextVariants","name"],"sourceRoot":""}