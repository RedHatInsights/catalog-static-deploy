{"version":3,"sources":["webpack:///./node_modules/@patternfly/react-core/dist/js/components/Card/CardHeader.js","webpack:///./node_modules/@patternfly/react-icons/dist/js/icons/exclamation-circle-icon.js","webpack:///./node_modules/@patternfly/react-core/dist/js/components/Tabs/Tab.js","webpack:///./node_modules/@patternfly/react-core/dist/js/components/Tabs/Tabs.js","webpack:///./node_modules/@patternfly/react-core/dist/js/components/Tabs/TabButton.js","webpack:///./node_modules/@patternfly/react-core/dist/js/components/Tabs/TabContent.js","webpack:///./node_modules/@patternfly/react-icons/dist/js/icons/times-icon.js","webpack:///./node_modules/@patternfly/react-icons/dist/js/icons/grip-vertical-icon.js","webpack:///./node_modules/@patternfly/react-icons/dist/js/icons/eye-slash-icon.js","webpack:///./node_modules/@patternfly/react-icons/dist/js/icons/trash-restore-icon.js","webpack:///./src/smart-components/survey-editing/survey-editor.js"],"names":["Object","defineProperty","exports","value","tslib_1","React","__importStar","react_styles_1","card_1","__importDefault","CardHeader","_a","children","className","props","__rest","createElement","assign","css","default","cardHeader","displayName","__esModule","ExclamationCircleIconConfig","name","height","width","svgPath","yOffset","xOffset","transform","ExclamationCircleIcon","createIcon","Tab","tabs_1","button_1","angle_left_icon_1","angle_right_icon_1","util_1","TabButton_1","TabContent_1","helpers_1","TabsComponent","Tabs","Component","super","this","tabList","createRef","handleScrollButtons","current","isVertical","container","overflowOnLeft","isElementInView","firstChild","overflowOnRight","lastChild","showScrollButtons","disableLeftScrollButton","disableRightScrollButton","setState","scrollLeft","childrenArr","Array","from","firstElementInView","lastElementOutOfView","i","length","scrollWidth","scrollRight","lastElementInView","firstElementOutOfView","state","shownKeys","activeKey","event","eventKey","tabContentRef","mountOnEnter","onSelect","Children","toArray","filter","child","forEach","hidden","concat","window","addEventListener","removeEventListener","id","isFilled","isSecondary","isBox","leftScrollAriaLabel","rightScrollAriaLabel","ariaLabel","component","ouiaId","ouiaSafe","unmountOnExit","inset","uniqueId","getUniqueId","nav","Fragment","tabs","modifiers","fill","secondary","vertical","box","scrollable","formatBreakpointMods","getOUIAProps","tabsScrollButton","onClick","disabled","tabsList","ref","onScroll","Boolean","map","index","title","childId","tabContentId","isHidden","childClassName","rest","key","tabsItem","TabButton","tabsLink","handleTabClick","indexOf","TabContent","defaultProps","div","href","TabContentBase","innerRef","labelledBy","role","tabIndex","forwardRef","TimesIconConfig","TimesIcon","GripVerticalIconConfig","GripVerticalIcon","EyeSlashIconConfig","EyeSlashIcon","TrashRestoreIconConfig","TrashRestoreIcon","componentProperties","componentTypes","TEXT_FIELD","attributes","fieldProperties","LABEL","HELPER_TEXT","PLACEHOLDER","IS_DISABLED","IS_READ_ONLY","HIDE_FIELD","CHECKBOX","OPTIONS","SELECT","DATE_PICKER","TODAY_BUTTON_LABEL","IS_CLEARABLE","CLOSE_ON_DAY_SELECT","SHOW_TODAY_BUTTON","PLAIN_TEXT","MULTI_LINE_LABEL","RADIO","SWITCH","TEXTAREA","pf4Skin","componentMapper","catalogComponentMapper","builderMapper","pickerMapper","propertiesMapper","changeValidators","schema","result","fields","validate","type","catalogValidatorAlias","BuilderWrapper","SurveyEditor","closeUrl","search","portfolioItem","useState","setSchema","isFetching","setIsFetching","baseSchema","setBaseSchema","servicePlan","setServicePlan","updateHack","setUpdateHack","dispatch","useDispatch","push","useHistory","getServicePlan","getAxiosInstance","get","CATALOG_API_BASE","then","create_json_schema","imported","useEffect","modifySurvey","editedTemplate","getServicePlansApi","patchServicePlanModified","modified","createSurvey","createServicePlan","portfolio_item_id","handleSaveSurvey","validatorTypes","MAX_NUMBER_VALUE","MIN_NUMBER_VALUE","appendValidator","addNotification","variant","dismissable","pathname","error","payload","disableDrag","disableAdd","schemaTemplate","mode","openEditor","getSchema","isValid","handleResetSurvey","undefined","resetServicePlanModified","prevCount","propTypes","PropTypes","string","isRequired","shape","portfolio","object"],"mappings":"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","file":"js/survey-editor~31ecd969.266abbb849d5385ae181.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst react_styles_1 = require(\"@patternfly/react-styles\");\nconst card_1 = tslib_1.__importDefault(require(\"@patternfly/react-styles/css/components/Card/card\"));\nexports.CardHeader = (_a) => {\n    var { children = null, className = '' } = _a, props = tslib_1.__rest(_a, [\"children\", \"className\"]);\n    return (React.createElement(\"div\", Object.assign({ className: react_styles_1.css(card_1.default.cardHeader, className) }, props), children));\n};\nexports.CardHeader.displayName = 'CardHeader';\n//# sourceMappingURL=CardHeader.js.map","\"use strict\"\nexports.__esModule = true;\nexports.ExclamationCircleIconConfig = {\n  name: 'ExclamationCircleIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z',\n  yOffset: 0,\n  xOffset: 0,\n  transform: ''\n};\nexports.ExclamationCircleIcon = require('../createIcon').createIcon(exports.ExclamationCircleIconConfig);\nexports[\"default\"] = exports.ExclamationCircleIcon;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tab = () => null;\nexports.Tab.displayName = 'Tab';\n//# sourceMappingURL=Tab.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst tabs_1 = tslib_1.__importDefault(require(\"@patternfly/react-styles/css/components/Tabs/tabs\"));\nconst button_1 = tslib_1.__importDefault(require(\"@patternfly/react-styles/css/components/Button/button\"));\nconst react_styles_1 = require(\"@patternfly/react-styles\");\nconst angle_left_icon_1 = tslib_1.__importDefault(require(\"@patternfly/react-icons/dist/js/icons/angle-left-icon\"));\nconst angle_right_icon_1 = tslib_1.__importDefault(require(\"@patternfly/react-icons/dist/js/icons/angle-right-icon\"));\nconst util_1 = require(\"../../helpers/util\");\nconst TabButton_1 = require(\"./TabButton\");\nconst TabContent_1 = require(\"./TabContent\");\nconst helpers_1 = require(\"../../helpers\");\nvar TabsComponent;\n(function (TabsComponent) {\n    TabsComponent[\"div\"] = \"div\";\n    TabsComponent[\"nav\"] = \"nav\";\n})(TabsComponent = exports.TabsComponent || (exports.TabsComponent = {}));\nclass Tabs extends React.Component {\n    constructor(props) {\n        super(props);\n        this.tabList = React.createRef();\n        this.handleScrollButtons = () => {\n            if (this.tabList.current && !this.props.isVertical) {\n                const container = this.tabList.current;\n                // get first element and check if it is in view\n                const overflowOnLeft = !util_1.isElementInView(container, container.firstChild, false);\n                // get last element and check if it is in view\n                const overflowOnRight = !util_1.isElementInView(container, container.lastChild, false);\n                const showScrollButtons = overflowOnLeft || overflowOnRight;\n                const disableLeftScrollButton = !overflowOnLeft;\n                const disableRightScrollButton = !overflowOnRight;\n                this.setState({\n                    showScrollButtons,\n                    disableLeftScrollButton,\n                    disableRightScrollButton\n                });\n            }\n        };\n        this.scrollLeft = () => {\n            // find first Element that is fully in view on the left, then scroll to the element before it\n            if (this.tabList.current) {\n                const container = this.tabList.current;\n                const childrenArr = Array.from(container.children);\n                let firstElementInView;\n                let lastElementOutOfView;\n                let i;\n                for (i = 0; i < childrenArr.length && !firstElementInView; i++) {\n                    if (util_1.isElementInView(container, childrenArr[i], false)) {\n                        firstElementInView = childrenArr[i];\n                        lastElementOutOfView = childrenArr[i - 1];\n                    }\n                }\n                if (lastElementOutOfView) {\n                    container.scrollLeft -= lastElementOutOfView.scrollWidth;\n                }\n            }\n        };\n        this.scrollRight = () => {\n            // find last Element that is fully in view on the right, then scroll to the element after it\n            if (this.tabList.current) {\n                const container = this.tabList.current;\n                const childrenArr = Array.from(container.children);\n                let lastElementInView;\n                let firstElementOutOfView;\n                for (let i = childrenArr.length - 1; i >= 0 && !lastElementInView; i--) {\n                    if (util_1.isElementInView(container, childrenArr[i], false)) {\n                        lastElementInView = childrenArr[i];\n                        firstElementOutOfView = childrenArr[i + 1];\n                    }\n                }\n                if (firstElementOutOfView) {\n                    container.scrollLeft += firstElementOutOfView.scrollWidth;\n                }\n            }\n        };\n        this.state = {\n            showScrollButtons: false,\n            disableLeftScrollButton: false,\n            disableRightScrollButton: false,\n            shownKeys: [this.props.activeKey] // only for mountOnEnter case\n        };\n    }\n    handleTabClick(event, eventKey, tabContentRef, mountOnEnter) {\n        const { shownKeys } = this.state;\n        this.props.onSelect(event, eventKey);\n        // process any tab content sections outside of the component\n        if (tabContentRef) {\n            React.Children.toArray(this.props.children)\n                .filter(child => child.props && child.props.tabContentRef && child.props.tabContentRef.current)\n                .forEach(child => (child.props.tabContentRef.current.hidden = true));\n            // most recently selected tabContent\n            if (tabContentRef.current) {\n                tabContentRef.current.hidden = false;\n            }\n        }\n        if (mountOnEnter) {\n            this.setState({\n                shownKeys: shownKeys.concat(eventKey)\n            });\n        }\n    }\n    componentDidMount() {\n        if (!this.props.isVertical) {\n            window.addEventListener('resize', this.handleScrollButtons, false);\n            // call the handle resize function to check if scroll buttons should be shown\n            this.handleScrollButtons();\n        }\n    }\n    componentWillUnmount() {\n        if (!this.props.isVertical) {\n            window.removeEventListener('resize', this.handleScrollButtons, false);\n        }\n    }\n    render() {\n        const _a = this.props, { className, children, activeKey, id, isFilled, isSecondary, isVertical, isBox, leftScrollAriaLabel, rightScrollAriaLabel, 'aria-label': ariaLabel, component, ouiaId, ouiaSafe, mountOnEnter, unmountOnExit, inset } = _a, props = tslib_1.__rest(_a, [\"className\", \"children\", \"activeKey\", \"id\", \"isFilled\", \"isSecondary\", \"isVertical\", \"isBox\", \"leftScrollAriaLabel\", \"rightScrollAriaLabel\", 'aria-label', \"component\", \"ouiaId\", \"ouiaSafe\", \"mountOnEnter\", \"unmountOnExit\", \"inset\"]);\n        const { showScrollButtons, disableLeftScrollButton, disableRightScrollButton, shownKeys } = this.state;\n        const uniqueId = id || util_1.getUniqueId();\n        const Component = component === TabsComponent.nav ? 'nav' : 'div';\n        return (React.createElement(React.Fragment, null,\n            React.createElement(Component, Object.assign({ \"aria-label\": ariaLabel, className: react_styles_1.css(tabs_1.default.tabs, isFilled && tabs_1.default.modifiers.fill, isSecondary && tabs_1.default.modifiers.secondary, isVertical && tabs_1.default.modifiers.vertical, isBox && tabs_1.default.modifiers.box, showScrollButtons && !isVertical && tabs_1.default.modifiers.scrollable, util_1.formatBreakpointMods(inset, tabs_1.default), className) }, helpers_1.getOUIAProps(Tabs.displayName, ouiaId, ouiaSafe), { id: id && id }, props),\n                React.createElement(\"button\", { className: react_styles_1.css(tabs_1.default.tabsScrollButton, isSecondary && button_1.default.modifiers.secondary), \"aria-label\": leftScrollAriaLabel, onClick: this.scrollLeft, disabled: disableLeftScrollButton, \"aria-hidden\": disableLeftScrollButton },\n                    React.createElement(angle_left_icon_1.default, null)),\n                React.createElement(\"ul\", { className: react_styles_1.css(tabs_1.default.tabsList), ref: this.tabList, onScroll: this.handleScrollButtons }, React.Children.toArray(children)\n                    .filter(Boolean)\n                    .map((child, index) => {\n                    const _a = child.props, { title, eventKey, tabContentRef, id: childId, tabContentId, isHidden = false, className: childClassName = '' } = _a, rest = tslib_1.__rest(_a, [\"title\", \"eventKey\", \"tabContentRef\", \"id\", \"tabContentId\", \"isHidden\", \"className\"]);\n                    return isHidden ? null : (React.createElement(\"li\", { key: index, className: react_styles_1.css(tabs_1.default.tabsItem, eventKey === activeKey && tabs_1.default.modifiers.current, childClassName) },\n                        React.createElement(TabButton_1.TabButton, Object.assign({ className: react_styles_1.css(tabs_1.default.tabsLink), onClick: (event) => this.handleTabClick(event, eventKey, tabContentRef, mountOnEnter), id: `pf-tab-${eventKey}-${childId || uniqueId}`, \"aria-controls\": tabContentId ? `${tabContentId}` : `pf-tab-section-${eventKey}-${childId || uniqueId}`, tabContentRef: tabContentRef }, rest), title)));\n                })),\n                React.createElement(\"button\", { className: react_styles_1.css(tabs_1.default.tabsScrollButton, isSecondary && button_1.default.modifiers.secondary), \"aria-label\": rightScrollAriaLabel, onClick: this.scrollRight, disabled: disableRightScrollButton, \"aria-hidden\": disableRightScrollButton },\n                    React.createElement(angle_right_icon_1.default, null))),\n            React.Children.toArray(children)\n                .filter(child => child &&\n                child.props.children &&\n                !(unmountOnExit && child.props.eventKey !== activeKey) &&\n                !(mountOnEnter && shownKeys.indexOf(child.props.eventKey) === -1))\n                .map((child, index) => (React.createElement(TabContent_1.TabContent, { key: index, activeKey: activeKey, child: child, id: child.props.id || uniqueId })))));\n    }\n}\nexports.Tabs = Tabs;\nTabs.displayName = 'Tabs';\nTabs.defaultProps = {\n    activeKey: 0,\n    onSelect: () => undefined,\n    isFilled: false,\n    isSecondary: false,\n    isVertical: false,\n    isBox: false,\n    leftScrollAriaLabel: 'Scroll left',\n    rightScrollAriaLabel: 'Scroll right',\n    component: TabsComponent.div,\n    mountOnEnter: false,\n    unmountOnExit: false,\n    ouiaSafe: true\n};\n//# sourceMappingURL=Tabs.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nexports.TabButton = (_a) => {\n    var { children, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    tabContentRef } = _a, props = tslib_1.__rest(_a, [\"children\", \"tabContentRef\"]);\n    const Component = (props.href ? 'a' : 'button');\n    return React.createElement(Component, Object.assign({}, props), children);\n};\nexports.TabButton.displayName = 'TabButton';\n//# sourceMappingURL=TabButton.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst react_styles_1 = require(\"@patternfly/react-styles\");\nconst TabContentBase = (_a) => {\n    var { id, activeKey, 'aria-label': ariaLabel, child, children, className, eventKey, innerRef } = _a, props = tslib_1.__rest(_a, [\"id\", \"activeKey\", 'aria-label', \"child\", \"children\", \"className\", \"eventKey\", \"innerRef\"]);\n    if (children || child) {\n        let labelledBy;\n        if (ariaLabel) {\n            labelledBy = null;\n        }\n        else {\n            labelledBy = children ? `pf-tab-${eventKey}-${id}` : `pf-tab-${child.props.eventKey}-${id}`;\n        }\n        return (React.createElement(\"section\", Object.assign({ ref: innerRef, hidden: children ? null : child.props.eventKey !== activeKey, className: children ? react_styles_1.css('pf-c-tab-content', className) : react_styles_1.css('pf-c-tab-content', child.props.className), id: children ? id : `pf-tab-section-${child.props.eventKey}-${id}`, \"aria-label\": ariaLabel, \"aria-labelledby\": labelledBy, role: \"tabpanel\", tabIndex: 0 }, props), children || child.props.children));\n    }\n    return null;\n};\nexports.TabContent = React.forwardRef((props, ref) => (React.createElement(TabContentBase, Object.assign({}, props, { innerRef: ref }))));\n//# sourceMappingURL=TabContent.js.map","\"use strict\"\nexports.__esModule = true;\nexports.TimesIconConfig = {\n  name: 'TimesIcon',\n  height: 512,\n  width: 352,\n  svgPath: 'M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z',\n  yOffset: 0,\n  xOffset: 0,\n  transform: ''\n};\nexports.TimesIcon = require('../createIcon').createIcon(exports.TimesIconConfig);\nexports[\"default\"] = exports.TimesIcon;","\"use strict\"\nexports.__esModule = true;\nexports.GripVerticalIconConfig = {\n  name: 'GripVerticalIcon',\n  height: 512,\n  width: 320,\n  svgPath: 'M96 32H32C14.33 32 0 46.33 0 64v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM288 32h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm0 160h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z',\n  yOffset: 0,\n  xOffset: 0,\n  transform: ''\n};\nexports.GripVerticalIcon = require('../createIcon').createIcon(exports.GripVerticalIconConfig);\nexports[\"default\"] = exports.GripVerticalIcon;","\"use strict\"\nexports.__esModule = true;\nexports.EyeSlashIconConfig = {\n  name: 'EyeSlashIcon',\n  height: 512,\n  width: 640,\n  svgPath: 'M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z',\n  yOffset: 0,\n  xOffset: 0,\n  transform: ''\n};\nexports.EyeSlashIcon = require('../createIcon').createIcon(exports.EyeSlashIconConfig);\nexports[\"default\"] = exports.EyeSlashIcon;","\"use strict\"\nexports.__esModule = true;\nexports.TrashRestoreIconConfig = {\n  name: 'TrashRestoreIcon',\n  height: 512,\n  width: 448,\n  svgPath: 'M53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32zm70.11-175.8l89.38-94.26a15.41 15.41 0 0 1 22.62 0l89.38 94.26c10.08 10.62 2.94 28.8-11.32 28.8H256v112a16 16 0 0 1-16 16h-32a16 16 0 0 1-16-16V320h-57.37c-14.26 0-21.4-18.18-11.32-28.8zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z',\n  yOffset: 0,\n  xOffset: 0,\n  transform: ''\n};\nexports.TrashRestoreIcon = require('../createIcon').createIcon(exports.TrashRestoreIconConfig);\nexports[\"default\"] = exports.TrashRestoreIcon;","import React, { useEffect, useState, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\nimport FormBuilder from '@data-driven-forms/form-builder/dist/cjs';\nimport {\n  builderMapper,\n  fieldProperties,\n  pickerMapper,\n  propertiesMapper,\n  BuilderTemplate\n} from '@data-driven-forms/form-builder/dist/cjs/pf4-builder-mappers';\nimport { Spinner } from '@patternfly/react-core/dist/js/components/Spinner/Spinner';\n\nimport {\n  getAxiosInstance,\n  getServicePlansApi\n} from '../../helpers/shared/user-login';\nimport { CATALOG_API_BASE } from '../../utilities/constants';\nimport { Bullseye } from '@patternfly/react-core';\nimport { SurveyEditingToolbar } from '../portfolio/portfolio-item-detail/portfolio-item-detail-toolbar';\nimport { useDispatch } from 'react-redux';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/cjs/actions';\nimport {\n  catalogValidatorAlias,\n  catalogComponentMapper\n} from '../common/form-renderer';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/cjs/validator-types';\n\nconst componentProperties = {\n  [componentTypes.TEXT_FIELD]: {\n    attributes: [\n      fieldProperties.LABEL,\n      fieldProperties.HELPER_TEXT,\n      fieldProperties.PLACEHOLDER,\n      fieldProperties.IS_DISABLED,\n      fieldProperties.IS_READ_ONLY,\n      fieldProperties.HIDE_FIELD\n    ]\n  },\n  [componentTypes.CHECKBOX]: {\n    attributes: [\n      fieldProperties.LABEL,\n      fieldProperties.IS_DISABLED,\n      fieldProperties.OPTIONS,\n      fieldProperties.HIDE_FIELD\n    ]\n  },\n  [componentTypes.SELECT]: {\n    attributes: [\n      fieldProperties.OPTIONS,\n      fieldProperties.LABEL,\n      fieldProperties.IS_DISABLED,\n      fieldProperties.PLACEHOLDER,\n      fieldProperties.HELPER_TEXT,\n      fieldProperties.HIDE_FIELD\n    ]\n  },\n  [componentTypes.DATE_PICKER]: {\n    attributes: [\n      fieldProperties.LABEL,\n      fieldProperties.TODAY_BUTTON_LABEL,\n      fieldProperties.IS_CLEARABLE,\n      fieldProperties.CLOSE_ON_DAY_SELECT,\n      fieldProperties.SHOW_TODAY_BUTTON,\n      fieldProperties.HIDE_FIELD\n    ]\n  },\n  [componentTypes.PLAIN_TEXT]: {\n    attributes: [fieldProperties.MULTI_LINE_LABEL]\n  },\n  [componentTypes.RADIO]: {\n    attributes: [\n      fieldProperties.LABEL,\n      fieldProperties.IS_DISABLED,\n      fieldProperties.OPTIONS,\n      fieldProperties.HIDE_FIELD\n    ]\n  },\n  [componentTypes.SWITCH]: {\n    attributes: [\n      fieldProperties.LABEL,\n      fieldProperties.IS_READ_ONLY,\n      fieldProperties.IS_DISABLED,\n      fieldProperties.HIDE_FIELD\n    ]\n  },\n  [componentTypes.TEXTAREA]: {\n    attributes: [\n      fieldProperties.LABEL,\n      fieldProperties.HELPER_TEXT,\n      fieldProperties.IS_READ_ONLY,\n      fieldProperties.IS_DISABLED,\n      fieldProperties.HIDE_FIELD\n    ]\n  }\n};\n\ncomponentProperties['select-field'] =\n  componentProperties[componentTypes.SELECT];\ncomponentProperties['textarea-field'] =\n  componentProperties[componentTypes.TEXTAREA];\nconst pf4Skin = {\n  componentMapper: {\n    ...catalogComponentMapper\n  },\n  builderMapper: {\n    ...builderMapper\n  },\n  pickerMapper: {\n    ...pickerMapper,\n    'select-field': pickerMapper[componentTypes.SELECT],\n    'textarea-field': pickerMapper[componentTypes.TEXTAREA]\n  },\n  propertiesMapper,\n  componentProperties\n};\n\n// remove after API full migration to v2\nconst changeValidators = (schema) => {\n  const result = { ...schema };\n  result.fields = result.fields.map(({ validate, ...rest }) => {\n    return validate\n      ? {\n          ...rest,\n          validate: validate.map(({ type, ...rest }) => ({\n            ...rest,\n            type: catalogValidatorAlias[type] || type\n          }))\n        }\n      : rest;\n  });\n  return result;\n};\n\n// remove after API full migration to v2\nconst appendValidator = (schema) => {\n  const result = { ...schema };\n  result.fields = result.fields.map(({ validate, ...rest }) => {\n    return validate\n      ? {\n          ...rest,\n          validate: validate.map(({ type, ...rest }) => ({\n            ...rest,\n            type:\n              type !== validatorTypes.MAX_NUMBER_VALUE &&\n              type !== validatorTypes.MIN_NUMBER_VALUE\n                ? `${type}-validator`\n                : type\n          }))\n        }\n      : rest;\n  });\n  return result;\n};\n\nconst BuilderWrapper = (props) => <FormBuilder {...props} />;\n\nconst SurveyEditor = ({ closeUrl, search, portfolioItem }) => {\n  const [schema, setSchema] = useState();\n  const [isFetching, setIsFetching] = useState(false);\n  const [baseSchema, setBaseSchema] = useState();\n  const [servicePlan, setServicePlan] = useState();\n  /**\n   * There is an issues with later versions react final form, that it ignores parent props changes and caches\n   * itself to increase performance. This had an unfortunate side effect of ignoring the outside schema changes\n   * which are not propagated to the component tree. We use this counter to destroy the old and create a new instance\n   * when the key (updateHack) counter is changed. There is currently no better sollution due to the fact that the\n   * react final form is an outside dependency.\n   * We will make an effort to fix it inside the library but until then we need this workaround.\n   */\n  const [updateHack, setUpdateHack] = useState(0);\n  const dispatch = useDispatch();\n  const { push } = useHistory();\n  const getServicePlan = () =>\n    getAxiosInstance()\n      .get(\n        `${CATALOG_API_BASE}/portfolio_items/${portfolioItem.id}/service_plans`\n      )\n      .then((servicePlan) => {\n        const [\n          {\n            create_json_schema: { schema }\n          }\n        ] = servicePlan;\n        setServicePlan(servicePlan[0]);\n        if (servicePlan[0].imported) {\n          return getAxiosInstance()\n            .get(`${CATALOG_API_BASE}/service_plans/${servicePlan[0].id}/base`)\n            .then((baseSchema) => {\n              setBaseSchema(\n                changeValidators(baseSchema.create_json_schema.schema)\n              );\n              return changeValidators(schema);\n            });\n        }\n\n        return changeValidators(schema);\n      })\n      .then((schema) => {\n        setSchema(schema);\n        setIsFetching(false);\n      });\n  useEffect(() => {\n    getServicePlan();\n  }, []);\n\n  const modifySurvey = (editedTemplate) =>\n    getServicePlansApi().patchServicePlanModified(`${servicePlan.id}`, {\n      modified: { schema: editedTemplate }\n    });\n  const createSurvey = (editedTemplate) =>\n    getServicePlansApi()\n      .createServicePlan({ portfolio_item_id: portfolioItem.id })\n      .then(([{ id }]) => id)\n      .then((id) =>\n        getServicePlansApi().patchServicePlanModified(`${id}`, {\n          modified: { schema: editedTemplate }\n        })\n      );\n  const handleSaveSurvey = (editedTemplate) => {\n    setIsFetching(true);\n    const submitCall = servicePlan.imported ? modifySurvey : createSurvey;\n    return submitCall(appendValidator(editedTemplate))\n      .then(() => {\n        setIsFetching(false);\n        dispatch(\n          addNotification({\n            variant: 'success',\n            title: `Survey of ${portfolioItem.name} has been modified.`,\n            dismissable: true\n          })\n        );\n        return push({ pathname: closeUrl, search });\n      })\n      .catch((error) => {\n        setIsFetching(false);\n        dispatch({ type: 'EDIT_SURVEY_REJECTED', payload: error });\n      });\n  };\n\n  const handleResetSurvey = (id) => {\n    setSchema(undefined);\n    getServicePlansApi()\n      .resetServicePlanModified(id)\n      .then(getServicePlan)\n      .then(() => {\n        /**\n         * Counter has to updated again after the update was successfull\n         * This mutation amkes sure that new instance will be created after the data was returned\n         * form API.\n         */\n        setUpdateHack((prevCount) => prevCount + 1);\n        return dispatch(\n          addNotification({\n            variant: 'success',\n            title: `Survey of ${portfolioItem.name} has been restored.`,\n            dismissable: true\n          })\n        );\n      });\n  };\n\n  return (\n    <Fragment>\n      {schema ? (\n        [\n          <BuilderWrapper\n            {...pf4Skin}\n            // this key is required to destroy outdated instances of the form builder\n            key={updateHack}\n            schema={schema}\n            disableDrag\n            disableAdd\n            schemaTemplate={baseSchema}\n            mode=\"subset\"\n            openEditor\n          >\n            {({ getSchema, isValid, ...props }) => (\n              <Fragment>\n                <SurveyEditingToolbar\n                  key=\"survey-editor-toolbar\"\n                  handleSaveSurvey={() => handleSaveSurvey(getSchema())}\n                  isValid={isValid}\n                  closeUrl={closeUrl}\n                  search={search}\n                  isFetching={isFetching || !schema}\n                  modified={servicePlan?.modified}\n                  handleResetSurvey={() => handleResetSurvey(servicePlan.id)}\n                />\n                <BuilderTemplate {...props} />;\n              </Fragment>\n            )}\n          </BuilderWrapper>\n        ]\n      ) : (\n        <Fragment>\n          <SurveyEditingToolbar\n            handleSaveSurvey={handleSaveSurvey}\n            closeUrl={closeUrl}\n            search={search}\n            isFetching={!schema || isFetching}\n          />\n          <Bullseye>\n            <Spinner />\n          </Bullseye>\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nSurveyEditor.propTypes = {\n  closeUrl: PropTypes.string.isRequired,\n  search: PropTypes.string.isRequired,\n  portfolioItem: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired\n  }).isRequired,\n  portfolio: PropTypes.object.isRequired\n};\n\nexport default SurveyEditor;\n"],"sourceRoot":""}