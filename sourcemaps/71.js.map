{"version":3,"sources":["webpack:///./node_modules/@patternfly/react-core/dist/js/components/Button/index.js","webpack:///./node_modules/@patternfly/react-core/dist/js/components/Card/Card.js","webpack:///./node_modules/@patternfly/react-icons/dist/js/icons/times-icon.js","webpack:///./node_modules/@patternfly/react-icons/dist/js/icons/angle-right-icon.js","webpack:///./node_modules/@patternfly/react-core/dist/js/components/Card/CardHeader.js","webpack:///./src/smart-components/portfolio/portfolio-item.js","webpack:///./node_modules/@patternfly/react-core/dist/js/components/Card/CardFooter.js","webpack:///./node_modules/@patternfly/react-core/dist/js/components/Label/Label.js","webpack:///./node_modules/@patternfly/react-icons/dist/js/icons/plus-circle-icon.js","webpack:///./src/toolbar/schemas/portfolio-toolbar.schema.js","webpack:///./src/smart-components/portfolio/portfolio-empty-state.js","webpack:///./src/smart-components/portfolio/portfolio-items.js"],"names":["Object","defineProperty","exports","value","__exportStar","Card","CardContext","tslib_1","React","__importStar","card_1","__importDefault","react_styles_1","helpers_1","createContext","cardId","isExpanded","_a","children","id","className","component","isHoverable","isCompact","isSelectable","isSelected","isFlat","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe","props","__rest","Component","ouiaProps","useOUIAProps","displayName","console","warn","createElement","Provider","assign","css","default","card","modifiers","hoverable","compact","selectable","selected","expanded","flat","rounded","displayLg","fullHeight","plain","tabIndex","undefined","__esModule","TimesIconConfig","name","height","width","svgPath","yOffset","xOffset","TimesIcon","createIcon","AngleRightIconConfig","AngleRightIcon","CardHeader","Card_1","Button_1","angle_right_icon_1","onExpand","toggleButtonProps","isToggleRightAligned","Consumer","cardHeaderToggle","Button","variant","type","onClick","evt","cardHeaderToggleIcon","cardHeader","toggleRight","StyledLevel","styled","Level","PortfolioItem","formatMessage","useFormatMessage","isDisabled","removeInProgress","src","CATALOG_API_BASE","sourceId","service_offering_source_ref","handleCheck","onSelect","isChecked","metadata","statistics","approval_processes","color","labelMessages","approvalProcessSet","propTypes","PropTypes","string","platformId","bool","func","orderUrl","portfolio_id","shape","user_capabilities","destroy","isRequired","CardFooter","cardFooter","Label","label_1","Tooltip_1","times_icon_1","colorStyles","blue","cyan","green","orange","purple","red","grey","isTruncated","tooltipPosition","icon","onClose","closeBtn","closeBtnProps","href","isOverflowLabel","render","LabelComponent","button","textRef","createRef","componentRef","useRef","isTooltipVisible","setIsTooltipVisible","useState","useLayoutEffect","current","offsetWidth","scrollWidth","content","Fragment","labelIcon","ref","labelText","labelComponentChild","labelContent","Tooltip","reference","position","label","outline","overflow","PlusCircleIconConfig","PlusCircleIcon","PortfolioActionsToolbar","editPortfolioRoute","workflowPortfolioRoute","removePortfolioRoute","copyInProgress","copyPortfolio","userCapabilities","copy","update","set_approval","canLinkOrderProcesses","isOpen","setOpen","dropdownItems","push","DropdownItem","aria-label","key","preserveSearch","pathname","role","orderProcessAction","orderProcessesMessages","setOrderProcess","NESTED_EDIT_ORDER_PROCESS_ROUTE","length","Dropdown","DropdownPosition","right","toggle","KebabToggle","onToggle","createPortfolioToolbarSchema","title","addProductsRoute","sharePortfolioRoute","isLoading","removeProducts","itemsSelected","meta","fetchPortfolioItemsWithPortfolio","portfolioId","description","fromProducts","filterProps","searchValue","onFilterChange","placeholder","share","unshare","fields","toolbarComponentTypes","TOP_TOOLBAR","breadcrumbs","hidden","BackToProducts","TOP_TOOLBAR_TITLE","noData","TOOLBAR","noWrap","createLinkButton","TOOLBAR_ITEM","LEVEL","groupName","FILTER_TOOLBAR_ITEM","isClearable","count","BUTTON","LEVEL_ITEM","AsyncPagination","apiRequest","apiProps","PortfolioEmptyState","url","handleFilterChange","emptyStateProps","PrimaryAction","portfolioMessages","addProducts","hasPermission","filteringMessages","clearFilters","noProducts","noResults","emptyNoProducts","noResultsDescription","Icon","SearchIcon","PortfolioItems","routes","stateDispatch","state","isFetching","isFiltering","selectedItems","filterValue","useSelector","portfolioReducer","portfolioItems","data","selectedPortfolio","useRouteMatch","PORTFOLIO_ROUTE","useQuery","portfolio","dispatch","useDispatch","userPermissions","useContext","UserContext","permissions","items","map","item","searchParams","source","selectedItem","payload","product","includes","schema","filterByProduct","renderEmptyState","dropDirection","portfolioRoute","arrayOf"],"mappings":"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","file":"js/71.bea621b6885afbca2dae.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./Button\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Card = exports.CardContext = void 0;\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst card_1 = tslib_1.__importDefault(require(\"@patternfly/react-styles/css/components/Card/card\"));\nconst react_styles_1 = require(\"@patternfly/react-styles\");\nconst helpers_1 = require(\"../../helpers\");\nexports.CardContext = React.createContext({\n    cardId: '',\n    isExpanded: false\n});\nexports.Card = (_a) => {\n    var { children = null, id = '', className = '', component = 'article', isHoverable = false, isCompact = false, isSelectable = false, isSelected = false, isFlat = false, isExpanded = false, isRounded = false, isLarge = false, isFullHeight = false, isPlain = false, ouiaId, ouiaSafe = true } = _a, props = tslib_1.__rest(_a, [\"children\", \"id\", \"className\", \"component\", \"isHoverable\", \"isCompact\", \"isSelectable\", \"isSelected\", \"isFlat\", \"isExpanded\", \"isRounded\", \"isLarge\", \"isFullHeight\", \"isPlain\", \"ouiaId\", \"ouiaSafe\"]);\n    const Component = component;\n    const ouiaProps = helpers_1.useOUIAProps(exports.Card.displayName, ouiaId, ouiaSafe);\n    if (isCompact && isLarge) {\n        // eslint-disable-next-line no-console\n        console.warn('Card: Cannot use isCompact with isLarge. Defaulting to isCompact');\n        isLarge = false;\n    }\n    return (React.createElement(exports.CardContext.Provider, { value: {\n            cardId: id,\n            isExpanded\n        } },\n        React.createElement(Component, Object.assign({ id: id, className: react_styles_1.css(card_1.default.card, isHoverable && card_1.default.modifiers.hoverable, isCompact && card_1.default.modifiers.compact, isSelectable && card_1.default.modifiers.selectable, isSelected && isSelectable && card_1.default.modifiers.selected, isExpanded && card_1.default.modifiers.expanded, isFlat && card_1.default.modifiers.flat, isRounded && card_1.default.modifiers.rounded, isLarge && card_1.default.modifiers.displayLg, isFullHeight && card_1.default.modifiers.fullHeight, isPlain && card_1.default.modifiers.plain, className), tabIndex: isSelectable ? '0' : undefined }, props, ouiaProps), children)));\n};\nexports.Card.displayName = 'Card';\n//# sourceMappingURL=Card.js.map","\"use strict\"\nexports.__esModule = true;\nexports.TimesIconConfig = {\n  name: 'TimesIcon',\n  height: 512,\n  width: 352,\n  svgPath: 'M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.TimesIcon = require('../createIcon').createIcon(exports.TimesIconConfig);\nexports[\"default\"] = exports.TimesIcon;","\"use strict\"\nexports.__esModule = true;\nexports.AngleRightIconConfig = {\n  name: 'AngleRightIcon',\n  height: 512,\n  width: 256,\n  svgPath: 'M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.AngleRightIcon = require('../createIcon').createIcon(exports.AngleRightIconConfig);\nexports[\"default\"] = exports.AngleRightIcon;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CardHeader = void 0;\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst react_styles_1 = require(\"@patternfly/react-styles\");\nconst card_1 = tslib_1.__importDefault(require(\"@patternfly/react-styles/css/components/Card/card\"));\nconst Card_1 = require(\"./Card\");\nconst Button_1 = require(\"../Button\");\nconst angle_right_icon_1 = tslib_1.__importDefault(require(\"@patternfly/react-icons/dist/js/icons/angle-right-icon\"));\nexports.CardHeader = (_a) => {\n    var { children = null, className = '', id, onExpand, toggleButtonProps, isToggleRightAligned } = _a, props = tslib_1.__rest(_a, [\"children\", \"className\", \"id\", \"onExpand\", \"toggleButtonProps\", \"isToggleRightAligned\"]);\n    return (React.createElement(Card_1.CardContext.Consumer, null, ({ cardId }) => {\n        const cardHeaderToggle = (React.createElement(\"div\", { className: react_styles_1.css(card_1.default.cardHeaderToggle) },\n            React.createElement(Button_1.Button, Object.assign({ variant: \"plain\", type: \"button\", onClick: evt => {\n                    onExpand(evt, cardId);\n                } }, toggleButtonProps),\n                React.createElement(\"span\", { className: react_styles_1.css(card_1.default.cardHeaderToggleIcon) },\n                    React.createElement(angle_right_icon_1.default, { \"aria-hidden\": \"true\" })))));\n        return (React.createElement(\"div\", Object.assign({ className: react_styles_1.css(card_1.default.cardHeader, isToggleRightAligned && card_1.default.modifiers.toggleRight, className), id: id }, props),\n            onExpand && !isToggleRightAligned && cardHeaderToggle,\n            children,\n            onExpand && isToggleRightAligned && cardHeaderToggle));\n    }));\n};\nexports.CardHeader.displayName = 'CardHeader';\n//# sourceMappingURL=CardHeader.js.map","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { CardHeader, CardFooter, Level, Label } from '@patternfly/react-core';\n\nimport { CATALOG_API_BASE } from '../../utilities/constants';\nimport CardIcon from '../../presentational-components/shared/card-icon';\nimport CardCheckbox from '../../presentational-components/shared/card-checkbox';\nimport ServiceOfferingCardBody from '../../presentational-components/shared/service-offering-body';\nimport {\n  StyledCard,\n  StyledGalleryItem\n} from '../../presentational-components/styled-components/styled-gallery';\nimport styled from 'styled-components';\nimport useFormatMessage from '../../utilities/use-format-message';\nimport labelMessages from '../../messages/labels.messages';\n\nconst StyledLevel = styled(Level)`\n  flex: 1;\n`;\n\nconst PortfolioItem = (props) => {\n  const formatMessage = useFormatMessage();\n  return (\n    <StyledGalleryItem isDisabled={props.removeInProgress && props.isSelected}>\n      <StyledCard ouiaId={`portfolio-item-${props.id}`}>\n        <CardHeader>\n          <StyledLevel>\n            <CardIcon\n              src={`${CATALOG_API_BASE}/portfolio_items/${props.id}/icon`}\n              sourceId={props.service_offering_source_ref}\n            />\n            {props.isSelectable && (\n              <CardCheckbox\n                handleCheck={() => props.onSelect(props.id)}\n                isChecked={props.isSelected}\n                id={props.id}\n              />\n            )}\n          </StyledLevel>\n        </CardHeader>\n        <ServiceOfferingCardBody {...props} />\n        <CardFooter>\n          {props.metadata?.statistics?.approval_processes > 0 ? (\n            <Label variant=\"filled\" color=\"grey\">\n              {formatMessage(labelMessages.approvalProcessSet)}\n            </Label>\n          ) : (\n            ''\n          )}\n        </CardFooter>\n      </StyledCard>\n    </StyledGalleryItem>\n  );\n};\n\nPortfolioItem.propTypes = {\n  id: PropTypes.string,\n  platformId: PropTypes.string,\n  service_offering_source_ref: PropTypes.string,\n  isSelectable: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  onSelect: PropTypes.func,\n  orderUrl: PropTypes.string,\n  removeInProgress: PropTypes.bool,\n  portfolio_id: PropTypes.string,\n  metadata: PropTypes.shape({\n    user_capabilities: PropTypes.shape({ destroy: PropTypes.bool }).isRequired\n  }).isRequired\n};\n\nexport default PortfolioItem;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CardFooter = void 0;\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst card_1 = tslib_1.__importDefault(require(\"@patternfly/react-styles/css/components/Card/card\"));\nconst react_styles_1 = require(\"@patternfly/react-styles\");\nexports.CardFooter = (_a) => {\n    var { children = null, className = '', component = 'div' } = _a, props = tslib_1.__rest(_a, [\"children\", \"className\", \"component\"]);\n    const Component = component;\n    return (React.createElement(Component, Object.assign({ className: react_styles_1.css(card_1.default.cardFooter, className) }, props), children));\n};\nexports.CardFooter.displayName = 'CardFooter';\n//# sourceMappingURL=CardFooter.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Label = void 0;\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst label_1 = tslib_1.__importDefault(require(\"@patternfly/react-styles/css/components/Label/label\"));\nconst Button_1 = require(\"../Button\");\nconst Tooltip_1 = require(\"../Tooltip\");\nconst react_styles_1 = require(\"@patternfly/react-styles\");\nconst times_icon_1 = tslib_1.__importDefault(require(\"@patternfly/react-icons/dist/js/icons/times-icon\"));\nconst colorStyles = {\n    blue: label_1.default.modifiers.blue,\n    cyan: label_1.default.modifiers.cyan,\n    green: label_1.default.modifiers.green,\n    orange: label_1.default.modifiers.orange,\n    purple: label_1.default.modifiers.purple,\n    red: label_1.default.modifiers.red,\n    grey: ''\n};\nexports.Label = (_a) => {\n    var { children, className = '', color = 'grey', variant = 'filled', isTruncated = false, tooltipPosition, icon, onClose, closeBtn, closeBtnProps, href, isOverflowLabel, render } = _a, props = tslib_1.__rest(_a, [\"children\", \"className\", \"color\", \"variant\", \"isTruncated\", \"tooltipPosition\", \"icon\", \"onClose\", \"closeBtn\", \"closeBtnProps\", \"href\", \"isOverflowLabel\", \"render\"]);\n    const LabelComponent = (isOverflowLabel ? 'button' : 'span');\n    const Component = href ? 'a' : 'span';\n    const button = closeBtn ? (closeBtn) : (React.createElement(Button_1.Button, Object.assign({ type: \"button\", variant: \"plain\", onClick: onClose }, Object.assign({ 'aria-label': 'label-close-button' }, closeBtnProps)),\n        React.createElement(times_icon_1.default, null)));\n    const textRef = React.createRef();\n    // ref to apply tooltip when rendered is used\n    const componentRef = React.useRef();\n    const [isTooltipVisible, setIsTooltipVisible] = React.useState(false);\n    React.useLayoutEffect(() => {\n        setIsTooltipVisible(textRef.current && textRef.current.offsetWidth < textRef.current.scrollWidth);\n    }, []);\n    const content = (React.createElement(React.Fragment, null,\n        icon && React.createElement(\"span\", { className: react_styles_1.css(label_1.default.labelIcon) }, icon),\n        isTruncated && (React.createElement(\"span\", { ref: textRef, className: react_styles_1.css(label_1.default.labelText) }, children)),\n        !isTruncated && children));\n    let labelComponentChild = (React.createElement(Component, Object.assign({ className: react_styles_1.css(label_1.default.labelContent) }, (href && { href })), content));\n    if (render) {\n        labelComponentChild = (React.createElement(React.Fragment, null,\n            isTooltipVisible && React.createElement(Tooltip_1.Tooltip, { reference: componentRef, content: children, position: tooltipPosition }),\n            render({\n                className: label_1.default.labelContent,\n                content,\n                componentRef\n            })));\n    }\n    else if (isTooltipVisible) {\n        labelComponentChild = (React.createElement(Tooltip_1.Tooltip, { content: children, position: tooltipPosition },\n            React.createElement(Component, Object.assign({ className: react_styles_1.css(label_1.default.labelContent) }, (href && { href })), content)));\n    }\n    return (React.createElement(LabelComponent, Object.assign({}, props, { className: react_styles_1.css(label_1.default.label, colorStyles[color], variant === 'outline' && label_1.default.modifiers.outline, isOverflowLabel && label_1.default.modifiers.overflow, className) }),\n        labelComponentChild,\n        onClose && button));\n};\nexports.Label.displayName = 'Label';\n//# sourceMappingURL=Label.js.map","\"use strict\"\nexports.__esModule = true;\nexports.PlusCircleIconConfig = {\n  name: 'PlusCircleIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.PlusCircleIcon = require('../createIcon').createIcon(exports.PlusCircleIconConfig);\nexports[\"default\"] = exports.PlusCircleIcon;","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Dropdown,\n  DropdownPosition,\n  KebabToggle,\n  DropdownItem\n} from '@patternfly/react-core';\n\nimport { toolbarComponentTypes } from '../toolbar-mapper';\nimport { createLinkButton } from '../helpers';\nimport AsyncPagination from '../../smart-components/common/async-pagination';\nimport CatalogLink from '../../smart-components/common/catalog-link';\nimport BackToProducts from '../../presentational-components/portfolio/back-to-products';\nimport useFormatMessage from '../../utilities/use-format-message';\nimport orderProcessesMessages from '../../messages/order-processes.messages';\nimport { NESTED_EDIT_ORDER_PROCESS_ROUTE } from '../../constants/routes';\n\n/**\n * Cannot be anonymous function. Requires Component.displayName to work with PF4 refs\n */\nconst PortfolioActionsToolbar = ({\n  editPortfolioRoute,\n  workflowPortfolioRoute,\n  removePortfolioRoute,\n  copyInProgress,\n  copyPortfolio,\n  userCapabilities: { copy, destroy, update, set_approval },\n  canLinkOrderProcesses\n}) => {\n  const [isOpen, setOpen] = useState(false);\n  const formatMessage = useFormatMessage();\n  const dropdownItems = [];\n\n  if (update) {\n    dropdownItems.push(\n      <DropdownItem\n        aria-label=\"Edit Portfolio\"\n        key=\"edit-portfolio\"\n        id=\"edit-portfolio\"\n        component={\n          <CatalogLink\n            id=\"edit-portfolio\"\n            preserveSearch\n            pathname={editPortfolioRoute}\n          >\n            Edit\n          </CatalogLink>\n        }\n        role=\"link\"\n      />\n    );\n  }\n\n  if (copy) {\n    dropdownItems.push(\n      <DropdownItem\n        component=\"button\"\n        aria-label=\"Copy Portfolio\"\n        key=\"copy-portfolio\"\n        id=\"copy-portfolio\"\n        onClick={copyPortfolio}\n      >\n        Copy\n      </DropdownItem>\n    );\n  }\n\n  if (set_approval) {\n    dropdownItems.push(\n      <DropdownItem\n        aria-label=\"Set approval workflow\"\n        key=\"set-approval-portfolio-action\"\n        id=\"set-approval-portfolio-action\"\n        component={\n          <CatalogLink preserveSearch pathname={workflowPortfolioRoute}>\n            Set approval\n          </CatalogLink>\n        }\n        role=\"link\"\n      />\n    );\n  }\n\n  if (update && canLinkOrderProcesses) {\n    const orderProcessAction = formatMessage(\n      orderProcessesMessages.setOrderProcess\n    );\n    dropdownItems.push(\n      <DropdownItem\n        aria-label={orderProcessAction}\n        key=\"attach-order-processes\"\n        id=\"attach-order-processes\"\n        component={\n          <CatalogLink\n            preserveSearch\n            pathname={NESTED_EDIT_ORDER_PROCESS_ROUTE}\n          >\n            {orderProcessAction}\n          </CatalogLink>\n        }\n        role=\"link\"\n      />\n    );\n  }\n\n  if (destroy) {\n    dropdownItems.push(\n      <DropdownItem\n        aria-label=\"Remove Portfolio\"\n        key=\"delete-portfolio\"\n        id=\"delete-portfolio\"\n        component={\n          <CatalogLink preserveSearch pathname={removePortfolioRoute}>\n            Delete\n          </CatalogLink>\n        }\n        role=\"link\"\n        className=\"pf-c-dropdown__menu-item\"\n      />\n    );\n  }\n\n  return dropdownItems.length === 0 ? null : (\n    <Dropdown\n      className=\"pf-u-ml-md\"\n      onSelect={() => setOpen(false)}\n      position={DropdownPosition.right}\n      toggle={\n        <KebabToggle\n          id=\"toggle-portfolio-actions\"\n          onToggle={setOpen}\n          isDisabled={copyInProgress}\n        />\n      }\n      isOpen={isOpen}\n      isPlain\n      dropdownItems={dropdownItems}\n    />\n  );\n};\n\nPortfolioActionsToolbar.propTypes = {\n  removePortfolioRoute: PropTypes.string.isRequired,\n  editPortfolioRoute: PropTypes.string.isRequired,\n  workflowPortfolioRoute: PropTypes.string.isRequired,\n  copyPortfolio: PropTypes.func.isRequired,\n  copyInProgress: PropTypes.bool,\n  userCapabilities: PropTypes.shape({\n    copy: PropTypes.bool,\n    update: PropTypes.bool,\n    destroy: PropTypes.bool,\n    set_approval: PropTypes.bool\n  }).isRequired,\n  canLinkOrderProcesses: PropTypes.bool\n};\n\nconst createPortfolioToolbarSchema = ({\n  title,\n  addProductsRoute,\n  copyPortfolio,\n  sharePortfolioRoute,\n  editPortfolioRoute,\n  workflowPortfolioRoute,\n  removePortfolioRoute,\n  copyInProgress,\n  isLoading,\n  removeProducts,\n  itemsSelected,\n  meta,\n  fetchPortfolioItemsWithPortfolio,\n  portfolioId,\n  description,\n  fromProducts,\n  filterProps: { searchValue, onFilterChange, placeholder },\n  userCapabilities: { share, unshare, ...userCapabilities },\n  canLinkOrderProcesses\n}) => ({\n  fields: [\n    {\n      component: toolbarComponentTypes.TOP_TOOLBAR,\n      breadcrumbs: !fromProducts,\n      key: 'portfolio-top-toolbar',\n      fields: [\n        {\n          key: 'back-to-products',\n          hidden: !fromProducts,\n          component: BackToProducts\n        },\n        {\n          component: toolbarComponentTypes.TOP_TOOLBAR_TITLE,\n          key: 'portfolio-toolbar-title',\n          noData: meta.noData,\n          title,\n          description,\n          fields: [\n            {\n              component: toolbarComponentTypes.TOOLBAR,\n              key: 'portfolio-actions',\n              noWrap: true,\n              fields: [\n                createLinkButton({\n                  pathname: sharePortfolioRoute,\n                  preserveSearch: true,\n                  variant: 'secondary',\n                  title: 'Share',\n                  isDisabled: copyInProgress,\n                  key: 'portfolio-share-button',\n                  id: 'portfolio-share-button',\n                  hidden: !share && !unshare\n                }),\n                {\n                  component: toolbarComponentTypes.TOOLBAR_ITEM,\n                  key: 'portfolio-actions-dropdown-item',\n                  fields: [\n                    {\n                      component: PortfolioActionsToolbar,\n                      editPortfolioRoute,\n                      workflowPortfolioRoute,\n                      removePortfolioRoute,\n                      copyPortfolio,\n                      copyInProgress,\n                      userCapabilities,\n                      canLinkOrderProcesses,\n                      key: 'portfolio-actions-dropdown'\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        },\n        {\n          component: toolbarComponentTypes.LEVEL,\n          key: 'portfolio-items-actions',\n          fields: meta.noData\n            ? []\n            : [\n                {\n                  component: toolbarComponentTypes.TOOLBAR,\n                  key: 'portfolio-items-actions',\n                  fields: [\n                    {\n                      groupName: 'filter-portfolio-items',\n                      component: toolbarComponentTypes.FILTER_TOOLBAR_ITEM,\n                      isClearable: true,\n                      key: 'portfolio-items-filter',\n                      searchValue,\n                      onFilterChange,\n                      placeholder\n                    },\n                    {\n                      hidden: meta.count === 0 || !userCapabilities.update,\n                      groupName: 'add-portfolio-items',\n                      key: 'portfolio-items-add-group',\n                      ...createLinkButton({\n                        preserveSearch: true,\n                        pathname: addProductsRoute,\n                        isDisabled: isLoading || copyInProgress,\n                        variant: 'primary',\n                        title: 'Add',\n                        id: 'add-products-button',\n                        key: 'add-products-button'\n                      })\n                    },\n                    {\n                      component: toolbarComponentTypes.TOOLBAR_ITEM,\n                      key: 'remove-products-item',\n                      hidden: meta.count === 0 || !userCapabilities.update,\n                      fields: [\n                        {\n                          component: toolbarComponentTypes.BUTTON,\n                          groupName: 'remove-portfolio-items',\n                          variant: 'link',\n                          title: 'Remove',\n                          key: 'remove-products-button',\n                          id: 'remove-products-button',\n                          isDisabled: !itemsSelected,\n                          onClick: removeProducts\n                        }\n                      ]\n                    }\n                  ]\n                },\n                {\n                  component: toolbarComponentTypes.LEVEL_ITEM,\n                  key: 'pagination-item',\n                  fields:\n                    meta.count > 0\n                      ? [\n                          {\n                            component: AsyncPagination,\n                            key: 'portfolio-items-pagination',\n                            meta,\n                            apiRequest: fetchPortfolioItemsWithPortfolio,\n                            apiProps: portfolioId,\n                            isCompact: true\n                          }\n                        ]\n                      : []\n                }\n              ]\n        }\n      ]\n    }\n  ]\n});\n\nexport default createPortfolioToolbarSchema;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SearchIcon, PlusCircleIcon } from '@patternfly/react-icons';\n\nimport ContentGalleryEmptyState, {\n  EmptyStatePrimaryAction\n} from '../../presentational-components/shared/content-gallery-empty-state';\nimport { Button } from '@patternfly/react-core';\nimport filteringMessages from '../../messages/filtering.messages';\nimport portfolioMessages from '../../messages/portfolio.messages';\nimport useFormatMessage from '../../utilities/use-format-message';\n\nconst PortfolioEmptyState = ({\n  url,\n  handleFilterChange,\n  meta,\n  userCapabilities: { update }\n}) => {\n  const formatMessage = useFormatMessage();\n  const NoDataAction = () => (\n    <EmptyStatePrimaryAction\n      url={url}\n      label={formatMessage(portfolioMessages.addProducts)}\n      id=\"add-products-to-portfolio\"\n      hasPermission={update}\n    />\n  );\n\n  const FilterAction = () => (\n    <Button\n      id=\"clear-portfolio-filter\"\n      ouiaId=\"clear-portfolio-filter\"\n      variant=\"link\"\n      onClick={() => handleFilterChange('')}\n    >\n      {formatMessage(filteringMessages.clearFilters)}\n    </Button>\n  );\n\n  const emptyStateProps = {\n    PrimaryAction: meta.noData ? NoDataAction : FilterAction,\n    title: meta.noData\n      ? formatMessage(filteringMessages.noProducts)\n      : formatMessage(filteringMessages.noResults),\n    description: meta.noData\n      ? formatMessage(portfolioMessages.emptyNoProducts)\n      : formatMessage(filteringMessages.noResultsDescription),\n    Icon: meta.noData ? PlusCircleIcon : SearchIcon\n  };\n  return <ContentGalleryEmptyState {...emptyStateProps} />;\n};\n\nPortfolioEmptyState.propTypes = {\n  url: PropTypes.string.isRequired,\n  handleFilterChange: PropTypes.func.isRequired,\n  meta: PropTypes.shape({\n    noData: PropTypes.bool\n  }).isRequired,\n  userCapabilities: PropTypes.shape({\n    update: PropTypes.bool\n  }).isRequired\n};\n\nexport default PortfolioEmptyState;\n","import React, { Fragment, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { useRouteMatch } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport ToolbarRenderer from '../../toolbar/toolbar-renderer';\nimport createPortfolioToolbarSchema from '../../toolbar/schemas/portfolio-toolbar.schema';\nimport PortfolioEmptyState from './portfolio-empty-state';\nimport ContentGallery from '../content-gallery/content-gallery';\nimport PortfolioItem from './portfolio-item';\nimport { fetchPortfolioItemsWithPortfolio } from '../../redux/actions/portfolio-actions';\nimport AsyncPagination from '../common/async-pagination';\nimport BottomPaginationContainer from '../../presentational-components/shared/bottom-pagination-container';\nimport useQuery from '../../utilities/use-query';\nimport { PORTFOLIO_ROUTE } from '../../constants/routes';\nimport filteringMessages from '../../messages/filtering.messages';\nimport useFormatMessage from '../../utilities/use-format-message';\nimport UserContext from '../../user-context';\nimport { hasPermission } from '../../helpers/shared/helpers';\n\nconst PortfolioItems = ({\n  routes,\n  handleFilterChange,\n  removeProducts,\n  copyPortfolio,\n  stateDispatch,\n  fromProducts,\n  state: {\n    removeInProgress,\n    isFetching,\n    isFiltering,\n    copyInProgress,\n    selectedItems,\n    filterValue\n  }\n}) => {\n  const formatMessage = useFormatMessage();\n  const { data, meta, name, description, userCapabilities } = useSelector(\n    ({\n      portfolioReducer: {\n        portfolioItems: { data, meta },\n        selectedPortfolio: {\n          name,\n          description,\n          metadata: { user_capabilities }\n        }\n      }\n    }) => ({\n      data,\n      meta,\n      name,\n      description,\n      userCapabilities: user_capabilities\n    })\n  );\n  const { url } = useRouteMatch(PORTFOLIO_ROUTE);\n  const [{ portfolio: id }] = useQuery(['portfolio']);\n  const dispatch = useDispatch();\n  const { permissions: userPermissions } = useContext(UserContext);\n  const canLinkOrderProcesses = hasPermission(userPermissions, [\n    'catalog:order_processes:link'\n  ]);\n\n  const items = data.map((item) => (\n    <PortfolioItem\n      key={item.id}\n      {...item}\n      pathname={`${url}/portfolio-item`}\n      searchParams={{\n        source: item.service_offering_source_ref,\n        'portfolio-item': item.id\n      }}\n      preserveSearch\n      isSelectable={userCapabilities.update}\n      onSelect={(selectedItem) =>\n        stateDispatch({\n          type: 'selectItem',\n          payload: { selectedItem, product: item }\n        })\n      }\n      isSelected={selectedItems.includes(item.id)}\n      removeInProgress={removeInProgress}\n    />\n  ));\n\n  return (\n    <Fragment>\n      <ToolbarRenderer\n        schema={createPortfolioToolbarSchema({\n          fromProducts,\n          filterProps: {\n            searchValue: filterValue,\n            onFilterChange: handleFilterChange,\n            placeholder: formatMessage(filteringMessages.filterByProduct)\n          },\n          title: name,\n          description,\n          ...routes,\n          copyPortfolio,\n          isLoading: isFetching || isFiltering,\n          copyInProgress,\n          removeProducts: () => removeProducts(selectedItems),\n          itemsSelected: selectedItems.length > 0,\n          meta,\n          fetchPortfolioItemsWithPortfolio: (...args) =>\n            dispatch(fetchPortfolioItemsWithPortfolio(...args)),\n          portfolioId: id,\n          userCapabilities,\n          canLinkOrderProcesses\n        })}\n      />\n      <ContentGallery\n        items={items}\n        isLoading={isFetching || isFiltering}\n        renderEmptyState={() => (\n          <PortfolioEmptyState\n            handleFilterChange={handleFilterChange}\n            meta={meta}\n            userCapabilities={userCapabilities}\n            url={routes.addProductsRoute}\n          />\n        )}\n      />\n      {meta.count > 0 && (\n        <BottomPaginationContainer>\n          <AsyncPagination\n            dropDirection=\"up\"\n            meta={meta}\n            apiProps={id}\n            apiRequest={(...args) =>\n              dispatch(fetchPortfolioItemsWithPortfolio(...args))\n            }\n          />\n        </BottomPaginationContainer>\n      )}\n    </Fragment>\n  );\n};\n\nPortfolioItems.propTypes = {\n  routes: PropTypes.shape({\n    addProductsRoute: PropTypes.string.isRequired,\n    portfolioRoute: PropTypes.string.isRequired\n  }).isRequired,\n  handleFilterChange: PropTypes.func.isRequired,\n  removeProducts: PropTypes.func.isRequired,\n  copyPortfolio: PropTypes.func.isRequired,\n  stateDispatch: PropTypes.func.isRequired,\n  state: PropTypes.shape({\n    removeInProgress: PropTypes.bool,\n    isFetching: PropTypes.bool,\n    isFiltering: PropTypes.bool,\n    copyInProgress: PropTypes.bool,\n    selectedItems: PropTypes.arrayOf(PropTypes.string),\n    filterValue: PropTypes.string\n  }).isRequired,\n  fromProducts: PropTypes.bool\n};\n\nexport default PortfolioItems;\n"],"sourceRoot":""}