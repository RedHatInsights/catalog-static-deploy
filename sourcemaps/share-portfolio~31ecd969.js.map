{"version":3,"sources":["webpack:///./src/utilities/use-enhanced-history.js","webpack:///./src/messages/filtering.messages.ts","webpack:///./node_modules/lodash/_assocIndexOf.js","webpack:///./node_modules/lodash/isEqual.js","webpack:///./node_modules/lodash/_baseIsEqual.js","webpack:///./node_modules/lodash/_baseIsEqualDeep.js","webpack:///./node_modules/lodash/_Stack.js","webpack:///./node_modules/lodash/_listCacheClear.js","webpack:///./node_modules/lodash/_listCacheDelete.js","webpack:///./node_modules/lodash/eq.js","webpack:///./node_modules/lodash/_listCacheGet.js","webpack:///./node_modules/lodash/_listCacheHas.js","webpack:///./node_modules/lodash/_listCacheSet.js","webpack:///./node_modules/lodash/_equalArrays.js","webpack:///./node_modules/lodash/_arraySome.js","webpack:///./node_modules/lodash/_equalByTag.js","webpack:///./node_modules/lodash/_equalObjects.js","webpack:///./node_modules/lodash/_getAllKeys.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/_getTag.js","webpack:///./node_modules/lodash/isBuffer.js","webpack:///./node_modules/lodash/isTypedArray.js","webpack:///./src/forms/portfolio-share-form.schema.ts","webpack:///./src/helpers/share/share-helper.ts","webpack:///./src/redux/actions/share-actions.js","webpack:///./src/helpers/rbac/rbac-helper.ts","webpack:///./src/helpers/portfolio/share-portfolio-message.ts","webpack:///./src/smart-components/portfolio/share-portfolio-modal.js"],"names":["removeSearchQuery","target","split","search","undefined","useEnhancedHistory","removeSearch","keepHash","history","useHistory","push","internalTarget","location","hash","length","filteringMessages","noItems","id","defaultMessage","filterByProduct","noResults","noResultsDescription","clearFilters","noProducts","noRecords","filterByTitle","noResultsFound","noResult","unknown","eq","module","exports","array","key","baseIsEqual","value","other","baseIsEqualDeep","isObjectLike","bitmask","customizer","stack","Stack","equalArrays","equalByTag","equalObjects","getTag","isArray","isBuffer","isTypedArray","objectTag","hasOwnProperty","Object","prototype","object","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","call","othIsWrapped","objUnwrapped","othUnwrapped","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","index","this","clear","entry","set","get","has","__data__","size","assocIndexOf","splice","Array","data","pop","SetCache","arraySome","cacheHas","isPartial","arrLength","othLength","stacked","result","seen","arrValue","othValue","compared","othIndex","predicate","getAllKeys","objProps","objLength","skipCtor","objValue","objCtor","constructor","othCtor","nativeKeys","overArg","keys","func","transform","arg","nativeObjectToString","toString","newShareSchema","loadGroupOptions","permissionVerbs","component","description","name","fields","loadOptions","isSearchable","permissions","groupShareSchema","createPortfolioShareSchema","canShare","canUnshare","axiosInstance","userApi","getShareInfo","portfolioId","sharePortfolio","portfolioData","type","ActionTypes","payload","policy","group_uuids","group_uuid","unsharePortfolio","groupMessage","groupNames","formatMessage","shareSuccessTwoGroup","group1","group2","shareSuccessMultipleGroups","count","shareData","initialGroups","removedGroups","newGroups","portfolioName","title","shareSuccessTitle","changedPermissions","filter","originalGroup","find","group","unshared","shared","shareSuccessTitleOnlyUnsharing","shareSuccessDescriptionOnlyUnsharing","map","b","shareSuccessTitleOnlySharing","shareSuccessDescriptionOnlySharing","shareSuccessTitleOnlyChaningPermissions","shareSuccessDescriptionOnlyChaningPermissions","SharePortfolioModal","closeUrl","viewState","useFormatMessage","dispatch","useDispatch","useQuery","portfolio","useState","isFetching","setFetching","useSelector","portfolioReducer","selectedPortfolio","isLoading","initialValues","shareInfo","shareReducer","useEffect","ShareHelper","then","onCancel","resetSelectedPortfolio","pathname","metadata","user_capabilities","share","unshare","isLoadingFinal","Modal","portfolioMessages","portfolioShareTitle","isOpen","variant","onClose","hasGutter","StackItem","TextContent","Text","portfolioShareDescription","strong","chunks","schema","inputValue","filterValue","uuid","label","permissionOptions","schemaType","onSubmit","formApi","getState","item","forEach","initialEntry","isEqual","createSharePromise","action","sharePromises","sharePorfolioMessage","Promise","all","ADD_NOTIFICATION","dismissable","fetchPortfolios","validate","values","errors","portfolioSharePermissions","portfolioShareGroups","groupPermissions","permission","permissionValues","indexOf","groupName","group_name","options","perm","sort","join","templateProps","disableSubmit","submitLabel","portfolioShareApply","propTypes","PropTypes","string","isRequired","bool","shape","number","limit","offset"],"mappings":"2sBAEA,IAAMA,EAAoB,SAACC,GACzB,MAAsB,iBAAXA,EACFA,EAAOC,MAAM,KAAK,GAGL,WAAlB,IAAOD,GACT,OACKA,GADL,IAEEE,YAAQC,IAILH,GA8BMI,IAtBY,WAAqC,6DAAP,GAA3BC,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,SACpCC,EAAUC,cAChB,cACKD,GADL,IAEEE,KAAM,SAACT,GACL,IAAIU,EAAiBV,EAQrB,OAPIM,GAAYC,EAAQI,SAASC,KAAKC,OAAS,IAC7CH,EAC4B,WAA1B,IAAOA,GAAP,OACSA,GADT,IACyBE,KAAML,EAAQI,SAASC,OADhD,UAEOF,GAFP,OAEwBH,EAAQI,SAASC,OAGzCP,EACKE,EAAQE,KAAKV,EAAkBW,IAGjCH,EAAQE,KAAKC,Q,iCCvC1B,YAEMI,EAAoB,YAAe,CACvCC,QAAS,CACPC,GAAI,2BACJC,eAAgB,kBAElBC,gBAAiB,CACfF,GAAI,mCACJC,eAAgB,qBAElBE,UAAW,CACTH,GAAI,6BACJC,eAAgB,oBAElBG,qBAAsB,CACpBJ,GAAI,wCACJC,eACE,kGAEJI,aAAc,CACZL,GAAI,iCACJC,eAAgB,qBAElBK,WAAY,CACVN,GAAI,+BACJC,eAAgB,mBAElBM,UAAW,CACTP,GAAI,2BACJC,eAAgB,cAElBO,cAAe,CACbR,GAAI,6BACJC,eAAgB,qBAElBQ,eAAgB,CACdT,GAAI,8BACJC,eAAgB,oBAElBS,SAAU,CACRV,GAAI,wBACJC,eAAgB,gBAElBU,QAAS,CACPX,GAAI,yBACJC,eAAgB,aAIL,O,oBClDf,IAAIW,EAAK,EAAQ,KAoBjBC,EAAOC,QAVP,SAAsBC,EAAOC,GAE3B,IADA,IAAInB,EAASkB,EAAMlB,OACZA,KACL,GAAIe,EAAGG,EAAMlB,GAAQ,GAAImB,GACvB,OAAOnB,EAGX,OAAQ,I,oBCjBV,IAAIoB,EAAc,EAAQ,KAkC1BJ,EAAOC,QAJP,SAAiBI,EAAOC,GACtB,OAAOF,EAAYC,EAAOC,K,oBC/B5B,IAAIC,EAAkB,EAAQ,KAC1BC,EAAe,EAAQ,KA0B3BR,EAAOC,QAVP,SAASG,EAAYC,EAAOC,EAAOG,EAASC,EAAYC,GACtD,OAAIN,IAAUC,IAGD,MAATD,GAA0B,MAATC,IAAmBE,EAAaH,KAAWG,EAAaF,GACpED,GAAUA,GAASC,GAAUA,EAE/BC,EAAgBF,EAAOC,EAAOG,EAASC,EAAYN,EAAaO,M,oBCxBzE,IAAIC,EAAQ,EAAQ,KAChBC,EAAc,EAAQ,KACtBC,EAAa,EAAQ,KACrBC,EAAe,EAAQ,KACvBC,EAAS,EAAQ,KACjBC,EAAU,EAAQ,KAClBC,EAAW,EAAQ,KACnBC,EAAe,EAAQ,KAQvBC,EAAY,kBAMZC,EAHcC,OAAOC,UAGQF,eA6DjCrB,EAAOC,QA7CP,SAAyBuB,EAAQlB,EAAOG,EAASC,EAAYe,EAAWd,GACtE,IAAIe,EAAWT,EAAQO,GACnBG,EAAWV,EAAQX,GACnBsB,EAASF,EA1BA,iBA0BsBV,EAAOQ,GACtCK,EAASF,EA3BA,iBA2BsBX,EAAOV,GAKtCwB,GAHJF,EA9BY,sBA8BHA,EAAoBR,EAAYQ,IAGhBR,EACrBW,GAHJF,EA/BY,sBA+BHA,EAAoBT,EAAYS,IAGhBT,EACrBY,EAAYJ,GAAUC,EAE1B,GAAIG,GAAad,EAASM,GAAS,CACjC,IAAKN,EAASZ,GACZ,OAAO,EAEToB,GAAW,EACXI,GAAW,EAEb,GAAIE,IAAcF,EAEhB,OADAnB,IAAUA,EAAQ,IAAIC,GACdc,GAAYP,EAAaK,GAC7BX,EAAYW,EAAQlB,EAAOG,EAASC,EAAYe,EAAWd,GAC3DG,EAAWU,EAAQlB,EAAOsB,EAAQnB,EAASC,EAAYe,EAAWd,GAExE,KArDyB,EAqDnBF,GAAiC,CACrC,IAAIwB,EAAeH,GAAYT,EAAea,KAAKV,EAAQ,eACvDW,EAAeJ,GAAYV,EAAea,KAAK5B,EAAO,eAE1D,GAAI2B,GAAgBE,EAAc,CAChC,IAAIC,EAAeH,EAAeT,EAAOnB,QAAUmB,EAC/Ca,EAAeF,EAAe7B,EAAMD,QAAUC,EAGlD,OADAK,IAAUA,EAAQ,IAAIC,GACfa,EAAUW,EAAcC,EAAc5B,EAASC,EAAYC,IAGtE,QAAKqB,IAGLrB,IAAUA,EAAQ,IAAIC,GACfG,EAAaS,EAAQlB,EAAOG,EAASC,EAAYe,EAAWd,M,oBC/ErE,IAAI2B,EAAiB,EAAQ,KACzBC,EAAkB,EAAQ,KAC1BC,EAAe,EAAQ,KACvBC,EAAe,EAAQ,KACvBC,EAAe,EAAQ,KAS3B,SAASC,EAAUC,GACjB,IAAIC,GAAS,EACT7D,EAAoB,MAAX4D,EAAkB,EAAIA,EAAQ5D,OAG3C,IADA8D,KAAKC,UACIF,EAAQ7D,GAAQ,CACvB,IAAIgE,EAAQJ,EAAQC,GACpBC,KAAKG,IAAID,EAAM,GAAIA,EAAM,KAK7BL,EAAUpB,UAAUwB,MAAQT,EAC5BK,EAAUpB,UAAkB,OAAIgB,EAChCI,EAAUpB,UAAU2B,IAAMV,EAC1BG,EAAUpB,UAAU4B,IAAMV,EAC1BE,EAAUpB,UAAU0B,IAAMP,EAE1B1C,EAAOC,QAAU0C,G,kBCnBjB3C,EAAOC,QALP,WACE6C,KAAKM,SAAW,GAChBN,KAAKO,KAAO,I,oBCTd,IAAIC,EAAe,EAAQ,KAMvBC,EAHaC,MAAMjC,UAGCgC,OA4BxBvD,EAAOC,QAjBP,SAAyBE,GACvB,IAAIsD,EAAOX,KAAKM,SACZP,EAAQS,EAAaG,EAAMtD,GAE/B,QAAI0C,EAAQ,KAIRA,GADYY,EAAKzE,OAAS,EAE5ByE,EAAKC,MAELH,EAAOrB,KAAKuB,EAAMZ,EAAO,KAEzBC,KAAKO,MACA,K,kBCKTrD,EAAOC,QAJP,SAAYI,EAAOC,GACjB,OAAOD,IAAUC,GAAUD,GAAUA,GAASC,GAAUA,I,oBCjC1D,IAAIgD,EAAe,EAAQ,KAkB3BtD,EAAOC,QAPP,SAAsBE,GACpB,IAAIsD,EAAOX,KAAKM,SACZP,EAAQS,EAAaG,EAAMtD,GAE/B,OAAO0C,EAAQ,OAAIvE,EAAYmF,EAAKZ,GAAO,K,oBCf7C,IAAIS,EAAe,EAAQ,KAe3BtD,EAAOC,QAJP,SAAsBE,GACpB,OAAOmD,EAAaR,KAAKM,SAAUjD,IAAQ,I,oBCZ7C,IAAImD,EAAe,EAAQ,KAyB3BtD,EAAOC,QAbP,SAAsBE,EAAKE,GACzB,IAAIoD,EAAOX,KAAKM,SACZP,EAAQS,EAAaG,EAAMtD,GAQ/B,OANI0C,EAAQ,KACRC,KAAKO,KACPI,EAAK7E,KAAK,CAACuB,EAAKE,KAEhBoD,EAAKZ,GAAO,GAAKxC,EAEZyC,O,oBCtBT,IAAIa,EAAW,EAAQ,KACnBC,EAAY,EAAQ,KACpBC,EAAW,EAAQ,KAgFvB7D,EAAOC,QA7DP,SAAqBC,EAAOI,EAAOG,EAASC,EAAYe,EAAWd,GACjE,IAAImD,EAjBqB,EAiBTrD,EACZsD,EAAY7D,EAAMlB,OAClBgF,EAAY1D,EAAMtB,OAEtB,GAAI+E,GAAaC,KAAeF,GAAaE,EAAYD,GACvD,OAAO,EAGT,IAAIE,EAAUtD,EAAMuC,IAAIhD,GACxB,GAAI+D,GAAWtD,EAAMuC,IAAI5C,GACvB,OAAO2D,GAAW3D,EAEpB,IAAIuC,GAAS,EACTqB,GAAS,EACTC,EA9BuB,EA8Bf1D,EAAoC,IAAIkD,OAAWrF,EAM/D,IAJAqC,EAAMsC,IAAI/C,EAAOI,GACjBK,EAAMsC,IAAI3C,EAAOJ,KAGR2C,EAAQkB,GAAW,CAC1B,IAAIK,EAAWlE,EAAM2C,GACjBwB,EAAW/D,EAAMuC,GAErB,GAAInC,EACF,IAAI4D,EAAWR,EACXpD,EAAW2D,EAAUD,EAAUvB,EAAOvC,EAAOJ,EAAOS,GACpDD,EAAW0D,EAAUC,EAAUxB,EAAO3C,EAAOI,EAAOK,GAE1D,QAAiBrC,IAAbgG,EAAwB,CAC1B,GAAIA,EACF,SAEFJ,GAAS,EACT,MAGF,GAAIC,GACF,IAAKP,EAAUtD,GAAO,SAAS+D,EAAUE,GACnC,IAAKV,EAASM,EAAMI,KACfH,IAAaC,GAAY5C,EAAU2C,EAAUC,EAAU5D,EAASC,EAAYC,IAC/E,OAAOwD,EAAKvF,KAAK2F,MAEjB,CACNL,GAAS,EACT,YAEG,GACDE,IAAaC,IACX5C,EAAU2C,EAAUC,EAAU5D,EAASC,EAAYC,GACpD,CACLuD,GAAS,EACT,OAKJ,OAFAvD,EAAc,OAAET,GAChBS,EAAc,OAAEL,GACT4D,I,kBCzDTlE,EAAOC,QAZP,SAAmBC,EAAOsE,GAIxB,IAHA,IAAI3B,GAAS,EACT7D,EAAkB,MAATkB,EAAgB,EAAIA,EAAMlB,SAE9B6D,EAAQ7D,GACf,GAAIwF,EAAUtE,EAAM2C,GAAQA,EAAO3C,GACjC,OAAO,EAGX,OAAO,I,kBCiBTF,EAAOC,QAJP,SAAYI,EAAOC,GACjB,OAAOD,IAAUC,GAAUD,GAAUA,GAASC,GAAUA,I,oBCjC1D,IAAImE,EAAa,EAAQ,KASrBpD,EAHcC,OAAOC,UAGQF,eA+EjCrB,EAAOC,QAhEP,SAAsBuB,EAAQlB,EAAOG,EAASC,EAAYe,EAAWd,GACnE,IAAImD,EAtBqB,EAsBTrD,EACZiE,EAAWD,EAAWjD,GACtBmD,EAAYD,EAAS1F,OAIzB,GAAI2F,GAHWF,EAAWnE,GACDtB,SAEM8E,EAC7B,OAAO,EAGT,IADA,IAAIjB,EAAQ8B,EACL9B,KAAS,CACd,IAAI1C,EAAMuE,EAAS7B,GACnB,KAAMiB,EAAY3D,KAAOG,EAAQe,EAAea,KAAK5B,EAAOH,IAC1D,OAAO,EAIX,IAAI8D,EAAUtD,EAAMuC,IAAI1B,GACxB,GAAIyC,GAAWtD,EAAMuC,IAAI5C,GACvB,OAAO2D,GAAW3D,EAEpB,IAAI4D,GAAS,EACbvD,EAAMsC,IAAIzB,EAAQlB,GAClBK,EAAMsC,IAAI3C,EAAOkB,GAGjB,IADA,IAAIoD,EAAWd,IACNjB,EAAQ8B,GAAW,CAE1B,IAAIE,EAAWrD,EADfrB,EAAMuE,EAAS7B,IAEXwB,EAAW/D,EAAMH,GAErB,GAAIO,EACF,IAAI4D,EAAWR,EACXpD,EAAW2D,EAAUQ,EAAU1E,EAAKG,EAAOkB,EAAQb,GACnDD,EAAWmE,EAAUR,EAAUlE,EAAKqB,EAAQlB,EAAOK,GAGzD,UAAmBrC,IAAbgG,EACGO,IAAaR,GAAY5C,EAAUoD,EAAUR,EAAU5D,EAASC,EAAYC,GAC7E2D,GACD,CACLJ,GAAS,EACT,MAEFU,IAAaA,EAAkB,eAAPzE,GAE1B,GAAI+D,IAAWU,EAAU,CACvB,IAAIE,EAAUtD,EAAOuD,YACjBC,EAAU1E,EAAMyE,YAGhBD,GAAWE,KACV,gBAAiBxD,MAAU,gBAAiBlB,IACzB,mBAAXwE,GAAyBA,aAAmBA,GACjC,mBAAXE,GAAyBA,aAAmBA,IACvDd,GAAS,GAKb,OAFAvD,EAAc,OAAEa,GAChBb,EAAc,OAAEL,GACT4D,I,oBCrFT,IAGIe,EAHU,EAAQ,IAGLC,CAAQ5D,OAAO6D,KAAM7D,QAEtCtB,EAAOC,QAAUgF,G,kBCSjBjF,EAAOC,QANP,SAAiBmF,EAAMC,GACrB,OAAO,SAASC,GACd,OAAOF,EAAKC,EAAUC,O,kBCT1B,IAOIC,EAPcjE,OAAOC,UAOciE,SAavCxF,EAAOC,QAJP,SAAwBI,GACtB,OAAOkF,EAAqBrD,KAAK7B,K,kBCDnCL,EAAOC,QAJP,WACE,OAAO,I,kBCGTD,EAAOC,QAJP,WACE,OAAO,I,sZCPHwF,EAAiB,SACrBC,EACAC,GACY,OACZ,CACEC,UAAW,WACXC,YAAa,wBACbC,KAAM,YACN3F,IAAK,IACL4F,OAAQ,CACN,CACED,KAAM,kBACNF,UAAW,qBACXI,YAAaN,EACbO,cAAc,EACdC,YAAaP,OAMfQ,EAAmB,SAACR,GAA4C,OACpE,CACEC,UAAW,WACXE,KAAM,0BACNC,OAAQ,CACN,CACED,KAAM,gBACNH,gBAAe,EACfC,UAAW,wBAMNQ,EAA6B,SACxCV,EACAC,EACAU,EACAC,GAQA,MANwB,CACtBP,OAAQ,EACFM,EAAWZ,EAAeC,EAAkBC,GAAmB,GAC/DW,EAAaH,EAAiBR,GAAmB,M,wBCxCrDY,EAAgB,cAChBC,EAAU,cAEHC,EAAe,SAACC,GAC3B,OAAAH,EAAcrD,IAAO,IAAgB,eAAewD,EAAW,gB,wkBCZ1D,IAKMC,EAAiB,SAACC,GAAD,MAAoB,CAChDC,KAAMC,KACNC,SDY6BtD,ECZpB,KACJmD,GDYCI,EAAsB,CAC1Bd,YAAazC,EAAKyC,YAAY9H,MAAM,KACpC6I,YAAa,CAACxD,EAAKyD,aAEdV,EAAQG,eAAelD,EAAKtE,GAAI6H,KALX,IAACvD,EACvBuD,GCRKG,EAAmB,SAACP,GAAD,MAAoB,CAClDC,KAAMC,KACNC,SDcAtD,ECdS,KACJmD,GDeCI,EAAwB,CAC5Bd,YAAazC,EAAKyC,YAClBe,YAAa,CAACxD,EAAKyD,aAEdV,EAAQW,iBAAiB1D,EAAKtE,GAAI6H,KAPX,IAC9BvD,EAEMuD,G,WE3BI,c,mECANI,EAAe,SACnBC,EACAC,GAEA,OAAQD,EAAWrI,QACjB,KAAK,EACH,OAAOqI,EAAW,GACpB,KAAK,EACH,OAAOC,EAAc,IAAkBC,qBAAsB,CAC3DC,OAAQH,EAAW,GACnBI,OAAQJ,EAAW,KAEvB,QACE,OAAOC,EAAc,IAAkBI,2BAA4B,CACjEC,MAAON,EAAWrI,WAoGX,EAzFc,SAAC,G,IAgBxB6G,EAfJ+B,EAAS,YACTC,EAAa,gBACbC,EAAa,gBACbC,EAAS,YACTT,EAAa,gBACbU,EAAa,gBASTC,EAAQX,EAAc,IAAkBY,mBAGtCC,EAAqBP,EAAUQ,QAAO,SAAC,G,MAAElC,EAAW,cAAEgB,EAAU,aAC9DmB,EAAgBR,EAAcS,MAClC,SAACC,GAAU,OAAAA,EAAMrB,aAAeA,KAGlC,OACEmB,IACAnC,aAAW,EAAXA,EAAa9H,MAAM,KAAKY,WACG,QADG,EAC5BqJ,EAAcnC,mBAAW,eAAE9H,MAAM,KAAKY,WAGtCwJ,EACJV,EAAcM,QACZ,SAAC,G,IAAElB,EAAU,aACX,OAACiB,EAAmBG,MAAK,SAACC,GAAU,OAAAA,EAAMrB,aAAeA,QAC3DlI,OAAS,EACPyJ,EACJV,EAAUK,QACR,SAAC,G,IAAElB,EAAU,aACX,OAACW,EAAcS,MAAK,SAACC,GAAU,OAAAA,EAAMrB,aAAeA,QACtDlI,OAAS,EAgDb,OA9CIwJ,IAAaC,GAAwC,IAA9BN,EAAmBnJ,SAC5CiJ,EAAQX,EAAc,IAAkBoB,gCACxC7C,EAAcyB,EACZ,IAAkBqB,qCAClB,CACE7C,KAAMkC,IACNO,MAAOnB,EACLU,EAAcc,KAAI,SAAC,GAAkB,OAAP,eAC9BtB,GAEFuB,EAAG,QAKJL,GAAYC,GAAwC,IAA9BN,EAAmBnJ,SAC5CiJ,EAAQX,EAAc,IAAkBwB,8BACxCjD,EAAcyB,EACZ,IAAkByB,mCAClB,CACEjD,KAAMkC,IACNO,MAAOnB,EACLW,EAAUa,KAAI,SAAC,GAAkB,OAAP,eAC1BtB,GAEFuB,EAAG,QAKJL,IAAaC,GAAUN,EAAmBnJ,OAAS,IACtDiJ,EAAQX,EACN,IAAkB0B,yCAEpBnD,EAAcyB,EACZ,IAAkB2B,8CAClB,CACEV,MAAOnB,EACLe,EAAmBS,KAAI,SAAC,GAAkB,OAAP,eACnCtB,GAEFuB,EAAG,OAKF,CAAEZ,MAAK,EAAEpC,YAAW,I,ikBCnF7B,IAAMqD,EAAsB,SAAC,GAKvB,oBAJJC,EAII,EAJJA,SACA3K,EAGI,EAHJA,aACA4K,EAEI,EAFJA,UAEI,IADJpB,qBACI,MADY,iBAAM,IAClB,EACEV,EAAgB+B,cAChBC,EAAWC,wBACT3K,EAASL,YAAmB,CAAEC,eAAcC,UAAU,IAAtDG,KAHJ,EAI4B4K,YAAS,CAAC,cAJtC,WAIKC,EAJL,KAIKA,UAAapL,EAJlB,OAK8BqL,oBAAS,GALvC,WAKGC,GALH,KAKeC,GALf,QAMoDC,uBACtD,oBAAGC,iBAAH,MAA6D,CAC3DC,kBADF,EAAuBA,kBAErBC,UAFF,EAA0CA,cADjBC,GANvB,GAMIF,kBAAkCC,GANtC,GAMsCA,UAMlCE,GAAcL,uBAAY,kBAAsC,CACtEK,UADgC,EAAGC,aAAgBD,cAA7CA,UAGRE,qBAAU,WHnDkB,IAAC1D,EGoD3BkD,IAAY,GACZN,GHrD2B5C,EGqDH+C,EHrDoB,CAC9C5C,KAAMC,IACNC,QAASsD,EAAyB3D,MGoD7B4D,MAAK,kBAAMV,IAAY,MAD1B,OAES,kBAAMA,IAAY,QAC1B,IAEH,IAAMW,GAAW,WACfjB,EAASkB,eACT5L,EAAK,CAAE6L,SAAUtB,EAAU9K,YAoG7B,IACwD,KAAtD4L,UAAA,UAAAA,GAAeS,gBAAf,mBAAyBC,yBAAzB,eAA4CC,SACY,KAAxDX,UAAA,UAAAA,GAAeS,gBAAf,mBAAyBC,yBAAzB,eAA4CE,SAE5C,OAAO,kBAAC,IAAD,MAGT,IAeMC,GAAiBnB,IAAcK,GAErC,OACE,kBAACe,EAAA,MAAD,CACE9C,MAAOX,EAAc0D,IAAkBC,qBACvCC,QAAM,EACNC,QAAQ,QACRC,QAASb,IAERO,IAAkB,kBAAC,IAAD,OACjBA,IACA,kBAAClK,EAAA,MAAD,CAAOyK,WAAS,GACd,kBAACC,EAAA,UAAD,KACE,kBAACC,EAAA,YAAD,KACE,kBAACC,EAAA,KAAD,KACGlE,EAAc0D,IAAkBS,0BAA2B,CAC1D3F,KAAMkC,EAAcyB,GAEpBiC,OAAQ,SAACC,GAAD,OAAY,4BAAQxL,IAAI,UAAUwL,SAKlD,kBAACL,EAAA,UAAD,KACE,kBAAC,IAAD,CACEM,OAAQxF,GA5HK,SAACyF,GAAD,YF3EO,KAAAC,EE2E2BD,KF3E3BC,EAAA,IAChC,cACG5I,IACI,IAAa,YACd4I,EAAY9M,OAAS,EAAI,SAAS8M,EAAgB,KAGrDxB,MAAK,SAAC,GACL,OADW,OACN1B,KAAI,SAAC,G,IAAEmD,EAAI,OAAa,OAAGC,MAAV,OAAuB3L,MAAO0L,SARzB,IAACD,IEyMlBG,KACsD,KAAtDhC,UAAA,UAAAA,GAAeS,gBAAf,mBAAyBC,yBAAzB,eAA4CC,QACY,KAAxDX,UAAA,UAAAA,GAAeS,gBAAf,mBAAyBC,yBAAzB,eAA4CE,UAE9CqB,WAAW,UACXC,SAjIK,SAAC1I,EAAM2I,GACtB,IAAMxE,EAAYnE,EAAK,iBACjBsE,EAAY,GACZF,EAAgBuE,EAAQC,WAAWpC,cAAc,iBACjDnC,EAAgBD,EACnBO,QACC,SAACG,GAAD,OACGX,EAAUU,MAAK,SAACgE,GAAD,OAAUA,EAAKpF,aAAeqB,EAAMrB,iBAEvD0B,KAAI,gBAAG1C,EAAH,EAAGA,YAAH,SAAC,KAAD,4BAEHA,YAAaA,EAAY9H,MAAM,UAEnCwJ,EAAU2E,SAAQ,SAAChE,GACjB,IAAMiE,EAAe3E,EAAcS,MACjC,SAACgE,GAAD,OAAUA,EAAKpF,aAAeqB,EAAMrB,cAElCsF,IAAiBC,IAAQD,EAAcjE,KACrCiE,EAAatG,YAAYlH,OAASuJ,EAAMrC,YAAYlH,OACtD8I,EAAclJ,KAAK,CACjBO,GAAIsK,EACJvD,YAAa,CAAC,UACdgB,WAAYqB,EAAMrB,aAGpBa,EAAUnJ,KAAK2J,IAIdiE,GACHzE,EAAUnJ,KAAK2J,MAInB,IAAMmE,EAAqB,SAACnE,GAA2B,IAApBsC,EAAoB,wDAC/C8B,EAAS9B,EAAU1D,EAAmBR,EAC5C,OAAO2C,EACLqD,EAAO,CACLxN,GAAIsK,EACJvD,YAAaqC,EAAMrC,YACnBgB,WAAYqB,EAAMrB,eAKlB0F,EAAgB,GAAH,WACd7E,EAAUa,KAAI,SAACL,GAAD,OAAWmE,EAAmBnE,OAD9B,IAEdT,EAAcc,KAAI,SAACL,GAAD,OAAWmE,EAAmBnE,GAAO,QAG5DgC,KAlDkC,MAoDHsC,EAAqB,CAClDjF,YACAC,gBACAC,gBACAC,YACAT,gBACAU,kBANMC,EApD0B,EAoD1BA,MAAOpC,EApDmB,EAoDnBA,YASf,OAAOiH,QAAQC,IAAIH,GAAetC,MAAK,WAUrC,OATAhB,EAAS,CACPzC,KAAMmG,mBACNjG,QAAS,CACPkG,aAAa,EACb9B,QAAS,UACTlD,QACApC,iBAGGyD,EAAS4D,YAAgB9D,QA2DxBmB,SAAUA,GACV4C,SAjDW,SAACC,GACtB,IAAMC,EAAS,GAWf,OAVID,EAAOlG,aAAekG,EAAOlH,cAC/BmH,EAAOnH,YAAcoB,EACnB0D,IAAkBsC,4BAIlBF,EAAOlH,cAAgBkH,EAAOlG,aAChCmG,EAAOnG,WAAaI,EAAc0D,IAAkBuC,uBAG/CF,GAsCGpD,cAAa,OACRA,IADQ,IAEX,gBA3JgBC,GAAUtB,KAAI,SAACL,GACzC,IAAMiF,EAAmBjF,EAAMrC,YAAYkC,QACzC,SAACqF,GAAD,OAAgBC,IAAiBC,QAAQF,IAAe,KAEpDG,EAAYrF,EAAMsF,WACpBC,EAAU7B,IAAkB3D,MAC9B,SAACyF,GAAD,OAAUA,EAAK1N,QAAUmN,EAAiBQ,OAAOC,KAAK,QAExD,MAAO,CACLL,YACA1G,WAAYqB,EAAMrB,WAClBhB,YAAa4H,EACTA,EAAQzN,MACRiH,EAAcrI,IAAkBa,eAgJ9BoO,cAAe,CACbC,cAAe,CAAC,WAAY,cAC5BC,YAAa9G,EACX0D,IAAkBqD,4BAWpCnF,EAAoBoF,UAAY,CAC9BnF,SAAUoF,IAAUC,OAAOC,WAC3BjQ,aAAc+P,IAAUG,KACxB1G,cAAeuG,IAAUnJ,KACzBgE,UAAWmF,IAAUI,MAAM,CACzBhH,MAAO4G,IAAUK,OACjBC,MAAON,IAAUK,OACjBE,OAAQP,IAAUK,OAClBxG,OAAQmG,IAAUC,UAIPtF","file":"js/share-portfolio~31ecd969.5f15fcf61484074501ea.js","sourcesContent":["import { useHistory } from 'react-router-dom';\n\nconst removeSearchQuery = (target) => {\n  if (typeof target === 'string') {\n    return target.split('?')[0];\n  }\n\n  if (typeof target === 'object') {\n    return {\n      ...target,\n      search: undefined\n    };\n  }\n\n  return target;\n};\n\n/**\n * Wrapper around useHistory hook which adds aditional settings to standard history methods\n * @param {Boolean} removeSearch if true, using history navigation methods will remove search string from path\n * @param {Boolean} keepHash if true, using history navigation methods will not remove hash from URL\n */\nconst useEnhancedHistory = ({ removeSearch, keepHash } = {}) => {\n  const history = useHistory();\n  return {\n    ...history,\n    push: (target) => {\n      let internalTarget = target;\n      if (keepHash && history.location.hash.length > 0) {\n        internalTarget =\n          typeof internalTarget === 'object'\n            ? { ...internalTarget, hash: history.location.hash }\n            : `${internalTarget}${history.location.hash}`;\n      }\n\n      if (removeSearch) {\n        return history.push(removeSearchQuery(internalTarget));\n      }\n\n      return history.push(internalTarget);\n    }\n  };\n};\n\nexport default useEnhancedHistory;\n","import { defineMessages } from 'react-intl';\n\nconst filteringMessages = defineMessages({\n  noItems: {\n    id: 'common.filtering.noItems',\n    defaultMessage: 'No items found'\n  },\n  filterByProduct: {\n    id: 'common.filtering.filterByProduct',\n    defaultMessage: 'Filter by product'\n  },\n  noResults: {\n    id: 'common.filtering.noResults',\n    defaultMessage: 'No results found'\n  },\n  noResultsDescription: {\n    id: 'common.filtering.noResultsDescription',\n    defaultMessage:\n      'No results match the filter criteria. Remove all filters or clear all filters to show results.'\n  },\n  clearFilters: {\n    id: 'common.filtering.clear-filters',\n    defaultMessage: 'Clear all filters'\n  },\n  noProducts: {\n    id: 'common.filtering.no-products',\n    defaultMessage: 'No products yet'\n  },\n  noRecords: {\n    id: 'commonMessages.noRecords',\n    defaultMessage: 'No records'\n  },\n  filterByTitle: {\n    id: 'tableToolbar.filterByTitle',\n    defaultMessage: 'Filter by {title}'\n  },\n  noResultsFound: {\n    id: 'tableToolbar.noResultsFound',\n    defaultMessage: 'No results found'\n  },\n  noResult: {\n    id: 'tableToolbar.noResult',\n    defaultMessage: 'No {results}'\n  },\n  unknown: {\n    id: 'commonMessages.unknown',\n    defaultMessage: 'Unknown'\n  }\n});\n\nexport default filteringMessages;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","import Field from '@data-driven-forms/react-form-renderer/dist/cjs/field';\nimport Schema from '@data-driven-forms/react-form-renderer/dist/cjs/schema';\nimport { SelectOptions } from '../types/common-types';\n\n/**\n * Creates a data-driven-form schema for sharing/un-sharing portfolio\n */\nconst newShareSchema = (\n  loadGroupOptions: (inputValue?: string) => Promise<SelectOptions>,\n  permissionVerbs: SelectOptions\n): Field[] => [\n  {\n    component: 'sub-form',\n    description: 'share.new.description',\n    name: 'new_share',\n    key: '1',\n    fields: [\n      {\n        name: 'group-selection',\n        component: 'share-group-select',\n        loadOptions: loadGroupOptions,\n        isSearchable: true,\n        permissions: permissionVerbs\n      }\n    ]\n  }\n];\n\nconst groupShareSchema = (permissionVerbs: SelectOptions): Field[] => [\n  {\n    component: 'sub-form',\n    name: 'current-groups-sub-form',\n    fields: [\n      {\n        name: 'shared-groups',\n        permissionVerbs,\n        component: 'share-group-edit'\n      }\n    ]\n  }\n];\n\nexport const createPortfolioShareSchema = (\n  loadGroupOptions: (inputValue?: string) => Promise<SelectOptions>,\n  permissionVerbs: SelectOptions,\n  canShare: boolean,\n  canUnshare: boolean\n): Schema => {\n  const portfolioSchema = {\n    fields: [\n      ...(canShare ? newShareSchema(loadGroupOptions, permissionVerbs) : []),\n      ...(canUnshare ? groupShareSchema(permissionVerbs) : [])\n    ]\n  };\n  return portfolioSchema;\n};\n","import { getAxiosInstance, getPortfolioApi } from '../shared/user-login';\nimport { CATALOG_API_BASE } from '../../utilities/constants';\nimport {\n  ShareInfo,\n  SharePolicy,\n  SharePolicyPermissionsEnum,\n  UnsharePolicyPermissionsEnum,\n  UnsharePolicy\n} from '@redhat-cloud-services/catalog-client';\nimport { AxiosPromise } from 'axios';\n\nconst axiosInstance = getAxiosInstance();\nconst userApi = getPortfolioApi();\n\nexport const getShareInfo = (portfolioId: string): AxiosPromise<ShareInfo> =>\n  axiosInstance.get(`${CATALOG_API_BASE}/portfolios/${portfolioId}/share_info`);\n\nexport interface ShareData<T = SharePolicyPermissionsEnum> {\n  permissions: T;\n  group_uuid: string;\n  id: string;\n}\nexport const sharePortfolio = (data: ShareData): AxiosPromise<void> => {\n  const policy: SharePolicy = {\n    permissions: data.permissions.split(',') as SharePolicyPermissionsEnum[],\n    group_uuids: [data.group_uuid]\n  };\n  return userApi.sharePortfolio(data.id, policy);\n};\n\nexport const unsharePortfolio = (\n  data: ShareData<UnsharePolicyPermissionsEnum[]>\n): AxiosPromise<void> => {\n  const policy: UnsharePolicy = {\n    permissions: data.permissions,\n    group_uuids: [data.group_uuid]\n  };\n  return userApi.unsharePortfolio(data.id, policy);\n};\n","import * as ShareHelper from '../../helpers/share/share-helper';\nimport * as ActionTypes from '../action-types';\n\nexport const fetchShareInfo = (portfolioId) => ({\n  type: ActionTypes.QUERY_PORTFOLIO,\n  payload: ShareHelper.getShareInfo(portfolioId)\n});\n\nexport const sharePortfolio = (portfolioData) => ({\n  type: ActionTypes.SHARE_PORTFOLIO,\n  payload: ShareHelper.sharePortfolio({\n    ...portfolioData\n  })\n});\n\nexport const unsharePortfolio = (portfolioData) => ({\n  type: ActionTypes.UNSHARE_PORTFOLIO,\n  payload: ShareHelper.unsharePortfolio({\n    ...portfolioData\n  })\n});\n","import { getAxiosInstance, getRbacGroupApi } from '../shared/user-login';\nimport { RBAC_API_BASE } from '../../utilities/constants';\nimport { GroupPagination } from '@redhat-cloud-services/rbac-client';\nimport { AxiosPromise } from 'axios';\nimport { SelectOptions } from '../../types/common-types';\n\nconst api = getRbacGroupApi();\n\nexport const getRbacGroups = (): AxiosPromise<GroupPagination> =>\n  api.listGroups();\n\nexport const fetchFilterGroups = (filterValue = ''): Promise<SelectOptions> =>\n  getAxiosInstance()\n    .get(\n      `${RBAC_API_BASE}/groups/${\n        filterValue.length > 0 ? `?name=${filterValue}` : ''\n      }`\n    )\n    .then(({ data }: GroupPagination) =>\n      data.map(({ uuid, name }) => ({ label: name, value: uuid }))\n    );\n","import portfolioMessages from '../../messages/portfolio.messages';\nimport { Bold } from '../../presentational-components/shared/intl-rich-text-components';\nimport { ReactNode } from 'react';\nimport { MessageDescriptor } from 'react-intl';\nimport { AnyObject } from '../../types/common-types';\n\nconst groupMessage = (\n  groupNames: string[],\n  formatMessage: (message: MessageDescriptor, values?: AnyObject) => ReactNode\n) => {\n  switch (groupNames.length) {\n    case 1:\n      return groupNames[0];\n    case 2:\n      return formatMessage(portfolioMessages.shareSuccessTwoGroup, {\n        group1: groupNames[0],\n        group2: groupNames[1]\n      });\n    default:\n      return formatMessage(portfolioMessages.shareSuccessMultipleGroups, {\n        count: groupNames.length\n      });\n  }\n};\n\n// TODO This will be the form type\nexport interface SharePortfolioData {\n  group_uuid: string;\n  permissions: string;\n  groupName: string;\n}\nconst sharePorfolioMessage = ({\n  shareData,\n  initialGroups,\n  removedGroups,\n  newGroups,\n  formatMessage,\n  portfolioName\n}: {\n  shareData: SharePortfolioData[];\n  initialGroups: SharePortfolioData[];\n  removedGroups: SharePortfolioData[];\n  newGroups: SharePortfolioData[];\n  formatMessage: (message: MessageDescriptor, values?: AnyObject) => ReactNode;\n  portfolioName: () => string;\n}): { title: ReactNode; description: ReactNode } => {\n  let title = formatMessage(portfolioMessages.shareSuccessTitle);\n  let description;\n\n  const changedPermissions = shareData.filter(({ permissions, group_uuid }) => {\n    const originalGroup = initialGroups.find(\n      (group) => group.group_uuid === group_uuid\n    );\n\n    return (\n      originalGroup &&\n      permissions?.split(',').length !==\n        originalGroup.permissions?.split(',').length\n    );\n  });\n  const unshared =\n    removedGroups.filter(\n      ({ group_uuid }) =>\n        !changedPermissions.find((group) => group.group_uuid === group_uuid)\n    ).length > 0;\n  const shared =\n    newGroups.filter(\n      ({ group_uuid }) =>\n        !initialGroups.find((group) => group.group_uuid === group_uuid)\n    ).length > 0;\n\n  if (unshared && !shared && changedPermissions.length === 0) {\n    title = formatMessage(portfolioMessages.shareSuccessTitleOnlyUnsharing);\n    description = formatMessage(\n      portfolioMessages.shareSuccessDescriptionOnlyUnsharing,\n      {\n        name: portfolioName(),\n        group: groupMessage(\n          removedGroups.map(({ groupName }) => groupName),\n          formatMessage\n        ),\n        b: Bold\n      }\n    );\n  }\n\n  if (!unshared && shared && changedPermissions.length === 0) {\n    title = formatMessage(portfolioMessages.shareSuccessTitleOnlySharing);\n    description = formatMessage(\n      portfolioMessages.shareSuccessDescriptionOnlySharing,\n      {\n        name: portfolioName(),\n        group: groupMessage(\n          newGroups.map(({ groupName }) => groupName),\n          formatMessage\n        ),\n        b: Bold\n      }\n    );\n  }\n\n  if (!unshared && !shared && changedPermissions.length > 0) {\n    title = formatMessage(\n      portfolioMessages.shareSuccessTitleOnlyChaningPermissions\n    );\n    description = formatMessage(\n      portfolioMessages.shareSuccessDescriptionOnlyChaningPermissions,\n      {\n        group: groupMessage(\n          changedPermissions.map(({ groupName }) => groupName),\n          formatMessage\n        ),\n        b: Bold\n      }\n    );\n  }\n\n  return { title, description };\n};\n\nexport default sharePorfolioMessage;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport FormRenderer from '../common/form-renderer';\nimport { useDispatch, useSelector } from 'react-redux';\nimport isEqual from 'lodash/isEqual';\nimport {\n  Modal,\n  TextContent,\n  Text,\n  Stack,\n  StackItem\n} from '@patternfly/react-core';\nimport { createPortfolioShareSchema } from '../../forms/portfolio-share-form.schema';\nimport {\n  fetchPortfolios,\n  resetSelectedPortfolio\n} from '../../redux/actions/portfolio-actions';\nimport {\n  fetchShareInfo,\n  sharePortfolio,\n  unsharePortfolio\n} from '../../redux/actions/share-actions';\nimport { ShareLoader } from '../../presentational-components/shared/loader-placeholders';\nimport { permissionOptions, permissionValues } from '../../utilities/constants';\nimport { fetchFilterGroups } from '../../helpers/rbac/rbac-helper';\nimport useQuery from '../../utilities/use-query';\nimport useEnhancedHistory from '../../utilities/use-enhanced-history';\nimport { UnauthorizedRedirect } from '../error-pages/error-redirects';\nimport portfolioMessages from '../../messages/portfolio.messages';\nimport { ADD_NOTIFICATION } from '@redhat-cloud-services/frontend-components-notifications/cjs/actionTypes';\nimport filteringMessages from '../../messages/filtering.messages';\nimport useFormatMessage from '../../utilities/use-format-message';\nimport sharePorfolioMessage from '../../helpers/portfolio/share-portfolio-message';\n\nconst SharePortfolioModal = ({\n  closeUrl,\n  removeSearch,\n  viewState,\n  portfolioName = () => ''\n}) => {\n  const formatMessage = useFormatMessage();\n  const dispatch = useDispatch();\n  const { push } = useEnhancedHistory({ removeSearch, keepHash: true });\n  const [{ portfolio }, search] = useQuery(['portfolio']);\n  const [isFetching, setFetching] = useState(true);\n  const { selectedPortfolio: initialValues, isLoading } = useSelector(\n    ({ portfolioReducer: { selectedPortfolio, isLoading } }) => ({\n      selectedPortfolio,\n      isLoading\n    })\n  );\n  const { shareInfo } = useSelector(({ shareReducer: { shareInfo } }) => ({\n    shareInfo\n  }));\n  useEffect(() => {\n    setFetching(true);\n    dispatch(fetchShareInfo(portfolio))\n      .then(() => setFetching(false))\n      .catch(() => setFetching(false));\n  }, []);\n\n  const onCancel = () => {\n    dispatch(resetSelectedPortfolio());\n    push({ pathname: closeUrl, search });\n  };\n\n  const initialShares = () => {\n    let initialGroupShareList = shareInfo.map((group) => {\n      const groupPermissions = group.permissions.filter(\n        (permission) => permissionValues.indexOf(permission) > -1\n      );\n      const groupName = group.group_name;\n      let options = permissionOptions.find(\n        (perm) => perm.value === groupPermissions.sort().join(',')\n      );\n      return {\n        groupName,\n        group_uuid: group.group_uuid,\n        permissions: options\n          ? options.value\n          : formatMessage(filteringMessages.unknown)\n      };\n    });\n    return initialGroupShareList;\n  };\n\n  const loadGroupOptions = (inputValue) => fetchFilterGroups(inputValue);\n\n  const onSubmit = (data, formApi) => {\n    const shareData = data['shared-groups'];\n    const newGroups = [];\n    const initialGroups = formApi.getState().initialValues['shared-groups'];\n    const removedGroups = initialGroups\n      .filter(\n        (group) =>\n          !shareData.find((item) => item.group_uuid === group.group_uuid)\n      )\n      .map(({ permissions, ...group }) => ({\n        ...group,\n        permissions: permissions.split(',')\n      }));\n    shareData.forEach((group) => {\n      const initialEntry = initialGroups.find(\n        (item) => item.group_uuid === group.group_uuid\n      );\n      if (initialEntry && !isEqual(initialEntry, group)) {\n        if (initialEntry.permissions.length > group.permissions.length) {\n          removedGroups.push({\n            id: portfolio,\n            permissions: ['update'],\n            group_uuid: group.group_uuid\n          });\n        } else {\n          newGroups.push(group);\n        }\n      }\n\n      if (!initialEntry) {\n        newGroups.push(group);\n      }\n    });\n\n    const createSharePromise = (group, unshare = false) => {\n      const action = unshare ? unsharePortfolio : sharePortfolio;\n      return dispatch(\n        action({\n          id: portfolio,\n          permissions: group.permissions,\n          group_uuid: group.group_uuid\n        })\n      );\n    };\n\n    const sharePromises = [\n      ...newGroups.map((group) => createSharePromise(group)),\n      ...removedGroups.map((group) => createSharePromise(group, true))\n    ];\n\n    onCancel();\n\n    const { title, description } = sharePorfolioMessage({\n      shareData,\n      initialGroups,\n      removedGroups,\n      newGroups,\n      formatMessage,\n      portfolioName\n    });\n\n    return Promise.all(sharePromises).then(() => {\n      dispatch({\n        type: ADD_NOTIFICATION,\n        payload: {\n          dismissable: true,\n          variant: 'success',\n          title,\n          description\n        }\n      });\n      return dispatch(fetchPortfolios(viewState));\n    });\n  };\n\n  if (\n    initialValues?.metadata?.user_capabilities?.share === false &&\n    initialValues?.metadata?.user_capabilities?.unshare === false\n  ) {\n    return <UnauthorizedRedirect />;\n  }\n\n  const validateShares = (values) => {\n    const errors = {};\n    if (values.group_uuid && !values.permissions) {\n      errors.permissions = formatMessage(\n        portfolioMessages.portfolioSharePermissions\n      );\n    }\n\n    if (values.permissions && !values.group_uuid) {\n      errors.group_uuid = formatMessage(portfolioMessages.portfolioShareGroups);\n    }\n\n    return errors;\n  };\n\n  const isLoadingFinal = isFetching || isLoading;\n\n  return (\n    <Modal\n      title={formatMessage(portfolioMessages.portfolioShareTitle)}\n      isOpen\n      variant=\"small\"\n      onClose={onCancel}\n    >\n      {isLoadingFinal && <ShareLoader />}\n      {!isLoadingFinal && (\n        <Stack hasGutter>\n          <StackItem>\n            <TextContent>\n              <Text>\n                {formatMessage(portfolioMessages.portfolioShareDescription, {\n                  name: portfolioName(portfolio),\n                  // eslint-disable-next-line react/display-name\n                  strong: (chunks) => <strong key=\"strong\">{chunks}</strong>\n                })}\n              </Text>\n            </TextContent>\n          </StackItem>\n          <StackItem>\n            <FormRenderer\n              schema={createPortfolioShareSchema(\n                loadGroupOptions,\n                permissionOptions,\n                initialValues?.metadata?.user_capabilities?.share !== false,\n                initialValues?.metadata?.user_capabilities?.unshare !== false\n              )}\n              schemaType=\"default\"\n              onSubmit={onSubmit}\n              onCancel={onCancel}\n              validate={validateShares}\n              initialValues={{\n                ...initialValues,\n                'shared-groups': initialShares()\n              }}\n              templateProps={{\n                disableSubmit: ['pristine', 'validating'],\n                submitLabel: formatMessage(\n                  portfolioMessages.portfolioShareApply\n                )\n              }}\n            />\n          </StackItem>\n        </Stack>\n      )}\n    </Modal>\n  );\n};\n\nSharePortfolioModal.propTypes = {\n  closeUrl: PropTypes.string.isRequired,\n  removeSearch: PropTypes.bool,\n  portfolioName: PropTypes.func,\n  viewState: PropTypes.shape({\n    count: PropTypes.number,\n    limit: PropTypes.number,\n    offset: PropTypes.number,\n    filter: PropTypes.string\n  })\n};\n\nexport default SharePortfolioModal;\n"],"sourceRoot":""}