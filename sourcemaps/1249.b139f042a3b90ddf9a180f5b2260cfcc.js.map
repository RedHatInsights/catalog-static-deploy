{"version":3,"file":"js/1249.1644528436424.e4bb483499e28ad4c8d3.js","mappings":"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","sources":["webpack:///./src/presentational-components/shared/conditional-link.tsx","webpack:///./src/presentational-components/shared/top-toolbar.tsx","webpack:///./src/helpers/platform/platform-helper-s.ts","webpack:///./src/redux/actions/platform-actions-s.ts","webpack:///./src/helpers/platform/platform-helper.ts","webpack:///./src/redux/actions/platform-actions.ts","webpack:///./src/smart-components/common/catalog-breadcrumbs.tsx","webpack:///./src/smart-components/common/catalog-link.tsx","webpack:///./src/utilities/use-enhanced-history.ts"],"sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { Fragment } from 'react';\nimport CatalogLink, {\n  CatalogLinkProps\n} from '../../smart-components/common/catalog-link';\n\nexport interface ConditionalLinkProps\n  extends Omit<CatalogLinkProps, 'pathname'> {\n  pathname?: string;\n}\nconst ConditionalLink: React.ComponentType<ConditionalLinkProps> = ({\n  children,\n  pathname,\n  ...props\n}) => (\n  <Fragment>\n    {pathname ? (\n      <CatalogLink pathname={pathname} {...props}>\n        {children}\n      </CatalogLink>\n    ) : (\n      children\n    )}\n  </Fragment>\n);\n\nexport default ConditionalLink;\n","/* eslint-disable react/prop-types */\nimport React, { Fragment, ReactNode, useContext } from 'react';\nimport {\n  LevelItem,\n  Text,\n  TextContent,\n  TextVariants\n} from '@patternfly/react-core';\nimport clsx from 'clsx';\nimport { ToolbarTitlePlaceholder } from './loader-placeholders';\nimport CatalogBreadcrumbs from '../../smart-components/common/catalog-breadcrumbs';\nimport {\n  TopToolbarWrapper,\n  TopToolbarTitleContainer\n} from '../styled-components/toolbars';\nimport { BreadcrumbFragment } from '../../redux/reducers/breadcrumbs-reducer';\nimport { PageHeaderTitle } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport UserContext from '../../user-context';\n\nexport interface TopToolbarProps {\n  paddingBottom?: boolean;\n  breadcrumbs?: boolean;\n  breadcrumbfragments?: BreadcrumbFragment[];\n}\nconst TopToolbar: React.ComponentType<TopToolbarProps> = ({\n  children,\n  paddingBottom = true,\n  breadcrumbs = true,\n  breadcrumbfragments = [],\n  ...rest\n}) => {\n  const { standalone: standalone } = useContext(UserContext);\n  return (\n    <div className={clsx({ ['standalone-toolbar']: !!standalone })}>\n      <TopToolbarWrapper\n        className={`pf-u-pt-lg pf-u-pr-lg pf-u-pl-lg ${\n          paddingBottom ? 'pf-u-pb-lg' : ''\n        }`}\n        {...rest}\n      >\n        {breadcrumbs && (\n          <div className=\"pf-u-mb-md\">\n            {' '}\n            <CatalogBreadcrumbs breadcrumbfragments={breadcrumbfragments} />\n          </div>\n        )}\n        {children}\n      </TopToolbarWrapper>\n    </div>\n  );\n};\n\nexport default TopToolbar;\n\nexport interface TopToolbarTitleProps {\n  title?: React.ElementType;\n  description?: ReactNode;\n  noData?: boolean;\n}\nexport const TopToolbarTitle: React.ComponentType<TopToolbarTitleProps> = ({\n  title = <ToolbarTitlePlaceholder />,\n  description,\n  children,\n  noData,\n  ...rest\n}) => (\n  <Fragment>\n    <TopToolbarTitleContainer\n      className={clsx({ 'pf-u-mb-lg': !noData, 'flex-no-wrap': true })}\n      {...rest}\n    >\n      <LevelItem>\n        <TextContent>\n          <PageHeaderTitle title={title} className=\"pf-u-m-0 pf-u-mr-md\" />\n          {description && <Text component={TextVariants.p}>{description}</Text>}\n        </TextContent>\n      </LevelItem>\n      <LevelItem className=\"flex-item-no-wrap\">{children}</LevelItem>\n    </TopToolbarTitleContainer>\n  </Fragment>\n);\n","import { getAxiosInstance } from '../shared/user-login';\nimport {\n  CATALOG_API_BASE,\n  CATALOG_INVENTORY_API_BASE,\n  SOURCES_API_BASE\n} from '../../utilities/constants';\nimport { defaultSettings, PaginationConfiguration } from '../shared/pagination';\nimport {\n  Source,\n  ServiceOffering,\n  ServiceInventory\n} from '@redhat-cloud-services/sources-client';\nimport { ApiCollectionResponse, SourceDetails } from '../../types/common-types';\nconst axiosInstance = getAxiosInstance();\n\nexport const getPlatforms = (): Promise<SourceDetails> =>\n  axiosInstance.get(`${CATALOG_API_BASE}/sources/`);\n\nexport const getPlatform = (platformId: string): Promise<Source> => {\n  return axiosInstance.get(`${CATALOG_API_BASE}/sources/${platformId}/`);\n};\n\nexport const refreshPlatform = (platformId: string): Promise<Source> => {\n  return axiosInstance.patch(\n    `${CATALOG_API_BASE}/sources/${platformId}/refresh/`\n  );\n};\n\nexport const getPlatformItems = (\n  platformId: string,\n  filter?: string,\n  options?: PaginationConfiguration\n): Promise<ApiCollectionResponse<ServiceOffering>> => {\n  if (platformId) {\n    const filterQuery = filter ? `?name=${filter}` : '';\n    const optionsQuery = options\n      ? `page_size=${options.limit}&page=${options.offset || 1}`\n      : '';\n    return axiosInstance.get(\n      `${CATALOG_API_BASE}/sources/${platformId}/service_offerings/${filterQuery}${\n        filter ? '&' : '?'\n      }${optionsQuery}`\n    );\n  } else {\n    return axiosInstance.get(`${CATALOG_API_BASE}/service_offerings/`);\n  }\n};\n\nexport const getPlatformInventories = (\n  platformId: string,\n  filter = '',\n  options = defaultSettings\n): Promise<ApiCollectionResponse<ServiceInventory>> => {\n  if (platformId) {\n    const filterQuery = filter ? `name=${filter}` : '';\n    return axiosInstance.get(\n      `${CATALOG_API_BASE}/sources/${platformId}/service_inventories/?${filterQuery}${\n        options ? `&page_size=${options.limit}&page=${options.offset || 1}` : ''\n      }`\n    );\n  } else {\n    return axiosInstance.get(\n      `${CATALOG_API_BASE}/service_inventories/?page_size=${\n        options.limit\n      }&page=${options.offset || 1}`\n    );\n  }\n};\n\nexport const getServiceOffering = (\n  serviceOfferingId: string,\n  sourceId: string\n): Promise<{ service: ServiceOffering; source: Source }> =>\n  Promise.all([\n    axiosInstance.get(\n      `${CATALOG_INVENTORY_API_BASE}/service_offerings/${serviceOfferingId}/`\n    ),\n    axiosInstance.get(`${SOURCES_API_BASE}/sources/${sourceId}`)\n  ]).then(([service, source]: [ServiceOffering, Source]) => ({\n    service,\n    source\n  }));\n","import * as ActionTypes from '../action-types';\nimport * as PlatformHelper from '../../helpers/platform/platform-helper-s';\nimport { Dispatch } from 'redux';\nimport {\n  ServiceInventory,\n  ServiceOffering,\n  Source\n} from '@redhat-cloud-services/sources-client';\nimport { AsyncMiddlewareAction } from '../../types/redux';\nimport { ApiCollectionResponse, SourceDetails } from '../../types/common-types';\nimport { PaginationConfiguration } from '../../helpers/shared/pagination';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\n\nexport const fetchPlatforms = () => (\n  dispatch: Dispatch\n): Promise<{ type: string; payload: SourceDetails }> => {\n  dispatch({ type: `${ActionTypes.FETCH_PLATFORMS}_PENDING` });\n  return PlatformHelper.getPlatforms()\n    .then((results) =>\n      dispatch({\n        type: `${ActionTypes.FETCH_PLATFORMS}_FULFILLED`,\n        payload: results\n      })\n    )\n    .catch((error) =>\n      dispatch({\n        type: `${ActionTypes.FETCH_PLATFORMS}_REJECTED`,\n        payload: error\n      })\n    );\n};\n\nexport const fetchPlatformItems = (\n  platformId: string,\n  filter: string,\n  options: PaginationConfiguration\n): AsyncMiddlewareAction<ApiCollectionResponse<ServiceOffering>> => ({\n  type: ActionTypes.FETCH_PLATFORM_ITEMS,\n  payload: PlatformHelper.getPlatformItems(platformId, filter, options),\n  meta: {\n    platformId,\n    filter,\n    ...options\n  }\n});\n\nexport const fetchMultiplePlatformItems = (\n  platformsId: string[]\n): {\n  type: string;\n  payload: Promise<\n    [] | { [x: string]: ApiCollectionResponse<ServiceOffering> }\n  >;\n} => {\n  const platformPromisses = platformsId.map((platformId) =>\n    PlatformHelper.getPlatformItems(platformId).then((results) => ({\n      [platformId]: results\n    }))\n  );\n  return {\n    type: ActionTypes.FETCH_MULTIPLE_PLATFORM_ITEMS,\n    payload: Promise.all(platformPromisses).then((results) =>\n      results.reduce(\n        (acc, curr) => ({\n          ...acc,\n          ...curr\n        }),\n        {}\n      )\n    )\n  };\n};\n\nexport const fetchSelectedPlatform = (\n  id: string\n): AsyncMiddlewareAction<Source> => ({\n  type: ActionTypes.FETCH_PLATFORM,\n  payload: PlatformHelper.getPlatform(id)\n});\n\nexport const fetchPlatformInventories = (\n  platformId: string,\n  filter: string,\n  options: PaginationConfiguration\n): AsyncMiddlewareAction<ApiCollectionResponse<ServiceInventory>> => ({\n  type: ActionTypes.FETCH_PLATFORM_INVENTORIES,\n  payload: PlatformHelper.getPlatformInventories(platformId, filter, options)\n});\n\nexport const fetchServiceOffering = (\n  serviceOfferingId: string,\n  sourceId: string\n): AsyncMiddlewareAction<{ service: ServiceOffering; source: Source }> => ({\n  type: ActionTypes.FETCH_SERVICE_OFFERING,\n  payload: PlatformHelper.getServiceOffering(serviceOfferingId, sourceId)\n});\n\nexport const refreshPlatform = (platformId: string) => (\n  dispatch: Dispatch\n): AsyncMiddlewareAction => {\n  return dispatch({\n    type: ActionTypes.REFRESH_PLATFORM,\n    payload: PlatformHelper.refreshPlatform(platformId)\n      .then(() =>\n        dispatch(\n          addNotification({\n            variant: 'success',\n            title: 'Success starting the platform refresh',\n            dismissable: true,\n            description: 'The platform refresh started successfully'\n          })\n        )\n      )\n      .catch((error) => {\n        if (error.status === 429) {\n          dispatch(\n            addNotification({\n              variant: 'info',\n              title: 'Platform refresh in progress',\n              dismissable: true,\n              description: 'Platform refresh already running.'\n            })\n          );\n        } else {\n          dispatch({\n            type: `${ActionTypes.REFRESH_PLATFORM}_REJECTED`,\n            payload: error\n          });\n        }\n      })\n  });\n};\n","import { getAxiosInstance, getGraphqlInstance } from '../shared/user-login';\nimport {\n  CATALOG_INVENTORY_API_BASE,\n  SOURCES_API_BASE\n} from '../../utilities/constants';\nimport { defaultSettings, PaginationConfiguration } from '../shared/pagination';\nimport {\n  Source,\n  ServiceOffering,\n  ServiceInventory\n} from '@redhat-cloud-services/sources-client';\nimport { ApiCollectionResponse, SourceDetails } from '../../types/common-types';\nconst axiosInstance = getAxiosInstance();\nconst { post } = getGraphqlInstance();\n\nconst sourcesQuery = `\nquery {\n  application_types (filter: { name: \"/insights/platform/catalog\" }) {\n    id\n    name\n    sources {\n      id\n      name\n      source_type_id\n    }\n  }\n}`;\n\nconst getSourcesDetails = (\n  sourceIds: string[]\n): Promise<ApiCollectionResponse<SourceDetails>> => {\n  return axiosInstance.get(\n    `${CATALOG_INVENTORY_API_BASE}/sources?limit=${sourceIds.length ||\n      defaultSettings.limit}${sourceIds.length ? '&' : ''}${sourceIds\n      .map((sourceId) => `filter[id][]=${sourceId}`)\n      .join('&')}`\n  );\n};\n\nexport const getPlatforms = (): Promise<SourceDetails> =>\n  post(`${SOURCES_API_BASE}/graphql`, { query: sourcesQuery })\n    .then(({ data: { application_types } }) => application_types)\n    .then(([{ sources }]) => {\n      return getSourcesDetails(sources.map((source: Source) => source.id)).then(\n        (sourceDetails) => {\n          return sources.map((source: Source) => ({\n            ...source,\n            ...sourceDetails.data.find(\n              (sourceDetail) => sourceDetail.id === source.id\n            )\n          }));\n        }\n      );\n    });\n\nexport const getPlatform = (platformId: string): Promise<Source> => {\n  return axiosInstance.get(\n    `${CATALOG_INVENTORY_API_BASE}/sources/${platformId}`\n  );\n};\n\nexport const refreshPlatform = (platformId: string): Promise<Source> => {\n  return axiosInstance.patch(\n    `${CATALOG_INVENTORY_API_BASE}/sources/${platformId}/refresh`\n  );\n};\n\nexport const getPlatformItems = (\n  platformId: string,\n  filter?: string,\n  options?: PaginationConfiguration\n): Promise<ApiCollectionResponse<ServiceOffering>> => {\n  const filterQuery = filter ? `&filter[name][contains_i]=${filter}` : '';\n  if (platformId) {\n    return axiosInstance.get(\n      `${CATALOG_INVENTORY_API_BASE}/sources/${platformId}/service_offerings?filter[archived_at][nil]${filterQuery}${\n        options ? `&limit=${options.limit}&offset=${options.offset}` : ''\n      }`\n    );\n  } else {\n    return axiosInstance.get(`${CATALOG_INVENTORY_API_BASE}/service_offerings`);\n  }\n};\n\nexport const getPlatformInventories = (\n  platformId: string,\n  filter = '',\n  options = defaultSettings\n): Promise<ApiCollectionResponse<ServiceInventory>> => {\n  if (platformId) {\n    return axiosInstance.get(\n      `${CATALOG_INVENTORY_API_BASE}/sources/${platformId}/service_inventories?filter[name][contains_i]=${filter}${\n        options ? `&limit=${options.limit}&offset=${options.offset}` : ''\n      }`\n    );\n  } else {\n    return axiosInstance.get(\n      `${CATALOG_INVENTORY_API_BASE}/service_inventories?limit=${options.limit}&offset=${options.offset}`\n    );\n  }\n};\n\nexport const getServiceOffering = (\n  serviceOfferingId: string,\n  sourceId: string\n): Promise<{ service: ServiceOffering; source: Source }> =>\n  Promise.all([\n    axiosInstance.get(\n      `${CATALOG_INVENTORY_API_BASE}/service_offerings/${serviceOfferingId}`\n    ),\n    axiosInstance\n      .get(`${SOURCES_API_BASE}/sources/${sourceId}`)\n      .then((source) => {\n        return axiosInstance\n          .get(`${SOURCES_API_BASE}/source_types/${source.source_type_id}`)\n          .then(({ icon_url }) => ({\n            ...source,\n            icon_url\n          }));\n      })\n  ]).then(([service, source]: [ServiceOffering, Source]) => ({\n    service,\n    source\n  }));\n","import * as ActionTypes from '../action-types';\nimport * as PlatformHelper from '../../helpers/platform/platform-helper';\nimport { Dispatch } from 'redux';\nimport {\n  ServiceInventory,\n  ServiceOffering,\n  Source\n} from '@redhat-cloud-services/sources-client';\nimport { AsyncMiddlewareAction } from '../../types/redux';\nimport { ApiCollectionResponse, SourceDetails } from '../../types/common-types';\nimport { PaginationConfiguration } from '../../helpers/shared/pagination';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\n\nexport const fetchPlatforms = () => (\n  dispatch: Dispatch\n): Promise<{ type: string; payload: SourceDetails }> => {\n  dispatch({ type: `${ActionTypes.FETCH_PLATFORMS}_PENDING` });\n  return PlatformHelper.getPlatforms()\n    .then((data) =>\n      dispatch({\n        type: `${ActionTypes.FETCH_PLATFORMS}_FULFILLED`,\n        payload: data\n      })\n    )\n    .catch((error) =>\n      dispatch({\n        type: `${ActionTypes.FETCH_PLATFORMS}_REJECTED`,\n        payload: error\n      })\n    );\n};\n\nexport const fetchPlatformItems = (\n  platformId: string,\n  filter: string,\n  options: PaginationConfiguration\n): AsyncMiddlewareAction<ApiCollectionResponse<ServiceOffering>> => ({\n  type: ActionTypes.FETCH_PLATFORM_ITEMS,\n  payload: PlatformHelper.getPlatformItems(platformId, filter, options),\n  meta: {\n    platformId,\n    filter,\n    ...options\n  }\n});\n\nexport const fetchMultiplePlatformItems = (\n  platformsId: string[]\n): {\n  type: string;\n  payload: Promise<\n    [] | { [x: string]: ApiCollectionResponse<ServiceOffering> }\n  >;\n} => {\n  const platformPromisses = platformsId.map((platformId) =>\n    PlatformHelper.getPlatformItems(platformId).then((data) => ({\n      [platformId]: data\n    }))\n  );\n  return {\n    type: ActionTypes.FETCH_MULTIPLE_PLATFORM_ITEMS,\n    payload: Promise.all(platformPromisses).then((data) =>\n      data.reduce(\n        (acc, curr) => ({\n          ...acc,\n          ...curr\n        }),\n        {}\n      )\n    )\n  };\n};\n\nexport const fetchSelectedPlatform = (\n  id: string\n): AsyncMiddlewareAction<Source> => ({\n  type: ActionTypes.FETCH_PLATFORM,\n  payload: PlatformHelper.getPlatform(id)\n});\n\nexport const fetchPlatformInventories = (\n  platformId: string,\n  filter: string,\n  options: PaginationConfiguration\n): AsyncMiddlewareAction<ApiCollectionResponse<ServiceInventory>> => ({\n  type: ActionTypes.FETCH_PLATFORM_INVENTORIES,\n  payload: PlatformHelper.getPlatformInventories(platformId, filter, options)\n});\n\nexport const fetchServiceOffering = (\n  serviceOfferingId: string,\n  sourceId: string\n): AsyncMiddlewareAction<{ service: ServiceOffering; source: Source }> => ({\n  type: ActionTypes.FETCH_SERVICE_OFFERING,\n  payload: PlatformHelper.getServiceOffering(serviceOfferingId, sourceId)\n});\n\nexport const refreshPlatform = (platformId: string) => (\n  dispatch: Dispatch\n): AsyncMiddlewareAction => {\n  return dispatch({\n    type: ActionTypes.REFRESH_PLATFORM,\n    payload: PlatformHelper.refreshPlatform(platformId)\n      .then(() =>\n        dispatch(\n          addNotification({\n            variant: 'success',\n            title: 'Success starting the platform refresh',\n            dismissable: true,\n            description: 'The platform refresh started successfully'\n          })\n        )\n      )\n      .catch((error) => {\n        if (error.status === 429) {\n          dispatch(\n            addNotification({\n              variant: 'info',\n              title: 'Platform refresh in progress',\n              dismissable: true,\n              description: 'Platform refresh already running.'\n            })\n          );\n        } else {\n          dispatch({\n            type: `${ActionTypes.REFRESH_PLATFORM}_REJECTED`,\n            payload: error\n          });\n        }\n      })\n  });\n};\n","import React from 'react';\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\nimport { useSelector } from 'react-redux';\nimport ConditionalLink from '../../presentational-components/shared/conditional-link';\nimport { BreadcrumbFragment } from '../../redux/reducers/breadcrumbs-reducer';\nimport { CatalogRootState } from '../../types/redux';\n\nexport interface CatalogBreadcrumbsProps {\n  breadcrumbfragments?: BreadcrumbFragment[];\n}\nconst CatalogBreadcrumbs: React.ComponentType<CatalogBreadcrumbsProps> = ({\n  breadcrumbfragments = []\n}) => {\n  let fragments = breadcrumbfragments;\n  if (breadcrumbfragments?.length < 1) {\n    fragments = useSelector<CatalogRootState, BreadcrumbFragment[]>(\n      ({ breadcrumbsReducer: { fragments } }) => fragments\n    );\n  }\n\n  if (fragments.length <= 1) {\n    return null;\n  }\n\n  return (\n    <Breadcrumb>\n      {fragments.map(({ title, pathname, searchParams }, index) => (\n        <ConditionalLink\n          pathname={!(fragments.length === index + 1) ? pathname : undefined}\n          searchParams={searchParams}\n          nav\n          exact\n          key={pathname}\n          className=\"pf-c-breadcrumb__item\"\n        >\n          <BreadcrumbItem\n            showDivider={index > 0}\n            isActive={fragments.length === index + 1}\n          >\n            {title}\n          </BreadcrumbItem>\n        </ConditionalLink>\n      ))}\n    </Breadcrumb>\n  );\n};\n\nexport default CatalogBreadcrumbs;\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport {\n  Link,\n  NavLink,\n  useLocation,\n  LinkProps,\n  NavLinkProps\n} from 'react-router-dom';\nimport styled from 'styled-components';\nimport { StringObject } from '../../types/common-types';\n\nconst StyledLink = styled(({ isDisabled, ...props }) => <Link {...props} />)`\n  pointer-events: ${({ isDisabled }) => (isDisabled ? 'none' : 'initial')};\n`;\n\nconst StyledNavLink = styled(({ isDisabled, ...props }) => (\n  <NavLink {...props} />\n))`\n  pointer-events: ${({ isDisabled }) => (isDisabled ? 'none' : 'initial')};\n`;\n\nconst createSearchQuery = (\n  search: string,\n  searchParams: StringObject,\n  preserveSearch: boolean\n): string => {\n  const paramsQuery = Object.entries(searchParams)\n    .map(([key, value]) => `${key}=${value}`)\n    .join('&');\n  return preserveSearch\n    ? `${search}${paramsQuery.length > 0 ? `&${paramsQuery}` : ''}`\n    : paramsQuery.length > 0\n    ? `?${paramsQuery}`\n    : '';\n};\n\nexport type CatalogLinkTo =\n  | string\n  | { pathname: string; search?: string; hash?: string };\nexport interface CatalogLinkProps\n  extends Omit<LinkProps, 'to'>,\n    Omit<NavLinkProps, 'to'> {\n  pathname: string;\n  searchParams?: StringObject;\n  nav?: boolean;\n  preserveSearch?: boolean;\n  preserveHash?: boolean;\n  showDivider?: boolean;\n  to?: CatalogLinkTo;\n  isDisabled?: boolean;\n}\nconst CatalogLink: React.ComponentType<CatalogLinkProps> = ({\n  pathname,\n  searchParams = {},\n  nav = false,\n  preserveSearch = false,\n  preserveHash = false,\n  showDivider,\n  ...props\n}) => {\n  const { search, hash } = useLocation();\n  const Component = nav ? StyledNavLink : StyledLink;\n  const to = {\n    pathname,\n    search: createSearchQuery(search, searchParams, preserveSearch),\n    hash: preserveHash ? hash : undefined\n  };\n  return <Component {...props} to={to} />;\n};\n\nexport default CatalogLink;\n","import { useHistory } from 'react-router-dom';\nimport { History, Path } from 'history';\nimport { AnyObject } from '@data-driven-forms/react-form-renderer';\n\nexport type EnhancedHistoryPushtarget =\n  | Path\n  | { pathname: string; hash?: string; search?: string; state?: AnyObject };\n\nconst removeSearchQuery = (target: EnhancedHistoryPushtarget) => {\n  if (typeof target === 'string') {\n    return target.split('?')[0];\n  }\n\n  if (typeof target === 'object') {\n    return {\n      ...target,\n      search: undefined\n    };\n  }\n\n  return target;\n};\n\n/**\n * Wrapper around useHistory hook which adds aditional settings to standard history methods\n * @param {Boolean} removeSearch if true, using history navigation methods will remove search string from path\n * @param {Boolean} keepHash if true, using history navigation methods will not remove hash from URL\n */\nconst useEnhancedHistory = ({\n  removeSearch,\n  keepHash\n}: {\n  removeSearch?: boolean;\n  keepHash?: boolean;\n} = {}): History<History.UnknownFacade> => {\n  const history = useHistory();\n  return {\n    ...history,\n    push: (target: EnhancedHistoryPushtarget) => {\n      let internalTarget = target;\n      if (keepHash && history.location.hash.length > 0) {\n        internalTarget =\n          typeof internalTarget === 'object'\n            ? { ...internalTarget, hash: history.location.hash }\n            : `${internalTarget}${history.location.hash}`;\n      }\n\n      if (removeSearch) {\n        return history.push(removeSearchQuery(internalTarget));\n      }\n\n      return history.push(internalTarget);\n    }\n  };\n};\n\nexport default useEnhancedHistory;\n"],"names":["children","pathname","props","Fragment","paddingBottom","breadcrumbs","breadcrumbfragments","rest","standalone","useContext","className","TopToolbarTitle","title","description","noData","LevelItem","TextContent","Text","component","TextVariants","axiosInstance","refreshPlatform","platformId","patch","getPlatformItems","filter","options","filterQuery","optionsQuery","limit","offset","get","getPlatformInventories","getServiceOffering","serviceOfferingId","sourceId","Promise","all","then","service","source","fetchPlatforms","dispatch","type","results","payload","catch","error","fetchPlatformItems","meta","fetchSelectedPlatform","id","fetchPlatformInventories","fetchServiceOffering","variant","dismissable","status","post","source_type_id","icon_url","query","sourceIds","sources","map","length","join","sourceDetails","data","find","sourceDetail","fragments","Breadcrumb","index","searchParams","undefined","nav","exact","key","BreadcrumbItem","showDivider","isActive","StyledLink","Link","StyledNavLink","NavLink","createSearchQuery","search","preserveSearch","paramsQuery","Object","entries","preserveHash","useLocation","hash","Component","to","removeSearch","keepHash","history","useHistory","push","target","internalTarget","location","split","removeSearchQuery"],"sourceRoot":""}