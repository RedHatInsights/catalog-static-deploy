{"version":3,"sources":["webpack:///./node_modules/@patternfly/react-core/dist/js/layouts/Stack/StackItem.js","webpack:///./node_modules/@patternfly/react-core/dist/js/layouts/Flex/Flex.js","webpack:///./src/smart-components/portfolio/portfolio-item-detail/item-detail-info-bar.js","webpack:///./src/forms/edit-portfolio-item-form.schema.ts","webpack:///./src/messages/icon.messages.ts","webpack:///./src/smart-components/portfolio/portfolio-item-detail/icon-upload.js","webpack:///./src/smart-components/portfolio/portfolio-item-detail/edit-portfolio-item.js","webpack:///./src/smart-components/portfolio/portfolio-item-detail/item-detail-description.js","webpack:///./src/smart-components/portfolio/portfolio-item-detail/portfolio-item-detail.js","webpack:///./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack:///./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack:///./src/presentational-components/shared/button-with-spinner.tsx","webpack:///./src/helpers/approval/approval-helper.ts","webpack:///./src/utilities/extract-format-message.ts","webpack:///./src/messages/approval.messages.ts","webpack:///./src/smart-components/common/edit-approval-workflow.tsx","webpack:///./src/redux/actions/approval-actions.ts","webpack:///./src/smart-components/portfolio/portfolio-item-detail/detail-toolbar-actions.js","webpack:///./src/smart-components/portfolio/portfolio-item-detail/portfolio-item-detail-toolbar.js","webpack:///./node_modules/@patternfly/react-icons/dist/js/icons/pencil-alt-icon.js","webpack:///./node_modules/@patternfly/react-core/dist/js/layouts/Stack/Stack.js"],"names":["Object","defineProperty","exports","value","StackItem","tslib_1","React","__importStar","stack_1","__importDefault","react_styles_1","_a","isFilled","className","children","props","__rest","createElement","assign","css","default","stackItem","modifiers","fill","displayName","Flex","flex_1","util_1","spacer","spaceItems","grow","shrink","flex","direction","alignItems","alignContent","alignSelf","align","justifyContent","display","fullWidth","flexWrap","formatBreakpointMods","messages","id","defaultMessage","ItemDetailInfoBar","product","source","portfolio","formatMessage","useFormatMessage","TextContent","Text","component","TextVariants","p","name","distributor","DateFormat","variant","date","created_at","propTypes","PropTypes","shape","string","updated_at","isRequired","fields","TEXT_FIELD","label","validate","type","REQUIRED","URL","changeIcon","resetIcon","UploadButton","styled","span","UploadIconWrapper","div","ImagePreview","img","StyledDropdown","Dropdown","IconUpload","uploadIcon","enableReset","inputRef","useRef","useState","image","setImage","isUploading","setIsUploading","isOpen","setIsOpen","dispatch","useDispatch","dropdownItems","DropdownItem","onClick","current","click","key","iconMessages","isDisabled","undefined","then","accept","onChange","event","target","files","error","addNotification","title","portfolioMessages","portfolioItemIconTitle","description","data","errors","detail","dismissable","ref","hidden","onSelect","isPlain","disabled","toggle","DropdownToggle","toggleIndicator","onToggle","stopPropagation","ouiaId","Spinner","size","style","height","src","createObjectURL","func","oneOfType","node","arrayOf","bool","EditPortfolioItem","cancelUrl","owner","userCapabilities","push","useHistory","search","useLocation","Stack","hasGutter","icon_id","CATALOG_API_BASE","sourceId","service_offering_source_ref","initialValues","onSubmit","values","pathname","updatePortfolioItem","metadata","user_capabilities","schema","editPortfolioItemSchema","templateProps","disableSubmit","onCancel","object","ItemDetailDescription","url","detailPaths","path","pushParam","objectType","PORTFOLIO_ITEM_RESOURCE_TYPE","objectId","objectName","querySelector","PORTFOLIO_ITEM_EDIT_ORDER_PROCESS_ROUTE","exact","render","long_description","h6","portfolioItemOverview","support_url","href","rel","portfolioItemSupport","documentation_url","portfolioItemDocumentation","portfolioItemDocLink","requiredCapabilities","SurveyEditor","lazy","requiredParams","PortfolioItemDetail","setOpen","isFetching","setIsFetching","useQuery","queryValues","useRouteMatch","PORTFOLIO_ITEM_ROUTE","portfolioItemData","useSelector","portfolioReducer","portfolioItem","selectedPortfolio","fromProducts","userPermissions","useContext","UserContext","permissions","canLinkOrderProcesses","hasPermission","fetchData","skipLoading","getPortfolioItemDetail","useEffect","insights","chrome","appNavClick","secondaryNav","keys","length","Section","breadcrumbs","availability","availability_status","unavailable","filter","notFound","map","Alert","isInline","objectUnavaiable","file","uploadPortfolioItemIcon","fallback","closeUrl","orderable","sourceUnavaiable","Grid","GridItem","md","lg","PORTFOLIO_ITEM_ROUTE_EDIT","resetPortfolioItemIcon","objectWithoutPropertiesLoose","module","excluded","i","getOwnPropertySymbols","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","call","sourceKeys","SpinnerButton","SpinnerLabel","ButtonWithSpinner","showSpinner","loadWorkflowOptions","filterValue","initialLookup","initialLookupQuery","workflow","join","get","updateWorkflows","unlinkIds","linkIds","resourceObject","unlinkPromises","wf","unlinkWorkflow","linkPromises","linkWorkflow","Promise","all","listWorkflowsForObject","pagination","limit","offset","objectQuery","appName","paginationQuery","filterQuery","getState","i18nReducer","unlinkNotification","linkNotification","setWorkflow","currentWorkflows","removeSearch","keepHash","onClose","modalTitle","history","query","close","toLink","toUnlink","toLinkIds","toUnlinkIds","object_type","app_name","object_id","UPDATE_WORKFLOWS","payload","count","getInitialTags","loadTags","subTitle","strong","existingTagsMessage","DetailToolbarActions","copyUrl","orderUrl","editUrl","workflowUrl","editSurveyUrl","update","copy","set_approval","aria-label","preserveSearch","actionMessages","edit","role","setApproval","orderProcessAction","orderProcessesMessages","setOrderProcess","portfolioItemSurvey","LevelItem","portfolioItemOrder","marginLeft","position","DropdownPosition","right","KebabToggle","oneOf","defaultProps","PortfolioItemIconItem","PortfolioItemDetailToolbar","paddingBottom","Level","editProduct","noData","alignStart","h1","minHeight","open","SurveyEditorDropdown","handleResetSurvey","restoreSurvey","SurveyEditingToolbar","handleSaveSurvey","isValid","modified","save","to","Button","__esModule","PencilAltIconConfig","width","svgPath","yOffset","xOffset","PencilAltIcon","createIcon","Component","stack","gutter"],"mappings":"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","file":"js/portfolio-item-detail~31ecd969.a9c2cff59df185434ee2.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StackItem = void 0;\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst stack_1 = tslib_1.__importDefault(require(\"@patternfly/react-styles/css/layouts/Stack/stack\"));\nconst react_styles_1 = require(\"@patternfly/react-styles\");\nexports.StackItem = (_a) => {\n    var { isFilled = false, className = '', children = null } = _a, props = tslib_1.__rest(_a, [\"isFilled\", \"className\", \"children\"]);\n    return (React.createElement(\"div\", Object.assign({}, props, { className: react_styles_1.css(stack_1.default.stackItem, isFilled && stack_1.default.modifiers.fill, className) }), children));\n};\nexports.StackItem.displayName = 'StackItem';\n//# sourceMappingURL=StackItem.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Flex = void 0;\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst react_styles_1 = require(\"@patternfly/react-styles\");\nconst flex_1 = tslib_1.__importDefault(require(\"@patternfly/react-styles/css/layouts/Flex/flex\"));\nconst util_1 = require(\"../../helpers/util\");\nexports.Flex = (_a) => {\n    var { children = null, className = '', spacer, spaceItems, grow, shrink, flex, direction, alignItems, alignContent, alignSelf, align, justifyContent, display, fullWidth, flexWrap } = _a, props = tslib_1.__rest(_a, [\"children\", \"className\", \"spacer\", \"spaceItems\", \"grow\", \"shrink\", \"flex\", \"direction\", \"alignItems\", \"alignContent\", \"alignSelf\", \"align\", \"justifyContent\", \"display\", \"fullWidth\", \"flexWrap\"]);\n    return (React.createElement(\"div\", Object.assign({ className: react_styles_1.css(flex_1.default.flex, util_1.formatBreakpointMods(spacer, flex_1.default), util_1.formatBreakpointMods(spaceItems, flex_1.default), util_1.formatBreakpointMods(grow, flex_1.default), util_1.formatBreakpointMods(shrink, flex_1.default), util_1.formatBreakpointMods(flex, flex_1.default), util_1.formatBreakpointMods(direction, flex_1.default), util_1.formatBreakpointMods(alignItems, flex_1.default), util_1.formatBreakpointMods(alignContent, flex_1.default), util_1.formatBreakpointMods(alignSelf, flex_1.default), util_1.formatBreakpointMods(align, flex_1.default), util_1.formatBreakpointMods(justifyContent, flex_1.default), util_1.formatBreakpointMods(display, flex_1.default), util_1.formatBreakpointMods(fullWidth, flex_1.default), util_1.formatBreakpointMods(flexWrap, flex_1.default), className) }, props), children));\n};\nexports.Flex.displayName = 'Flex';\n//# sourceMappingURL=Flex.js.map","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Text, TextContent, TextVariants } from '@patternfly/react-core';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/components/cjs/DateFormat';\nimport useFormatMessage from '../../../utilities/use-format-message';\n\nconst messages = {\n  platform: {\n    id: 'portfolio.item.detail.info.platform',\n    defaultMessage: 'Platform'\n  },\n  portfolio: {\n    id: 'portfolio.item.detail.info.portfolio',\n    defaultMessage: 'Portfolio'\n  },\n  vendor: {\n    id: 'portfolio.item.detail.info.vendor',\n    defaultMessage: 'Vendor'\n  },\n  created: {\n    id: 'portfolio.item.detail.info.created',\n    defaultMessage: 'Created'\n  }\n};\n\nconst ItemDetailInfoBar = ({ product, source, portfolio }) => {\n  const formatMessage = useFormatMessage();\n  return (\n    <TextContent className=\"pf-u-mb-md\">\n      <Text className=\"font-14\">{formatMessage(messages.platform)}</Text>\n      <Text\n        id=\"source-name\"\n        className=\"overflow-wrap\"\n        component={TextVariants.p}\n      >\n        {source.name}\n      </Text>\n      <Text className=\"font-14\">{formatMessage(messages.portfolio)}</Text>\n      <Text\n        id=\"portfolio-name\"\n        className=\"overflow-wrap\"\n        component={TextVariants.p}\n      >\n        {portfolio.name}\n      </Text>\n      {product.distributor && (\n        <span id=\"distributor\">\n          <Text className=\"font-14\">{formatMessage(messages.vendor)}</Text>\n          <Text className=\"overflow-wrap\" component={TextVariants.p}>\n            {product.distributor}\n          </Text>\n        </span>\n      )}\n      <Text className=\"font-14\">{formatMessage(messages.created)}</Text>\n      <Text id=\"created_at\" component={TextVariants.p}>\n        <DateFormat variant=\"relative\" date={product.created_at} />\n      </Text>\n    </TextContent>\n  );\n};\n\nItemDetailInfoBar.propTypes = {\n  product: PropTypes.shape({\n    distributor: PropTypes.string,\n    updated_at: PropTypes.string,\n    created_at: PropTypes.string.isRequired\n  }).isRequired,\n  source: PropTypes.shape({\n    name: PropTypes.string\n  }).isRequired,\n  portfolio: PropTypes.shape({\n    name: PropTypes.string\n  }).isRequired\n};\n\nexport default ItemDetailInfoBar;\n","import componentTypes from '@data-driven-forms/react-form-renderer/dist/cjs/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/dist/cjs/validator-types';\nimport Schema from '@data-driven-forms/react-form-renderer/dist/cjs/schema';\n\nconst editPortfolioItemSchema: Schema = {\n  fields: [\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'name',\n      label: 'schemas.portfolio-item.name',\n      isRequired: true,\n      validate: [{ type: validatorTypes.REQUIRED }]\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'description',\n      label: 'schemas.portfolio-item.description'\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'long_description',\n      label: 'schemas.portfolio-item.long_description'\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'distributor',\n      label: 'schemas.portfolio-item.vendor'\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'documentation_url',\n      label: 'schemas.portfolio-item.documentation_url',\n      validate: [\n        {\n          type: validatorTypes.URL\n        }\n      ]\n    },\n    {\n      component: componentTypes.TEXT_FIELD,\n      name: 'support_url',\n      label: 'schemas.portfolio-item.support_url',\n      validate: [\n        {\n          type: validatorTypes.URL\n        }\n      ]\n    }\n  ]\n};\n\nexport default editPortfolioItemSchema;\n","import { defineMessages } from 'react-intl';\n\nconst iconMessages = defineMessages({\n  changeIcon: {\n    id: 'icons.actions.change',\n    defaultMessage: 'Upload image'\n  },\n  resetIcon: {\n    id: 'icons.actions.reset',\n    defaultMessage: 'Reset image'\n  }\n});\n\nexport default iconMessages;\n","import React, { useState, useRef } from 'react';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport {\n  Spinner,\n  Dropdown,\n  DropdownToggle,\n  DropdownItem\n} from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/cjs/actions';\nimport styled from 'styled-components';\nimport portfolioMessages from '../../../messages/portfolio.messages';\nimport useFormatMessage from '../../../utilities/use-format-message';\nimport iconMessages from '../../../messages/icon.messages';\n\nconst UploadButton = styled.span`\n  border: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding-left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: transparent;\n  &::after {\n    content: ' ';\n    position: absolute;\n    display: block;\n    top: -0.3em;\n    right: -0.3em;\n    width: 1.5em;\n    height: 1.5em;\n    border-radius: 50%;\n    background-color: rgba(255, 255, 255, 0.8);\n    z-index: 0;\n  }\n  svg,\n  .pf-c-spinner {\n    z-index: 1;\n    position: absolute;\n    top: 0;\n    right: 0;\n  }\n`;\n\nconst UploadIconWrapper = styled.div`\n  position: relative;\n  display: inline-block;\n`;\n\nconst ImagePreview = styled.img`\n  height: 64px;\n  max-width: 300px;\n  object-fit: cover;\n`;\n\nconst StyledDropdown = styled(Dropdown)`\n  .pf-c-dropdown__menu {\n    top: 24px;\n    left: calc(100% - 24px);\n  }\n`;\n\nconst IconUpload = ({ uploadIcon, resetIcon, enableReset, children }) => {\n  const formatMessage = useFormatMessage();\n  const inputRef = useRef();\n  const [image, setImage] = useState();\n  const [isUploading, setIsUploading] = useState(false);\n  const [isOpen, setIsOpen] = useState(false);\n  const handleClick = () => {\n    setIsOpen(false);\n    return inputRef.current.click();\n  };\n\n  const handleReset = () => {\n    setImage(undefined);\n    setIsUploading(true);\n    return resetIcon().then(() => setIsUploading(false));\n  };\n\n  const dispatch = useDispatch();\n\n  const dropdownItems = [\n    <DropdownItem onClick={handleClick} key=\"change-icon\">\n      {formatMessage(iconMessages.changeIcon)}\n    </DropdownItem>,\n    <DropdownItem\n      isDisabled={!enableReset}\n      onClick={handleReset}\n      key=\"reset-icon\"\n    >\n      {formatMessage(iconMessages.resetIcon)}\n    </DropdownItem>\n  ];\n\n  return (\n    <UploadIconWrapper>\n      <input\n        accept=\".png,.svg,.jpeg\"\n        onChange={(event) => {\n          setImage(event.target.files[0]);\n          setIsUploading(true);\n          uploadIcon(event.target.files[0])\n            .then(() => setIsUploading(false))\n            .catch((error) => {\n              dispatch(\n                addNotification({\n                  variant: 'danger',\n                  title: formatMessage(\n                    portfolioMessages.portfolioItemIconTitle\n                  ),\n                  description: error.data.errors[0].detail,\n                  dismissable: true\n                })\n              );\n              setImage(undefined);\n              setIsUploading(false);\n            });\n        }}\n        ref={inputRef}\n        type=\"file\"\n        id=\"icon-upload\"\n        hidden\n      />\n      <StyledDropdown\n        onSelect={() => setIsOpen(false)}\n        isOpen={isOpen}\n        isPlain\n        disabled={isUploading}\n        dropdownItems={dropdownItems}\n        toggle={\n          <DropdownToggle\n            disabled={isUploading}\n            toggleIndicator={null}\n            onToggle={(isOpen, event) => {\n              event.stopPropagation();\n              setIsOpen(isOpen);\n            }}\n          >\n            <UploadButton ouiaId={'upload-icon'}>\n              {isUploading ? (\n                <Spinner size=\"md\" />\n              ) : (\n                <PencilAltIcon size=\"sm\" />\n              )}\n            </UploadButton>\n            {!image && children}\n            {image && (\n              <ImagePreview\n                style={{ height: 64 }}\n                src={URL.createObjectURL(image)}\n                id={image.name}\n              />\n            )}\n          </DropdownToggle>\n        }\n      />\n    </UploadIconWrapper>\n  );\n};\n\nIconUpload.propTypes = {\n  uploadIcon: PropTypes.func.isRequired,\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node)\n  ]),\n  resetIcon: PropTypes.func.isRequired,\n  enableReset: PropTypes.bool\n};\n\nexport default IconUpload;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport { useLocation, useHistory } from 'react-router-dom';\n\nimport FormRenderer from '../../common/form-renderer';\nimport editPortfolioItemSchema from '../../../forms/edit-portfolio-item-form.schema';\nimport { updatePortfolioItem } from '../../../redux/actions/portfolio-actions';\nimport { Stack, StackItem } from '@patternfly/react-core';\nimport IconUpload from './icon-upload';\nimport { CATALOG_API_BASE } from '../../../utilities/constants';\nimport CardIcon from '../../../presentational-components/shared/card-icon';\n\nconst EditPortfolioItem = ({\n  cancelUrl,\n  uploadIcon,\n  resetIcon,\n  product: { owner, created_at, updated_at, ...product },\n  userCapabilities\n}) => {\n  const dispatch = useDispatch();\n  const { push } = useHistory();\n  const { search } = useLocation();\n  return (\n    <Stack hasGutter>\n      <StackItem key={product.icon_id || 'default'}>\n        <IconUpload\n          uploadIcon={uploadIcon}\n          resetIcon={resetIcon}\n          enableReset={!!product.icon_id}\n        >\n          <CardIcon\n            src={`${CATALOG_API_BASE}/portfolio_items/${\n              product.id\n            }/icon?cache_id=${product.icon_id || 'default'}`} // we need ho add the query to prevent the browser caching when reseting the image\n            sourceId={product.service_offering_source_ref}\n            height={64}\n          />\n        </IconUpload>\n      </StackItem>\n      <StackItem>\n        <FormRenderer\n          initialValues={{ ...product }}\n          onSubmit={(values) => {\n            push({\n              pathname: cancelUrl,\n              search\n            });\n            return dispatch(\n              updatePortfolioItem({\n                ...values,\n                metadata: { user_capabilities: userCapabilities }\n              })\n            );\n          }}\n          schema={editPortfolioItemSchema}\n          templateProps={{\n            disableSubmit: ['pristine']\n          }}\n          onCancel={() =>\n            push({\n              pathname: cancelUrl,\n              search\n            })\n          }\n        />\n      </StackItem>\n    </Stack>\n  );\n};\n\nEditPortfolioItem.propTypes = {\n  cancelUrl: PropTypes.string.isRequired,\n  product: PropTypes.object.isRequired,\n  userCapabilities: PropTypes.object.isRequired,\n  uploadIcon: PropTypes.func.isRequired,\n  resetIcon: PropTypes.func.isRequired\n};\n\nexport default EditPortfolioItem;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Switch } from 'react-router-dom';\nimport { Text, TextContent, TextVariants } from '@patternfly/react-core';\n\nimport EditPortfolioItem from './edit-portfolio-item';\nimport EditApprovalWorkflow from '../../../smart-components/common/edit-approval-workflow';\nimport { PORTFOLIO_ITEM_RESOURCE_TYPE } from '../../../utilities/constants';\nimport CatalogRoute from '../../../routing/catalog-route';\nimport portfolioMessages from '../../../messages/portfolio.messages';\nimport useFormatMessage from '../../../utilities/use-format-message';\nimport SetOrderProcessModal from '../../order-process/set-order-process-modal';\nimport { PORTFOLIO_ITEM_EDIT_ORDER_PROCESS_ROUTE } from '../../../constants/routes';\n\nconst ItemDetailDescription = ({\n  userCapabilities,\n  product,\n  url,\n  search,\n  detailPaths,\n  uploadIcon,\n  resetIcon\n}) => {\n  const formatMessage = useFormatMessage();\n  return (\n    <Switch>\n      <Route path={`${url}/edit-workflow`}>\n        <EditApprovalWorkflow\n          pushParam={{ pathname: url, search }}\n          objectType={PORTFOLIO_ITEM_RESOURCE_TYPE}\n          objectId={product.id}\n          objectName={() => product.name}\n          querySelector=\"portfolio-item\"\n        />\n      </Route>\n      <Route path={PORTFOLIO_ITEM_EDIT_ORDER_PROCESS_ROUTE}>\n        <SetOrderProcessModal\n          querySelector=\"portfolio-item\"\n          objectType={PORTFOLIO_ITEM_RESOURCE_TYPE}\n          objectName={() => product.name}\n          pushParam={{ pathname: url, search }}\n        />\n      </Route>\n      <Route\n        exact\n        path={detailPaths}\n        render={() => (\n          <TextContent>\n            {(product.description || product.long_description) && (\n              <Text component={TextVariants.h6}>\n                {formatMessage(portfolioMessages.portfolioItemOverview)}\n              </Text>\n            )}\n            {product.description && (\n              <Text id=\"description\" component={TextVariants.p}>\n                {product.description}\n              </Text>\n            )}\n            {product.long_description && (\n              <Text id=\"long_description\" component={TextVariants.p}>\n                {product.long_description}\n              </Text>\n            )}\n            {product.support_url && (\n              <Text id=\"support_url\" component={TextVariants.p}>\n                <a\n                  href={product.support_url}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {formatMessage(portfolioMessages.portfolioItemSupport)}\n                </a>\n              </Text>\n            )}\n            {product.documentation_url && (\n              <Fragment>\n                <Text component={TextVariants.h6}>\n                  {formatMessage(portfolioMessages.portfolioItemDocumentation)}\n                </Text>\n                <Text id=\"documentation_url\" component={TextVariants.p}>\n                  <a\n                    href={product.documentation_url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {formatMessage(portfolioMessages.portfolioItemDocLink)}\n                  </a>\n                </Text>\n              </Fragment>\n            )}\n          </TextContent>\n        )}\n      />\n      <CatalogRoute\n        exact\n        path={`${url}/edit`}\n        requiredCapabilities=\"update\"\n        userCapabilities={userCapabilities}\n      >\n        <EditPortfolioItem\n          cancelUrl={url}\n          product={product}\n          userCapabilities={userCapabilities}\n          uploadIcon={uploadIcon}\n          resetIcon={resetIcon}\n        />\n      </CatalogRoute>\n    </Switch>\n  );\n};\n\nItemDetailDescription.propTypes = {\n  product: PropTypes.shape({\n    name: PropTypes.string,\n    long_description: PropTypes.string,\n    support_url: PropTypes.string,\n    documentation_url: PropTypes.string,\n    description: PropTypes.string,\n    id: PropTypes.string.isRequired\n  }).isRequired,\n  url: PropTypes.string.isRequired,\n  search: PropTypes.string.isRequired,\n  userCapabilities: PropTypes.object.isRequired,\n  detailPaths: PropTypes.arrayOf(PropTypes.string),\n  uploadIcon: PropTypes.func.isRequired,\n  resetIcon: PropTypes.func.isRequired\n};\n\nexport default ItemDetailDescription;\n","import React, {\n  useEffect,\n  useState,\n  Fragment,\n  lazy,\n  Suspense,\n  useContext\n} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch, useRouteMatch, useLocation } from 'react-router-dom';\nimport { Grid, GridItem, Alert } from '@patternfly/react-core';\nimport { Section } from '@redhat-cloud-services/frontend-components/components/cjs/Section';\n\nimport ItemDetailInfoBar from './item-detail-info-bar';\nimport ItemDetailDescription from './item-detail-description';\nimport { PortfolioItemDetailToolbar } from './portfolio-item-detail-toolbar';\nimport TopToolbar from '../../../presentational-components/shared/top-toolbar';\nimport { getPortfolioItemDetail } from '../../../redux/actions/portfolio-actions';\nimport {\n  ProductLoaderPlaceholder,\n  AppPlaceholder\n} from '../../../presentational-components/shared/loader-placeholders';\nimport {\n  uploadPortfolioItemIcon,\n  resetPortfolioItemIcon\n} from '../../../helpers/portfolio/portfolio-helper';\nimport useQuery from '../../../utilities/use-query';\nimport {\n  PORTFOLIO_ITEM_ROUTE,\n  PORTFOLIO_ITEM_ROUTE_EDIT,\n  PORTFOLIO_ITEM_EDIT_ORDER_PROCESS_ROUTE\n} from '../../../constants/routes';\nimport CatalogRoute from '../../../routing/catalog-route';\nimport portfolioMessages from '../../../messages/portfolio.messages';\nimport BackToProducts from '../../../presentational-components/portfolio/back-to-products';\nimport useFormatMessage from '../../../utilities/use-format-message';\nimport { hasPermission } from '../../../helpers/shared/helpers';\nimport UserContext from '../../../user-context';\n\nconst SurveyEditor = lazy(() =>\n  import(\n    /* webpackChunkName: \"survey-editor\" */ '../../survey-editing/survey-editor'\n  )\n);\n\nconst requiredParams = [\n  'portfolio',\n  'source',\n  'portfolio-item',\n  'from-products'\n];\n\nconst PortfolioItemDetail = () => {\n  const formatMessage = useFormatMessage();\n  const [isOpen, setOpen] = useState(false);\n  const [isFetching, setIsFetching] = useState(true);\n  const dispatch = useDispatch();\n  const [queryValues, search] = useQuery(requiredParams);\n  const { pathname } = useLocation();\n  const { url } = useRouteMatch(PORTFOLIO_ITEM_ROUTE);\n  const portfolioItemData = useSelector(\n    ({ portfolioReducer: { portfolioItem } }) => portfolioItem\n  );\n  const portfolio = useSelector(\n    ({ portfolioReducer: { selectedPortfolio } }) => selectedPortfolio\n  );\n  const fromProducts = queryValues['from-products'] === 'true';\n  const { permissions: userPermissions } = useContext(UserContext);\n  const canLinkOrderProcesses = hasPermission(userPermissions, [\n    'catalog:order_processes:link'\n  ]);\n\n  const fetchData = (skipLoading) => {\n    if (!skipLoading) {\n      setIsFetching(true);\n    }\n\n    dispatch(\n      getPortfolioItemDetail({\n        portfolioItem: queryValues['portfolio-item'],\n        ...queryValues\n      })\n    )\n      .then(() => setIsFetching(false))\n      .catch(() => setIsFetching(false));\n  };\n\n  useEffect(() => {\n    insights.chrome.appNavClick({\n      id: fromProducts ? 'products' : 'portfolios',\n      secondaryNav: true\n    });\n    fetchData(false);\n  }, [queryValues['portfolio-item']]);\n\n  if (isFetching || Object.keys(portfolioItemData).length === 0) {\n    return (\n      <Section className=\"global-primary-background full-height\">\n        <TopToolbar breadcrumbs={!fromProducts}>\n          {fromProducts && <BackToProducts />}\n          <ProductLoaderPlaceholder />\n        </TopToolbar>\n      </Section>\n    );\n  }\n\n  const availability =\n    portfolioItemData?.source?.availability_status || 'unavailable';\n  const unavailable = [portfolioItemData?.source]\n    .filter(({ notFound }) => notFound)\n    .map(({ object }) => (\n      <Alert\n        className=\"pf-u-mb-sm\"\n        key={object}\n        variant=\"warning\"\n        isInline\n        title={formatMessage(portfolioMessages.objectUnavaiable, { object })}\n      />\n    ));\n  const uploadIcon = (file) =>\n    uploadPortfolioItemIcon(\n      portfolioItemData?.portfolioItem?.id,\n      file\n    ).then(() => fetchData(true));\n  const resetIcon = () =>\n    resetPortfolioItemIcon(portfolioItemData?.portfolioItem?.icon_id).then(\n      fetchData\n    );\n  const detailPaths = [\n    PORTFOLIO_ITEM_ROUTE,\n    `${url}/order`,\n    `${url}/copy`,\n    `${url}/edit-workflow`,\n    PORTFOLIO_ITEM_EDIT_ORDER_PROCESS_ROUTE\n  ];\n  return (\n    <Fragment>\n      <Switch>\n        <CatalogRoute\n          requiredCapabilities=\"update\"\n          userCapabilities={\n            portfolioItemData?.portfolioItem?.metadata.user_capabilities\n          }\n          path={`${url}/edit-survey`}\n        >\n          <Suspense fallback={<AppPlaceholder />}>\n            <SurveyEditor\n              closeUrl={url}\n              search={search}\n              uploadIcon={uploadIcon}\n              portfolioItem={portfolioItemData.portfolioItem}\n              portfolio={portfolio}\n            />\n          </Suspense>\n        </CatalogRoute>\n        <Route>\n          <Section className=\"full-height global-primary-background\">\n            <PortfolioItemDetailToolbar\n              fromProducts={fromProducts}\n              url={url}\n              isOpen={isOpen}\n              product={portfolioItemData.portfolioItem}\n              setOpen={setOpen}\n              isFetching={isFetching}\n              availability={availability}\n              userCapabilities={\n                portfolioItemData?.portfolioItem?.metadata.user_capabilities\n              }\n              orderable={portfolioItemData?.portfolioItem.metadata?.orderable}\n              canLinkOrderProcesses={canLinkOrderProcesses}\n            />\n            {unavailable.length > 0 && (\n              <div className=\"pf-u-mr-lg pf-u-ml-lg\">{unavailable}</div>\n            )}\n            {portfolioItemData?.source?.availability_status ===\n              'unavailable' && (\n              <Alert\n                className=\"pf-u-ml-lg pf-u-mr-lg\"\n                id=\"unavailable-alert-info\"\n                variant=\"info\"\n                isInline\n                title={formatMessage(portfolioMessages.sourceUnavaiable)}\n              />\n            )}\n            <Grid hasGutter className=\"pf-u-p-lg\">\n              <Route path={detailPaths} exact>\n                <GridItem md={3} lg={2}>\n                  <ItemDetailInfoBar\n                    product={portfolioItemData.portfolioItem}\n                    portfolio={portfolio}\n                    source={portfolioItemData.source}\n                  />\n                </GridItem>\n              </Route>\n              <GridItem\n                md={pathname === PORTFOLIO_ITEM_ROUTE_EDIT ? 12 : 9}\n                lg={pathname === PORTFOLIO_ITEM_ROUTE_EDIT ? 12 : 10}\n              >\n                <ItemDetailDescription\n                  resetIcon={resetIcon}\n                  uploadIcon={uploadIcon}\n                  product={portfolioItemData.portfolioItem}\n                  userCapabilities={\n                    portfolioItemData?.portfolioItem?.metadata.user_capabilities\n                  }\n                  url={url}\n                  detailPaths={detailPaths}\n                  search={search}\n                />\n              </GridItem>\n            </Grid>\n          </Section>\n        </Route>\n      </Switch>\n    </Fragment>\n  );\n};\n\nexport default PortfolioItemDetail;\n","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","/* eslint-disable react/prop-types */\nimport React, { forwardRef } from 'react';\nimport styled from 'styled-components';\nimport { Button } from '@patternfly/react-core';\nimport { Spinner } from '@patternfly/react-core/dist/js/components/Spinner/Spinner';\nimport { AnyObject } from '../../types/common-types';\n\nconst SpinnerButton = styled(Button)`\n  display: flex !important;\n  align-items: center;\n`;\n\nconst SpinnerLabel = styled.span<{ showSpinner: boolean }>`\n  margin-right: ${({ showSpinner }) => (showSpinner ? '8px' : '0')};\n`;\n\nexport interface ButtonWithSpinnerProps extends AnyObject {\n  showSpinner?: boolean;\n  isDisabled?: boolean;\n}\nconst ButtonWithSpinner = forwardRef<HTMLButtonElement, ButtonWithSpinnerProps>(\n  ({ children, showSpinner = false, isDisabled = false, ...props }, ref) => (\n    <SpinnerButton ref={ref} {...props} isDisabled={isDisabled}>\n      <SpinnerLabel showSpinner={showSpinner}>{children}</SpinnerLabel>\n      {showSpinner && <Spinner size=\"md\" />}\n    </SpinnerButton>\n  )\n);\n\nButtonWithSpinner.displayName = 'ButtonWithSpinner';\n\nexport default ButtonWithSpinner;\n","import {\n  Workflow,\n  ResourceObject\n} from '@redhat-cloud-services/approval-client';\nimport { getWorkflowApi, getAxiosInstance } from '../shared/user-login';\nimport { APPROVAL_API_BASE } from '../../utilities/constants';\nimport { defaultSettings, PaginationConfiguration } from '../shared/pagination';\nimport {\n  ApiCollectionResponse,\n  SelectOptions,\n  InternalResourceObject\n} from '../../types/common-types';\n\nexport const getApprovalWorkflows = (): Promise<ApiCollectionResponse<\n  Workflow\n>> =>\n  (getWorkflowApi().listWorkflows() as unknown) as Promise<\n    ApiCollectionResponse<Workflow>\n  >;\n\nexport const loadWorkflowOptions = (\n  filterValue = '',\n  initialLookup: string[] = []\n): Promise<SelectOptions> => {\n  const initialLookupQuery = initialLookup\n    .map((workflow) => `filter[id][]=${workflow}`)\n    .join('&');\n\n  return getAxiosInstance()\n    .get(\n      `${APPROVAL_API_BASE}/workflows?filter[name][contains]=${filterValue}&${initialLookupQuery ||\n        ''}`\n    )\n    .then(({ data }) =>\n      data.map(({ id, name }: Workflow) => ({ label: name, value: id }))\n    );\n};\n\nexport const updateWorkflows = (\n  unlinkIds: string[],\n  linkIds: string[],\n  resourceObject: ResourceObject\n): Promise<void[]> => {\n  const unlinkPromises = unlinkIds\n    ? unlinkIds.map((wf) => getWorkflowApi().unlinkWorkflow(wf, resourceObject))\n    : [];\n  const linkPromises = linkIds\n    ? linkIds.map((wf) => getWorkflowApi().linkWorkflow(wf, resourceObject))\n    : [];\n  return (Promise.all([\n    ...unlinkPromises,\n    ...linkPromises\n  ]) as unknown) as Promise<void[]>;\n};\n\nexport const listWorkflowsForObject = (\n  resourceObject: InternalResourceObject,\n  pagination: PaginationConfiguration = {\n    limit: defaultSettings.limit,\n    offset: defaultSettings.offset\n  },\n  filter = ''\n): Promise<ApiCollectionResponse<Workflow>> => {\n  const objectQuery = `app_name=${resourceObject.appName}&object_type=${resourceObject.objectType}&object_id=${resourceObject.objectId}`;\n  const paginationQuery = `&limit=${pagination.limit}&offset=${pagination.offset}`;\n  const filterQuery = `&filter[name][contains]=${filter}`;\n  return getAxiosInstance().get(\n    `${APPROVAL_API_BASE}/workflows?${objectQuery}${filterQuery}${paginationQuery}`\n  );\n};\n","import { I18nFormatMessage } from '../redux/reducers/i18n-reducer';\nimport { GetReduxState } from '../types/redux';\n\nconst extractFormatMessage = (getState: GetReduxState): I18nFormatMessage =>\n  getState().i18nReducer.formatMessage!;\n\nexport default extractFormatMessage;\n","import { defineMessages } from 'react-intl';\n\nconst approvalMessages = defineMessages({\n  unlinkNotification: {\n    id: 'approval.notifications.unlink',\n    defaultMessage:\n      '{count, number} {count, plural, one {approval process was} other {approval processes were}} unlinked successfully.'\n  },\n  linkNotification: {\n    id: 'approval.notifications.link',\n    defaultMessage:\n      '{count, number} {count, plural, one {approval process was} other {approval processes were}} linked successfully.'\n  },\n  setWorkflow: {\n    id: 'approval.workflows.set',\n    defaultMessage:\n      'Select approval processes for <strong>{objectName}</strong>'\n  },\n  currentWorkflows: {\n    id: 'approval.workflows.current',\n    defaultMessage: 'Current approval processes'\n  }\n});\n\nexport default approvalMessages;\n","/* eslint-disable react/prop-types */\nimport React, { ReactNode, useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { updateWorkflows } from '../../redux/actions/approval-actions';\nimport { APP_NAME } from '../../utilities/constants';\nimport {\n  loadWorkflowOptions,\n  listWorkflowsForObject\n} from '../../helpers/approval/approval-helper';\nimport useQuery from '../../utilities/use-query';\nimport useEnhancedHistory from '../../utilities/use-enhanced-history';\nimport { defineMessage } from 'react-intl';\nimport approvalMessages from '../../messages/approval.messages';\nimport useFormatMessage from '../../utilities/use-format-message';\nimport TaggingModal, { Tag } from './tagging-modal';\nimport { Bold } from '../../presentational-components/shared/intl-rich-text-components';\nimport { CatalogLinkTo } from '../common/catalog-link';\n\nexport interface EditApprovalWorkflowProps {\n  pushParam: CatalogLinkTo;\n  objectType: keyof typeof APP_NAME;\n  objectName: (node: string) => ReactNode;\n  removeSearch?: boolean;\n  querySelector: 'portfolio' | 'platform' | 'inventory' | 'portfolio-item';\n  keepHash?: boolean;\n  onClose?: () => any;\n}\nconst EditApprovalWorkflow: React.ComponentType<EditApprovalWorkflowProps> = ({\n  objectType,\n  removeSearch,\n  keepHash = false,\n  querySelector,\n  pushParam,\n  objectName = () => objectType,\n  onClose\n}) => {\n  const formatMessage = useFormatMessage();\n  const { current: modalTitle } = useRef(\n    formatMessage(\n      defineMessage({\n        id: 'workflows.modal.title',\n        defaultMessage: 'Set approval process'\n      })\n    )\n  );\n  const dispatch = useDispatch();\n  const history = useEnhancedHistory({ removeSearch, keepHash });\n  const [query] = useQuery([querySelector]);\n\n  const close = () => {\n    onClose && onClose();\n    history.push(pushParam);\n  };\n\n  const onSubmit = (toLink: string[], toUnlink: string[]) => {\n    close();\n    dispatch(\n      updateWorkflows(toLink, toUnlink, {\n        object_type: objectType,\n        app_name: APP_NAME[objectType],\n        object_id: query[querySelector]\n      })\n    );\n  };\n\n  return (\n    <TaggingModal\n      title={modalTitle as string}\n      onClose={close}\n      onSubmit={onSubmit}\n      getInitialTags={() =>\n        listWorkflowsForObject({\n          objectType,\n          appName: APP_NAME[objectType],\n          objectId: query[querySelector]\n        }).then(({ data }) => data) as Promise<Tag[]>\n      }\n      loadTags={loadWorkflowOptions}\n      subTitle={formatMessage(approvalMessages.setWorkflow, {\n        strong: Bold,\n        objectName: objectName(query[querySelector])\n      })}\n      existingTagsMessage={formatMessage(approvalMessages.currentWorkflows)}\n    />\n  );\n};\n\nexport default EditApprovalWorkflow;\n","import { Dispatch } from 'redux';\nimport {\n  ApiCollectionResponse,\n  ApiMetadata,\n  InternalResourceObject\n} from '../../types/common-types';\nimport { ASYNC_ACTIONS } from '../action-types/approval-action-types';\nimport * as ApprovalHelper from '../../helpers/approval/approval-helper';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/cjs/actions';\nimport extractFormatMessage from '../../utilities/extract-format-message';\nimport approvalMessages from '../../messages/approval.messages';\nimport { AsyncMiddlewareAction, GetReduxState } from '../../types/redux';\nimport {\n  ResourceObject,\n  Workflow\n} from '@redhat-cloud-services/approval-client';\n\nexport const fetchWorkflows = (): AsyncMiddlewareAction<{\n  value?: string;\n  label?: string;\n}[]> => ({\n  type: ASYNC_ACTIONS.FETCH_WORKFLOWS,\n  payload: ApprovalHelper.getApprovalWorkflows().then(({ data }) =>\n    data.map(({ id, name }) => ({ value: id, label: name }))\n  )\n});\n\nexport const updateWorkflows = (\n  toLinkIds: string[],\n  toUnlinkIds: string[],\n  resourceObject: ResourceObject\n) => (dispatch: Dispatch, getState: GetReduxState): AsyncMiddlewareAction => {\n  const formatMessage = extractFormatMessage(getState);\n  return dispatch({\n    type: ASYNC_ACTIONS.UPDATE_WORKFLOWS,\n    payload: ApprovalHelper.updateWorkflows(\n      toUnlinkIds,\n      toLinkIds,\n      resourceObject\n    ).then(() =>\n      dispatch(\n        addNotification({\n          variant: 'success',\n          title: 'Success updating approval process',\n          dismissable: true,\n          description: `${\n            toUnlinkIds.length > 0\n              ? formatMessage &&\n                formatMessage(approvalMessages.unlinkNotification, {\n                  count: toUnlinkIds.length\n                })\n              : ''\n          }\n          ${\n            toLinkIds.length > 0\n              ? formatMessage(approvalMessages.linkNotification, {\n                  count: toLinkIds.length\n                })\n              : ''\n          }`\n        })\n      )\n    )\n  });\n};\n\nexport const listWorkflowsForObject = (\n  resourceObject: InternalResourceObject,\n  meta: ApiMetadata = {\n    limit: defaultSettings.limit,\n    offset: defaultSettings.offset\n  },\n  filter = ''\n): AsyncMiddlewareAction<ApiCollectionResponse<Workflow>> => ({\n  type: ASYNC_ACTIONS.RESOLVE_WORKFLOWS,\n  payload: ApprovalHelper.listWorkflowsForObject(resourceObject, meta, filter)\n});\n","import PropTypes from 'prop-types';\nimport React, { Fragment } from 'react';\nimport {\n  Dropdown,\n  DropdownItem,\n  DropdownPosition,\n  KebabToggle,\n  LevelItem\n} from '@patternfly/react-core';\nimport ButtonWithSpinner from '../../../presentational-components/shared/button-with-spinner';\nimport CatalogLink from '../../common/catalog-link';\nimport actionMessages from '../../../messages/actions.messages';\nimport portfolioMessages from '../../../messages/portfolio.messages';\nimport useFormatMessage from '../../../utilities/use-format-message';\nimport orderProcessesMessages from '../../../messages/order-processes.messages';\nimport { PORTFOLIO_ITEM_EDIT_ORDER_PROCESS_ROUTE } from '../../../constants/routes';\n\nconst DetailToolbarActions = ({\n  copyUrl,\n  orderUrl,\n  editUrl,\n  workflowUrl,\n  editSurveyUrl,\n  isOpen,\n  setOpen,\n  isFetching,\n  availability,\n  orderable,\n  userCapabilities: { update, copy, set_approval },\n  canLinkOrderProcesses\n}) => {\n  const formatMessage = useFormatMessage();\n  const dropdownItems = [];\n\n  if (update) {\n    dropdownItems.push(\n      <DropdownItem\n        aria-label=\"Edit Portfolio\"\n        key=\"edit-portfolio-item\"\n        id=\"edit-portfolio-item\"\n        component={\n          <CatalogLink pathname={editUrl} preserveSearch>\n            {formatMessage(actionMessages.edit)}\n          </CatalogLink>\n        }\n        role=\"link\"\n      />\n    );\n  }\n\n  if (copy) {\n    dropdownItems.push(\n      <DropdownItem\n        aria-label=\"Copy Portfolio\"\n        key=\"copy-portfolio-item\"\n        id=\"copy-portfolio-item\"\n        component={\n          <CatalogLink pathname={copyUrl} preserveSearch>\n            {formatMessage(actionMessages.copy)}\n          </CatalogLink>\n        }\n        role=\"link\"\n      />\n    );\n  }\n\n  if (set_approval) {\n    dropdownItems.push(\n      <DropdownItem\n        aria-label=\"Set approval\"\n        key=\"set-approval_workflow\"\n        id=\"set-approval_workflow\"\n        component={\n          <CatalogLink pathname={workflowUrl} preserveSearch>\n            {formatMessage(actionMessages.setApproval)}\n          </CatalogLink>\n        }\n        role=\"link\"\n      />\n    );\n  }\n\n  if (update && canLinkOrderProcesses) {\n    const orderProcessAction = formatMessage(\n      orderProcessesMessages.setOrderProcess\n    );\n    dropdownItems.push(\n      <DropdownItem\n        aria-label={orderProcessAction}\n        key=\"attach-order-processes\"\n        id=\"attach-order-processes\"\n        component={\n          <CatalogLink\n            preserveSearch\n            pathname={PORTFOLIO_ITEM_EDIT_ORDER_PROCESS_ROUTE}\n          >\n            {orderProcessAction}\n          </CatalogLink>\n        }\n        role=\"link\"\n      />\n    );\n  }\n\n  if (update) {\n    dropdownItems.push(\n      <DropdownItem\n        aria-label=\"Edit survey\"\n        key=\"edit-survey\"\n        id=\"edit-survey\"\n        component={\n          <CatalogLink pathname={editSurveyUrl} preserveSearch>\n            {formatMessage(portfolioMessages.portfolioItemSurvey)}\n          </CatalogLink>\n        }\n        role=\"link\"\n      />\n    );\n  }\n\n  return (\n    <Fragment>\n      <LevelItem>\n        <CatalogLink\n          isDisabled={\n            isFetching || availability === 'unavailable' || !orderable\n          }\n          pathname={orderUrl}\n          preserveSearch\n        >\n          <ButtonWithSpinner\n            isDisabled={\n              isFetching || availability === 'unavailable' || !orderable\n            }\n            showSpinner={isFetching}\n            variant=\"primary\"\n            id=\"order-portfolio-item\"\n            ouiaId=\"order-portfolio-item\"\n          >\n            {formatMessage(portfolioMessages.portfolioItemOrder)}\n          </ButtonWithSpinner>\n        </CatalogLink>\n      </LevelItem>\n      <LevelItem style={{ marginLeft: 16 }}>\n        {availability !== 'unavailable' && dropdownItems.length > 0 && (\n          <Dropdown\n            isPlain\n            onToggle={setOpen}\n            onSelect={() => setOpen(false)}\n            position={DropdownPosition.right}\n            toggle={\n              <KebabToggle\n                id=\"portfolio-item-actions-toggle\"\n                onToggle={(isOpen) => setOpen(isOpen)}\n              />\n            }\n            isOpen={isOpen}\n            dropdownItems={dropdownItems}\n          />\n        )}\n      </LevelItem>\n    </Fragment>\n  );\n};\n\nDetailToolbarActions.propTypes = {\n  orderUrl: PropTypes.string.isRequired,\n  editUrl: PropTypes.string.isRequired,\n  copyUrl: PropTypes.string.isRequired,\n  editSurveyUrl: PropTypes.string.isRequired,\n  workflowUrl: PropTypes.string.isRequired,\n  isOpen: PropTypes.bool,\n  setOpen: PropTypes.func.isRequired,\n  isFetching: PropTypes.bool,\n  availability: PropTypes.oneOf(['available', 'unavailable']).isRequired,\n  orderable: PropTypes.bool,\n  userCapabilities: PropTypes.shape({\n    update: PropTypes.bool,\n    copy: PropTypes.bool,\n    set_approval: PropTypes.bool\n  }).isRequired,\n  canLinkOrderProcesses: PropTypes.bool\n};\n\nDetailToolbarActions.defaultProps = {\n  isFetching: false,\n  orderable: true,\n  canLinkOrderProcesses: false\n};\n\nexport default DetailToolbarActions;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Route, Link, Switch, useLocation } from 'react-router-dom';\nimport {\n  Level,\n  LevelItem,\n  Text,\n  TextContent,\n  TextVariants,\n  Button,\n  Flex,\n  Dropdown,\n  KebabToggle,\n  DropdownItem\n} from '@patternfly/react-core';\n\nimport DetailToolbarActions from './detail-toolbar-actions';\nimport { CATALOG_API_BASE } from '../../../utilities/constants';\nimport CardIcon from '../../../presentational-components/shared/card-icon';\nimport TopToolbar, {\n  TopToolbarTitle\n} from '../../../presentational-components/shared/top-toolbar';\nimport ButtonWithSpinner from '../../../presentational-components/shared/button-with-spinner';\nimport { StyledLevelItem } from '../../../presentational-components/styled-components/level';\nimport actionMessages from '../../../messages/actions.messages';\nimport portfolioMessages from '../../../messages/portfolio.messages';\nimport BackToProducts from '../../../presentational-components/portfolio/back-to-products';\nimport { PORTFOLIO_ITEM_ROUTE_EDIT } from '../../../constants/routes';\nimport useFormatMessage from '../../../utilities/use-format-message';\n\nconst PortfolioItemIconItem = ({ id, sourceId }) => (\n  <CardIcon\n    src={`${CATALOG_API_BASE}/portfolio_items/${id}/icon`}\n    sourceId={sourceId}\n    height={64}\n  />\n);\n\nPortfolioItemIconItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  sourceId: PropTypes.string.isRequired\n};\n\nexport const PortfolioItemDetailToolbar = ({\n  url,\n  isOpen,\n  product,\n  setOpen,\n  isFetching,\n  availability,\n  userCapabilities,\n  orderable,\n  fromProducts,\n  canLinkOrderProcesses\n}) => {\n  const formatMessage = useFormatMessage();\n  const { pathname } = useLocation();\n  return (\n    <TopToolbar\n      paddingBottom={pathname !== PORTFOLIO_ITEM_ROUTE_EDIT}\n      breadcrumbs={!fromProducts}\n    >\n      {fromProducts && <BackToProducts />}\n      <Level className=\"flex-no-wrap\">\n        <Switch>\n          <Route path={PORTFOLIO_ITEM_ROUTE_EDIT} exact>\n            <TopToolbarTitle\n              title={formatMessage(portfolioMessages.editProduct)}\n              noData\n            />\n          </Route>\n          <Route>\n            <StyledLevelItem grow alignStart className=\"pf-l-flex\">\n              {userCapabilities.update ? (\n                <PortfolioItemIconItem\n                  id={product.id}\n                  sourceId={product.service_offering_source_ref}\n                />\n              ) : (\n                <CardIcon\n                  src={`${CATALOG_API_BASE}/portfolio_items/${product.id}/icon`}\n                  sourceId={product.service_offering_source_ref}\n                  height={64}\n                />\n              )}\n              <TextContent className=\"pf-u-ml-md\">\n                <Text component={TextVariants.h1}>{product.name}</Text>\n              </TextContent>\n            </StyledLevelItem>\n            <LevelItem style={{ minHeight: 36 }} className=\"flex-item-no-wrap\">\n              <Level className=\"flex-no-wrap\">\n                <DetailToolbarActions\n                  isOpen={isOpen}\n                  setOpen={(open) => setOpen(open)}\n                  orderUrl={`${url}/order`}\n                  editUrl={`${url}/edit`}\n                  copyUrl={`${url}/copy`}\n                  editSurveyUrl={`${url}/edit-survey`}\n                  workflowUrl={`${url}/edit-workflow`}\n                  isFetching={isFetching}\n                  availability={availability}\n                  orderable={orderable}\n                  userCapabilities={userCapabilities}\n                  canLinkOrderProcesses={canLinkOrderProcesses}\n                />\n              </Level>\n            </LevelItem>\n          </Route>\n        </Switch>\n      </Level>\n    </TopToolbar>\n  );\n};\n\nPortfolioItemDetailToolbar.propTypes = {\n  url: PropTypes.string.isRequired,\n  isOpen: PropTypes.bool,\n  product: PropTypes.shape({\n    distributor: PropTypes.string,\n    name: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    service_offering_source_ref: PropTypes.string.isRequired,\n    metadata: PropTypes.shape({ orderable: PropTypes.bool })\n  }).isRequired,\n  setOpen: PropTypes.func.isRequired,\n  isFetching: PropTypes.bool,\n  availability: PropTypes.oneOf(['available', 'unavailable']).isRequired,\n  userCapabilities: PropTypes.object,\n  fromProducts: PropTypes.bool,\n  orderable: PropTypes.bool,\n  canLinkOrderProcesses: PropTypes.bool\n};\n\nPortfolioItemDetailToolbar.defaultProps = {\n  isFetching: false,\n  orderable: true\n};\n\nconst SurveyEditorDropdown = ({ handleResetSurvey }) => {\n  const formatMessage = useFormatMessage();\n  const [isOpen, setIsOpen] = useState(false);\n  return (\n    <Dropdown\n      isOpen={isOpen}\n      isPlain\n      onSelect={() => setIsOpen(false)}\n      position=\"right\"\n      toggle={<KebabToggle onToggle={(isOpen) => setIsOpen(isOpen)} />}\n      dropdownItems={[\n        <DropdownItem\n          onClick={handleResetSurvey}\n          component=\"button\"\n          key=\"synchronize\"\n        >\n          {formatMessage(portfolioMessages.restoreSurvey)}\n        </DropdownItem>\n      ]}\n    />\n  );\n};\n\nSurveyEditorDropdown.propTypes = {\n  handleResetSurvey: PropTypes.func.isRequired\n};\n\nexport const SurveyEditingToolbar = ({\n  handleSaveSurvey,\n  closeUrl,\n  search,\n  isFetching,\n  isValid,\n  modified,\n  handleResetSurvey\n}) => {\n  const formatMessage = useFormatMessage();\n  return (\n    <TopToolbar breadcrumbs>\n      <Level>\n        <StyledLevelItem grow alignStart className=\"pf-l-flex\">\n          <TextContent>\n            <Text component={TextVariants.h1}>\n              {formatMessage(portfolioMessages.portfolioItemSurvey)}\n            </Text>\n          </TextContent>\n        </StyledLevelItem>\n        <LevelItem>\n          <Flex className=\"align-items-center\">\n            <ButtonWithSpinner\n              variant=\"primary\"\n              ouiaId={'save-survey'}\n              showSpinner={isFetching}\n              isDisabled={isFetching || !isValid}\n              onClick={handleSaveSurvey}\n            >\n              {formatMessage(actionMessages.save)}\n            </ButtonWithSpinner>\n            <Link\n              to={{\n                pathname: closeUrl,\n                search\n              }}\n            >\n              <Button ouiaId={'cancel'} variant=\"link\">\n                Cancel\n              </Button>\n            </Link>\n            {modified && (\n              <SurveyEditorDropdown handleResetSurvey={handleResetSurvey} />\n            )}\n          </Flex>\n        </LevelItem>\n      </Level>\n    </TopToolbar>\n  );\n};\n\nSurveyEditingToolbar.propTypes = {\n  handleSaveSurvey: PropTypes.func.isRequired,\n  closeUrl: PropTypes.string.isRequired,\n  search: PropTypes.string.isRequired,\n  isFetching: PropTypes.bool,\n  isValid: PropTypes.bool,\n  modified: PropTypes.bool,\n  handleResetSurvey: PropTypes.func,\n  fromProducts: PropTypes.bool,\n  canLinkOrderProcesses: PropTypes.bool\n};\n","\"use strict\"\nexports.__esModule = true;\nexports.PencilAltIconConfig = {\n  name: 'PencilAltIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.PencilAltIcon = require('../createIcon').createIcon(exports.PencilAltIconConfig);\nexports[\"default\"] = exports.PencilAltIcon;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Stack = void 0;\nconst tslib_1 = require(\"tslib\");\nconst React = tslib_1.__importStar(require(\"react\"));\nconst stack_1 = tslib_1.__importDefault(require(\"@patternfly/react-styles/css/layouts/Stack/stack\"));\nconst react_styles_1 = require(\"@patternfly/react-styles\");\nexports.Stack = (_a) => {\n    var { hasGutter = false, className = '', children = null, component = 'div' } = _a, props = tslib_1.__rest(_a, [\"hasGutter\", \"className\", \"children\", \"component\"]);\n    const Component = component;\n    return (React.createElement(Component, Object.assign({}, props, { className: react_styles_1.css(stack_1.default.stack, hasGutter && stack_1.default.modifiers.gutter, className) }), children));\n};\nexports.Stack.displayName = 'Stack';\n//# sourceMappingURL=Stack.js.map"],"sourceRoot":""}