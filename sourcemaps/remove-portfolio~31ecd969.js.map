{"version":3,"sources":["webpack:///./node_modules/exenv/index.js","webpack:///./src/smart-components/portfolio/remove-portfolio-modal.js"],"names":["canUseDOM","window","document","createElement","ExecutionEnvironment","canUseWorkers","Worker","canUseEventListeners","addEventListener","attachEvent","canUseViewport","screen","define","amd","module","exports","RemovePortfolioModal","viewState","useQuery","portfolioId","portfolio","dispatch","useDispatch","useSelector","portfolioReducer","getPortfolioFromState","useHistory","push","goBack","metadata","user_capabilities","destroy","title","isOpen","isSmall","onClose","isFooterLeftAligned","actions","key","variant","type","id","onClick","PORTFOLIOS_ROUTE","removePortfolio","gutter","size","fill","component","TextVariants","p","name","propTypes","PropTypes","shape","count","number","limit","offset","filter","string","defaultProps","defaultSettings"],"mappings":";;;;;;CAOC,WACA,aAEA,IAAIA,IACe,oBAAXC,SACPA,OAAOC,WACPD,OAAOC,SAASC,eAGbC,EAAuB,CAE1BJ,UAAWA,EAEXK,cAAiC,oBAAXC,OAEtBC,qBACCP,MAAgBC,OAAOO,mBAAoBP,OAAOQ,aAEnDC,eAAgBV,KAAeC,OAAOU,QAIjB,mBAAXC,QAA+C,iBAAfA,OAAOC,KAAoBD,OAAOC,IAC5ED,QAAO,WACN,OAAOR,KAEmCU,EAAOC,QAClDD,EAAOC,QAAUX,EAEjBH,OAAOG,qBAAuBA,EA7BhC,I,qOCcMY,EAAuB,SAAC,GAAkB,IAAhBC,EAAgB,EAAhBA,UAAgB,EACTC,YAAS,CAAC,cAA3BC,EAD0B,YACrCC,UACHC,EAAWC,wBACXF,EAAYG,uBAAY,gBAAGC,EAAH,EAAGA,iBAAH,OAC5BC,YAAsBD,EAAkBL,MAJI,EAMrBO,cAAjBC,EANsC,EAMtCA,KAAMC,EANgC,EAMhCA,OAMd,OAAKR,GAUc,IAFfA,EAHFS,SACEC,kBAAqBC,QAKvB,kBAAC,IAAD,MAEA,kBAAC,QAAD,CACEC,MAAM,oBACNC,QAAM,EACNC,SAAO,EACPC,QAASP,EACTQ,qBAAmB,EACnBC,QAAS,CACP,kBAAC,SAAD,CACEC,IAAI,SACJC,QAAQ,SACRC,KAAK,SACLC,GAAG,2BACHC,QA9BS,WAEf,OADAf,EAAKgB,KACEtB,EAASuB,YAAgBzB,EAAaF,MAuBzC,WASA,kBAAC,SAAD,CAAQqB,IAAI,SAASC,QAAQ,OAAOC,KAAK,SAASE,QAASd,GAA3D,YAKF,kBAAC,QAAD,CAAOiB,OAAO,MACZ,kBAAC,YAAD,KACE,kBAAC,IAAD,CAAqBC,KAAK,KAAKC,KAAK,aAEtC,kBAAC,YAAD,KACE,kBAAC,cAAD,KACE,kBAAC,OAAD,CAAMC,UAAWC,eAAaC,GAA9B,iDACiD9B,EAAU+B,KAD3D,sBAvCD,MAkDXnC,EAAqBoC,UAAY,CAC/BnC,UAAWoC,IAAUC,MAAM,CACzBC,MAAOF,IAAUG,OACjBC,MAAOJ,IAAUG,OACjBE,OAAQL,IAAUG,OAClBG,OAAQN,IAAUO,UAItB5C,EAAqB6C,aAAe,CAClC5C,UAAW6C,KAGE9C","file":"js/remove-portfolio~31ecd969.6585c941b75e77060759.js","sourcesContent":["/*!\n  Copyright (c) 2015 Jed Watson.\n  Based on code that is Copyright 2013-2015, Facebook, Inc.\n  All rights reserved.\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar canUseDOM = !!(\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.document &&\n\t\twindow.document.createElement\n\t);\n\n\tvar ExecutionEnvironment = {\n\n\t\tcanUseDOM: canUseDOM,\n\n\t\tcanUseWorkers: typeof Worker !== 'undefined',\n\n\t\tcanUseEventListeners:\n\t\t\tcanUseDOM && !!(window.addEventListener || window.attachEvent),\n\n\t\tcanUseViewport: canUseDOM && !!window.screen\n\n\t};\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn ExecutionEnvironment;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = ExecutionEnvironment;\n\t} else {\n\t\twindow.ExecutionEnvironment = ExecutionEnvironment;\n\t}\n\n}());\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { WarningTriangleIcon } from '@patternfly/react-icons';\nimport {\n  Modal,\n  Button,\n  Text,\n  TextVariants,\n  TextContent,\n  Split,\n  SplitItem\n} from '@patternfly/react-core';\nimport { removePortfolio } from '../../redux/actions/portfolio-actions';\nimport useQuery from '../../utilities/use-query';\nimport { getPortfolioFromState } from '../../helpers/portfolio/portfolio-helper';\nimport { PORTFOLIOS_ROUTE } from '../../constants/routes';\nimport { UnauthorizedRedirect } from '../error-pages/error-redirects';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\nconst RemovePortfolioModal = ({ viewState }) => {\n  const [{ portfolio: portfolioId }] = useQuery(['portfolio']);\n  const dispatch = useDispatch();\n  const portfolio = useSelector(({ portfolioReducer }) =>\n    getPortfolioFromState(portfolioReducer, portfolioId)\n  );\n  const { push, goBack } = useHistory();\n  const onSubmit = () => {\n    push(PORTFOLIOS_ROUTE);\n    return dispatch(removePortfolio(portfolioId, viewState));\n  };\n\n  if (!portfolio) {\n    return null;\n  }\n\n  const {\n    metadata: {\n      user_capabilities: { destroy }\n    }\n  } = portfolio;\n\n  return destroy === false ? (\n    <UnauthorizedRedirect />\n  ) : (\n    <Modal\n      title=\"Delete Portfolio?\"\n      isOpen\n      isSmall\n      onClose={goBack}\n      isFooterLeftAligned\n      actions={[\n        <Button\n          key=\"submit\"\n          variant=\"danger\"\n          type=\"button\"\n          id=\"confirm-delete-portfolio\"\n          onClick={onSubmit}\n        >\n          Confirm\n        </Button>,\n        <Button key=\"cancel\" variant=\"link\" type=\"button\" onClick={goBack}>\n          Cancel\n        </Button>\n      ]}\n    >\n      <Split gutter=\"md\">\n        <SplitItem>\n          <WarningTriangleIcon size=\"xl\" fill=\"#f0ab00\" />\n        </SplitItem>\n        <SplitItem>\n          <TextContent>\n            <Text component={TextVariants.p}>\n              This action will permanently delete portfolio {portfolio.name} and\n              its data.\n            </Text>\n          </TextContent>\n        </SplitItem>\n      </Split>\n    </Modal>\n  );\n};\n\nRemovePortfolioModal.propTypes = {\n  viewState: PropTypes.shape({\n    count: PropTypes.number,\n    limit: PropTypes.number,\n    offset: PropTypes.number,\n    filter: PropTypes.string\n  })\n};\n\nRemovePortfolioModal.defaultProps = {\n  viewState: defaultSettings\n};\n\nexport default RemovePortfolioModal;\n"],"sourceRoot":""}